<!--
Optimumbrew Technology

Project       : Photo Editor Lab
File          : imagedetails.component.html
File Created  : Saturday, 24th October 2020 03:56:00 pm
Author        : Optimumbrew
Auther Email  : info@optimumbrew.com
Last Modified : Saturday, 24th October 2020 04:06:27 pm
-----
Copyright 2018 - 2020 Optimumbrew Technology
-->

<!-- <span *ngFor="let item of imageDetails | paginate : {
  itemsPerPage: selectedImageSize,
  currentPage: currentPage,
  totalItems:  totalRecord
};" style="display: none;"></span> -->
<div class="row img-det-card h-53">
  <div class="col-md-9 text-right">
    <ol class="breadcrumb mb-0" style="background: transparent;">
      <li class="breadcrumb-item active" aria-current="page">Image Details</li>
    </ol>
  </div>
  <div class="col-md-3">
    <nb-card>
      <nb-card-header class="text-center p-7">
        <div class="total-cat">
          IMAGES: {{ totalRecord }}
        </div>
      </nb-card-header>
    </nb-card>
  </div>
</div>
<div class="row">
  <div class="col-md-12 mb-2 text-right">
    <nb-select [(selected)]="selectedImageSize" (selectedChange)="setPageSize($event)">
      <nb-option *ngFor="let item of pageSize" value="{{item}}">{{ item }}</nb-option>
    </nb-select>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="table-data">
      <nb-card class="imgae-details-card table-body-new mb-0">
        <nb-card-body class="table-body-new p-0">
          <!-- <ng2-smart-table class="image-details-table"  [settings]="settings" [source]="dataSource" >
          </ng2-smart-table> -->
          <table class="table">
            <thead>
              <tr>
                <th class="text-center width-90">#</th>
                <th>Image</th>
                <th class="text-center" (click)="sortBy('type', order_type == true ? 'ASC' : 'DESC')">Type</th>
                <th class="text-center" (click)="sortBy('width', order_type == true ? 'ASC' : 'DESC')">Resolution</th>
                <th class="text-center" (click)="sortBy('size', order_type == true ? 'ASC' : 'DESC')">Size</th>
                <th class="text-center"  (click)="sortBy('created_at', order_type == true ? 'ASC' : 'DESC')">Created Time</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of imageDetails | paginate : {
                itemsPerPage: selectedImageSize,
                currentPage: currentPage,
                totalItems: totalRecord
              }; let i = index;">
                <td class="text-center width-90">{{i+1+(selectedImageSize * (currentPage-1))}}</td>
                <td>
                  <img class="placeholder-img"  style="left: unset;height: 50px;width:50px" >
                  <img [lazyLoad]="item.thumbnail_img" [errorImage]="utils.errorImg" style="height:50px;width:50px" (load)="imageLoad($event)">
                </td>
                <td class="text-center">{{ item.type }}</td>
                <td class="text-center">{{ item.width }} * {{item.height}}</td>
                <td class="text-center">{{ item.size | size}}</td>
                <td class="text-center">{{ item.created_at }}</td>
              </tr>
            </tbody>
          </table>
        </nb-card-body>
        <nb-card-footer class="table-footer-new">
          <div class="row" style="background: #fff;">
            <div class="col-md-12 text-center pegin">
              <pagination-controls (pageChange)="handlePageChange($event)" previousLabel="Prev" nextLabel="Next" responsive="true" [previousLabel]="previousLabel" [nextLabel]="nextLabel">
              </pagination-controls>
            </div>
          </div>
        </nb-card-footer>
      </nb-card>
    </div>
  </div>
</div>
