!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],o=Object.getPrototypeOf,i=n.slice,r=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,f=d.call(Object),h={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var o,i,r=(n=n||g).createElement("script");if(r.text=e,t)for(o in v)(i=t[o]||t.getAttribute&&t.getAttribute(o))&&r.setAttribute(o,i);n.head.appendChild(r).parentNode.removeChild(r)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var w="3.5.1",C=function(e,t){return new C.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!p(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:w,constructor:C,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},C.extend=C.fn.extend=function(){var e,t,n,o,i,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||p(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)o=e[t],"__proto__"!==t&&a!==o&&(c&&o&&(C.isPlainObject(o)||(i=Array.isArray(o)))?(n=a[t],r=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,a[t]=C.extend(c,r,o)):void 0!==o&&(a[t]=o));return a},C.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=o(e))&&("function"!=typeof(n=u.call(t,"constructor")&&t.constructor)||d.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(x(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?C.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,r=e.length,a=!n;i<r;i++)!t(e[i],i)!==a&&o.push(e[i]);return o},map:function(e,t,n){var o,i,a=0,s=[];if(x(e))for(o=e.length;a<o;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return r(s)},guid:1,support:h}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=n[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,o,i,r,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w="sizzle"+1*new Date,C=e.document,x=0,k=0,E=le(),S=le(),_=le(),T=le(),N=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,R=[],D=R.pop,P=R.push,B=R.push,I=R.slice,L=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",H="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+M+"*("+H+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+M+"*\\]",$=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(M+"+","g"),z=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),U=new RegExp("^"+M+"*,"+M+"*"),W=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),q=new RegExp(M+"|>"),V=new RegExp($),K=new RegExp("^"+H+"$"),Y={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{B.apply(R=I.call(C.childNodes),C.childNodes)}catch(t){B={apply:R.length?function(e,t){P.apply(e,I.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function se(e,t,o,i){var r,s,c,u,d,p,v,y=t&&t.ownerDocument,C=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return o;if(!i&&(f(t),t=t||h,m)){if(11!==C&&(d=Z.exec(e)))if(r=d[1]){if(9===C){if(!(c=t.getElementById(r)))return o;if(c.id===r)return o.push(c),o}else if(y&&(c=y.getElementById(r))&&b(t,c)&&c.id===r)return o.push(c),o}else{if(d[2])return B.apply(o,t.getElementsByTagName(e)),o;if((r=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return B.apply(o,t.getElementsByClassName(r)),o}if(n.qsa&&!T[e+" "]&&(!g||!g.test(e))&&(1!==C||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===C&&(q.test(e)||W.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(oe,ie):t.setAttribute("id",u=w)),s=(p=a(e)).length;s--;)p[s]=(u?"#"+u:":scope")+" "+be(p[s]);v=p.join(",")}try{return B.apply(o,y.querySelectorAll(v)),o}catch(t){T(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,o,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[w]=!0,e}function ue(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)o.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,o){for(var i,r=e([],n.length,t),a=r.length;a--;)n[i=r[a]]&&(n[i]=!(o[i]=n[i]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},r=se.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!X.test(e.namespaceURI||t&&t.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:C;return a!=h&&9===a.nodeType&&a.documentElement&&(p=(h=a).documentElement,m=!r(h),C!=h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.scope=ue((function(e){return p.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(h.getElementsByClassName),n.getById=ue((function(e){return p.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,o,i,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(i=t.getElementsByName(e),o=0;r=i[o++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),o.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},o.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(h.querySelectorAll))&&(ue((function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",$)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),b=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return d=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===o?e==h||e.ownerDocument==C&&b(C,e)?-1:t==h||t.ownerDocument==C&&b(C,t)?1:u?L(u,e)-L(u,t):0:4&o?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,o=0,i=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!i||!r)return e==h?-1:t==h?1:i?-1:r?1:u?L(u,e)-L(u,t):0;if(i===r)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[o]===s[o];)o++;return o?fe(a[o],s[o]):a[o]==C?-1:s[o]==C?1:0}),h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&m&&!T[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var o=y.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){T(t,!0)}return 0<se(t,h,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&f(e);var i=o.attrHandle[t.toLowerCase()],r=i&&A.call(o.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==r?r:n.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(oe,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,o=[],i=0,r=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(N),d){for(;t=e[r++];)t===e[r]&&(i=o.push(r));for(;i--;)e.splice(o[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=i(t);return n},(o=se.selectors={cacheLength:50,createPseudo:ce,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var i=se.attr(o,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&-1<i.indexOf(n):"$="===t?n&&i.slice(-n.length)===n:"~="===t?-1<(" "+i.replace(j," ")+" ").indexOf(n):"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(r){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(c=(u=(d=(f=g)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[x,h,b];break}}else if(y&&(b=h=(c=(u=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===b)for(;(f=++h&&f&&f[m]||(b=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[x,b]),f!==t)););return(b-=i)===o||b%o==0&&0<=b/o}}},PSEUDO:function(e,t){var n,i=o.pseudos[e]||o.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):1<i.length?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var o,r=i(e,t),a=r.length;a--;)e[o=L(e,r[a])]=!(n[o]=r[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],o=s(e.replace(z,"$1"));return o[w]?ce((function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<se(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||i(t)).indexOf(e)}})),lang:ce((function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var o=n<0?n+t:t<n?t:n;0<=--o;)e.push(o);return e})),gt:ge((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function we(e,t,n){var o=t.dir,i=t.next,r=i||o,a=n&&"parentNode"===r,s=k++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var c,u,d,f=[x,s];if(l){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||a)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[o]||t;else{if((c=u[r])&&c[0]===x&&c[1]===s)return f[2]=c[2];if((u[r]=f)[2]=e(t,n,l))return!0}return!1}}function Ce(e){return 1<e.length?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function xe(e,t,n,o,i){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,o,i)||(a.push(r),c&&t.push(s)));return a}function ke(e,t,n,o,i,r){return o&&!o[w]&&(o=ke(o)),i&&!i[w]&&(i=ke(i,r)),ce((function(r,a,s,l){var c,u,d,f=[],h=[],p=a.length,m=r||function(e,t,n){for(var o=0,i=t.length;o<i;o++)se(e,t[o],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:xe(m,f,e,s,l),v=n?i||(r?e:p||o)?[]:a:g;if(n&&n(g,v,s,l),o)for(c=xe(v,h),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(r){if(i||e){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&-1<(c=i?L(r,d):f[u])&&(r[c]=!(a[c]=d))}}else v=xe(v===a?v.splice(p,v.length):v),i?i(null,a,v,l):B.apply(a,v)}))}function Ee(e){for(var t,n,i,r=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,u=we((function(e){return e===t}),s,!0),d=we((function(e){return-1<L(t,e)}),s,!0),f=[function(e,n,o){var i=!a&&(o||n!==c)||((t=n).nodeType?u(e,n,o):d(e,n,o));return t=null,i}];l<r;l++)if(n=o.relative[e[l].type])f=[we(Ce(f),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<r&&!o.relative[e[i].type];i++);return ke(1<l&&Ce(f),1<l&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<i&&Ee(e.slice(l,i)),i<r&&Ee(e=e.slice(i)),i<r&&be(e))}f.push(n)}return Ce(f)}return ye.prototype=o.filters=o.pseudos,o.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,r,a,s,l,c,u=S[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=o.preFilter;s;){for(a in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(z," ")}),s=s.slice(n.length)),o.filter)!(i=Y[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,l).slice(0)},s=se.compile=function(e,t){var n,i,r,s,l,u,d=[],p=[],g=_[e+" "];if(!g){for(t||(t=a(e)),n=t.length;n--;)(g=Ee(t[n]))[w]?d.push(g):p.push(g);(g=_(e,(i=p,s=0<(r=d).length,l=0<i.length,u=function(e,t,n,a,u){var d,p,g,v=0,y="0",b=e&&[],w=[],C=c,k=e||l&&o.find.TAG("*",u),E=x+=null==C?1:Math.random()||.1,S=k.length;for(u&&(c=t==h||t||u);y!==S&&null!=(d=k[y]);y++){if(l&&d){for(p=0,t||d.ownerDocument==h||(f(d),n=!m);g=i[p++];)if(g(d,t||h,n)){a.push(d);break}u&&(x=E)}s&&((d=!g&&d)&&v--,e&&b.push(d))}if(v+=y,s&&y!==v){for(p=0;g=r[p++];)g(b,w,t,n);if(e){if(0<v)for(;y--;)b[y]||w[y]||(w[y]=D.call(a));w=xe(w)}B.apply(a,w),u&&!e&&0<w.length&&1<v+r.length&&se.uniqueSort(a)}return u&&(x=E,c=C),b},s?ce(u):u))).selector=e}return g},l=se.select=function(e,t,n,i){var r,l,c,u,d,f="function"==typeof e&&e,h=!i&&a(e=f.selector||e);if(n=n||[],1===h.length){if(2<(l=h[0]=h[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&o.relative[l[1].type]){if(!(t=(o.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=Y.needsContext.test(e)?0:l.length;r--&&!o.relative[u=(c=l[r]).type];)if((d=o.find[u])&&(i=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(r,1),!(e=i.length&&be(l)))return B.apply(n,i),n;break}}return(f||s(e,h))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(N).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(O,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),se}(e);C.find=k,C.expr=k.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var E=function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&C(e).is(n))break;o.push(e)}return o},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},_=C.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return p(t)?C.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return-1<s.call(t,e)!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?C.find.matchesSelector(o,e)?[o]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<o;t++)if(C.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)C.find(e,i[t],n);return 1<o?C.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&_.test(e)?C(e):e||[],!1).length}});var R,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:D.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(C.merge(this,C.parseHTML(o[1],(t=t instanceof C?t[0]:t)&&t.nodeType?t.ownerDocument||t:g,!0)),N.test(o[1])&&C.isPlainObject(t))for(o in t)p(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=g.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,R=C(g);var P=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,i=this.length,r=[],a="string"!=typeof e&&C(e);if(!_.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?s.call(C(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,o){var i=C.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=C.filter(o,i)),1<this.length&&(B[e]||C.uniqueSort(i),P.test(e)&&i.reverse()),this.pushStack(i)}}));var L=/[^\x20\t\r\n\f]+/g;function O(e){return e}function M(e){throw e}function H(e,t,n,o){var i;try{e&&p(i=e.promise)?i.call(e).done(t).fail(n):e&&p(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){var t;e="string"==typeof e?(t={},C.each(e.match(L)||[],(function(e,n){t[n]=!0})),t):C.extend({},e);var n,o,i,r,a=[],s=[],l=-1,c=function(){for(r=r||e.once,i=n=!0;s.length;l=-1)for(o=s.shift();++l<a.length;)!1===a[l].apply(o[0],o[1])&&e.stopOnFalse&&(l=a.length,o=!1);e.memory||(o=!1),n=!1,r&&(a=o?[]:"")},u={add:function(){return a&&(o&&!n&&(l=a.length-1,s.push(o)),function t(n){C.each(n,(function(n,o){p(o)?e.unique&&u.has(o)||a.push(o):o&&o.length&&"string"!==b(o)&&t(o)}))}(arguments),o&&!n&&c()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;-1<(n=C.inArray(t,a,n));)a.splice(n,1),n<=l&&l--})),this},has:function(e){return e?-1<C.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=o="",this},disabled:function(){return!a},lock:function(){return r=s=[],o||n||(a=o=""),this},locked:function(){return!!r},fireWith:function(e,t){return r||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),n||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},C.extend({Deferred:function(t){var n=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(t){C.each(n,(function(n,o){var i=p(e[o[4]])&&e[o[4]];r[o[1]]((function(){var e=i&&i.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,o,i){var r=0;function a(t,n,o,i){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<r)){if((e=o.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");p(c=e&&("object"==typeof e||"function"==typeof e)&&e.then)?i?c.call(e,a(r,n,O,i),a(r,n,M,i)):(r++,c.call(e,a(r,n,O,i),a(r,n,M,i),a(r,n,O,n.notifyWith))):(o!==O&&(s=void 0,l=[e]),(i||n.resolveWith)(s,l))}},u=i?c:function(){try{c()}catch(c){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(c,u.stackTrace),r<=t+1&&(o!==M&&(s=void 0,l=[c]),n.rejectWith(s,l))}};t?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),e.setTimeout(u))}}return C.Deferred((function(e){n[0][3].add(a(0,e,p(i)?i:O,e.notifyWith)),n[1][3].add(a(0,e,p(t)?t:O)),n[2][3].add(a(0,e,p(o)?o:M))})).promise()},promise:function(e){return null!=e?C.extend(e,i):i}},r={};return C.each(n,(function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add((function(){o=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=a.fireWith})),i.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,o=Array(n),r=i.call(arguments),a=C.Deferred(),s=function(e){return function(n){o[e]=this,r[e]=1<arguments.length?i.call(arguments):n,--t||a.resolveWith(o,r)}};if(t<=1&&(H(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||p(r[n]&&r[n].then)))return a.then();for(;n--;)H(r[n],s(n),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},C.readyException=function(t){e.setTimeout((function(){throw t}))};var $=C.Deferred();function j(){g.removeEventListener("DOMContentLoaded",j),e.removeEventListener("load",j),C.ready()}C.fn.ready=function(e){return $.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||$.resolveWith(g,[C])}}),C.ready.then=$.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(C.ready):(g.addEventListener("DOMContentLoaded",j),e.addEventListener("load",j));var z=function(e,t,n,o,i,r,a){var s=0,l=e.length,c=null==n;if("object"===b(n))for(s in i=!0,n)z(e,t,s,n[s],!0,r,a);else if(void 0!==o&&(i=!0,p(o)||(a=!0),c&&(a?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;s<l;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):r},U=/^-ms-/,W=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function V(e){return e.replace(U,"ms-").replace(W,q)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=C.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(o in t)i[V(o)]=t[o];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in o?[t]:t.match(L)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||C.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var X=new Y,G=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,n){var o,i;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:Q.test(i)?JSON.parse(i):i)}catch(e){}G.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return G.hasData(e)||X.hasData(e)},data:function(e,t,n){return G.access(e,t,n)},removeData:function(e,t){G.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,o,i,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(i=G.get(r),1===r.nodeType&&!X.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(o=a[n].name).indexOf("data-")&&(o=V(o.slice(5)),Z(r,o,i[o]));X.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){G.set(this,e)})):z(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=G.get(r,e))||void 0!==(n=Z(r,e))?n:void 0;this.each((function(){G.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){G.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var o;if(e)return o=X.get(e,t=(t||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=X.access(e,t,C.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){var n=C.queue(e,t=t||"fx"),o=n.length,i=n.shift(),r=C._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,(function(){C.dequeue(e,t)}),r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:C.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=C.Deferred(),r=this,a=this.length,s=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=X.get(r[a],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],oe=g.documentElement,ie=function(e){return C.contains(e.ownerDocument,e)},re={composed:!0};oe.getRootNode&&(ie=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(re)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===C.css(e,"display")};function se(e,t,n,o){var i,r,a=20,s=o?function(){return o.cur()}:function(){return C.css(e,t,"")},l=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&te.exec(C.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;a--;)C.style(e,t,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;C.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=u,o.end=i)),i}var le={};function ce(e,t){for(var n,o,i,r,a,s,l,c=[],u=0,d=e.length;u<d;u++)(o=e[u]).style&&(n=o.style.display,t?("none"===n&&(c[u]=X.get(o,"display")||null,c[u]||(o.style.display="")),""===o.style.display&&ae(o)&&(c[u]=(l=a=r=void 0,a=(i=o).ownerDocument,(l=le[s=i.nodeName])||(r=a.body.appendChild(a.createElement(s)),l=C.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),le[s]=l)))):"none"!==n&&(c[u]="none",X.set(o,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}C.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?C(this).show():C(this).hide()}))}});var ue,de,fe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;ue=g.createDocumentFragment().appendChild(g.createElement("div")),(de=g.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),ue.appendChild(de),h.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",h.option=!!ue.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?C.merge([e],n):n}function ve(e,t){for(var n=0,o=e.length;n<o;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,h.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function be(e,t,n,o,i){for(var r,a,s,l,c,u,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((r=e[h])||0===r)if("object"===b(r))C.merge(f,r.nodeType?[r]:r);else if(ye.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(he.exec(r)||["",""])[1].toLowerCase(),a.innerHTML=(l=me[s]||me._default)[1]+C.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;C.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(r));for(d.textContent="",h=0;r=f[h++];)if(o&&-1<C.inArray(r,o))i&&i.push(r);else if(c=ie(r),a=ge(d.appendChild(r),"script"),c&&ve(a),n)for(u=0;r=a[u++];)pe.test(r.type||"")&&n.push(r);return d}var we=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function _e(e,t,n,o,i,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)_e(e,s,n,o,t[s],r);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===r&&(a=i,(i=function(e){return C().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),e.each((function(){C.event.add(this,t,i,o,n)}))}function Te(e,t,n){n?(X.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var o,r,a=X.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=i.call(arguments),X.set(this,t,a),o=n(this,t),this[t](),a!==(r=X.get(this,t))||o?X.set(this,t,!1):r={},a!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else a.length&&(X.set(this,t,{value:C.event.trigger(C.extend(a[0],C.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&C.event.add(e,t,ke)}C.event={global:{},add:function(e,t,n,o,i){var r,a,s,l,c,u,d,f,h,p,m,g=X.get(e);if(K(e))for(n.handler&&(n=(r=n).handler,i=r.selector),i&&C.find.matchesSelector(oe,i),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)h=m=(s=xe.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(d=C.event.special[h]||{},d=C.event.special[h=(i?d.delegateType:d.bindType)||h]||{},u=C.extend({type:h,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:p.join(".")},r),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,o,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),C.event.global[h]=!0)},remove:function(e,t,n,o,i){var r,a,s,l,c,u,d,f,h,p,m,g=X.hasData(e)&&X.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(h=m=(s=xe.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},f=l[h=(o?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=f.length;r--;)u=f[r],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(f.splice(r,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||C.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],n,o,!0);C.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,r,a,s=new Array(arguments.length),l=C.event.fix(e),c=(X.get(this,"events")||Object.create(null))[l.type]||[],u=C.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=C.event.handlers.call(this,l,c),t=0;(i=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(o=((C.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,o,i,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[i=(o=t[n]).selector+" "]&&(a[i]=o.needsContext?-1<C(i,this).index(c):C.find(i,this,null,[c]).length),a[i]&&r.push(o);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Te(t,"click",ke),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&T(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&T(t,"input")&&X.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Te(this,e,Se),!1},trigger:function(){return Te(this,e),!0},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,i=e.handleObj;return o&&(o===this||C.contains(this,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,o){return _e(this,e,t,n,o)},one:function(e,t,n,o){return _e(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,C(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each((function(){C.event.remove(this,e,n,t)}))}});var Ne=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,o,i,r,a,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(i in X.remove(t,"handle events"),s)for(n=0,o=s[i].length;n<o;n++)C.event.add(t,i,s[i][n]);G.hasData(e)&&(r=G.access(e),a=C.extend({},r),G.set(t,a))}}function Le(e,t,n,o){t=r(t);var i,a,s,l,c,u,d=0,f=e.length,m=f-1,g=t[0],v=p(g);if(v||1<f&&"string"==typeof g&&!h.checkClone&&Ae.test(g))return e.each((function(i){var r=e.eq(i);v&&(t[0]=g.call(this,i,r.html())),Le(r,t,n,o)}));if(f&&(a=(i=be(t,e[0].ownerDocument,!1,e,o)).firstChild,1===i.childNodes.length&&(i=a),a||o)){for(l=(s=C.map(ge(i,"script"),Pe)).length;d<f;d++)c=i,d!==m&&(c=C.clone(c,!0,!0),l&&C.merge(s,ge(c,"script"))),n.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,C.map(s,Be),d=0;d<l;d++)pe.test((c=s[d]).type||"")&&!X.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):y(c.textContent.replace(Re,""),c,u))}return e}function Oe(e,t,n){for(var o,i=t?C.filter(t,e):e,r=0;null!=(o=i[r]);r++)n||1!==o.nodeType||C.cleanData(ge(o)),o.parentNode&&(n&&ie(o)&&ve(ge(o,"script")),o.parentNode.removeChild(o));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,i,r,a,s,l,c,u=e.cloneNode(!0),d=ie(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=ge(u),o=0,i=(r=ge(e)).length;o<i;o++)s=r[o],"input"===(c=(l=a[o]).nodeName.toLowerCase())&&fe.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(r=r||ge(e),a=a||ge(u),o=0,i=r.length;o<i;o++)Ie(r[o],a[o]);else Ie(e,u);return 0<(a=ge(u,"script")).length&&ve(a,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,n,o,i=C.event.special,r=0;void 0!==(n=e[r]);r++)if(K(n)){if(t=n[X.expando]){if(t.events)for(o in t.events)i[o]?C.event.remove(n,o):C.removeEvent(n,o,t.handle);n[X.expando]=void 0}n[G.expando]&&(n[G.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return z(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Le(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Le(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!me[(he.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(ge(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,o=[],i=C(e),r=i.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),C(i[s])[t](n),a.apply(o,n.get());return this.pushStack(o)}}));var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),He=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var o,i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in o=n.call(e),t)e.style[i]=r[i];return o},$e=new RegExp(ne.join("|"),"i");function je(e,t,n){var o,i,r,a,s=e.style;return(n=n||He(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=C.style(e,t)),!h.pixelBoxStyles()&&Me.test(a)&&$e.test(t)&&(o=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=i,s.maxWidth=r)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);o="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),i=36===n(t.width),u.style.position="absolute",r=12===n(u.offsetWidth/3),oe.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var o,i,r,a,s,l,c=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(h,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,n,o,i;return null==s&&(t=g.createElement("table"),n=g.createElement("tr"),o=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",o.style.height="9px",oe.appendChild(t).appendChild(n).appendChild(o),i=e.getComputedStyle(n),s=3<parseInt(i.height),oe.removeChild(t)),s}}))}();var Ue=["Webkit","Moz","ms"],We=g.createElement("div").style,qe={};function Ve(e){return C.cssProps[e]||qe[e]||(e in We?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in We)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,n){var o=te.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function Je(e,t,n,o,i,r){var a="width"===t?1:0,s=0,l=0;if(n===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=C.css(e,n+ne[a],!0,i)),o?("content"===n&&(l-=C.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(l-=C.css(e,"border"+ne[a]+"Width",!0,i))):(l+=C.css(e,"padding"+ne[a],!0,i),"padding"!==n?l+=C.css(e,"border"+ne[a]+"Width",!0,i):s+=C.css(e,"border"+ne[a]+"Width",!0,i));return!o&&0<=r&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))||0),l}function Ze(e,t,n){var o=He(e),i=(!h.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,o),r=i,a=je(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&i||!h.reliableTrDimensions()&&T(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===C.css(e,"display",!1,o))&&e.getClientRects().length&&(i="border-box"===C.css(e,"boxSizing",!1,o),(r=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Je(e,t,n||(i?"border":"content"),r,o,a)+"px"}function et(e,t,n,o,i){return new et.prototype.init(e,t,n,o,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,a,s=V(t),l=Ye.test(t),c=e.style;if(l||(t=Ve(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,o))?i:c[t];"string"==(r=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=i&&i[3]||(C.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var i,r,a,s=V(t);return Ye.test(t)||(t=Ve(s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=je(e,t,o)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(r=parseFloat(i),!0===n||isFinite(r)?r||0:i):i}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,o){if(n)return!Ke.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,o):Fe(e,Xe,(function(){return Ze(e,t,o)}))},set:function(e,n,o){var i,r=He(e),a=!h.scrollboxSize()&&"absolute"===r.position,s=(a||o)&&"border-box"===C.css(e,"boxSizing",!1,r),l=o?Je(e,t,o,s,r):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-Je(e,t,"border",!1,r)-.5)),l&&(i=te.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),Qe(0,n,l)}}})),C.cssHooks.marginLeft=ze(h.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(je(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];o<4;o++)i[e+ne[o]+t]=r[o]||r[o-2]||r[0];return i}},"margin"!==e&&(C.cssHooks[e+t].set=Qe)})),C.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var o,i,r={},a=0;if(Array.isArray(t)){for(o=He(e),i=t.length;a<i;a++)r[t[a]]=C.css(e,t[a],!1,o);return r}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,1<arguments.length)}}),((C.Tween=et).prototype={constructor:et,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.pos=t=this.options.duration?C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=et.prototype.init,C.fx.step={};var tt,nt,ot,it,rt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(st):e.setTimeout(st,C.fx.interval),C.fx.tick())}function lt(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function ct(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=ne[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var o,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),r=0,a=i.length;r<a;r++)if(o=i[r].call(n,t,e))return o}function dt(e,t,n){var o,i,r=0,a=dt.prefilters.length,s=C.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=tt||lt(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(o);return s.notifyWith(e,[c,o,n]),o<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var o=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,o,i,r,a;for(n in e)if(i=t[o=V(n)],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),(a=C.cssHooks[o])&&"expand"in a)for(n in r=a.expand(r),delete e[o],r)n in e||(e[n]=r[n],t[n]=i);else t[o]=i}(u,c.opts.specialEasing);r<a;r++)if(o=dt.prefilters[r].call(c,e,u,c.opts))return p(o.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return C.map(u,ut,c),p(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(L);for(var n,o=0,i=e.length;o<i;o++)(dt.tweeners[n=e[o]]=dt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var o,i,r,a,s,l,c,u,d="width"in t||"height"in t,f=this,h={},p=e.style,m=e.nodeType&&ae(e),g=X.get(e,"fxshow");for(o in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()}))}))),t)if(rt.test(i=t[o])){if(delete t[o],r=r||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[o])continue;m=!0}h[o]=g&&g[o]||C.style(e,o)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(h))for(o in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=X.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(ce([e],!0),c=e.style.display||c,u=C.css(e,"display"),ce([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(f.done((function(){p.display=c})),null==c&&(c="none"===(u=p.display)?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=X.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&ce([e],!0),f.done((function(){for(o in m||ce([e]),X.remove(e,"fxshow"),h)C.style(e,o,h[o])}))),l=ut(m?g[o]:0,o,f),o in g||(g[o]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),C.speed=function(e,t,n){var o=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||p(e)&&e,duration:e,easing:n&&t||t&&!p(t)&&t};return C.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in C.fx.speeds?C.fx.speeds[o.duration]:C.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){p(o.old)&&o.old.call(this),o.queue&&C.dequeue(this,o.queue)},o},C.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=C.isEmptyObject(e),r=C.speed(t,n,o),a=function(){var t=dt(this,C.extend({},e),r);(i||X.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",r=C.timers,a=X.get(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&at.test(i)&&o(a[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=C.timers,a=o?o.length:0;for(n.finish=!0,C.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,o,i)}})),C.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),tt=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){nt||(nt=!0,st())},C.fx.stop=function(){nt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,n){return t=C.fx&&C.fx.speeds[t]||t,this.queue(n=n||"fx",(function(n,o){var i=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(i)}}))},ot=g.createElement("input"),it=g.createElement("select").appendChild(g.createElement("option")),ot.type="checkbox",h.checkOn=""!==ot.value,h.optSelected=it.selected,(ot=g.createElement("input")).value="t",ot.type="radio",h.radioValue="t"===ot.value;var ft,ht=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return z(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(i=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=C.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(L);if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ht[t]||C.find.attr;ht[t]=function(e,t,o){var i,r,a=t.toLowerCase();return o||(r=ht[a],ht[a]=i,i=null!=n(e,t,o)?a:null,ht[a]=r),i}}));var pt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function gt(e){return(e.match(L)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}C.fn.extend({prop:function(e,t){return z(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(e)||(i=C.propHooks[t=C.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(C.propHooks.selected={get:function(e){return null},set:function(e){}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,o,i,r,a,s,l=0;if(p(e))return this.each((function(t){C(this).addClass(e.call(this,t,vt(this)))}));if((t=yt(e)).length)for(;n=this[l++];)if(i=vt(n),o=1===n.nodeType&&" "+gt(i)+" "){for(a=0;r=t[a++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");i!==(s=gt(o))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,o,i,r,a,s,l=0;if(p(e))return this.each((function(t){C(this).removeClass(e.call(this,t,vt(this)))}));if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[l++];)if(i=vt(n),o=1===n.nodeType&&" "+gt(i)+" "){for(a=0;r=t[a++];)for(;-1<o.indexOf(" "+r+" ");)o=o.replace(" "+r+" "," ");i!==(s=gt(o))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):p(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,vt(this),t),t)})):this.each((function(){var t,i,r,a;if(o)for(i=0,r=C(this),a=yt(e);t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&-1<(" "+gt(vt(n))+" ").indexOf(t))return!0;return!1}});var bt=/\r/g;C.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=p(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,C(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:gt(C.text(e))}},select:{get:function(e){var t,n,o,i=e.options,r=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?r+1:i.length;for(o=r<0?l:a?r:0;o<l;o++)if(((n=i[o]).selected||o===r)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=C(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,o,i=e.options,r=C.makeArray(t),a=i.length;a--;)((o=i[a]).selected=-1<C.inArray(C.valHooks.option.get(o),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},h.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(t,n,o,i){var r,a,s,l,c,d,f,h,v=[o||g],y=u.call(t,"type")?t.type:t,b=u.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=o=o||g,3!==o.nodeType&&8!==o.nodeType&&!wt.test(y+C.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[C.expando]?t:new C.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:C.makeArray(n,[t]),f=C.event.special[y]||{},i||!f.trigger||!1!==f.trigger.apply(o,n))){if(!i&&!f.noBubble&&!m(o)){for(wt.test((l=f.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a;s===(o.ownerDocument||g)&&v.push(s.defaultView||s.parentWindow||e)}for(r=0;(a=v[r++])&&!t.isPropagationStopped();)h=a,t.type=1<r?l:f.bindType||y,(d=(X.get(a,"events")||Object.create(null))[t.type]&&X.get(a,"handle"))&&d.apply(a,n),(d=c&&a[c])&&d.apply&&K(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!K(o)||c&&p(o[y])&&!m(o)&&((s=o[c])&&(o[c]=null),C.event.triggered=y,t.isPropagationStopped()&&h.addEventListener(y,Ct),o[y](),t.isPropagationStopped()&&h.removeEventListener(y,Ct),C.event.triggered=void 0,s&&(o[c]=s)),t.result}},simulate:function(e,t,n){var o=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(o,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),h.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,i=X.access(o,t);i||o.addEventListener(e,n,!0),X.access(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=X.access(o,t)-1;i?X.access(o,t,i):(o.removeEventListener(e,n,!0),X.remove(o,t))}}}));var xt=e.location,kt={guid:Date.now()},Et=/\?/;C.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),n};var St=/\[\]$/,_t=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,o){var i;if(Array.isArray(t))C.each(t,(function(t,i){n||St.test(e)?o(e,i):At(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)}));else if(n||"object"!==b(t))o(e,t);else for(i in t)At(e+"["+i+"]",t[i],n,o)}C.param=function(e,t){var n,o=[],i=function(e,t){var n=p(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){i(this.name,this.value)}));else for(n in e)At(n,e[n],t,i);return o.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Nt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(_t,"\r\n")}})):{name:t.name,value:n.replace(_t,"\r\n")}})).get()}});var Rt=/%20/g,Dt=/#.*$/,Pt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ot={},Mt={},Ht="*/".concat("*"),Ft=g.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(L)||[];if(p(n))for(;o=r[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function jt(e,t,n,o){var i={},r=e===Mt;function a(s){var l;return i[s]=!0,C.each(e[s]||[],(function(e,s){var c=s(t,n,o);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,o,i=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&C.extend(!0,e,o),e}Ft.href=xt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,C.ajaxSettings),t):zt(C.ajaxSettings,e)},ajaxPrefilter:$t(Ot),ajaxTransport:$t(Mt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var o,i,r,a,s,l,c,u,d,f,h=C.ajaxSetup({},n=n||{}),p=h.context||h,m=h.context&&(p.nodeType||p.jquery)?C(p):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=h.statusCode||{},w={},x={},k="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Bt.exec(r);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return o&&o.abort(t),S(0,t),this}};if(v.promise(E),h.url=((t||h.url||xt.href)+"").replace(Lt,xt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(L)||[""],null==h.crossDomain){l=g.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=C.param(h.data,h.traditional)),jt(Ot,h,n,E),c)return E;for(d in(u=C.event&&h.global)&&0==C.active++&&C.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!It.test(h.type),i=h.url.replace(Dt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Rt,"+")):(f=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(Et.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(Pt,"$1"),f=(Et.test(i)?"&":"?")+"_="+kt.guid+++f),h.url=i+f),h.ifModified&&(C.lastModified[i]&&E.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&E.setRequestHeader("If-None-Match",C.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ht+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,E,h)||c))return E.abort();if(k="abort",y.add(h.complete),E.done(h.success),E.fail(h.error),o=jt(Mt,h,n,E)){if(E.readyState=1,u&&m.trigger("ajaxSend",[E,h]),c)return E;h.async&&0<h.timeout&&(s=e.setTimeout((function(){E.abort("timeout")}),h.timeout));try{c=!1,o.send(w,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,n,a,l){var d,f,g,w,x,k=n;c||(c=!0,s&&e.clearTimeout(s),o=void 0,r=l||"",E.readyState=0<t?4:0,d=200<=t&&t<300||304===t,a&&(w=function(e,t,n){for(var o,i,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in s)if(s[i]&&s[i].test(o)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}a||(a=i)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(h,E,a)),!d&&-1<C.inArray("script",h.dataTypes)&&(h.converters["text script"]=function(){}),w=function(e,t,n,o){var i,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(i in c)if((s=i.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(h,w,E,d),d?(h.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=x),(x=E.getResponseHeader("etag"))&&(C.etag[i]=x)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=w.state,f=w.data,d=!(g=w.error))):(g=k,!t&&k||(k="error",t<0&&(t=0))),E.status=t,E.statusText=(n||k)+"",d?v.resolveWith(p,[f,k,E]):v.rejectWith(p,[E,k,g]),E.statusCode(b),b=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[E,h,d?f:g]),y.fireWith(p,[E,k]),u&&(m.trigger("ajaxComplete",[E,h]),--C.active||C.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,o,i){return p(n)&&(i=i||o,o=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:i,data:n,success:o},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return p(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ut={0:200,1223:204},Wt=C.ajaxSettings.xhr();h.cors=!!Wt&&"withCredentials"in Wt,h.ajax=Wt=!!Wt,C.ajaxTransport((function(t){var n,o;if(h.cors||Wt&&!t.crossDomain)return{send:function(i,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=o=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),o=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=o:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&o()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(i){if(n)throw i}},abort:function(){n&&n()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,i){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Vt=[],Kt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||C.expando+"_"+kt.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(t,n,o){var i,r,a,s=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):!1!==t.jsonp&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||C.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){a=arguments},o.always((function(){void 0===r?C(e).removeProp(i):e[i]=r,t[i]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(i)),a&&p(r)&&r(a[0]),a=r=void 0})),"script"})),h.createHTMLDocument=((qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((o=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(o)):t=g),r=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=be([e],t,r),r&&r.length&&C(r).remove(),C.merge([],i.childNodes)));var o,i,r},C.fn.load=function(e,t,n){var o,i,r,a=this,s=e.indexOf(" ");return-1<s&&(o=gt(e.slice(s)),e=e.slice(0,s)),p(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&C.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){r=arguments,a.html(o?C("<div>").append(C.parseHTML(e)).find(o):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var o,i,r,a,s,l,c=C.css(e,"position"),u=C(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),r=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(a=(o=u.position()).top,i=o.left):(a=parseFloat(r)||0,i=parseFloat(l)||0),p(t)&&(t=t.call(e,n,C.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),u.css(d))}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?{top:(t=o.getBoundingClientRect()).top+(n=o.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if("fixed"===C.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((i=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),i.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-C.css(o,"marginTop",!0),left:t.left-i.left-C.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||oe}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(o){return z(this,(function(e,o,i){var r;if(m(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===i)return r?r[t]:e[o];r?r.scrollTo(n?r.pageXOffset:i,n?i:r.pageYOffset):e[o]=i}),e,o,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=ze(h.pixelPosition,(function(e,n){if(n)return n=je(e,t),Me.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){C.fn[o]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return z(this,(function(t,n,i){var r;return m(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?C.css(t,n,s):C.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),p(e))return o=i.call(arguments,2),(r=function(){return e.apply(t||this,o.concat(i.call(arguments)))}).guid=e.guid=e.guid||C.guid++,r},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=T,C.isFunction=p,C.isWindow=m,C.camelCase=V,C.type=b,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return C}));var Xt=e.jQuery,Gt=e.$;return C.noConflict=function(t){return e.$===C&&(e.$=Gt),t&&e.jQuery===C&&(e.jQuery=Xt),C},void 0===t&&(e.jQuery=e.$=C),C})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t((e=e||self).bootstrap={},e.jQuery,e.Popper)}(this,(function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){var o,i,r;r=n[i=t],i in(o=e)?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r}))}return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a="transitionend",s={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration"),o=t(e).css("transition-delay"),i=parseFloat(n),r=parseFloat(o);return i||r?(n=n.split(",")[0],o=o.split(",")[0],1e3*(parseFloat(n)+parseFloat(o))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=n[o],r=t[o],a=r&&s.isElement(r)?"element":{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(a))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+a+'" but expected type "'+i+'".')}},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"!=typeof e.getRootNode)return e instanceof ShadowRoot?e:e.parentNode?s.findShadowRoot(e.parentNode):null;var t=e.getRootNode();return t instanceof ShadowRoot?t:null}};t.fn.emulateTransitionEnd=function(e){var n=this,o=!1;return t(this).one(s.TRANSITION_END,(function(){o=!0})),setTimeout((function(){o||s.triggerTransitionEnd(n)}),e),this},t.event.special[s.TRANSITION_END]={bindType:a,delegateType:a,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var l="alert",c="bs.alert",u="."+c,d=t.fn[l],f={CLOSE:"close"+u,CLOSED:"closed"+u,CLICK_DATA_API:"click"+u+".data-api"},h=function(){function e(e){this._element=e}var n=e.prototype;return n.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){t.removeData(this._element,c),this._element=null},n._getRootElement=function(e){var n=s.getSelectorFromElement(e),o=!1;return n&&(o=document.querySelector(n)),o||(o=t(e).closest(".alert")[0]),o},n._triggerCloseEvent=function(e){var n=t.Event(f.CLOSE);return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass("show"),t(e).hasClass("fade")){var o=s.getTransitionDurationFromElement(e);t(e).one(s.TRANSITION_END,(function(t){return n._destroyElement(e,t)})).emulateTransitionEnd(o)}else this._destroyElement(e)},n._destroyElement=function(e){t(e).detach().trigger(f.CLOSED).remove()},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),i=o.data(c);i||(i=new e(this),o.data(c,i)),"close"===n&&i[n](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(f.CLICK_DATA_API,'[data-dismiss="alert"]',h._handleDismiss(new h)),t.fn[l]=h._jQueryInterface,t.fn[l].Constructor=h,t.fn[l].noConflict=function(){return t.fn[l]=d,h._jQueryInterface};var p="button",m="bs.button",g="."+m,v=".data-api",y=t.fn[p],b="active",w='[data-toggle^="button"]',C=".btn",x={CLICK_DATA_API:"click"+g+v,FOCUS_BLUR_DATA_API:"focus"+g+v+" blur"+g+v},k=function(){function e(e){this._element=e}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,o=t(this._element).closest('[data-toggle="buttons"]')[0];if(o){var i=this._element.querySelector('input:not([type="hidden"])');if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(b))e=!1;else{var r=o.querySelector(".active");r&&t(r).removeClass(b)}if(e){if(i.hasAttribute("disabled")||o.hasAttribute("disabled")||i.classList.contains("disabled")||o.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(b),t(i).trigger("change")}i.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(b)),e&&t(this._element).toggleClass(b)},n.dispose=function(){t.removeData(this._element,m),this._element=null},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data(m);o||(o=new e(this),t(this).data(m,o)),"toggle"===n&&o[n]()}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(x.CLICK_DATA_API,w,(function(e){e.preventDefault();var n=e.target;t(n).hasClass("btn")||(n=t(n).closest(C)),k._jQueryInterface.call(t(n),"toggle")})).on(x.FOCUS_BLUR_DATA_API,w,(function(e){var n=t(e.target).closest(C)[0];t(n).toggleClass("focus",/^focus(in)?$/.test(e.type))})),t.fn[p]=k._jQueryInterface,t.fn[p].Constructor=k,t.fn[p].noConflict=function(){return t.fn[p]=y,k._jQueryInterface};var E="carousel",S="bs.carousel",_="."+S,T=".data-api",N=t.fn[E],A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},R={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},D="next",P="prev",B={SLIDE:"slide"+_,SLID:"slid"+_,KEYDOWN:"keydown"+_,MOUSEENTER:"mouseenter"+_,MOUSELEAVE:"mouseleave"+_,TOUCHSTART:"touchstart"+_,TOUCHMOVE:"touchmove"+_,TOUCHEND:"touchend"+_,POINTERDOWN:"pointerdown"+_,POINTERUP:"pointerup"+_,DRAG_START:"dragstart"+_,LOAD_DATA_API:"load"+_+T,CLICK_DATA_API:"click"+_+T},I="active",L=".active.carousel-item",O={TOUCH:"touch",PEN:"pen"},M=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=e.prototype;return n.next=function(){this._isSliding||this._slide(D)},n.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(P)},n.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(e){var n=this;this._activeElement=this._element.querySelector(L);var o=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(B.SLID,(function(){return n.to(e)}));else{if(o===e)return this.pause(),void this.cycle();this._slide(o<e?D:P,this._items[e])}},n.dispose=function(){t(this._element).off(_),t.removeData(this._element,S),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(e){return e=r({},A,e),s.typeCheckConfig(E,e,R),e},n._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;0<t&&this.prev(),t<0&&this.next()}},n._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(B.KEYDOWN,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&t(this._element).on(B.MOUSEENTER,(function(t){return e.pause(t)})).on(B.MOUSELEAVE,(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var n=function(t){e._pointerEvent&&O[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},o=function(t){e._pointerEvent&&O[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};t(this._element.querySelectorAll(".carousel-item img")).on(B.DRAG_START,(function(e){return e.preventDefault()})),this._pointerEvent?(t(this._element).on(B.POINTERDOWN,(function(e){return n(e)})),t(this._element).on(B.POINTERUP,(function(e){return o(e)})),this._element.classList.add("pointer-event")):(t(this._element).on(B.TOUCHSTART,(function(e){return n(e)})),t(this._element).on(B.TOUCHMOVE,(function(t){var n;e.touchDeltaX=(n=t).originalEvent.touches&&1<n.originalEvent.touches.length?0:n.originalEvent.touches[0].clientX-e.touchStartX})),t(this._element).on(B.TOUCHEND,(function(e){return o(e)})))}},n._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},n._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},n._getItemByDirection=function(e,t){var n=e===D,o=e===P,i=this._getItemIndex(t);if((o&&0===i||n&&i===this._items.length-1)&&!this._config.wrap)return t;var r=(i+(e===P?-1:1))%this._items.length;return-1===r?this._items[this._items.length-1]:this._items[r]},n._triggerSlideEvent=function(e,n){var o=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(L)),r=t.Event(B.SLIDE,{relatedTarget:e,direction:n,from:i,to:o});return t(this._element).trigger(r),r},n._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));t(n).removeClass(I);var o=this._indicatorsElement.children[this._getItemIndex(e)];o&&t(o).addClass(I)}},n._slide=function(e,n){var o,i,r,a=this,l=this._element.querySelector(L),c=this._getItemIndex(l),u=n||l&&this._getItemByDirection(e,l),d=this._getItemIndex(u),f=Boolean(this._interval);if(r=e===D?(o="carousel-item-left",i="carousel-item-next","left"):(o="carousel-item-right",i="carousel-item-prev","right"),u&&t(u).hasClass(I))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&l&&u){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(u);var h=t.Event(B.SLID,{relatedTarget:u,direction:r,from:c,to:d});if(t(this._element).hasClass("slide")){t(u).addClass(i),s.reflow(u),t(l).addClass(o),t(u).addClass(o);var p=parseInt(u.getAttribute("data-interval"),10);this._config.interval=p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,p):this._config.defaultInterval||this._config.interval;var m=s.getTransitionDurationFromElement(l);t(l).one(s.TRANSITION_END,(function(){t(u).removeClass(o+" "+i).addClass(I),t(l).removeClass(I+" "+i+" "+o),a._isSliding=!1,setTimeout((function(){return t(a._element).trigger(h)}),0)})).emulateTransitionEnd(m)}else t(l).removeClass(I),t(u).addClass(I),this._isSliding=!1,t(this._element).trigger(h);f&&this.cycle()}},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data(S),i=r({},A,t(this).data());"object"==typeof n&&(i=r({},i,n));var a="string"==typeof n?n:i.slide;if(o||(o=new e(this,i),t(this).data(S,o)),"number"==typeof n)o.to(n);else if("string"==typeof a){if(void 0===o[a])throw new TypeError('No method named "'+a+'"');o[a]()}else i.interval&&i.ride&&(o.pause(),o.cycle())}))},e._dataApiClickHandler=function(n){var o=s.getSelectorFromElement(this);if(o){var i=t(o)[0];if(i&&t(i).hasClass("carousel")){var a=r({},t(i).data(),t(this).data()),l=this.getAttribute("data-slide-to");l&&(a.interval=!1),e._jQueryInterface.call(t(i),a),l&&t(i).data(S).to(l),n.preventDefault()}}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return A}}]),e}();t(document).on(B.CLICK_DATA_API,"[data-slide], [data-slide-to]",M._dataApiClickHandler),t(window).on(B.LOAD_DATA_API,(function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,o=e.length;n<o;n++){var i=t(e[n]);M._jQueryInterface.call(i,i.data())}})),t.fn[E]=M._jQueryInterface,t.fn[E].Constructor=M,t.fn[E].noConflict=function(){return t.fn[E]=N,M._jQueryInterface};var H="collapse",F="bs.collapse",$="."+F,j=t.fn[H],z={toggle:!0,parent:""},U={toggle:"boolean",parent:"(string|element)"},W={SHOW:"show"+$,SHOWN:"shown"+$,HIDE:"hide"+$,HIDDEN:"hidden"+$,CLICK_DATA_API:"click"+$+".data-api"},q="show",V="collapse",K="collapsing",Y="collapsed",X='[data-toggle="collapse"]',G=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(X)),o=0,i=n.length;o<i;o++){var r=n[o],a=s.getSelectorFromElement(r),l=[].slice.call(document.querySelectorAll(a)).filter((function(t){return t===e}));null!==a&&0<l.length&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=e.prototype;return n.toggle=function(){t(this._element).hasClass(q)?this.hide():this.show()},n.show=function(){var n,o,i=this;if(!(this._isTransitioning||t(this._element).hasClass(q)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(e){return"string"==typeof i._config.parent?e.getAttribute("data-parent")===i._config.parent:e.classList.contains(V)}))).length&&(n=null),n&&(o=t(n).not(this._selector).data(F))&&o._isTransitioning))){var r=t.Event(W.SHOW);if(t(this._element).trigger(r),!r.isDefaultPrevented()){n&&(e._jQueryInterface.call(t(n).not(this._selector),"hide"),o||t(n).data(F,null));var a=this._getDimension();t(this._element).removeClass(V).addClass(K),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(Y).attr("aria-expanded",!0),this.setTransitioning(!0);var l="scroll"+(a[0].toUpperCase()+a.slice(1)),c=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,(function(){t(i._element).removeClass(K).addClass(V).addClass(q),i._element.style[a]="",i.setTransitioning(!1),t(i._element).trigger(W.SHOWN)})).emulateTransitionEnd(c),this._element.style[a]=this._element[l]+"px"}}},n.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(q)){var n=t.Event(W.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var o=this._getDimension();this._element.style[o]=this._element.getBoundingClientRect()[o]+"px",s.reflow(this._element),t(this._element).addClass(K).removeClass(V).removeClass(q);var i=this._triggerArray.length;if(0<i)for(var r=0;r<i;r++){var a=this._triggerArray[r],l=s.getSelectorFromElement(a);null!==l&&(t([].slice.call(document.querySelectorAll(l))).hasClass(q)||t(a).addClass(Y).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[o]="";var c=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,(function(){e.setTransitioning(!1),t(e._element).removeClass(K).addClass(V).trigger(W.HIDDEN)})).emulateTransitionEnd(c)}}},n.setTransitioning=function(e){this._isTransitioning=e},n.dispose=function(){t.removeData(this._element,F),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(e){return(e=r({},z,e)).toggle=Boolean(e.toggle),s.typeCheckConfig(H,e,U),e},n._getDimension=function(){return t(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,o=this;s.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var i=[].slice.call(n.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return t(i).each((function(t,n){o._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(e,n){var o=t(e).hasClass(q);n.length&&t(n).toggleClass(Y,!o).attr("aria-expanded",o)},e._getTargetFromElement=function(e){var t=s.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),i=o.data(F),a=r({},z,o.data(),"object"==typeof n&&n?n:{});if(!i&&a.toggle&&/show|hide/.test(n)&&(a.toggle=!1),i||(i=new e(this,a),o.data(F,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return z}}]),e}();t(document).on(W.CLICK_DATA_API,X,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=t(this),o=s.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(o));t(i).each((function(){var e=t(this),o=e.data(F)?"toggle":n.data();G._jQueryInterface.call(e,o)}))})),t.fn[H]=G._jQueryInterface,t.fn[H].Constructor=G,t.fn[H].noConflict=function(){return t.fn[H]=j,G._jQueryInterface};var Q="dropdown",J="bs.dropdown",Z="."+J,ee=".data-api",te=t.fn[Q],ne=new RegExp("38|40|27"),oe={HIDE:"hide"+Z,HIDDEN:"hidden"+Z,SHOW:"show"+Z,SHOWN:"shown"+Z,CLICK:"click"+Z,CLICK_DATA_API:"click"+Z+ee,KEYDOWN_DATA_API:"keydown"+Z+ee,KEYUP_DATA_API:"keyup"+Z+ee},ie="disabled",re="show",ae="dropdown-menu-right",se='[data-toggle="dropdown"]',le=".dropdown-menu",ce={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},ue={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},de=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var o=e.prototype;return o.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(ie)){var o=e._getParentFromElement(this._element),i=t(this._menu).hasClass(re);if(e._clearMenus(),!i){var r={relatedTarget:this._element},a=t.Event(oe.SHOW,r);if(t(o).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var l=this._element;"parent"===this._config.reference?l=o:s.isElement(this._config.reference)&&(l=this._config.reference,void 0!==this._config.reference.jquery&&(l=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(o).addClass("position-static"),this._popper=new n(l,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(o).closest(".navbar-nav").length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(re),t(o).toggleClass(re).trigger(t.Event(oe.SHOWN,r))}}}},o.show=function(){if(!(this._element.disabled||t(this._element).hasClass(ie)||t(this._menu).hasClass(re))){var n={relatedTarget:this._element},o=t.Event(oe.SHOW,n),i=e._getParentFromElement(this._element);t(i).trigger(o),o.isDefaultPrevented()||(t(this._menu).toggleClass(re),t(i).toggleClass(re).trigger(t.Event(oe.SHOWN,n)))}},o.hide=function(){if(!this._element.disabled&&!t(this._element).hasClass(ie)&&t(this._menu).hasClass(re)){var n={relatedTarget:this._element},o=t.Event(oe.HIDE,n),i=e._getParentFromElement(this._element);t(i).trigger(o),o.isDefaultPrevented()||(t(this._menu).toggleClass(re),t(i).toggleClass(re).trigger(t.Event(oe.HIDDEN,n)))}},o.dispose=function(){t.removeData(this._element,J),t(this._element).off(Z),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},o.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},o._addEventListeners=function(){var e=this;t(this._element).on(oe.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},o._getConfig=function(e){return e=r({},this.constructor.Default,t(this._element).data(),e),s.typeCheckConfig(Q,e,this.constructor.DefaultType),e},o._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(le))}return this._menu},o._getPlacement=function(){var e=t(this._element.parentNode),n="bottom-start";return e.hasClass("dropup")?(n="top-start",t(this._menu).hasClass(ae)&&(n="top-end")):e.hasClass("dropright")?n="right-start":e.hasClass("dropleft")?n="left-start":t(this._menu).hasClass(ae)&&(n="bottom-end"),n},o._detectNavbar=function(){return 0<t(this._element).closest(".navbar").length},o._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},o._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data(J);if(o||(o=new e(this,"object"==typeof n?n:null),t(this).data(J,o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},e._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var o=[].slice.call(document.querySelectorAll(se)),i=0,r=o.length;i<r;i++){var a=e._getParentFromElement(o[i]),s=t(o[i]).data(J),l={relatedTarget:o[i]};if(n&&"click"===n.type&&(l.clickEvent=n),s){var c=s._menu;if(t(a).hasClass(re)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&t.contains(a,n.target))){var u=t.Event(oe.HIDE,l);t(a).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),o[i].setAttribute("aria-expanded","false"),t(c).removeClass(re),t(a).removeClass(re).trigger(t.Event(oe.HIDDEN,l)))}}}},e._getParentFromElement=function(e){var t,n=s.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||t(n.target).closest(le).length)):ne.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(ie))){var o=e._getParentFromElement(this),i=t(o).hasClass(re);if(i&&(!i||27!==n.which&&32!==n.which)){var r=[].slice.call(o.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"));if(0!==r.length){var a=r.indexOf(n.target);38===n.which&&0<a&&a--,40===n.which&&a<r.length-1&&a++,a<0&&(a=0),r[a].focus()}}else{if(27===n.which){var s=o.querySelector(se);t(s).trigger("focus")}t(this).trigger("click")}}},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ce}},{key:"DefaultType",get:function(){return ue}}]),e}();t(document).on(oe.KEYDOWN_DATA_API,se,de._dataApiKeydownHandler).on(oe.KEYDOWN_DATA_API,le,de._dataApiKeydownHandler).on(oe.CLICK_DATA_API+" "+oe.KEYUP_DATA_API,de._clearMenus).on(oe.CLICK_DATA_API,se,(function(e){e.preventDefault(),e.stopPropagation(),de._jQueryInterface.call(t(this),"toggle")})).on(oe.CLICK_DATA_API,".dropdown form",(function(e){e.stopPropagation()})),t.fn[Q]=de._jQueryInterface,t.fn[Q].Constructor=de,t.fn[Q].noConflict=function(){return t.fn[Q]=te,de._jQueryInterface};var fe="modal",he="bs.modal",pe="."+he,me=t.fn[fe],ge={backdrop:!0,keyboard:!0,focus:!0,show:!0},ve={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ye={HIDE:"hide"+pe,HIDDEN:"hidden"+pe,SHOW:"show"+pe,SHOWN:"shown"+pe,FOCUSIN:"focusin"+pe,RESIZE:"resize"+pe,CLICK_DISMISS:"click.dismiss"+pe,KEYDOWN_DISMISS:"keydown.dismiss"+pe,MOUSEUP_DISMISS:"mouseup.dismiss"+pe,MOUSEDOWN_DISMISS:"mousedown.dismiss"+pe,CLICK_DATA_API:"click"+pe+".data-api"},be="modal-open",we="fade",Ce="show",xe=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ke=".sticky-top",Ee=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=e.prototype;return n.toggle=function(e){return this._isShown?this.hide():this.show(e)},n.show=function(e){var n=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass(we)&&(this._isTransitioning=!0);var o=t.Event(ye.SHOW,{relatedTarget:e});t(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(ye.CLICK_DISMISS,'[data-dismiss="modal"]',(function(e){return n.hide(e)})),t(this._dialog).on(ye.MOUSEDOWN_DISMISS,(function(){t(n._element).one(ye.MOUSEUP_DISMISS,(function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(e)})))}},n.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var o=t.Event(ye.HIDE);if(t(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()){this._isShown=!1;var i=t(this._element).hasClass(we);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(ye.FOCUSIN),t(this._element).removeClass(Ce),t(this._element).off(ye.CLICK_DISMISS),t(this._dialog).off(ye.MOUSEDOWN_DISMISS),i){var r=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,(function(e){return n._hideModal(e)})).emulateTransitionEnd(r)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return t(e).off(pe)})),t(document).off(ye.FOCUSIN),t.removeData(this._element,he),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(e){return e=r({},ge,e),s.typeCheckConfig(fe,e,ve),e},n._showElement=function(e){var n=this,o=t(this._element).hasClass(we);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),t(this._dialog).hasClass("modal-dialog-scrollable")?this._dialog.querySelector(".modal-body").scrollTop=0:this._element.scrollTop=0,o&&s.reflow(this._element),t(this._element).addClass(Ce),this._config.focus&&this._enforceFocus();var i=t.Event(ye.SHOWN,{relatedTarget:e}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};if(o){var a=s.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(s.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},n._enforceFocus=function(){var e=this;t(document).off(ye.FOCUSIN).on(ye.FOCUSIN,(function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()}))},n._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(ye.KEYDOWN_DISMISS,(function(t){27===t.which&&(t.preventDefault(),e.hide())})):this._isShown||t(this._element).off(ye.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var e=this;this._isShown?t(window).on(ye.RESIZE,(function(t){return e.handleUpdate(t)})):t(window).off(ye.RESIZE)},n._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass(be),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(ye.HIDDEN)}))},n._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(e){var n=this,o=t(this._element).hasClass(we)?we:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",o&&this._backdrop.classList.add(o),t(this._backdrop).appendTo(document.body),t(this._element).on(ye.CLICK_DISMISS,(function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),o&&s.reflow(this._backdrop),t(this._backdrop).addClass(Ce),!e)return;if(!o)return void e();var i=s.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(s.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(Ce);var r=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(we)){var a=s.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(s.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else e&&e()},n._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(xe)),o=[].slice.call(document.querySelectorAll(ke));t(n).each((function(n,o){var i=o.style.paddingRight,r=t(o).css("padding-right");t(o).data("padding-right",i).css("padding-right",parseFloat(r)+e._scrollbarWidth+"px")})),t(o).each((function(n,o){var i=o.style.marginRight,r=t(o).css("margin-right");t(o).data("margin-right",i).css("margin-right",parseFloat(r)-e._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,r=t(document.body).css("padding-right");t(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}t(document.body).addClass(be)},n._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(xe));t(e).each((function(e,n){var o=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=o||""}));var n=[].slice.call(document.querySelectorAll(""+ke));t(n).each((function(e,n){var o=t(n).data("margin-right");void 0!==o&&t(n).css("margin-right",o).removeData("margin-right")}));var o=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=o||""},n._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(n,o){return this.each((function(){var i=t(this).data(he),a=r({},ge,t(this).data(),"object"==typeof n&&n?n:{});if(i||(i=new e(this,a),t(this).data(he,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n](o)}else a.show&&i.show(o)}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ge}}]),e}();t(document).on(ye.CLICK_DATA_API,'[data-toggle="modal"]',(function(e){var n,o=this,i=s.getSelectorFromElement(this);i&&(n=document.querySelector(i));var a=t(n).data(he)?"toggle":r({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(n).one(ye.SHOW,(function(e){e.isDefaultPrevented()||l.one(ye.HIDDEN,(function(){t(o).is(":visible")&&o.focus()}))}));Ee._jQueryInterface.call(t(n),a,this)})),t.fn[fe]=Ee._jQueryInterface,t.fn[fe].Constructor=Ee,t.fn[fe].noConflict=function(){return t.fn[fe]=me,Ee._jQueryInterface};var Se=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],_e=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Te=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function Ne(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var o=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),r=[].slice.call(o.body.querySelectorAll("*")),a=function(e,n){var o=r[e],a=o.nodeName.toLowerCase();if(-1===i.indexOf(o.nodeName.toLowerCase()))return o.parentNode.removeChild(o),"continue";var s=[].slice.call(o.attributes),l=[].concat(t["*"]||[],t[a]||[]);s.forEach((function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Se.indexOf(n)||Boolean(e.nodeValue.match(_e)||e.nodeValue.match(Te));for(var o=t.filter((function(e){return e instanceof RegExp})),i=0,r=o.length;i<r;i++)if(n.match(o[i]))return!0;return!1})(e,l)||o.removeAttribute(e.nodeName)}))},s=0,l=r.length;s<l;s++)a(s);return o.body.innerHTML}var Ae="tooltip",Re="bs.tooltip",De="."+Re,Pe=t.fn[Ae],Be="bs-tooltip",Ie=new RegExp("(^|\\s)"+Be+"\\S+","g"),Le=["sanitize","whiteList","sanitizeFn"],Oe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},Me={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},He={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},Fe="show",$e={HIDE:"hide"+De,HIDDEN:"hidden"+De,SHOW:"show"+De,SHOWN:"shown"+De,INSERTED:"inserted"+De,CLICK:"click"+De,FOCUSIN:"focusin"+De,FOCUSOUT:"focusout"+De,MOUSEENTER:"mouseenter"+De,MOUSELEAVE:"mouseleave"+De},je="fade",ze="show",Ue="hover",We="focus",qe=function(){function e(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var o=e.prototype;return o.enable=function(){this._isEnabled=!0},o.disable=function(){this._isEnabled=!1},o.toggleEnabled=function(){this._isEnabled=!this._isEnabled},o.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,o=t(e.currentTarget).data(n);o||(o=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,o)),o._activeTrigger.click=!o._activeTrigger.click,o._isWithActiveTrigger()?o._enter(null,o):o._leave(null,o)}else{if(t(this.getTipElement()).hasClass(ze))return void this._leave(null,this);this._enter(null,this)}},o.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},o.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var o=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(o);var i=s.findShadowRoot(this.element),r=t.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(o.isDefaultPrevented()||!r)return;var a=this.getTipElement(),l=s.getUID(this.constructor.NAME);a.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&t(a).addClass(je);var c="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,u=this._getAttachment(c);this.addAttachmentClass(u);var d=this._getContainer();t(a).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(a).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,a,{placement:u,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),t(a).addClass(ze),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var f=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),"out"===n&&e._leave(null,e)};if(t(this.tip).hasClass(je)){var h=s.getTransitionDurationFromElement(this.tip);t(this.tip).one(s.TRANSITION_END,f).emulateTransitionEnd(h)}else f()}},o.hide=function(e){var n=this,o=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE),r=function(){n._hoverState!==Fe&&o.parentNode&&o.parentNode.removeChild(o),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(i),!i.isDefaultPrevented()){if(t(o).removeClass(ze),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger.click=!1,this._activeTrigger[We]=!1,this._activeTrigger[Ue]=!1,t(this.tip).hasClass(je)){var a=s.getTransitionDurationFromElement(o);t(o).one(s.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=""}},o.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},o.isWithContent=function(){return Boolean(this.getTitle())},o.addAttachmentClass=function(e){t(this.getTipElement()).addClass(Be+"-"+e)},o.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},o.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(".tooltip-inner")),this.getTitle()),t(e).removeClass(je+" "+ze)},o.setElementContent=function(e,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=Ne(n,this.config.whiteList,this.config.sanitizeFn)),e.html(n)):e.text(n):this.config.html?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text())},o.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},o._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},o._getContainer=function(){return!1===this.config.container?document.body:s.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},o._getAttachment=function(e){return Me[e.toUpperCase()]},o._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if("manual"!==n){var o=n===Ue?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=n===Ue?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(o,e.config.selector,(function(t){return e._enter(t)})).on(i,e.config.selector,(function(t){return e._leave(t)}))}})),t(this.element).closest(".modal").on("hide.bs.modal",(function(){e.element&&e.hide()})),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},o._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},o._enter=function(e,n){var o=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(o))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,n)),e&&(n._activeTrigger["focusin"===e.type?We:Ue]=!0),t(n.getTipElement()).hasClass(ze)||n._hoverState===Fe?n._hoverState=Fe:(clearTimeout(n._timeout),n._hoverState=Fe,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===Fe&&n.show()}),n.config.delay.show):n.show())},o._leave=function(e,n){var o=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(o))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,n)),e&&(n._activeTrigger["focusout"===e.type?We:Ue]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){"out"===n._hoverState&&n.hide()}),n.config.delay.hide):n.hide())},o._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},o._getConfig=function(e){var n=t(this.element).data();return Object.keys(n).forEach((function(e){-1!==Le.indexOf(e)&&delete n[e]})),"number"==typeof(e=r({},this.constructor.Default,n,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),s.typeCheckConfig(Ae,e,this.constructor.DefaultType),e.sanitize&&(e.template=Ne(e.template,e.whiteList,e.sanitizeFn)),e},o._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},o._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(Ie);null!==n&&n.length&&e.removeClass(n.join(""))},o._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},o._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(je),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data(Re),i="object"==typeof n&&n;if((o||!/dispose|hide/.test(n))&&(o||(o=new e(this,i),t(this).data(Re,o)),"string"==typeof n)){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return He}},{key:"NAME",get:function(){return Ae}},{key:"DATA_KEY",get:function(){return Re}},{key:"Event",get:function(){return $e}},{key:"EVENT_KEY",get:function(){return De}},{key:"DefaultType",get:function(){return Oe}}]),e}();t.fn[Ae]=qe._jQueryInterface,t.fn[Ae].Constructor=qe,t.fn[Ae].noConflict=function(){return t.fn[Ae]=Pe,qe._jQueryInterface};var Ve="popover",Ke="bs.popover",Ye="."+Ke,Xe=t.fn[Ve],Ge="bs-popover",Qe=new RegExp("(^|\\s)"+Ge+"\\S+","g"),Je=r({},qe.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ze=r({},qe.DefaultType,{content:"(string|element|function)"}),et={HIDE:"hide"+Ye,HIDDEN:"hidden"+Ye,SHOW:"show"+Ye,SHOWN:"shown"+Ye,INSERTED:"inserted"+Ye,CLICK:"click"+Ye,FOCUSIN:"focusin"+Ye,FOCUSOUT:"focusout"+Ye,MOUSEENTER:"mouseenter"+Ye,MOUSELEAVE:"mouseleave"+Ye},tt=function(e){var n,o;function r(){return e.apply(this,arguments)||this}o=e,(n=r).prototype=Object.create(o.prototype),(n.prototype.constructor=n).__proto__=o;var a=r.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(e){t(this.getTipElement()).addClass(Ge+"-"+e)},a.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},a.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(".popover-body"),n),e.removeClass("fade show")},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(Qe);null!==n&&0<n.length&&e.removeClass(n.join(""))},r._jQueryInterface=function(e){return this.each((function(){var n=t(this).data(Ke),o="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new r(this,o),t(this).data(Ke,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},i(r,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Je}},{key:"NAME",get:function(){return Ve}},{key:"DATA_KEY",get:function(){return Ke}},{key:"Event",get:function(){return et}},{key:"EVENT_KEY",get:function(){return Ye}},{key:"DefaultType",get:function(){return Ze}}]),r}(qe);t.fn[Ve]=tt._jQueryInterface,t.fn[Ve].Constructor=tt,t.fn[Ve].noConflict=function(){return t.fn[Ve]=Xe,tt._jQueryInterface};var nt="scrollspy",ot="bs.scrollspy",it="."+ot,rt=t.fn[nt],at={offset:10,method:"auto",target:""},st={offset:"number",method:"string",target:"(string|element)"},lt={ACTIVATE:"activate"+it,SCROLL:"scroll"+it,LOAD_DATA_API:"load"+it+".data-api"},ct="active",ut=".nav, .list-group",dt=".nav-link",ft=".list-group-item",ht="position",pt=function(){function e(e,n){var o=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+dt+","+this._config.target+" "+ft+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(lt.SCROLL,(function(e){return o._process(e)})),this.refresh(),this._process()}var n=e.prototype;return n.refresh=function(){var e=this,n="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":ht:this._config.method,o=n===ht?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var i,r=s.getSelectorFromElement(e);if(r&&(i=document.querySelector(r)),i){var a=i.getBoundingClientRect();if(a.width||a.height)return[t(i)[n]().top+o,r]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},n.dispose=function(){t.removeData(this._element,ot),t(this._scrollElement).off(it),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(e){if("string"!=typeof(e=r({},at,"object"==typeof e&&e?e:{})).target){var n=t(e.target).attr("id");n||(n=s.getUID(nt),t(e.target).attr("id",n)),e.target="#"+n}return s.typeCheckConfig(nt,e,st),e},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},n._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),o=t([].slice.call(document.querySelectorAll(n.join(","))));o.hasClass("dropdown-item")?(o.closest(".dropdown").find(".dropdown-toggle").addClass(ct),o.addClass(ct)):(o.addClass(ct),o.parents(ut).prev(dt+", "+ft).addClass(ct),o.parents(ut).prev(".nav-item").children(dt).addClass(ct)),t(this._scrollElement).trigger(lt.ACTIVATE,{relatedTarget:e})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(ct)})).forEach((function(e){return e.classList.remove(ct)}))},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data(ot);if(o||(o=new e(this,"object"==typeof n&&n),t(this).data(ot,o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return at}}]),e}();t(window).on(lt.LOAD_DATA_API,(function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=e.length;n--;){var o=t(e[n]);pt._jQueryInterface.call(o,o.data())}})),t.fn[nt]=pt._jQueryInterface,t.fn[nt].Constructor=pt,t.fn[nt].noConflict=function(){return t.fn[nt]=rt,pt._jQueryInterface};var mt="bs.tab",gt="."+mt,vt=t.fn.tab,yt={HIDE:"hide"+gt,HIDDEN:"hidden"+gt,SHOW:"show"+gt,SHOWN:"shown"+gt,CLICK_DATA_API:"click"+gt+".data-api"},bt="active",wt=".active",Ct="> li > .active",xt=function(){function e(e){this._element=e}var n=e.prototype;return n.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(bt)||t(this._element).hasClass("disabled"))){var n,o,i=t(this._element).closest(".nav, .list-group")[0],r=s.getSelectorFromElement(this._element);if(i){var a="UL"===i.nodeName||"OL"===i.nodeName?Ct:wt;o=(o=t.makeArray(t(i).find(a)))[o.length-1]}var l=t.Event(yt.HIDE,{relatedTarget:this._element}),c=t.Event(yt.SHOW,{relatedTarget:o});if(o&&t(o).trigger(l),t(this._element).trigger(c),!c.isDefaultPrevented()&&!l.isDefaultPrevented()){r&&(n=document.querySelector(r)),this._activate(this._element,i);var u=function(){var n=t.Event(yt.HIDDEN,{relatedTarget:e._element}),i=t.Event(yt.SHOWN,{relatedTarget:o});t(o).trigger(n),t(e._element).trigger(i)};n?this._activate(n,n.parentNode,u):u()}}},n.dispose=function(){t.removeData(this._element,mt),this._element=null},n._activate=function(e,n,o){var i=this,r=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?t(n).children(wt):t(n).find(Ct))[0],a=o&&r&&t(r).hasClass("fade"),l=function(){return i._transitionComplete(e,r,o)};if(r&&a){var c=s.getTransitionDurationFromElement(r);t(r).removeClass("show").one(s.TRANSITION_END,l).emulateTransitionEnd(c)}else l()},n._transitionComplete=function(e,n,o){if(n){t(n).removeClass(bt);var i=t(n.parentNode).find("> .dropdown-menu .active")[0];i&&t(i).removeClass(bt),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(bt),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),s.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){var r=t(e).closest(".dropdown")[0];if(r){var a=[].slice.call(r.querySelectorAll(".dropdown-toggle"));t(a).addClass(bt)}e.setAttribute("aria-expanded",!0)}o&&o()},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),i=o.data(mt);if(i||(i=new e(this),o.data(mt,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),e}();t(document).on(yt.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(e){e.preventDefault(),xt._jQueryInterface.call(t(this),"show")})),t.fn.tab=xt._jQueryInterface,t.fn.tab.Constructor=xt,t.fn.tab.noConflict=function(){return t.fn.tab=vt,xt._jQueryInterface};var kt="toast",Et="bs.toast",St="."+Et,_t=t.fn[kt],Tt={CLICK_DISMISS:"click.dismiss"+St,HIDE:"hide"+St,HIDDEN:"hidden"+St,SHOW:"show"+St,SHOWN:"shown"+St},Nt="show",At="showing",Rt={animation:"boolean",autohide:"boolean",delay:"number"},Dt={animation:!0,autohide:!0,delay:500},Pt=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var n=e.prototype;return n.show=function(){var e=this;t(this._element).trigger(Tt.SHOW),this._config.animation&&this._element.classList.add("fade");var n=function(){e._element.classList.remove(At),e._element.classList.add(Nt),t(e._element).trigger(Tt.SHOWN),e._config.autohide&&e.hide()};if(this._element.classList.remove("hide"),this._element.classList.add(At),this._config.animation){var o=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,n).emulateTransitionEnd(o)}else n()},n.hide=function(e){var n=this;this._element.classList.contains(Nt)&&(t(this._element).trigger(Tt.HIDE),e?this._close():this._timeout=setTimeout((function(){n._close()}),this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Nt)&&this._element.classList.remove(Nt),t(this._element).off(Tt.CLICK_DISMISS),t.removeData(this._element,Et),this._element=null,this._config=null},n._getConfig=function(e){return e=r({},Dt,t(this._element).data(),"object"==typeof e&&e?e:{}),s.typeCheckConfig(kt,e,this.constructor.DefaultType),e},n._setListeners=function(){var e=this;t(this._element).on(Tt.CLICK_DISMISS,'[data-dismiss="toast"]',(function(){return e.hide(!0)}))},n._close=function(){var e=this,n=function(){e._element.classList.add("hide"),t(e._element).trigger(Tt.HIDDEN)};if(this._element.classList.remove(Nt),this._config.animation){var o=s.getTransitionDurationFromElement(this._element);t(this._element).one(s.TRANSITION_END,n).emulateTransitionEnd(o)}else n()},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),i=o.data(Et);if(i||(i=new e(this,"object"==typeof n&&n),o.data(Et,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n](this)}}))},i(e,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Rt}},{key:"Default",get:function(){return Dt}}]),e}();t.fn[kt]=Pt._jQueryInterface,t.fn[kt].Constructor=Pt,t.fn[kt].noConflict=function(){return t.fn[kt]=_t,Pt._jQueryInterface},function(){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||4<=e[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),e.Util=s,e.Alert=h,e.Button=k,e.Carousel=M,e.Collapse=G,e.Dropdown=de,e.Modal=Ee,e.Popover=tt,e.Scrollspy=pt,e.Tab=xt,e.Toast=Pt,e.Tooltip=qe,Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],t);else{var n="object"==typeof exports?t(require("jquery")):t(e.jQuery);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,(function(t){return e[t]}).bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=51)}({0:function(t,n){t.exports=e},1:function(e,t,n){"use strict";var o=n(0),i=n.n(o);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){function e(t,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markup=t,this.children=n,this.options=o,this.callback=i}var t;return(t=[{key:"render",value:function(e){var t=i()(this.markup);if(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&i.a.each(this.options.data,(function(e,n){t.attr("data-"+e,n)})),this.options&&this.options.click&&t.on("click",this.options.click),this.children){var n=t.find(".note-children-container");this.children.forEach((function(e){e.render(n.length?n:t)}))}return this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),e&&e.append(t),t}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();t.a={create:function(e,t){return function(){var n="object"===r(arguments[1])?arguments[1]:arguments[0],o=Array.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(o=n.children),new a(e,o,n,t)}}}},2:function(e,t){(function(t){e.exports=t}).call(this,{})},3:function(e,t,n){"use strict";var o=n(0),i=n.n(o);i.a.summernote=i.a.summernote||{lang:{}},i.a.extend(i.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}});var r="function"==typeof define&&n(2),a=["sans-serif","serif","monospace","cursive","fantasy"];function s(e){return-1===i.a.inArray(e.toLowerCase(),a)?"'".concat(e,"'"):e}var l,c=navigator.userAgent,u=/MSIE|Trident/i.test(c);if(u){var d=/MSIE (\d+[.]\d+)/.exec(c);d&&(l=parseFloat(d[1])),(d=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(c))&&(l=parseFloat(d[1]))}var f=/Edge\/\d+/.test(c),h="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,p=u?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",m={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:u,isEdge:f,isFF:!f&&/firefox/i.test(c),isPhantom:/PhantomJS/i.test(c),isWebkit:!f&&/webkit/i.test(c),isChrome:!f&&/chrome/i.test(c),isSafari:!f&&/safari/i.test(c)&&!/chrome/i.test(c),browserVersion:l,jqueryVersion:parseFloat(i.a.fn.jquery),isSupportAmd:r,isSupportTouch:h,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=document.createElement("canvas").getContext("2d");n.font="200px '"+t+"'";var o=n.measureText("mmmmmmmmmmwwwww").width;return n.font="200px "+s(e)+', "'+t+'"',o!==n.measureText("mmmmmmmmmmwwwww").width},isW3CRangeSupport:!!document.createRange,inputEventName:p,genericFontFamilies:a,validFontName:s},g=0,v={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,n){return t[e]===n[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(n){return e(n)&&t(n)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},resetUniqueId:function(){g=0},uniqueId:function(e){var t=++g+"";return e?e+t:t},rect2bnd:function(e){var t=i()(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})).join("")},debounce:function(e,t,n){var o;return function(){var i=this,r=arguments,a=function(){o=null,n||e.apply(i,r)},s=n&&!o;clearTimeout(o),o=setTimeout(a,t),s&&e.apply(i,r)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function y(e){return e[0]}function b(e){return e[e.length-1]}function w(e){return e.slice(1)}function C(e,t){if(e&&e.length&&t){if(e.indexOf)return-1!==e.indexOf(t);if(e.contains)return e.contains(t)}return!1}var x={head:y,last:b,initial:function(e){return e.slice(0,e.length-1)},tail:w,prev:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n-1]}return null},next:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n+1]}return null},find:function(e,t){for(var n=0,o=e.length;n<o;n++){var i=e[n];if(t(i))return i}},contains:C,all:function(e,t){for(var n=0,o=e.length;n<o;n++)if(!t(e[n]))return!1;return!0},sum:function(e,t){return t=t||v.self,e.reduce((function(e,n){return e+t(n)}),0)},from:function(e){for(var t=[],n=e.length,o=-1;++o<n;)t[o]=e[o];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?w(e).reduce((function(e,n){var o=b(e);return t(b(o),n)?o[o.length]=n:e[e.length]=[n],e}),[[y(e)]]):[]},compact:function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,o=e.length;n<o;n++)C(t,e[n])||t.push(e[n]);return t}},k=String.fromCharCode(160);function E(e){return e&&i()(e).hasClass("note-editable")}function S(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function _(e){return e&&3===e.nodeType}function T(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function N(e){return!E(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var A=S("PRE"),R=S("LI"),D=S("TABLE"),P=S("DATA");function B(e){return!(H(e)||I(e)||L(e)||N(e)||D(e)||M(e)||P(e))}function I(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var L=S("HR");function O(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var M=S("BLOCKQUOTE");function H(e){return O(e)||M(e)||E(e)}var F=S("A"),$=S("BODY"),j=m.isMSIE&&m.browserVersion<11?"&nbsp;":"<br>";function z(e){return _(e)?e.nodeValue.length:e?e.childNodes.length:0}function U(e){var t=z(e);return 0===t||!_(e)&&1===t&&e.innerHTML===j||!(!x.all(e.childNodes,_)||""!==e.innerHTML)}function W(e){T(e)||z(e)||(e.innerHTML=j)}function q(e,t){for(;e;){if(t(e))return e;if(E(e))break;e=e.parentNode}return null}function V(e,t){t=t||v.fail;var n=[];return q(e,(function(e){return E(e)||n.push(e),t(e)})),n}function K(e,t){t=t||v.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function Y(e,t){var n=t.nextSibling,o=t.parentNode;return n?o.insertBefore(e,n):o.appendChild(e),e}function X(e,t){return i.a.each(t,(function(t,n){e.appendChild(n)})),e}function G(e){return 0===e.offset}function Q(e){return e.offset===z(e.node)}function J(e){return G(e)||Q(e)}function Z(e,t){for(;e&&e!==t;){if(0!==te(e))return!1;e=e.parentNode}return!0}function ee(e,t){if(!t)return!1;for(;e&&e!==t;){if(te(e)!==z(e.parentNode)-1)return!1;e=e.parentNode}return!0}function te(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ne(e){return!!(e&&e.childNodes&&e.childNodes.length)}function oe(e,t){var n,o;if(0===e.offset){if(E(e.node))return null;n=e.node.parentNode,o=te(e.node)}else ne(e.node)?o=z(n=e.node.childNodes[e.offset-1]):(n=e.node,o=t?0:e.offset-1);return{node:n,offset:o}}function ie(e,t){var n,o;if(z(e.node)===e.offset){if(E(e.node))return null;var i=ae(e.node);i?(n=i,o=0):(n=e.node.parentNode,o=te(e.node)+1)}else ne(e.node)?(n=e.node.childNodes[e.offset],o=0):(n=e.node,o=t?z(e.node):e.offset+1);return{node:n,offset:o}}function re(e,t){var n,o;if(U(e.node))return{node:n=e.node.nextSibling,offset:o=0};if(z(e.node)===e.offset){if(E(e.node))return null;var i=ae(e.node);i?(n=i,o=0):(n=e.node.parentNode,o=te(e.node)+1),E(n)&&(n=e.node.nextSibling,o=0)}else if(ne(e.node)){if(o=0,U(n=e.node.childNodes[e.offset]))return null}else if(n=e.node,o=t?z(e.node):e.offset+1,U(n))return null;return{node:n,offset:o}}function ae(e){if(e.nextSibling&&e.parent===e.nextSibling.parent)return _(e.nextSibling)?e.nextSibling:ae(e.nextSibling)}function se(e,t){return e.node===t.node&&e.offset===t.offset}function le(e,t){var n=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint,i=t&&t.isDiscardEmptySplits;if(i&&(n=!0),J(e)&&(_(e.node)||o)){if(G(e))return e.node;if(Q(e))return e.node.nextSibling}if(_(e.node))return e.node.splitText(e.offset);var r=e.node.childNodes[e.offset],a=Y(e.node.cloneNode(!1),e.node);return X(a,K(r)),n||(W(e.node),W(a)),i&&(U(e.node)&&de(e.node),U(a))?(de(a),e.node.nextSibling):a}function ce(e,t,n){var o=V(t.node,v.eq(e));return o.length?1===o.length?le(t,n):o.reduce((function(e,o){return e===t.node&&(e=le(t,n)),le({node:o,offset:e?te(e):z(o)},n)})):null}function ue(e){return document.createElement(e)}function de(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var o=[],i=0,r=e.childNodes.length;i<r;i++)o.push(e.childNodes[i]);for(var a=0,s=o.length;a<s;a++)n.insertBefore(o[a],e)}n.removeChild(e)}}var fe=S("TEXTAREA");function he(e,t){var n=fe(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n}var pe={NBSP_CHAR:k,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:j,emptyPara:"<p>".concat(j,"</p>"),makePredByNodeName:S,isEditable:E,isControlSizing:function(e){return e&&i()(e).hasClass("note-control-sizing")},isText:_,isElement:function(e){return e&&1===e.nodeType},isVoid:T,isPara:N,isPurePara:function(e){return N(e)&&!R(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:B,isBlock:v.not(B),isBodyInline:function(e){return B(e)&&!q(e,N)},isBody:$,isParaInline:function(e){return B(e)&&!!q(e,N)},isPre:A,isList:I,isTable:D,isData:P,isCell:O,isBlockquote:M,isBodyContainer:H,isAnchor:F,isDiv:S("DIV"),isLi:R,isBR:S("BR"),isSpan:S("SPAN"),isB:S("B"),isU:S("U"),isS:S("S"),isI:S("I"),isImg:S("IMG"),isTextarea:fe,deepestChildIsEmpty:function(e){do{if(null===e.firstElementChild||""===e.firstElementChild.innerHTML)break}while(e=e.firstElementChild);return U(e)},isEmpty:U,isEmptyAnchor:v.and(F,U),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||v.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:z,isLeftEdgePoint:G,isRightEdgePoint:Q,isEdgePoint:J,isLeftEdgeOf:Z,isRightEdgeOf:ee,isLeftEdgePointOf:function(e,t){return G(e)&&Z(e.node,t)},isRightEdgePointOf:function(e,t){return Q(e)&&ee(e.node,t)},prevPoint:oe,nextPoint:ie,nextPointWithEmptyNode:re,isSamePoint:se,isVisiblePoint:function(e){if(_(e.node)||!ne(e.node)||U(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!T(t)||n&&!T(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=oe(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=ie(e)}return null},isCharPoint:function(e){if(!_(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==k},isSpacePoint:function(e){if(!_(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return" "===t||t===k},walkPoint:function(e,t,n,o){for(var i=e;i&&(n(i),!se(i,t));)i=re(i,o&&e.node!==i.node&&t.node!==i.node)},ancestor:q,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===z(e);){if(t(e))return e;if(E(e))break;e=e.parentNode}return null},listAncestor:V,lastAncestor:function(e,t){var n=V(e);return x.last(n.filter(t))},listNext:K,listPrev:function(e,t){t=t||v.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(e,t){var n=[];return t=t||v.ok,function o(i){e!==i&&t(i)&&n.push(i);for(var r=0,a=i.childNodes.length;r<a;r++)o(i.childNodes[r])}(e),n},commonAncestor:function(e,t){for(var n=V(e),o=t;o;o=o.parentNode)if(n.indexOf(o)>-1)return o;return null},wrap:function(e,t){var n=e.parentNode,o=i()("<"+t+">")[0];return n.insertBefore(o,e),o.appendChild(e),o},insertAfter:Y,appendChildNodes:X,position:te,hasChildren:ne,makeOffsetPath:function(e,t){return V(t,v.eq(e)).map(te).reverse()},fromOffsetPath:function(e,t){for(var n=e,o=0,i=t.length;o<i;o++)n=n.childNodes.length<=t[o]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[o]];return n},splitTree:ce,splitPoint:function(e,t){var n,o,i=t?N:H,r=V(e.node,i),a=x.last(r)||e.node;i(a)?(n=r[r.length-2],o=a):o=(n=a).parentNode;var s=n&&ce(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||o!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:o}},create:ue,createText:function(e){return document.createTextNode(e)},remove:de,removeWhile:function(e,t){for(;e&&!E(e)&&t(e);){var n=e.parentNode;de(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=ue(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),X(n,x.from(e.childNodes)),Y(n,e),de(e),n},html:function(e,t){var n=he(e);return t&&(n=(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(e,t,n){n=n.toUpperCase();var o=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(o||i?"\n":"")}))).trim()),n},value:he,posFromPlaceholder:function(e){var t=i()(e),n=t.offset(),o=t.outerHeight(!0);return{left:n.left,top:n.top+o}},attachEvents:function(e,t){Object.keys(t).forEach((function(n){e.on(n,t[n])}))},detachEvents:function(e,t){Object.keys(t).forEach((function(n){e.off(n,t[n])}))},isCustomStyleTag:function(e){return e&&!_(e)&&x.contains(e.classList,"note-styletag")}};var me=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=i.a.extend(!0,{},n),i.a.summernote.ui=i.a.summernote.ui_template(this.options),this.ui=i.a.summernote.ui,this.initialize()}var t;return(t=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var e=this.isDisabled();this.code(pe.emptyPara),this._destroy(),this._initialize(),e&&this.disable()}},{key:"_initialize",value:function(){var e=this;this.options.id=v.uniqueId(i.a.now()),this.options.container=this.options.container||this.layoutInfo.editor;var t=i.a.extend({},this.options.buttons);Object.keys(t).forEach((function(n){e.memo("button."+n,t[n])}));var n=i.a.extend({},this.options.modules,i.a.summernote.plugins||{});Object.keys(n).forEach((function(t){e.module(t,n[t],!0)})),Object.keys(this.modules).forEach((function(t){e.initializeModule(t)}))}},{key:"_destroy",value:function(){var e=this;Object.keys(this.modules).reverse().forEach((function(t){e.removeModule(t)})),Object.keys(this.memos).forEach((function(t){e.removeMemo(t)})),this.triggerEvent("destroy",this)}},{key:"code",value:function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.invoke("codeview.sync",e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var e=x.head(arguments),t=x.tail(x.from(arguments)),n=this.options.callbacks[v.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)}},{key:"initializeModule",value:function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||v.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&pe.attachEvents(this.$note,t.events))}},{key:"module",value:function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)}},{key:"removeModule",value:function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&pe.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]}},{key:"memo",value:function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t}},{key:"removeMemo",value:function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]}},{key:"createInvokeHandlerAndUpdateState",value:function(e,t){var n=this;return function(o){n.createInvokeHandler(e,t)(o),n.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(e,t){var n=this;return function(o){o.preventDefault();var r=i()(o.target);n.invoke(e,t||r.closest("[data-value]").data("value"),r)}}},{key:"invoke",value:function(){var e=x.head(arguments),t=x.tail(x.from(arguments)),n=e.split("."),o=n.length>1,i=o&&x.head(n),r=o?x.last(n):x.head(n),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,t):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,t):void 0}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();function ge(e,t){var n,o,i=e.parentElement(),r=document.body.createTextRange(),a=x.from(i.childNodes);for(n=0;n<a.length;n++)if(!pe.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",e)>=0)break;o=a[n]}if(0!==n&&pe.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||i),s.collapse(!o),l=o?o.nextSibling:i.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;t&&l.nextSibling&&pe.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),i=l,n=u}return{cont:i,offset:n}}function ve(e){var t=document.body.createTextRange(),n=function e(t,n){var o,i;if(pe.isText(t)){var r=pe.listPrev(t,v.not(pe.isText)),a=x.last(r).previousSibling;o=a||t.parentNode,n+=x.sum(x.tail(r),pe.nodeLength),i=!a}else{if(pe.isText(o=t.childNodes[n]||t))return e(o,0);n=0,i=!1}return{node:o,collapseToStart:i,offset:n}}(e.node,e.offset);return t.moveToElementText(n.node),t.collapse(n.collapseToStart),t.moveStart("character",n.offset),t}i.a.fn.extend({summernote:function(){var e=i.a.type(x.head(arguments)),t="string"===e,n="object"===e,o=i.a.extend({},i.a.summernote.options,n?x.head(arguments):{});o.langInfo=i.a.extend(!0,{},i.a.summernote.lang["en-US"],i.a.summernote.lang[o.lang]),o.icons=i.a.extend(!0,{},i.a.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!m.isSupportTouch:o.tooltip,this.each((function(e,t){var n=i()(t);if(!n.data("summernote")){var r=new me(n,o);n.data("summernote",r),n.data("summernote").triggerEvent("init",r.layoutInfo)}}));var r=this.first();if(r.length){var a=r.data("summernote");if(t)return a.invoke.apply(a,x.from(arguments));o.focus&&a.invoke("editor.focus")}return this}});var ye=function(){function e(t,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sc=t,this.so=n,this.ec=o,this.eo=i,this.isOnEditable=this.makeIsOn(pe.isEditable),this.isOnList=this.makeIsOn(pe.isList),this.isOnAnchor=this.makeIsOn(pe.isAnchor),this.isOnCell=this.makeIsOn(pe.isCell),this.isOnData=this.makeIsOn(pe.isData)}var t;return(t=[{key:"nativeRange",value:function(){if(m.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}var t=ve({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",ve({node:this.ec,offset:this.eo})),t}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var e=this.nativeRange();if(m.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this}},{key:"scrollIntoView",value:function(e){var t=i()(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var t=function(e,t){if(!e)return e;if(pe.isVisiblePoint(e)&&(!pe.isEdgePoint(e)||pe.isRightEdgePoint(e)&&!t||pe.isLeftEdgePoint(e)&&t||pe.isRightEdgePoint(e)&&t&&pe.isVoid(e.node.nextSibling)||pe.isLeftEdgePoint(e)&&!t&&pe.isVoid(e.node.previousSibling)||pe.isBlock(e.node)&&pe.isEmpty(e.node)))return e;var n=pe.ancestor(e.node,pe.isBlock),o=!1;if(!o){var i=pe.prevPoint(e)||{node:null};o=(pe.isLeftEdgePointOf(e,n)||pe.isVoid(i.node))&&!t}var r=!1;if(!r){var a=pe.nextPoint(e)||{node:null};r=(pe.isRightEdgePointOf(e,n)||pe.isVoid(a.node))&&t}if(o||r){if(pe.isVisiblePoint(e))return e;t=!t}return(t?pe.nextPointUntil(pe.nextPoint(e),pe.isVisiblePoint):pe.prevPointUntil(pe.prevPoint(e),pe.isVisiblePoint))||e},n=t(this.getEndPoint(),!1),o=this.isCollapsed()?n:t(this.getStartPoint(),!0);return new e(o.node,o.offset,n.node,n.offset)}},{key:"nodes",value:function(e,t){e=e||v.ok;var n=t&&t.includeAncestor,o=t&&t.fullyContains,i=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return pe.walkPoint(i,r,(function(t){var i;pe.isEditable(t.node)||(o?(pe.isLeftEdgePoint(t)&&s.push(t.node),pe.isRightEdgePoint(t)&&x.contains(s,t.node)&&(i=t.node)):i=n?pe.ancestor(t.node,e):t.node,i&&e(i)&&a.push(i))}),!0),x.unique(a)}},{key:"commonAncestor",value:function(){return pe.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(t){var n=pe.ancestor(this.sc,t),o=pe.ancestor(this.ec,t);if(!n&&!o)return new e(this.sc,this.so,this.ec,this.eo);var i=this.getPoints();return n&&(i.sc=n,i.so=0),o&&(i.ec=o,i.eo=pe.nodeLength(o)),new e(i.sc,i.so,i.ec,i.eo)}},{key:"collapse",value:function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var t=this.sc===this.ec,n=this.getPoints();return pe.isText(this.ec)&&!pe.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),pe.isText(this.sc)&&!pe.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,t&&(n.ec=n.sc,n.eo=this.eo-this.so)),new e(n.sc,n.so,n.ec,n.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),o=pe.prevPointUntil(t.getStartPoint(),(function(e){return!x.contains(n,e.node)})),r=[];return i.a.each(n,(function(e,t){var n=t.parentNode;o.node!==n&&1===pe.nodeLength(n)&&r.push(n),pe.remove(t,!1)})),i.a.each(r,(function(e,t){pe.remove(t,!1)})),new e(o.node,o.offset,o.node,o.offset).normalize()}},{key:"makeIsOn",value:function(e){return function(){var t=pe.ancestor(this.sc,e);return!!t&&t===pe.ancestor(this.ec,e)}}},{key:"isLeftEdgeOf",value:function(e){if(!pe.isLeftEdgePoint(this.getStartPoint()))return!1;var t=pe.ancestor(this.sc,e);return t&&pe.isLeftEdgeOf(this.sc,t)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(pe.isBodyContainer(this.sc)&&pe.isEmpty(this.sc))return this.sc.innerHTML=pe.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,n=this.normalize();if(pe.isParaInline(this.sc)||pe.isPara(this.sc))return n;if(pe.isInline(n.sc)){var o=pe.listAncestor(n.sc,v.not(pe.isInline));t=x.last(o),pe.isInline(t)||(t=o[o.length-2]||n.sc.childNodes[n.so])}else t=n.sc.childNodes[n.so>0?n.so-1:0];if(t){var i=pe.listPrev(t,pe.isParaInline).reverse();if((i=i.concat(pe.listNext(t.nextSibling,pe.isParaInline))).length){var r=pe.wrap(x.head(i),"p");pe.appendChildNodes(r,x.tail(i))}}return this.normalize()}},{key:"insertNode",value:function(e){var t=this;(pe.isText(e)||pe.isInline(e))&&(t=this.wrapBodyInlineWithPara().deleteContents());var n=pe.splitPoint(t.getStartPoint(),pe.isInline(e));return n.rightNode?(n.rightNode.parentNode.insertBefore(e,n.rightNode),pe.isEmpty(n.rightNode)&&pe.isPara(e)&&n.rightNode.parentNode.removeChild(n.rightNode)):n.container.appendChild(e),e}},{key:"pasteHTML",value:function(e){e=i.a.trim(e);var t=i()("<div></div>").html(e)[0],n=x.from(t.childNodes),o=this,r=!1;return o.so>=0&&(n=n.reverse(),r=!0),n=n.map((function(e){return o.insertNode(e)})),r&&(n=n.reverse()),n}},{key:"toString",value:function(){var e=this.nativeRange();return m.isW3CRangeSupport?e.toString():e.text}},{key:"getWordRange",value:function(t){var n=this.getEndPoint();if(!pe.isCharPoint(n))return this;var o=pe.prevPointUntil(n,(function(e){return!pe.isCharPoint(e)}));return t&&(n=pe.nextPointUntil(n,(function(e){return!pe.isCharPoint(e)}))),new e(o.node,o.offset,n.node,n.offset)}},{key:"getWordsRange",value:function(t){var n=this.getEndPoint(),o=function(e){return!pe.isCharPoint(e)&&!pe.isSpacePoint(e)};if(o(n))return this;var i=pe.prevPointUntil(n,o);return t&&(n=pe.nextPointUntil(n,o)),new e(i.node,i.offset,n.node,n.offset)}},{key:"getWordsMatchRange",value:function(t){var n=this.getEndPoint(),o=pe.prevPointUntil(n,(function(o){if(!pe.isCharPoint(o)&&!pe.isSpacePoint(o))return!0;var i=new e(o.node,o.offset,n.node,n.offset),r=t.exec(i.toString());return r&&0===r.index})),i=new e(o.node,o.offset,n.node,n.offset),r=i.toString(),a=t.exec(r);return a&&a[0].length===r.length?i:null}},{key:"bookmark",value:function(e){return{s:{path:pe.makeOffsetPath(e,this.sc),offset:this.so},e:{path:pe.makeOffsetPath(e,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(e){return{s:{path:x.tail(pe.makeOffsetPath(x.head(e),this.sc)),offset:this.so},e:{path:x.tail(pe.makeOffsetPath(x.last(e),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}(),be={create:function(e,t,n,o){if(4===arguments.length)return new ye(e,t,n,o);if(2===arguments.length)return new ye(e,t,n=e,o=t);var i=this.createFromSelection();if(!i&&1===arguments.length){var r=arguments[0];return pe.isEditable(r)&&(r=r.lastChild),this.createFromBodyElement(r,pe.emptyPara===arguments[0].innerHTML)}return i},createFromBodyElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.createFromNode(e);return n.collapse(t)},createFromSelection:function(){var e,t,n,o;if(m.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(pe.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);e=r.startContainer,t=r.startOffset,n=r.endContainer,o=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=ge(l,!0),u=ge(s,!1);pe.isText(c.node)&&pe.isLeftEdgePoint(c)&&pe.isTextNode(u.node)&&pe.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),e=c.cont,t=c.offset,n=u.cont,o=u.offset}return new ye(e,t,n,o)},createFromNode:function(e){var t=e,n=0,o=e,i=pe.nodeLength(o);return pe.isVoid(t)&&(n=pe.listPrev(t).length-1,t=t.parentNode),pe.isBR(o)?(i=pe.listPrev(o).length-1,o=o.parentNode):pe.isVoid(o)&&(i=pe.listPrev(o).length,o=o.parentNode),this.create(t,n,o,i)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=pe.fromOffsetPath(e,t.s.path),o=t.s.offset,i=pe.fromOffsetPath(e,t.e.path);return new ye(n,o,i,t.e.offset)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,i=pe.fromOffsetPath(x.head(t),e.s.path),r=pe.fromOffsetPath(x.last(t),e.e.path);return new ye(i,n,r,o)}},we={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34},Ce={isEdit:function(e){return x.contains([we.BACKSPACE,we.TAB,we.ENTER,we.SPACE,we.DELETE],e)},isMove:function(e){return x.contains([we.LEFT,we.UP,we.RIGHT,we.DOWN],e)},isNavigation:function(e){return x.contains([we.HOME,we.END,we.PAGEUP,we.PAGEDOWN],e)},nameFromCode:v.invertObject(we),code:we};var xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stack=[],this.stackOffset=-1,this.context=t,this.$editable=t.layoutInfo.editable,this.editable=this.$editable[0]}var t;return(t=[{key:"makeSnapshot",value:function(){var e=be.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&be.createFromBookmark(this.editable,e.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"jQueryCSS",value:function(e,t){if(m.jqueryVersion<1.9){var n={};return i.a.each(t,(function(t,o){n[o]=e.css(o)})),n}return e.css(t)}},{key:"fromNode",value:function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{},n=e[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(n,10),t["font-size-unit"]=n.match(/[a-z%]+$/),t}},{key:"stylePara",value:function(e,t){i.a.each(e.nodes(pe.isPara,{includeAncestor:!0}),(function(e,n){i()(n).css(t)}))}},{key:"styleNodes",value:function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",o=!(!t||!t.expandClosestSibling),r=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(pe.create(n))];var a=pe.makePredByNodeName(n),s=e.nodes(pe.isText,{fullyContains:!0}).map((function(e){return pe.singleChildAncestor(e,a)||pe.wrap(e,n)}));if(o){if(r){var l=e.nodes();a=v.and(a,(function(e){return x.contains(l,e)}))}return s.map((function(e){var t=pe.withClosestSiblings(e,a),n=x.head(t),o=x.tail(t);return i.a.each(o,(function(e,t){pe.appendChildNodes(n,t.childNodes),pe.remove(t)})),x.head(t)}))}return s}},{key:"current",value:function(e){var t=i()(pe.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=i.a.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(s){}if(e.isOnList()){var o=["circle","disc","disc-leading-zero","square"].indexOf(n["list-style-type"])>-1;n["list-style"]=o?"unordered":"ordered"}else n["list-style"]="none";var r=pe.ancestor(e.sc,pe.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&pe.ancestor(e.sc,pe.isAnchor),n.ancestors=pe.listAncestor(e.sc,pe.isEditable),n.range=e,n}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"insertOrderedList",value:function(e){this.toggleList("OL",e)}},{key:"insertUnorderedList",value:function(e){this.toggleList("UL",e)}},{key:"indent",value:function(e){var t=this,n=be.create(e).wrapBodyInlineWithPara(),o=n.nodes(pe.isPara,{includeAncestor:!0}),r=x.clusterBy(o,v.peq2("parentNode"));i.a.each(r,(function(e,n){var o=x.head(n);if(pe.isLi(o)){var r=t.findList(o.previousSibling);r?n.map((function(e){return r.appendChild(e)})):(t.wrapList(n,o.parentNode.nodeName),n.map((function(e){return e.parentNode})).map((function(e){return t.appendToPrevious(e)})))}else i.a.each(n,(function(e,t){i()(t).css("marginLeft",(function(e,t){return(parseInt(t,10)||0)+25}))}))})),n.select()}},{key:"outdent",value:function(e){var t=this,n=be.create(e).wrapBodyInlineWithPara(),o=n.nodes(pe.isPara,{includeAncestor:!0}),r=x.clusterBy(o,v.peq2("parentNode"));i.a.each(r,(function(e,n){var o=x.head(n);pe.isLi(o)?t.releaseList([n]):i.a.each(n,(function(e,t){i()(t).css("marginLeft",(function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""}))}))})),n.select()}},{key:"toggleList",value:function(e,t){var n=this,o=be.create(t).wrapBodyInlineWithPara(),r=o.nodes(pe.isPara,{includeAncestor:!0}),a=o.paraBookmark(r),s=x.clusterBy(r,v.peq2("parentNode"));if(x.find(r,pe.isPurePara)){var l=[];i.a.each(s,(function(t,o){l=l.concat(n.wrapList(o,e))})),r=l}else{var c=o.nodes(pe.isList,{includeAncestor:!0}).filter((function(t){return!i.a.nodeName(t,e)}));c.length?i.a.each(c,(function(t,n){pe.replace(n,e)})):r=this.releaseList(s,!0)}be.createFromParaBookmark(a,r).select()}},{key:"wrapList",value:function(e,t){var n=x.head(e),o=x.last(e),i=pe.isList(n.previousSibling)&&n.previousSibling,r=pe.isList(o.nextSibling)&&o.nextSibling,a=i||pe.insertAfter(pe.create(t||"UL"),o);return e=e.map((function(e){return pe.isPurePara(e)?pe.replace(e,"LI"):e})),pe.appendChildNodes(a,e),r&&(pe.appendChildNodes(a,x.from(r.childNodes)),pe.remove(r)),e}},{key:"releaseList",value:function(e,t){var n=this,o=[];return i.a.each(e,(function(e,r){var a=x.head(r),s=x.last(r),l=t?pe.lastAncestor(a,pe.isList):a.parentNode,c=l.parentNode;if("LI"===l.parentNode.nodeName)r.map((function(e){var t=n.findNextSiblings(e);c.nextSibling?c.parentNode.insertBefore(e,c.nextSibling):c.parentNode.appendChild(e),t.length&&(n.wrapList(t,l.nodeName),e.appendChild(t[0].parentNode))})),0===l.children.length&&c.removeChild(l),0===c.childNodes.length&&c.parentNode.removeChild(c);else{var u=l.childNodes.length>1?pe.splitTree(l,{node:s.parentNode,offset:pe.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=pe.splitTree(l,{node:a.parentNode,offset:pe.position(a)},{isSkipPaddingBlankHTML:!0});r=t?pe.listDescendant(d,pe.isLi):x.from(d.childNodes).filter(pe.isLi),!t&&pe.isList(l.parentNode)||(r=r.map((function(e){return pe.replace(e,"P")}))),i.a.each(x.from(r).reverse(),(function(e,t){pe.insertAfter(t,l)}));var f=x.compact([l,d,u]);i.a.each(f,(function(e,t){var n=[t].concat(pe.listDescendant(t,pe.isList));i.a.each(n.reverse(),(function(e,t){pe.nodeLength(t)||pe.remove(t,!0)}))}))}o=o.concat(r)})),o}},{key:"appendToPrevious",value:function(e){return e.previousSibling?pe.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")}},{key:"findList",value:function(e){return e?x.find(e.children,(function(e){return["OL","UL"].indexOf(e.nodeName)>-1})):null}},{key:"findNextSiblings",value:function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bullet=new Ee,this.options=t.options}var t;return(t=[{key:"insertTab",value:function(e,t){var n=pe.createText(new Array(t+1).join(pe.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=be.create(n,t)).select()}},{key:"insertParagraph",value:function(e,t){t=(t=(t=t||be.create(e)).deleteContents()).wrapBodyInlineWithPara();var n,o=pe.ancestor(t.sc,pe.isPara);if(o){if(pe.isLi(o)&&(pe.isEmpty(o)||pe.deepestChildIsEmpty(o)))return void this.bullet.toggleList(o.parentNode.nodeName);var r=null;if(1===this.options.blockquoteBreakingLevel?r=pe.ancestor(o,pe.isBlockquote):2===this.options.blockquoteBreakingLevel&&(r=pe.lastAncestor(o,pe.isBlockquote)),r){n=i()(pe.emptyPara)[0],pe.isRightEdgePoint(t.getStartPoint())&&pe.isBR(t.sc.nextSibling)&&i()(t.sc.nextSibling).remove();var a=pe.splitTree(r,t.getStartPoint(),{isDiscardEmptySplits:!0});a?a.parentNode.insertBefore(n,a):pe.insertAfter(n,r)}else{n=pe.splitTree(o,t.getStartPoint());var s=pe.listDescendant(o,pe.isEmptyAnchor);s=s.concat(pe.listDescendant(n,pe.isEmptyAnchor)),i.a.each(s,(function(e,t){pe.remove(t)})),(pe.isHeading(n)||pe.isPre(n)||pe.isCustomStyleTag(n))&&pe.isEmpty(n)&&(n=pe.replace(n,"p"))}}else{var l=t.sc.childNodes[t.so];n=i()(pe.emptyPara)[0],l?t.sc.insertBefore(n,l):t.sc.appendChild(n)}be.create(n,0).normalize().select().scrollIntoView(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var _e=function e(t,n,o,i){var r={colPos:0,rowPos:0},a=[],s=[];function l(e,t,n,o,i,r,s){var l={baseRow:n,baseCell:o,isRowSpan:i,isColSpan:r,isVirtual:s};a[e]||(a[e]=[]),a[e][t]=l}function c(e,t,n,o){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:n,cellIndex:o}}}function u(e,t){if(!a[e])return t;if(!a[e][t])return t;for(var n=t;a[e][n];)if(n++,!a[e][n])return n}function d(e,t){var n=u(e.rowIndex,t.cellIndex),o=t.colSpan>1,i=t.rowSpan>1,a=e.rowIndex===r.rowPos&&t.cellIndex===r.colPos;l(e.rowIndex,n,e,t,i,o,!1);var s=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(s>1)for(var c=1;c<s;c++){var d=e.rowIndex+c;f(d,n,t,a),l(d,n,e,t,!0,o,!0)}var h=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(h>1)for(var p=1;p<h;p++){var m=u(e.rowIndex,n+p);f(e.rowIndex,m,t,a),l(e.rowIndex,m,e,t,i,!0,!0)}}function f(e,t,n,o){e===r.rowPos&&r.colPos>=n.cellIndex&&n.cellIndex<=t&&!o&&r.colPos++}function h(t){switch(n){case e.where.Column:if(t.isColSpan)return e.resultAction.SubtractSpanCount;break;case e.where.Row:if(!t.isVirtual&&t.isRowSpan)return e.resultAction.AddCell;if(t.isRowSpan)return e.resultAction.SubtractSpanCount}return e.resultAction.RemoveCell}function p(t){switch(n){case e.where.Column:if(t.isColSpan)return e.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return e.resultAction.Ignore;break;case e.where.Row:if(t.isRowSpan)return e.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return e.resultAction.Ignore}return e.resultAction.AddCell}this.getActionList=function(){for(var t=n===e.where.Row?r.rowPos:-1,i=n===e.where.Column?r.colPos:-1,l=0,u=!0;u;){var d=t>=0?t:l,f=i>=0?i:l,m=a[d];if(!m)return u=!1,s;var g=m[f];if(!g)return u=!1,s;var v=e.resultAction.Ignore;switch(o){case e.requestAction.Add:v=p(g);break;case e.requestAction.Delete:v=h(g)}s.push(c(g,v,d,f)),l++}return s},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())&&(r.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()&&(r.rowPos=t.parentElement.rowIndex)),function(){for(var e=i.rows,t=0;t<e.length;t++)for(var n=e[t].cells,o=0;o<n.length;o++)d(e[t],n[o])}()};_e.where={Row:0,Column:1},_e.requestAction={Add:0,Delete:1},_e.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"tab",value:function(e,t){var n=pe.ancestor(e.commonAncestor(),pe.isCell),o=pe.ancestor(n,pe.isTable),i=pe.listDescendant(o,pe.isCell),r=x[t?"prev":"next"](i,n);r&&be.create(r,0).select()}},{key:"addRow",value:function(e,t){for(var n=pe.ancestor(e.commonAncestor(),pe.isCell),o=i()(n).closest("tr"),r=this.recoverAttributes(o),a=i()("<tr"+r+"></tr>"),s=new _e(n,_e.where.Row,_e.requestAction.Add,i()(o).closest("table")[0]).getActionList(),l=0;l<s.length;l++){var c=s[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case _e.resultAction.AddCell:a.append("<td"+u+">"+pe.blank+"</td>");break;case _e.resultAction.SumSpanCount:if("top"===t&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var d=i()("<div></div>").append(i()("<td"+u+">"+pe.blank+"</td>").removeAttr("rowspan")).html();a.append(d);break}var f=parseInt(c.baseCell.rowSpan,10);f++,c.baseCell.setAttribute("rowSpan",f)}}if("top"===t)o.before(a);else{if(n.rowSpan>1){var h=o[0].rowIndex+(n.rowSpan-2);return void i()(i()(o).parent().find("tr")[h]).after(i()(a))}o.after(a)}}},{key:"addCol",value:function(e,t){var n=pe.ancestor(e.commonAncestor(),pe.isCell),o=i()(n).closest("tr");i()(o).siblings().push(o);for(var r=new _e(n,_e.where.Column,_e.requestAction.Add,i()(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case _e.resultAction.AddCell:"right"===t?i()(s.baseCell).after("<td"+l+">"+pe.blank+"</td>"):i()(s.baseCell).before("<td"+l+">"+pe.blank+"</td>");break;case _e.resultAction.SumSpanCount:if("right"===t){var c=parseInt(s.baseCell.colSpan,10);c++,s.baseCell.setAttribute("colSpan",c)}else i()(s.baseCell).before("<td"+l+">"+pe.blank+"</td>")}}}},{key:"recoverAttributes",value:function(e){var t="";if(!e)return t;for(var n=e.attributes||[],o=0;o<n.length;o++)"id"!==n[o].name.toLowerCase()&&n[o].specified&&(t+=" "+n[o].name+"='"+n[o].value+"'");return t}},{key:"deleteRow",value:function(e){for(var t=pe.ancestor(e.commonAncestor(),pe.isCell),n=i()(t).closest("tr"),o=n.children("td, th").index(i()(t)),r=n[0].rowIndex,a=new _e(t,_e.where.Row,_e.requestAction.Delete,i()(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++)if(a[s]){var l=a[s].baseCell,c=a[s].virtualTable,u=l.rowSpan&&l.rowSpan>1,d=u?parseInt(l.rowSpan,10):0;switch(a[s].action){case _e.resultAction.Ignore:continue;case _e.resultAction.AddCell:var f=n.next("tr")[0];if(!f)continue;var h=n[0].cells[o];u&&(d>2?(d--,f.insertBefore(h,f.cells[o]),f.cells[o].setAttribute("rowSpan",d),f.cells[o].innerHTML=""):2===d&&(f.insertBefore(h,f.cells[o]),f.cells[o].removeAttribute("rowSpan"),f.cells[o].innerHTML=""));continue;case _e.resultAction.SubtractSpanCount:u&&(d>2?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")));continue;case _e.resultAction.RemoveCell:continue}}n.remove()}},{key:"deleteCol",value:function(e){for(var t=pe.ancestor(e.commonAncestor(),pe.isCell),n=i()(t).closest("tr"),o=n.children("td, th").index(i()(t)),r=new _e(t,_e.where.Column,_e.requestAction.Delete,i()(n).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a])switch(r[a].action){case _e.resultAction.Ignore:continue;case _e.resultAction.SubtractSpanCount:var s=r[a].baseCell;if(s.colSpan&&s.colSpan>1){var l=s.colSpan?parseInt(s.colSpan,10):0;l>2?(l--,s.setAttribute("colSpan",l),s.cellIndex===o&&(s.innerHTML="")):2===l&&(s.removeAttribute("colSpan"),s.cellIndex===o&&(s.innerHTML=""))}continue;case _e.resultAction.RemoveCell:pe.remove(r[a].baseCell,!0);continue}}},{key:"createTable",value:function(e,t,n){for(var o,r=[],a=0;a<e;a++)r.push("<td>"+pe.blank+"</td>");o=r.join("");for(var s,l=[],c=0;c<t;c++)l.push("<tr>"+o+"</tr>");s=l.join("");var u=i()("<table>"+s+"</table>");return n&&n.tableClassName&&u.addClass(n.tableClassName),u[0]}},{key:"deleteTable",value:function(e){var t=pe.ancestor(e.commonAncestor(),pe.isCell);i()(t).closest("table").remove()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ne=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new ke,this.table=new Te,this.typing=new Se(t),this.bullet=new Ee,this.history=new xe(t),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var o=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],r=0,a=o.length;r<a;r++)this[o[r]]=function(e){return function(t){n.beforeCommand(),document.execCommand(e,!1,t),n.afterCommand(!0)}}(o[r]),this.context.memo("help."+o[r],this.lang.help[o[r]]);this.fontName=this.wrapCommand((function(e){return n.fontStyling("font-family",m.validFontName(e))})),this.fontSize=this.wrapCommand((function(e){var t=n.currentStyle()["font-size-unit"];return n.fontStyling("font-size",e+t)})),this.fontSizeUnit=this.wrapCommand((function(e){var t=n.currentStyle()["font-size"];return n.fontStyling("font-size",t+e)}));for(var s=1;s<=6;s++)this["formatH"+s]=function(e){return function(){n.formatBlock("H"+e)}}(s),this.context.memo("help.formatH"+s,this.lang.help["formatH"+s]);this.insertParagraph=this.wrapCommand((function(){n.typing.insertParagraph(n.editable)})),this.insertOrderedList=this.wrapCommand((function(){n.bullet.insertOrderedList(n.editable)})),this.insertUnorderedList=this.wrapCommand((function(){n.bullet.insertUnorderedList(n.editable)})),this.indent=this.wrapCommand((function(){n.bullet.indent(n.editable)})),this.outdent=this.wrapCommand((function(){n.bullet.outdent(n.editable)})),this.insertNode=this.wrapCommand((function(e){n.isLimited(i()(e).text().length)||(n.getLastRange().insertNode(e),n.setLastRange(be.createFromNodeAfter(e).select()))})),this.insertText=this.wrapCommand((function(e){if(!n.isLimited(e.length)){var t=n.getLastRange().insertNode(pe.createText(e));n.setLastRange(be.create(t,pe.nodeLength(t)).select())}})),this.pasteHTML=this.wrapCommand((function(e){if(!n.isLimited(e.length)){e=n.context.invoke("codeview.purify",e);var t=n.getLastRange().pasteHTML(e);n.setLastRange(be.createFromNodeAfter(x.last(t)).select())}})),this.formatBlock=this.wrapCommand((function(e,t){var o=n.options.callbacks.onApplyCustomStyle;o?o.call(n,t,n.context,n.onFormatBlock):n.onFormatBlock(e,t)})),this.insertHorizontalRule=this.wrapCommand((function(){var e=n.getLastRange().insertNode(pe.create("HR"));e.nextSibling&&n.setLastRange(be.create(e.nextSibling,0).normalize().select())})),this.lineHeight=this.wrapCommand((function(e){n.style.stylePara(n.getLastRange(),{lineHeight:e})})),this.createLink=this.wrapCommand((function(e){var t=e.url,o=e.text,r=e.isNewWindow,a=e.checkProtocol,s=e.range||n.getLastRange(),l=o.length-s.toString().length;if(!(l>0&&n.isLimited(l))){var c=s.toString()!==o;"string"==typeof t&&(t=t.trim()),n.options.onCreateLink?t=n.options.onCreateLink(t):a&&(t=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(t)?t:n.options.defaultProtocol+t);var u=[];if(c){var d=(s=s.deleteContents()).insertNode(i()("<A>"+o+"</A>")[0]);u.push(d)}else u=n.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});i.a.each(u,(function(e,n){i()(n).attr("href",t),r?i()(n).attr("target","_blank"):i()(n).removeAttr("target")})),n.setLastRange(n.createRangeFromList(u).select())}})),this.color=this.wrapCommand((function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)})),this.foreColor=this.wrapCommand((function(e){document.execCommand("foreColor",!1,e)})),this.insertTable=this.wrapCommand((function(e){var t=e.split("x");n.getLastRange().deleteContents().insertNode(n.table.createTable(t[0],t[1],n.options))})),this.removeMedia=this.wrapCommand((function(){var e=i()(n.restoreTarget()).parent();e.closest("figure").length?e.closest("figure").remove():e=i()(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",e,n.$editable)})),this.floatMe=this.wrapCommand((function(e){var t=i()(n.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)})),this.resize=this.wrapCommand((function(e){var t=i()(n.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})}))}var t;return(t=[{key:"initialize",value:function(){var e=this;this.$editable.on("keydown",(function(t){if(t.keyCode===Ce.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),e.snapshot=e.history.makeSnapshot(),e.hasKeyShortCut=!1,t.isDefaultPrevented()||(e.options.shortcuts?e.hasKeyShortCut=e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t)){var n=e.getLastRange();if(n.eo-n.so==0)return!1}e.setLastRange(),e.options.recordEveryKeystroke&&!1===e.hasKeyShortCut&&e.history.recordUndo()})).on("keyup",(function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)})).on("focus",(function(t){e.setLastRange(),e.context.triggerEvent("focus",t)})).on("blur",(function(t){e.context.triggerEvent("blur",t)})).on("mousedown",(function(t){e.context.triggerEvent("mousedown",t)})).on("mouseup",(function(t){e.setLastRange(),e.history.recordUndo(),e.context.triggerEvent("mouseup",t)})).on("scroll",(function(t){e.context.triggerEvent("scroll",t)})).on("paste",(function(t){e.setLastRange(),e.context.triggerEvent("paste",t)})).on("input",(function(){e.isLimited(0)&&e.snapshot&&e.history.applySnapshot(e.snapshot)})),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(pe.html(this.$note)||pe.emptyPara),this.$editable.on(m.inputEventName,v.debounce((function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)}),10)),this.$editable.on("focusin",(function(t){e.context.triggerEvent("focusin",t)})).on("focusout",(function(t){e.context.triggerEvent("focusout",t)})),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",(function(t){return e.context.triggerEvent("contextmenu",t),!1})):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(e){var t=this.options.keyMap[m.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var o=Ce.nameFromCode[e.keyCode];o&&n.push(o);var i=t[n.join("+")];if("TAB"!==o||this.options.tabDisable)if(i){if(!1!==this.context.invoke(i))return e.preventDefault(),!0}else Ce.isEdit(e.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(e){(e.ctrlKey||e.metaKey)&&x.contains([66,73,85],e.keyCode)&&e.preventDefault()}},{key:"isLimited",value:function(e,t){return e=e||0,(void 0===t||!(Ce.isMove(t.keyCode)||Ce.isNavigation(t.keyCode)||t.ctrlKey||t.metaKey||x.contains([Ce.code.BACKSPACE,Ce.code.DELETE],t.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+e>this.options.maxTextLength}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(e){var t=be.createFromNodeBefore(x.head(e)).getStartPoint(),n=be.createFromNodeAfter(x.last(e)).getEndPoint();return be.create(t.node,t.offset,n.node,n.offset)}},{key:"setLastRange",value:function(e){e?this.lastRange=e:(this.lastRange=be.create(this.editable),0===i()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=be.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(e){e&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(e){this.$editable.data("target",e)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var e=be.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(e){return this.style.fromNode(e)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(e,t){var n,o=this;return(n=e,i.a.Deferred((function(e){var t=i()("<img>");t.one("load",(function(){t.off("error abort"),e.resolve(t)})).one("error abort",(function(){t.off("load").detach(),e.reject(t)})).css({display:"none"}).appendTo(document.body).attr("src",n)})).promise()).then((function(e){o.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(o.$editable.width(),e.width()))),e.show(),o.getLastRange().insertNode(e[0]),o.setLastRange(be.createFromNodeAfter(e[0]).select()),o.afterCommand()})).fail((function(e){o.context.triggerEvent("image.upload.error",e)}))}},{key:"insertImagesAsDataURL",value:function(e){var t=this;i.a.each(e,(function(e,n){var o=n.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<n.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):function(e){return i.a.Deferred((function(t){i.a.extend(new FileReader,{onload:function(e){t.resolve(e.target.result)},onerror:function(e){t.reject(e)}}).readAsDataURL(e)})).promise()}(n).then((function(e){return t.insertImage(e,o)})).fail((function(){t.context.triggerEvent("image.upload.error")}))}))}},{key:"insertImagesOrCallback",value:function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)}},{key:"getSelectedText",value:function(){var e=this.getLastRange();return e.isOnAnchor()&&(e=be.createFromNode(pe.ancestor(e.sc,pe.isAnchor))),e.toString()}},{key:"onFormatBlock",value:function(e,t){if(document.execCommand("FormatBlock",!1,m.isMSIE?"<"+e+">":e),t&&t.length&&(t[0].tagName.toUpperCase()!==e.toUpperCase()&&(t=t.find(e)),t&&t.length)){var n=t[0].className||"";if(n){var o=this.createRange();i()([o.sc,o.ec]).closest(e).addClass(n)}}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(e,t){var n=this.getLastRange();if(""!==n){var o=this.style.styleNodes(n);if(this.$editor.find(".note-status-output").html(""),i()(o).css(e,t),n.isCollapsed()){var r=x.head(o);r&&!pe.nodeLength(r)&&(r.innerHTML=pe.ZERO_WIDTH_NBSP_CHAR,be.createFromNode(r.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",r))}else this.setLastRange(this.createRangeFromList(o).select())}else{var a=i.a.now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+a+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout((function(){i()("#note-status-output-"+a).remove()}),5e3)}}},{key:"unlink",value:function(){var e=this.getLastRange();if(e.isOnAnchor()){var t=pe.ancestor(e.sc,pe.isAnchor);(e=be.createFromNode(t)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){var e=this.getLastRange().expand(pe.isAnchor),t=i()(x.head(e.nodes(pe.isAnchor))),n={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(n.isNewWindow="_blank"===t.attr("target")),n}},{key:"addRow",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())}},{key:"addCol",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())}},{key:"deleteRow",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())}},{key:"deleteCol",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())}},{key:"deleteTable",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())}},{key:"resizeTo",value:function(e,t,n){var o;if(n){var i=e.y/e.x,r=t.data("ratio");o={width:r>i?e.x:e.y/r,height:r>i?e.x*r:e.y}}else o={width:e.x,height:e.y};t.css(o)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return pe.isEmpty(this.$editable[0])||pe.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",pe.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ae=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editable=t.layoutInfo.editable}var t;return(t=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(e){var t=this,n=e.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var o=n.items.length>1?n.items[1]:x.head(n.items);"file"===o.kind&&-1!==o.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),e.preventDefault()):"string"===o.kind&&this.context.invoke("editor.isLimited",n.getData("Text").length)&&e.preventDefault()}else if(window.clipboardData){var i=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",i.length)&&e.preventDefault()}setTimeout((function(){t.context.invoke("editor.afterCommand")}),10)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$eventListener=i()(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=i()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}var t;return(t=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var e=this,t=i()(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(o){var i=e.context.invoke("codeview.isActivated"),r=e.$editor.width()>0&&e.$editor.height()>0;i||t.length||!r||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),n.text(e.lang.image.dragImageHere)),t=t.add(o.target)},this.documentEventHandlers.onDragleave=function(n){(t=t.not(n.target)).length&&"BODY"!==n.target.nodeName||(t=i()(),e.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){t=i()(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){e.$dropzone.addClass("hover"),n.text(e.lang.image.dropImage)})).on("dragleave",(function(){e.$dropzone.removeClass("hover"),n.text(e.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",n.files)):i.a.each(n.types,(function(t,o){if(!(o.toLowerCase().indexOf("_moz_")>-1)){var r=n.getData(o);o.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",r):i()(r).each((function(t,n){e.context.invoke("editor.insertNode",n)}))}}))})).on("dragover",!1)}},{key:"destroy",value:function(){var e=this;Object.keys(this.documentEventHandlers).forEach((function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])})),this.documentEventHandlers={}}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}var t;return(t=[{key:"sync",value:function(e){var t=this.isActivated(),n=this.CodeMirrorConstructor;t&&(e?n?this.$codable.data("cmEditor").getDoc().setValue(e):this.$codable.val(e):n&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var e=this;this.$codable.on("keyup",(function(t){t.keyCode===Ce.code.ESCAPE&&e.deactivate()}))}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(e){if(this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var t=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,(function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";var n,o=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return De(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,void 0):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,a=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(a)throw i}}}}(t);try{for(o.s();!(n=o.n()).done;)if(new RegExp('src="(https?:)?//'+n.value.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}catch(i){o.e(i)}finally{o.f()}return""}))}return e}},{key:"activate",value:function(){var e=this,t=this.CodeMirrorConstructor;if(this.$codable.val(pe.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),t){var n=t.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var o=new t.TernServer(this.options.codemirror.tern);n.ternServer=o,n.on("cursorActivity",(function(e){o.updateArgHints(e)}))}n.on("blur",(function(t){e.context.triggerEvent("blur.codeview",n.getValue(),t)})),n.on("change",(function(){e.context.triggerEvent("change.codeview",n.getValue(),n)})),n.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",n)}else this.$codable.on("blur",(function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)})),this.$codable.on("input",(function(){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)}))}},{key:"deactivate",value:function(){if(this.CodeMirrorConstructor){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=this.purify(pe.value(this.$codable,this.options.prettifyHtml)||pe.emptyPara),n=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Be=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=i()(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}var t;return(t=[{key:"initialize",value:function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",(function(t){t.preventDefault(),t.stopPropagation();var n=e.$editable.offset().top-e.$document.scrollTop(),o=function(t){var o=t.clientY-(n+24);o=e.options.minheight>0?Math.max(o,e.options.minheight):o,o=e.options.maxHeight>0?Math.min(o,e.options.maxHeight):o,e.$editable.height(o)};e.$document.on("mousemove",o).one("mouseup",(function(){e.$document.off("mousemove",o)}))}))}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ie=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=i()(window),this.$scrollbar=i()("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}var t;return(t=[{key:"resizeTo",value:function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Le=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$document=i()(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var t;return(t=[{key:"initialize",value:function(){var e=this;this.$handle=i()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(t){if(pe.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var n=e.$handle.find(".note-control-selection").data("target"),o=n.offset(),i=e.$document.scrollTop(),r=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-o.left,y:t.clientY-(o.top-i)},n,!t.shiftKey),e.update(n[0],t)};e.$document.on("mousemove",r).one("mouseup",(function(t){t.preventDefault(),e.$document.off("mousemove",r),e.context.invoke("editor.afterCommand")})),n.data("ratio")||n.data("ratio",n.height()/n.width())}})),this.$handle.on("wheel",(function(t){t.preventDefault(),e.update()}))}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(e,t){if(this.context.isDisabled())return!1;var n=pe.isImg(e),o=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e,t),n){var r=i()(e),a=r.position(),s={left:a.left+parseInt(r.css("marginLeft"),10),top:a.top+parseInt(r.css("marginTop"),10)},l={w:r.outerWidth(!1),h:r.outerHeight(!1)};o.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",r);var c=new Image;c.src=r.attr("src");var u=l.w+"x"+l.h+" ("+this.lang.image.original+": "+c.width+"x"+c.height+")";o.find(".note-control-selection-info").text(u),this.context.invoke("editor.saveTarget",e)}else this.hide();return n}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Oe=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Me=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var t;return(t=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),t=e.match(Oe);if(t&&(t[1]||t[2])){var n=t[1]?e:"http://"+e,o=this.options.showDomainOnlyForAutolink?e.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,"").split("/")[0]:e,r=i()("<a />").html(o).attr("href",n)[0];this.context.options.linkTargetBlank&&i()(r).attr("target","_blank"),this.lastWordRange.insertNode(r),this.lastWordRange=null,this.context.invoke("editor.focus")}}}},{key:"handleKeydown",value:function(e){if(x.contains([Ce.code.ENTER,Ce.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}}},{key:"handleKeyup",value:function(e){x.contains([Ce.code.ENTER,Ce.code.SPACE],e.keyCode)&&this.replace()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var He=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){n.$note.val(t.invoke("code"))}}}var t;return(t=[{key:"shouldInitialize",value:function(){return pe.isTextarea(this.$note[0])}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Fe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options.replace||{},this.keys=[Ce.code.ENTER,Ce.code.SPACE,Ce.code.PERIOD,Ce.code.COMMA,Ce.code.SEMICOLON,Ce.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var e=this,t=this.lastWord.toString();this.options.match(t,(function(t){if(t){var n="";if("string"==typeof t?n=pe.createText(t):t instanceof jQuery?n=t[0]:t instanceof Node&&(n=t),!n)return;e.lastWord.insertNode(n),e.lastWord=null,e.context.invoke("editor.focus")}}))}}},{key:"handleKeydown",value:function(e){if(this.previousKeydownCode&&x.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=e.keyCode;else{if(x.contains(this.keys,e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWord=t}this.previousKeydownCode=e.keyCode}}},{key:"handleKeyup",value:function(e){x.contains(this.keys,e.keyCode)&&this.replace()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var $e=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var e=this;this.$placeholder=i()('<div class="note-placeholder">'),this.$placeholder.on("click",(function(){e.context.invoke("focus")})).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ui=i.a.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=v.invertObject(this.options.keyMap[m.isMac?"mac":"pc"])}var t;return(t=[{key:"representShortcut",value:function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(m.isMac&&(t=t.replace("CMD","â").replace("SHIFT","â§"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(e){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,e)||(this.fontInstalledMap[e]=m.isFontInstalled(e)||x.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]}},{key:"isFontDeservedToAdd",value:function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===m.genericFontFamilies.indexOf(e)}},{key:"colorPalette",value:function(e,t,n,o){var r=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(e){var t=i()(e.currentTarget);n&&o?r.context.invoke("editor.color",{backColor:t.attr("data-backColor"),foreColor:t.attr("data-foreColor")}):n?r.context.invoke("editor.color",{backColor:t.attr("data-backColor")}):o&&r.context.invoke("editor.color",{foreColor:t.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",r.options.colorButton.backColor),e.attr("data-backColor",r.options.colorButton.backColor)),o?(t.css("color",r.options.colorButton.foreColor),e.attr("data-foreColor",r.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor">\x3c!-- back colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"</div>",'<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>',"</div>"].join(""):"")+(o?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor">\x3c!-- fore colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">',"</div>",'<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(e){e.find(".note-holder").each((function(e,t){var n=i()(t);n.append(r.ui.palette({colors:r.options.colors,colorsName:r.options.colorsName,eventName:n.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())}));var t=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];e.find(".note-holder-custom").each((function(e,n){var o=i()(n);o.append(r.ui.palette({colors:t,colorsName:t,eventName:o.data("event"),container:r.options.container,tooltip:r.options.tooltip}).render())})),e.find("input[type=color]").each((function(t,n){i()(n).change((function(){var t=e.find("#"+i()(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();t.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),t.click()}))}))},click:function(t){t.stopPropagation();var n=i()("."+e).find(".note-dropdown-menu"),o=i()(t.target),a=o.data("event"),s=o.attr("data-value");if("openPalette"===a){var l=n.find("#"+s),c=i()(n.find("#"+l.data("event")).find(".note-color-row")[0]),u=c.find(".note-color-btn").last().detach(),d=l.val();u.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.prepend(u),l.click()}else{if(x.contains(["backColor","foreColor"],a)){var f="backColor"===a?"background-color":"color",h=o.closest(".note-color").find(".note-recent-color"),p=o.closest(".note-color").find(".note-current-color-button");h.css(f,s),p.attr("data-"+a,s)}r.context.invoke("editor."+a,s)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var e=this;this.context.memo("button.style",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:Object.prototype.hasOwnProperty.call(e.lang.style,t)?e.lang.style[t]:t});var n=t.tag;return"<"+n+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+t.title+"</"+n+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var t=function(t,n){var o=e.options.styleTags[t];e.context.memo("button.style."+o,(function(){return e.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:e.lang.style[o],click:e.context.createInvokeHandler("editor.formatBlock")}).render()}))},n=0,o=this.options.styleTags.length;n<o;n++)t(n);this.context.memo("button.bold",(function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()})),this.context.memo("button.underline",(function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var t=e.context.invoke("editor.currentStyle");return e.options.addDefaultFonts&&i.a.each(t["font-family"].split(","),(function(t,n){n=n.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(n)&&-1===e.options.fontNames.indexOf(n)&&e.options.fontNames.push(n)})),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(e){return'<span style="font-family: '+m.validFontName(e)+'">'+e+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.fontsizeunit",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',e.options),tooltip:e.lang.font.sizeunit,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizeUnits,title:e.lang.font.sizeunit,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()})),this.context.memo("button.color",(function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)})),this.context.memo("button.forecolor",(function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)})),this.context.memo("button.backcolor",(function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)})),this.context.memo("button.ul",(function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),u=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",v.invoke(r,"render")),this.context.memo("button.justifyCenter",v.invoke(a,"render")),this.context.memo("button.justifyRight",v.invoke(s,"render")),this.context.memo("button.justifyFull",v.invoke(l,"render")),this.context.memo("button.outdent",v.invoke(c,"render")),this.context.memo("button.indent",v.invoke(u,"render")),this.context.memo("button.paragraph",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[r,a,s,l]}),e.ui.buttonGroup({className:"note-list",children:[c,u]})])]).render()})),this.context.memo("button.height",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()})),this.context.memo("button.link",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return e.button({className:"btn-fullscreen note-codeview-keep",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return e.button({className:"btn-codeview note-codeview-keep",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()}))}},{key:"addImagePopoverButtons",value:function(){var e=this;this.context.memo("button.resizeFull",(function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.resizeHalf",(function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.resizeQuarter",(function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.resizeNone",(function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()})),this.context.memo("button.floatLeft",(function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()}))}},{key:"addLinkPopoverButtons",value:function(){var e=this;this.context.memo("button.linkDialogShow",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()}))}},{key:"addTablePopoverButtons",value:function(){var e=this;this.context.memo("button.addRowUp",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()}))}},{key:"build",value:function(e,t){for(var n=0,o=t.length;n<o;n++){for(var i=t[n],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var u=this.context.memo("button."+a[l]);u&&s.append("function"==typeof u?u(this.context):u)}s.appendTo(e)}}},{key:"updateCurrentStyle",value:function(e){var t=this,n=e||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var r=o["font-family"].split(",").map((function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),a=x.find(r,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each((function(e,t){var n=i()(t),o=n.data("value")+""==a+"";n.toggleClass("checked",o)})),n.find(".note-current-fontname").text(a).css("font-family",a)}if(o["font-size"]){var s=o["font-size"];n.find(".dropdown-fontsize a").each((function(e,t){var n=i()(t),o=n.data("value")+""==s+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsize").text(s);var l=o["font-size-unit"];n.find(".dropdown-fontsizeunit a").each((function(e,t){var n=i()(t),o=n.data("value")+""==l+"";n.toggleClass("checked",o)})),n.find(".note-current-fontsizeunit").text(l)}if(o["line-height"]){var c=o["line-height"];n.find(".dropdown-line-height li a").each((function(e,n){var o=i()(n).data("value")+""==c+"";t.className=o?"checked":""}))}}},{key:"updateBtnStates",value:function(e,t){var n=this;i.a.each(t,(function(t,o){n.ui.toggleBtnActive(e.find(t),o())}))}},{key:"tableMoveHandler",value:function(e){var t,n=i()(e.target.parentNode),o=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),s=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=i()(e.target).offset();t={x:e.pageX-l.left,y:e.pageY-l.top}}else t={x:e.offsetX,y:e.offsetY};var c=Math.ceil(t.x/18)||1,u=Math.ceil(t.y/18)||1;a.css({width:c+"em",height:u+"em"}),r.data("value",c+"x"+u),c>3&&c<this.options.insertTableMaxSize.col&&s.css({width:c+1+"em"}),u>3&&u<this.options.insertTableMaxSize.row&&s.css({height:u+1+"em"}),o.html(c+" x "+u)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$window=i()(window),this.$document=i()(document),this.ui=i.a.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var t;return(t=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){e.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),o=this.$statusbar.height(),r=0;this.options.otherStaticBar&&(r=i()(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top,l=s-r,c=s+e-r-n-o;!this.isFollowing&&a>l&&a<c-n?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:r,width:t,zIndex:1e3})):this.isFollowing&&(a<l||a>c)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()}},{key:"activate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!0)}},{key:"deactivate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var t;return(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":i()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),i()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",(function(e){e.keyCode===Ce.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))}},{key:"toggleLinkBtn",value:function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())}},{key:"showLinkDialog",value:function(e){var t=this;return i.a.Deferred((function(n){var o=t.$dialog.find(".note-link-text"),i=t.$dialog.find(".note-link-url"),r=t.$dialog.find(".note-link-btn"),a=t.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),s=t.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),!e.url&&v.isValidUrl(e.text)&&(e.url=e.text),o.on("input paste propertychange",(function(){e.text=o.val(),t.toggleLinkBtn(r,o,i)})).val(e.text),i.on("input paste propertychange",(function(){e.text||o.val(i.val()),t.toggleLinkBtn(r,o,i)})).val(e.url),m.isSupportTouch||i.trigger("focus"),t.toggleLinkBtn(r,o,i),t.bindEnterKey(i,r),t.bindEnterKey(o,r),a.prop("checked",void 0!==e.isNewWindow?e.isNewWindow:t.context.options.linkTargetBlank),s.prop("checked",!e.url&&t.context.options.useProtocol),r.one("click",(function(r){r.preventDefault(),n.resolve({range:e.range,url:i.val(),text:o.val(),isNewWindow:a.is(":checked"),checkProtocol:s.is(":checked")}),t.ui.hideDialog(t.$dialog)}))})),t.ui.onDialogHidden(t.$dialog,(function(){o.off(),i.off(),r.off(),"pending"===n.state()&&n.reject()})),t.ui.showDialog(t.$dialog)})).promise()}},{key:"show",value:function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then((function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)})).fail((function(){e.context.invoke("editor.restoreRange")}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var We=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!x.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.getLastRange");if(e.isCollapsed()&&e.isOnAnchor()){var t=pe.ancestor(e.sc,pe.isAnchor),n=i()(t).attr("href");this.$popover.find("a").attr("href",n).text(n);var o=pe.posFromPlaceholder(t),r=i()(this.options.container).offset();o.top-=r.top,o.left-=r.left,this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var qe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var t;return(t=[{key:"initialize",value:function(){var e="";if(this.options.maximumImageFileSize){var t=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP"[t]+"B";e="<small>".concat(this.lang.image.maximumFileSize+" : "+n,"</small>")}var o=this.options.dialogsInBody?this.$body:this.options.container,i=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',e,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),r='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(o)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",(function(e){e.keyCode===Ce.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)})).fail((function(){e.context.invoke("editor.restoreRange")}))}},{key:"showImageDialog",value:function(){var e=this;return i.a.Deferred((function(t){var n=e.$dialog.find(".note-image-input"),o=e.$dialog.find(".note-image-url"),i=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",(function(e){t.resolve(e.target.files||e.target.value)})).val("")),o.on("input paste propertychange",(function(){e.ui.toggleBtn(i,o.val())})).val(""),m.isSupportTouch||o.trigger("focus"),i.click((function(e){e.preventDefault(),t.resolve(o.val())})),e.bindEnterKey(o,i)})),e.ui.onDialogHidden(e.$dialog,(function(){n.off(),o.off(),i.off(),"pending"===t.state()&&t.reject()})),e.ui.showDialog(e.$dialog)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ve=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!x.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e,t){if(pe.isImg(e)){var n=i()(e).offset(),o=i()(this.options.container).offset(),r={};this.options.popatmouse?(r.left=t.pageX-20,r.top=t.pageY):r=n,r.top-=o.top,r.left-=o.left,this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ke=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!x.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),m.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){if(this.context.isDisabled())return!1;var t=pe.isCell(e);if(t){var n=pe.posFromPlaceholder(e),o=i()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return t}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var t;return(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",(function(e){e.keyCode===Ce.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))}},{key:"createVideoNode",value:function(e){var t,n=e.match(/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),o=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=e.match(/^.+.(mp4|m4v)$/),f=e.match(/^.+.(ogg|ogv)$/),h=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(n&&11===n[1].length){var m=n[1],g=0;if(void 0!==n[2]){var v=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(v)for(var y=[3600,60,1],b=0,w=y.length;b<w;b++)g+=void 0!==v[b+1]?y[b]*parseInt(v[b+1],10):0}t=i()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+m+(g>0?"?start="+g:"")).attr("width","640").attr("height","360")}else if(o&&o[0].length)t=i()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)t=i()("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)t=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)t=i()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)t=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var C=c&&c[1].length?c[1]:u[2];t=i()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+C+"&amp;auto=0")}else if(d||f||h)t=i()("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;t=i()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return t.addClass("note-video-clip"),t[0]}},{key:"show",value:function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then((function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var n=e.createVideoNode(t);n&&e.context.invoke("editor.insertNode",n)})).fail((function(){e.context.invoke("editor.restoreRange")}))}},{key:"showVideoDialog",value:function(){var e=this;return i.a.Deferred((function(t){var n=e.$dialog.find(".note-video-url"),o=e.$dialog.find(".note-video-btn");e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",(function(){e.ui.toggleBtn(o,n.val())})),m.isSupportTouch||n.trigger("focus"),o.click((function(e){e.preventDefault(),t.resolve(n.val())})),e.bindEnterKey(n,o)})),e.ui.onDialogHidden(e.$dialog,(function(){n.off(),o.off(),"pending"===t.state()&&t.reject()})),e.ui.showDialog(e.$dialog)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.$body=i()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var t;return(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var e=this,t=this.options.keyMap[m.isMac?"mac":"pc"];return Object.keys(t).map((function(n){var o=t[n],r=i()('<div><div class="help-list-item"></div></div>');return r.append(i()("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(i()("<span/>").html(e.context.memo("help."+o)||o)),r.html()})).join("")}},{key:"showHelpDialog",value:function(){var e=this;return i.a.Deferred((function(t){e.ui.onDialogShown(e.$dialog,(function(){e.context.triggerEvent("dialog.shown"),t.resolve()})),e.ui.showDialog(e.$dialog)})).promise()}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){e.context.invoke("editor.restoreRange")}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Ge=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.options=t.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(e){n.options.editing&&(e.preventDefault(),e.stopPropagation(),n.onContextmenu=!0,n.update(!0))},"summernote.mousedown":function(e,t){n.pageX=t.pageX,n.pageY=t.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(e,t){n.options.editing&&!n.onContextmenu&&(n.pageX=t.pageX,n.pageY=t.pageY,n.update()),n.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){n.hide()},"summernote.focusout":function(){n.$popover.is(":active,:focus")||n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!x.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var e=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air),this.$popover.on("mousedown",(function(){e.hidable=!1})),this.$popover.on("mouseup",(function(){e.hidable=!0}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){var t=this.context.invoke("editor.currentStyle");if(!t.range||t.range.isCollapsed()&&!e)this.hide();else{var n={left:this.pageX,top:this.pageY},o=i()(this.options.container).offset();n.top-=o.top,n.left-=o.left,this.$popover.css({display:"block",left:Math.max(n.left,0)+-5,top:n.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),e),e&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var Qe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=i.a.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var e=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(t){e.$content.find(".active").removeClass("active"),i()(t.currentTarget).addClass("active"),e.replace()})),this.$popover.on("mousedown",(function(e){e.preventDefault()}))}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}}},{key:"replace",value:function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);if(null!==this.matchingWord&&0===this.matchingWord.length)this.lastWordRange.so=this.lastWordRange.eo;else if(null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var n=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;n>0&&(this.lastWordRange.so+=n)}if(this.lastWordRange.insertNode(t),"next"===this.options.hintSelect){var o=document.createTextNode("");i()(t).after(o),be.createFromNodeBefore(o).select()}else be.createFromNodeAfter(t).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus")}}},{key:"nodeFromItem",value:function(e){var t=this.hints[e.data("index")],n=e.data("item"),o=t.content?t.content(n):n;return"string"==typeof o&&(o=pe.createText(o)),o}},{key:"createItemTemplates",value:function(e,t){var n=this.hints[e];return t.map((function(t){var o=i()('<div class="note-hint-item"/>');return o.append(n.template?n.template(t):t+""),o.data({index:e,item:t}),o}))}},{key:"handleKeydown",value:function(e){this.$popover.is(":visible")&&(e.keyCode===Ce.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Ce.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Ce.code.DOWN&&(e.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(e,t,n){var o=this.hints[e];if(o&&o.match.test(t)&&o.search){var i=o.match.exec(t);this.matchingWord=i[0],o.search(i[1],n)}else n()}},{key:"createGroup",value:function(e,t){var n=this,o=i()('<div class="note-hint-group note-hint-group-'+e+'"></div>');return this.searchKeyword(e,t,(function(t){(t=t||[]).length&&(o.html(n.createItemTemplates(e,t)),n.show())})),o}},{key:"handleKeyup",value:function(e){var t=this;if(!x.contains([Ce.code.ENTER,Ce.code.UP,Ce.code.DOWN],e.keyCode)){var n,o,r=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(n=r.getWordsRange(r),o=n.toString(),this.hints.forEach((function(e){if(e.match.test(o))return n=r.getWordsMatchRange(e.match),!1})),!n)return void this.hide();o=n.toString()}else n=r.getWordRange(),o=n.toString();if(this.hints.length&&o){this.$content.empty();var a=v.rect2bnd(x.last(n.getClientRects())),s=i()(this.options.container).offset();a&&(a.top-=s.top,a.left-=s.left,this.$popover.hide(),this.lastWordRange=n,this.hints.forEach((function(e,n){e.match.test(o)&&t.createGroup(n,o).appendTo(t.$content)})),this.$content.find(".note-hint-item:first").addClass("active"),this.$popover.css("top"===this.direction?{left:a.left,top:a.top-this.$popover.outerHeight()-5}:{left:a.left,top:a.top+a.height+5}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();i.a.summernote=i.a.extend(i.a.summernote,{version:"0.8.18",plugins:{},dom:pe,range:be,lists:x,options:{langInfo:i.a.summernote.lang["en-US"],editing:!0,modules:{editor:Ne,clipboard:Ae,dropzone:Re,codeview:Pe,statusbar:Be,fullscreen:Ie,handle:Le,hintPopover:Qe,autoLink:Me,autoSync:He,autoReplace:Fe,placeholder:$e,buttons:je,toolbar:ze,linkDialog:Ue,linkPopover:We,imageDialog:qe,imagePopover:Ve,tablePopover:Ke,videoDialog:Ye,helpDialog:Xe,airPopover:Ge},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},51:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(1);var a=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$node=t,this.options=i.a.extend({},{title:"",target:n.container,trigger:"hover focus",placement:"bottom"},n),this.$tooltip=i()(['<div class="note-tooltip">','<div class="note-tooltip-arrow"></div>','<div class="note-tooltip-content"></div>',"</div>"].join("")),"manual"!==this.options.trigger){var o=this.show.bind(this),r=this.hide.bind(this),a=this.toggle.bind(this);this.options.trigger.split(" ").forEach((function(e){"hover"===e?(t.off("mouseenter mouseleave"),t.on("mouseenter",o).on("mouseleave",r)):"click"===e?t.on("click",a):"focus"===e&&t.on("focus",o).on("blur",r)}))}}var t;return(t=[{key:"show",value:function(){var e=this.$node,t=e.offset(),n=i()(this.options.target).offset();t.top-=n.top,t.left-=n.left;var o=this.$tooltip,r=this.options.title||e.attr("title")||e.data("title"),a=this.options.placement||e.data("placement");o.addClass(a),o.find(".note-tooltip-content").text(r),o.appendTo(this.options.target);var s=e.outerWidth(),l=e.outerHeight(),c=o.outerWidth(),u=o.outerHeight();"bottom"===a?o.css({top:t.top+l,left:t.left+(s/2-c/2)}):"top"===a?o.css({top:t.top-u,left:t.left+(s/2-c/2)}):"left"===a?o.css({top:t.top+(l/2-u/2),left:t.left-c}):"right"===a&&o.css({top:t.top+(l/2-u/2),left:t.left+s}),o.addClass("in")}},{key:"hide",value:function(){var e=this;this.$tooltip.removeClass("in"),setTimeout((function(){e.$tooltip.remove()}),200)}},{key:"toggle",value:function(){this.$tooltip.hasClass("in")?this.hide():this.show()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$button=t,this.options=i.a.extend({},{target:n.container},n),this.setEvent()}var t;return(t=[{key:"setEvent",value:function(){var e=this;this.$button.on("click",(function(t){e.toggle(),t.stopImmediatePropagation()}))}},{key:"clear",value:function(){var e=i()(".note-btn-group.open");e.find(".note-btn.active").removeClass("active"),e.removeClass("open")}},{key:"show",value:function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var e=this.$button.next(),t=e.offset(),n=e.outerWidth(),o=i()(window).width(),r=parseFloat(i()(this.options.target).css("margin-right"));e.css("margin-left",t.left+n>o-r?o-r-(t.left+n):"")}},{key:"hide",value:function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")}},{key:"toggle",value:function(){var e=this.$button.parent().hasClass("open");this.clear(),e?this.hide():this.show()}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}();i()(document).on("click",(function(e){i()(e.target).closest(".note-btn-group").length||(i()(".note-btn-group.open").removeClass("open"),i()(".note-btn-group .note-btn.active").removeClass("active"))})),i()(document).on("click.note-dropdown-menu",(function(e){i()(e.target).closest(".note-dropdown-menu").parent().removeClass("open"),i()(e.target).closest(".note-dropdown-menu").parent().find(".note-btn.active").removeClass("active")}));var l=s;var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$modal=t,this.$backdrop=i()('<div class="note-modal-backdrop"/>')}var t;return(t=[{key:"show",value:function(){var e=this;this.$backdrop.appendTo(document.body).show(),this.$modal.addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this)),this.$modal.on("keydown",(function(t){27===t.which&&(t.preventDefault(),e.hide())}))}},{key:"hide",value:function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide"),this.$modal.off("keydown")}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}(),u=r.a.create('<div class="note-editor note-frame"/>'),d=r.a.create('<div class="note-toolbar" role="toolbar"/>'),f=r.a.create('<div class="note-editing-area"/>'),h=r.a.create('<textarea class="note-codable" aria-multiline="true"/>'),p=r.a.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),m=r.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),g=r.a.create('<div class="note-editor note-airframe"/>'),v=r.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),y=r.a.create('<div class="note-btn-group">'),b=r.a.create('<button type="button" class="note-btn" tabindex="-1">',(function(e,t){t&&t.tooltip&&(e.attr({"aria-label":t.tooltip}),e.data("_lite_tooltip",new a(e,{title:t.tooltip,container:t.container})).on("click",(function(e){i()(e.currentTarget).data("_lite_tooltip").hide()}))),t.contents&&e.html(t.contents),t&&t.data&&"dropdown"===t.data.toggle&&e.data("_lite_dropdown",new l(e,{container:t.container})),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")})),w=r.a.create('<div class="note-dropdown-menu" role="list">',(function(e,t){var n=Array.isArray(t.items)?t.items.map((function(e){var n="string"==typeof e?e:e.value||"",o=t.template?t.template(e):e,r=i()('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+n+'"></a>');return r.html(o).data("item",e),r})):t.items;e.html(n).attr({"aria-label":t.title}),e.on("click","> .note-dropdown-item",(function(e){var n=i()(this),o=n.data("item"),r=n.data("value");o.click?o.click(n):t.itemClick&&t.itemClick(e,o,r)})),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")})),C=r.a.create('<div class="note-dropdown-menu note-check" role="list">',(function(e,t){var n=Array.isArray(t.items)?t.items.map((function(e){var n="string"==typeof e?e:e.value||"",o=t.template?t.template(e):e,r=i()('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+e+'"></a>');return r.html([L(t.checkClassName)," ",o]).data("item",e),r})):t.items;e.html(n).attr({"aria-label":t.title}),e.on("click","> .note-dropdown-item",(function(e){var n=i()(this),o=n.data("item"),r=n.data("value");o.click?o.click(n):t.itemClick&&t.itemClick(e,o,r)})),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")})),x=function(e,t){return e+" "+L(t.icons.caret,"span")},k=function(e,t){return y([b({className:"dropdown-toggle",contents:e.title+" "+L("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),w({className:e.className,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},E=function(e,t){return y([b({className:"dropdown-toggle",contents:e.title+" "+L("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),C({className:e.className,checkClassName:e.checkClassName,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},S=function(e){return y([b({className:"dropdown-toggle",contents:e.title+" "+L("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),w([y({className:"note-align",children:e.items[0]}),y({className:"note-list",children:e.items[1]})])]).render()},_=function(e){return y([b({className:"dropdown-toggle",contents:e.title+" "+L("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),w({className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.col+"em",height:e.row+"em"}).mousedown(e.itemClick).mousemove((function(t){!function(e,t,n){var o,r=i()(e.target.parentNode),a=r.next(),s=r.find(".note-dimension-picker-mousecatcher"),l=r.find(".note-dimension-picker-highlighted"),c=r.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var u=i()(e.target).offset();o={x:e.pageX-u.left,y:e.pageY-u.top}}else o={x:e.offsetX,y:e.offsetY};var d=Math.ceil(o.x/18)||1,f=Math.ceil(o.y/18)||1;l.css({width:d+"em",height:f+"em"}),s.data("value",d+"x"+f),d>3&&d<t&&c.css({width:d+1+"em"}),f>3&&f<n&&c.css({height:f+1+"em"}),a.html(d+" x "+f)}(t,e.col,e.row)}))}}).render()},T=r.a.create('<div class="note-color-palette"/>',(function(e,t){for(var n=[],o=0,r=t.colors.length;o<r;o++){for(var s=t.eventName,l=t.colors[o],c=t.colorsName[o],u=[],d=0,f=l.length;d<f;d++){var h=l[d],p=c[d];u.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',h,'" ','data-event="',s,'" ','data-value="',h,'" ','data-title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+u.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").each((function(){i()(this).data("_lite_tooltip",new a(i()(this),{container:t.container}))}))})),N=function(e,t){return y({className:"note-color",children:[b({className:"note-current-color-button",contents:e.title,tooltip:e.lang.color.recent,click:e.currentClick,callback:function(e){var n=e.find(".note-recent-color");"foreColor"!==t&&(n.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00"))}}),b({className:"dropdown-toggle",contents:L("note-icon-caret"),tooltip:e.lang.color.more,data:{toggle:"dropdown"}}),w({items:["<div>",'<div class="note-btn-group btn-background-color">','<div class="note-palette-title">'+e.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="backColor" data-value="transparent">',e.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"></div>','<div class="btn-sm">','<input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',e.lang.color.cpSelect,"</button>","</div>","</div>",'<div class="note-btn-group btn-foreground-color">','<div class="note-palette-title">'+e.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="removeFormat" data-value="foreColor">',e.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor"></div>','<div class="btn-sm">','<input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',e.lang.color.cpSelect,"</button>","</div>","</div>","</div>"].join(""),callback:function(n){n.find(".note-holder").each((function(){var t=i()(this);t.append(T({colors:e.colors,eventName:t.data("event")}).render())})),"fore"===t?(n.find(".btn-background-color").hide(),n.css({"min-width":"210px"})):"back"===t&&(n.find(".btn-foreground-color").hide(),n.css({"min-width":"210px"}))},click:function(n){var o=i()(n.target),r=o.data("event"),a=o.data("value"),s=document.getElementById("html5fcp").value,l=document.getElementById("html5bcp").value;if("cp"===a?n.stopPropagation():"cpbackColor"===a?a=l:"cpforeColor"===a&&(a=s),r&&a){var c="backColor"===r?"background-color":"color",u=o.closest(".note-color").find(".note-recent-color"),d=o.closest(".note-color").find(".note-current-color-button");u.css(c,a),d.attr("data-"+r,a),e.itemClick("fore"===t?"foreColor":"back"===t?"backColor":r,a)}}})]}).render()},A=r.a.create('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',(function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="note-modal-content">',t.title?'<div class="note-modal-header"><button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button><h4 class="note-modal-title">'+t.title+"</h4></div>":"",'<div class="note-modal-body">'+t.body+"</div>",t.footer?'<div class="note-modal-footer">'+t.footer+"</div>":"","</div>"].join("")),e.data("modal",new c(e,t))})),R=function(e){var t='<div class="note-form-group"><label for="note-dialog-video-url-'+e.id+'" class="note-form-label">'+e.lang.video.url+' <small class="text-muted">'+e.lang.video.providers+'</small></label><input id="note-dialog-video-url-'+e.id+'" class="note-video-url note-input" type="text"/></div>',n=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',e.lang.video.insert,"</button>"].join("");return A({title:e.lang.video.insert,fade:e.fade,body:t,footer:n}).render()},D=function(e){var t='<div class="note-form-group note-group-select-from-files"><label for="note-dialog-image-file-'+e.id+'" class="note-form-label">'+e.lang.image.selectFromFiles+'</label><input id="note-dialog-image-file-'+e.id+'" class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple"/>'+e.imageLimitation+'</div><div class="note-form-group"><label for="note-dialog-image-url-'+e.id+'" class="note-form-label">'+e.lang.image.url+'</label><input id="note-dialog-image-url-'+e.id+'" class="note-image-url note-input" type="text"/></div>',n=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',e.lang.image.insert,"</button>"].join("");return A({title:e.lang.image.insert,fade:e.fade,body:t,footer:n}).render()},P=function(e){var t='<div class="note-form-group"><label for="note-dialog-link-txt-'+e.id+'" class="note-form-label">'+e.lang.link.textToDisplay+'</label><input id="note-dialog-link-txt-'+e.id+'" class="note-link-text note-input" type="text"/></div><div class="note-form-group"><label for="note-dialog-link-url-'+e.id+'" class="note-form-label">'+e.lang.link.url+'</label><input id="note-dialog-link-url-'+e.id+'" class="note-link-url note-input" type="text" value="http://"/></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label for="note-dialog-link-nw-'+e.id+'"><input id="note-dialog-link-nw-'+e.id+'" type="checkbox" checked> '+e.lang.link.openInNewWindow+"</label></div>")+'<div class="checkbox"><label for="note-dialog-link-up-'+e.id+'"><input id="note-dialog-link-up-'+e.id+'" type="checkbox" checked> '+e.lang.link.useProtocol+"</label></div>",n=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',e.lang.link.insert,"</button>"].join("");return A({className:"link-dialog",title:e.lang.link.insert,fade:e.fade,body:t,footer:n}).render()},B=r.a.create(['<div class="note-popover bottom">','<div class="note-popover-arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),(function(e,t){e.addClass(void 0!==t.direction?t.direction:"bottom").hide(),t.hideArrow&&e.find(".note-popover-arrow").hide()})),I=r.a.create('<div class="checkbox"></div>',(function(e,t){e.html(["<label"+(t.id?' for="note-'+t.id+'"':"")+">",'<input role="checkbox" type="checkbox"'+(t.id?' id="note-'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","</label>"].join(""))})),L=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'};n(3),n(6),i.a.summernote=i.a.extend(i.a.summernote,{ui_template:function(e){return{editor:u,toolbar:d,editingArea:f,codable:h,editable:p,statusbar:m,airEditor:g,airEditable:v,buttonGroup:y,button:b,dropdown:w,dropdownCheck:C,dropdownButton:k,dropdownButtonContents:x,dropdownCheckButton:E,paragraphDropdownButton:S,tableDropdownButton:_,colorDropdownButton:N,palette:T,dialog:A,videoDialog:R,imageDialog:D,linkDialog:P,popover:B,checkbox:I,icon:L,options:e,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},check:function(e,t){e.find(".checked").removeClass("checked"),e.find('[data-value="'+t+'"]').addClass("checked")},onDialogShown:function(e,t){e.one("note.modal.show",t)},onDialogHidden:function(e,t){e.one("note.modal.hide",t)},showDialog:function(e){e.data("modal").show()},hideDialog:function(e){e.data("modal").hide()},getPopoverContent:function(e){return e.find(".note-popover-content")},getDialogBody:function(e){return e.find(".note-modal-body")},createLayout:function(t){var n=(e.airMode?g([f([h(),v()])]):u("bottom"===e.toolbarPosition?[f([h(),p()]),d(),m()]:[d(),f([h(),p()]),m()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.off("summernote"),e.show()}}},interface:"lite"})},6:function(e,t,n){}})})),(function(){var e,t,n,o,i,r,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w,C,x,k,E,S,_,T,N,A,R,D,P,B,I,L,O,M,H,F,$,j,z,U,W,q,V,K,Y=[].slice,X={}.hasOwnProperty,G=function(e,t){function n(){this.constructor=e}for(var o in t)X.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Q=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},N=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},R=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==R&&(R=function(e){return setTimeout(e,50)},b=function(e){return clearTimeout(e)}),P=function(e){var t,n;return t=N(),(n=function(){var o;return(o=N()-t)>=33?(t=N(),e(o,(function(){return R(n)}))):setTimeout(n,33-o)})()},D=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?Y.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},C=function(){var e,t,n,o,i,r,a;for(t=arguments[0],r=0,a=(o=2<=arguments.length?Y.call(arguments,1):[]).length;a>r;r++)if(n=o[r])for(e in n)X.call(n,e)&&(i=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=i&&"object"==typeof i?C(t[e],i):t[e]=i);return t},g=function(e){var t,n,o,i;for(n=t=0,o=0,i=e.length;i>o;o++)n+=Math.abs(e[o]),t++;return n/t},k=function(e,t){var n,o;if(null==e&&(e="options"),null==t&&(t=!0),o=document.querySelector("[data-pace-"+e+"]")){if(n=o.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(r){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,n,o){var i;return null==o&&(o=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:o})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,o,i;if(null!=(null!=(o=this.bindings)?o[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,i=[];n<this.bindings[e].length;)i.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return i}},e.prototype.trigger=function(){var e,t,n,o,i,r,a,s;if(n=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],null!=(r=this.bindings)?r[n]:void 0){for(o=0,s=[];o<this.bindings[n].length;)i=(a=this.bindings[n][o]).once,a.handler.apply(null!=(t=a.ctx)?t:this,e),s.push(i?this.bindings[n].splice(o,1):o++);return s}},e}(),c=window.Pace||{},window.Pace=c,C(c,a.prototype),A=c.options=C({},w,window.paceOptions,k()),z=0,W=(V=["ajax","document","eventLag","elements"]).length;W>z;z++)!0===A[O=V[z]]&&(A[O]=w[O]);l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return G(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(A.target)))throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return(e=this.getElement()).className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t,n,o,i,r;if(null==document.querySelector(A.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",o=0,i=(r=["webkitTransform","msTransform","transform"]).length;i>o;o++)e.children[0].style[r[o]]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress},e.prototype.done=function(){return this.progress>=100},e}(),s=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,o,i,r;if(null!=this.bindings[e]){for(r=[],n=0,o=(i=this.bindings[e]).length;o>n;n++)r.push(i[n].call(this,t));return r}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),j=window.XMLHttpRequest,$=window.XDomainRequest,F=window.WebSocket,x=function(e,t){var n,o;for(n in o=[],t.prototype)try{o.push(null==e[n]&&"function"!=typeof t[n]?"function"==typeof Object.defineProperty?Object.defineProperty(e,n,{get:function(){return t.prototype[n]},configurable:!0,enumerable:!0}):e[n]=t.prototype[n]:void 0)}catch(r){}return o},_=[],c.ignore=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],_.unshift("ignore"),n=t.apply(null,e),_.shift(),n},c.track=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Y.call(arguments,1):[],_.unshift("track"),n=t.apply(null,e),_.shift(),n},L=function(e){var t;if(null==e&&(e="GET"),"track"===_[0])return"force";if(!_.length&&A.ajax){if("socket"===e&&A.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),Q.call(A.ajax.trackMethods,t)>=0)return!0}return!1},u=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(o,i,r){return L(o)&&n.trigger("request",{type:o,url:i,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var n;return n=new j(t),e(n),n};try{x(window.XMLHttpRequest,j)}catch(o){}if(null!=$){window.XDomainRequest=function(){var t;return t=new $,e(t),t};try{x(window.XDomainRequest,$)}catch(o){}}if(null!=F&&A.ajax.trackWebSockets){window.WebSocket=function(e,t){var o;return o=null!=t?new F(e,t):new F(e),L("socket")&&n.trigger("request",{type:"socket",url:e,protocols:t,request:o}),o};try{x(window.WebSocket,F)}catch(o){}}}return G(t,e),t}(s),U=null,I=function(e){var t,n,o,i;for(n=0,o=(i=A.ajax.ignoreURLs).length;o>n;n++)if("string"==typeof(t=i[n])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(E=function(){return null==U&&(U=new u),U})().on("request",(function(t){var n,o,i,r;return r=t.type,i=t.request,I(t.url)||c.running||!1===A.restartOnRequestAfter&&"force"!==L(r)?void 0:(o=arguments,"boolean"==typeof(n=A.restartOnRequestAfter||0)&&(n=0),setTimeout((function(){var t,n,a,s,l;if("socket"===r?i.readyState<2:0<(a=i.readyState)&&4>a){for(c.restart(),l=[],t=0,n=(s=c.sources).length;n>t;t++){if((O=s[t])instanceof e){O.watch.apply(O,o);break}l.push(void 0)}return l}}),n))})),e=function(){function e(){var e=this;this.elements=[],E().on("request",(function(){return e.watch.apply(e,arguments)}))}return e.prototype.watch=function(e){var t,n,o;return o=e.type,t=e.request,I(e.url)?void 0:(n="socket"===o?new h(t):new p(t),this.elements.push(n))},e}(),p=function(e){var t,n,o,i,r=this;if(this.progress=0,null!=window.ProgressEvent)for(e.addEventListener("progress",(function(e){return r.progress=e.lengthComputable?100*e.loaded/e.total:r.progress+(100-r.progress)/2}),!1),t=0,n=(i=["load","abort","timeout","error"]).length;n>t;t++)e.addEventListener(i[t],(function(){return r.progress=100}),!1);else o=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?r.progress=100:3===e.readyState&&(r.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}},h=function(e){var t,n,o,i=this;for(this.progress=0,t=0,n=(o=["error","open"]).length;n>t;t++)e.addEventListener(o[t],(function(){return i.progress=100}),!1)},o=function(e){var t,n,o;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),t=0,n=(o=e.selectors).length;n>t;t++)this.elements.push(new i(o[t]))},i=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout((function(){return e.check()}),A.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),r=function(){var e,t,n,o,i,r=this;this.progress=0,e=0,i=[],o=0,n=N(),t=setInterval((function(){var a;return a=N()-n-50,n=N(),i.push(a),i.length>A.eventLag.sampleCount&&i.shift(),e=g(i),++o>=A.eventLag.minSamples&&e<A.eventLag.lagThreshold?(r.progress=100,clearInterval(t)):r.progress=3/(e+3)*100}),50)},f=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=A.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=D(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=D(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/A.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,A.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+A.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),M=null,B=null,v=null,H=null,m=null,y=null,c.running=!1,S=function(){return A.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(q=window.history.pushState,window.history.pushState=function(){return S(),q.apply(window.history,arguments)}),null!=window.history.replaceState&&(K=window.history.replaceState,window.history.replaceState=function(){return S(),K.apply(window.history,arguments)}),d={ajax:e,elements:o,document:n,eventLag:r},(T=function(){var e,n,o,i,r,a,s,l;for(c.sources=M=[],n=0,i=(a=["ajax","elements","document","eventLag"]).length;i>n;n++)!1!==A[e=a[n]]&&M.push(new d[e](A[e]));for(o=0,r=(l=null!=(s=A.extraSources)?s:[]).length;r>o;o++)M.push(new(O=l[o])(A));return c.bar=v=new t,B=[],H=new f})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),y=!0,null!=m&&("function"==typeof b&&b(m),m=null),T()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var e;return c.running=!0,v.render(),e=N(),y=!1,m=P((function(t,n){var o,i,r,a,s,l,u,d,h,p,m,g,b;for(o=d=0,i=!0,a=h=0,m=M.length;m>h;a=++h)for(O=M[a],u=null!=B[a]?B[a]:B[a]=[],s=p=0,g=(r=null!=(b=O.elements)?b:[O]).length;g>p;s=++p)i&=(l=null!=u[s]?u[s]:u[s]=new f(r[s])).done,l.done||(o++,d+=l.tick(t));return v.update(H.tick(t,d/o)),v.done()||i||y?(v.update(100),c.trigger("done"),setTimeout((function(){return v.finish(),c.running=!1,c.trigger("hide")}),Math.max(A.ghostTime,Math.max(A.minTime-(N()-e),0)))):n()}))},c.start=function(e){C(A,e),c.running=!0;try{v.render()}catch(t){l=t}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(["pace"],(function(){return c})):"object"==typeof exports?module.exports=c:A.startOnPageLoad&&c.start()}).call(this),function(e,t){"use strict";function n(e,n,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,r=[],a=0;a<e.length;++a){if(!(n=i[e[a]]||o(e[a])))throw"module definition dependecy not found: "+e[a];r.push(n)}t.apply(null,r)}(n,(function(){i[e]=r.apply(null,arguments)}))}function o(t){for(var n=e,o=t.split(/[.\/]/),i=0;i<o.length;++i){if(!n[o[i]])return;n=n[o[i]]}return n}var i={},r="tinymce/geom/Rect",a="tinymce/util/Promise",s="tinymce/util/Delay",l="tinymce/Env",c="tinymce/dom/EventUtils",u="tinymce/dom/Sizzle",d="tinymce/util/Arr",f="tinymce/util/Tools",h="tinymce/dom/DomQuery",p="tinymce/html/Styles",m="tinymce/dom/TreeWalker",g="tinymce/dom/Range",v="tinymce/html/Entities",y="tinymce/dom/StyleSheetLoader",b="tinymce/dom/DOMUtils",w="tinymce/dom/ScriptLoader",C="tinymce/AddOnManager",x="tinymce/dom/NodeType",k="tinymce/text/Zwsp",E="tinymce/caret/CaretContainer",S="tinymce/dom/RangeUtils",_="tinymce/NodeChange",T="tinymce/html/Node",N="tinymce/html/Schema",A="tinymce/html/SaxParser",R="tinymce/html/DomParser",D="tinymce/html/Writer",P="tinymce/html/Serializer",B="tinymce/dom/Serializer",I="tinymce/dom/TridentSelection",L="tinymce/util/VK",O="tinymce/dom/ControlSelection",M="tinymce/util/Fun",H="tinymce/caret/CaretCandidate",F="tinymce/geom/ClientRect",$="tinymce/text/ExtendingChar",j="tinymce/caret/CaretPosition",z="tinymce/caret/CaretBookmark",U="tinymce/dom/BookmarkManager",W="tinymce/dom/Selection",q="tinymce/dom/ElementUtils",V="tinymce/fmt/Preview",K="tinymce/fmt/Hooks",Y="tinymce/Formatter",X="tinymce/undo/Diff",G="tinymce/undo/Fragments",Q="tinymce/undo/Levels",J="tinymce/UndoManager",Z="tinymce/EnterKey",ee="tinymce/ForceBlocks",te="tinymce/caret/CaretUtils",ne="tinymce/caret/CaretWalker",oe="tinymce/InsertList",ie="tinymce/InsertContent",re="tinymce/EditorCommands",ae="tinymce/util/URI",se="tinymce/util/Class",le="tinymce/util/EventDispatcher",ce="tinymce/data/Binding",ue="tinymce/util/Observable",de="tinymce/data/ObservableObject",fe="tinymce/ui/Selector",he="tinymce/ui/Collection",pe="tinymce/ui/DomUtils",me="tinymce/ui/BoxUtils",ge="tinymce/ui/ClassList",ve="tinymce/ui/ReflowQueue",ye="tinymce/ui/Control",be="tinymce/ui/Factory",we="tinymce/ui/KeyboardNavigation",Ce="tinymce/ui/Container",xe="tinymce/ui/DragHelper",ke="tinymce/ui/Scrollable",Ee="tinymce/ui/Panel",Se="tinymce/ui/Movable",_e="tinymce/ui/Resizable",Te="tinymce/ui/FloatPanel",Ne="tinymce/ui/Window",Ae="tinymce/ui/MessageBox",Re="tinymce/WindowManager",De="tinymce/ui/Tooltip",Pe="tinymce/ui/Widget",Be="tinymce/ui/Progress",Ie="tinymce/ui/Notification",Le="tinymce/NotificationManager",Oe="tinymce/dom/NodePath",Me="tinymce/util/Quirks",He="tinymce/EditorObservable",Fe="tinymce/Mode",$e="tinymce/Shortcuts",je="tinymce/file/Uploader",ze="tinymce/file/Conversions",Ue="tinymce/file/ImageScanner",We="tinymce/file/BlobCache",qe="tinymce/file/UploadStatus",Ve="tinymce/ErrorReporter",Ke="tinymce/EditorUpload",Ye="tinymce/caret/FakeCaret",Xe="tinymce/dom/Dimensions",Ge="tinymce/caret/LineWalker",Qe="tinymce/caret/LineUtils",Je="tinymce/dom/MousePosition",Ze="tinymce/DragDropOverrides",et="tinymce/SelectionOverrides",tt="tinymce/util/Uuid",nt="tinymce/ui/Sidebar",ot="tinymce/Editor",it="tinymce/util/I18n",rt="tinymce/FocusManager",at="tinymce/EditorManager",st="tinymce/util/XHR",lt="tinymce/util/JSON",ct="tinymce/util/JSONRequest",ut="tinymce/util/JSONP",dt="tinymce/util/LocalStorage",ft="tinymce/Compat",ht="tinymce/ui/Layout",pt="tinymce/ui/AbsoluteLayout",mt="tinymce/ui/Button",gt="tinymce/ui/ButtonGroup",vt="tinymce/ui/Checkbox",yt="tinymce/ui/ComboBox",bt="tinymce/ui/ColorBox",wt="tinymce/ui/PanelButton",Ct="tinymce/ui/ColorButton",xt="tinymce/util/Color",kt="tinymce/ui/ColorPicker",Et="tinymce/ui/Path",St="tinymce/ui/ElementPath",_t="tinymce/ui/FormItem",Tt="tinymce/ui/Form",Nt="tinymce/ui/FieldSet",At="tinymce/content/LinkTargets",Rt="tinymce/ui/FilePicker",Dt="tinymce/ui/FitLayout",Pt="tinymce/ui/FlexLayout",Bt="tinymce/ui/FlowLayout",It="tinymce/fmt/FontInfo",Lt="tinymce/ui/FormatControls",Ot="tinymce/ui/GridLayout",Mt="tinymce/ui/Iframe",Ht="tinymce/ui/InfoBox",Ft="tinymce/ui/Label",$t="tinymce/ui/Toolbar",jt="tinymce/ui/MenuBar",zt="tinymce/ui/MenuButton",Ut="tinymce/ui/MenuItem",Wt="tinymce/ui/Throbber",qt="tinymce/ui/Menu",Vt="tinymce/ui/ListBox",Kt="tinymce/ui/Radio",Yt="tinymce/ui/ResizeHandle",Xt="tinymce/ui/SelectBox",Gt="tinymce/ui/Slider",Qt="tinymce/ui/Spacer",Jt="tinymce/ui/SplitButton",Zt="tinymce/ui/StackLayout",en="tinymce/ui/TabPanel",tn="tinymce/ui/TextBox";n(r,[],(function(){function e(e,n,o){var r,a,s,l,c,u;return r=n.x,a=n.y,s=e.w,l=e.h,c=n.w,u=n.h,"b"===(o=(o||"").split(""))[0]&&(a+=u),"r"===o[1]&&(r+=c),"c"===o[0]&&(a+=i(u/2)),"c"===o[1]&&(r+=i(c/2)),"b"===o[3]&&(a-=l),"r"===o[4]&&(r-=s),"c"===o[3]&&(a-=i(l/2)),"c"===o[4]&&(r-=i(s/2)),t(r,a,s,l)}function t(e,t,n,o){return{x:e,y:t,w:n,h:o}}var n=Math.min,o=Math.max,i=Math.round;return{inflate:function(e,n,o){return t(e.x-n,e.y-o,e.w+2*n,e.h+2*o)},relativePosition:e,findBestRelativePosition:function(t,n,o,i){var r,a;for(a=0;a<i.length;a++)if((r=e(t,n,i[a])).x>=o.x&&r.x+r.w<=o.w+o.x&&r.y>=o.y&&r.y+r.h<=o.h+o.y)return i[a];return null},intersect:function(e,i){var r,a,s,l;return r=o(e.x,i.x),a=o(e.y,i.y),s=n(e.x+e.w,i.x+i.w),l=n(e.y+e.h,i.y+i.h),s-r<0||l-a<0?null:t(r,a,s-r,l-a)},clamp:function(e,n,i){var r,a,s,l,c,u,d,f,h,p;return u=e.y,d=e.x+e.w,f=e.y+e.h,h=n.x+n.w,p=n.y+n.h,r=o(0,n.x-(c=e.x)),a=o(0,n.y-u),s=o(0,d-h),l=o(0,f-p),c+=r,u+=a,i&&(d+=r,f+=a,c-=s,u-=l),t(c,u,(d-=s)-c,(f-=l)-u)},create:t,fromClientRect:function(e){return t(e.left,e.top,e.width,e.height)}}})),n(a,[],(function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(o,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(i){return void e.reject(i)}e.resolve(o)}else(t._state?e.resolve:e.reject)(t._value)}))}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(o,this),e(i,this))}this._state=!0,this._value=t,r.call(this)}catch(a){i.call(this,a)}}function i(e){this._state=!1,this._value=e,r.call(this)}function r(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=o}function s(e,t,n){var o=!1;try{e((function(e){o||(o=!0,t(e))}),(function(e){o||(o=!0,n(e))}))}catch(i){if(o)return;o=!0,n(i)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,o){var i=this;return new t((function(t,r){n.call(i,new a(e,o,t,r))}))},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t((function(t,n){function o(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(r,e)}),n)}e[r]=a,0==--i&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=0,i=e.length;o<i;o++)e[o].then(t,n)}))},t})),n(s,[a],(function(e){function t(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function n(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function o(e,n){var o,i;return(i=function(){var i=arguments;clearTimeout(o),o=t((function(){e.apply(this,i)}),n)}).stop=function(){clearTimeout(o)},i}var i;return{requestAnimationFrame:function(t,n){return i?void i.then(t):void(i=new e((function(e){n||(n=document.body),function(e,t){var n,o=window.requestAnimationFrame,i=["ms","moz","webkit"];for(n=0;n<i.length&&!o;n++)o=window[i[n]+"RequestAnimationFrame"];o||(o=function(e){window.setTimeout(e,0)}),o(e,t)}(e,n)})).then(t))},setTimeout:t,setInterval:n,setEditorTimeout:function(e,n,o){return t((function(){e.removed||n()}),o)},setEditorInterval:function(e,t,o){var i;return i=n((function(){e.removed?clearInterval(i):t()}),o)},debounce:o,throttle:o,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}})),n(l,[],(function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t,n,o,i,r,a,s,l,c,u,d,f,h,p=navigator,m=p.userAgent;return t=window.opera&&window.opera.buildNumber,c=/Android/.test(m),o=(o=!(n=/WebKit/.test(m))&&!t&&/MSIE/gi.test(m)&&/Explorer/gi.test(p.appName))&&/MSIE (\w+)\./.exec(m)[1],i=-1!=m.indexOf("Trident/")&&(-1!=m.indexOf("rv:")||-1!=p.appName.indexOf("Netscape"))&&11,r=-1!=m.indexOf("Edge/")&&!o&&!i&&12,o=o||i||r,a=!n&&!i&&/Gecko/.test(m),s=-1!=m.indexOf("Mac"),l=/(iPad|iPhone)/.test(m),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=e("only screen and (max-device-width: 480px)")&&(c||l),f=e("only screen and (min-width: 800px)")&&(c||l),h=-1!=m.indexOf("Windows Phone"),r&&(n=!1),{opera:t,webkit:n,ie:o,gecko:a,mac:s,iOS:l,android:c,contentEditable:!l||u||m.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=o,range:window.getSelection&&"Range"in window,documentMode:o&&!r?document.documentMode||7:10,fileApi:u,ceFalse:!1===o||o>8,canHaveCSP:!1===o||o>11,desktop:!d&&!f,windowsPhone:h}})),n(c,[s,l],(function(e,t){function n(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,n){function o(){return!1}function i(){return!0}var r,a,s=n||{};for(r in e)c[r]||(s[r]=e[r]);if(s.target||(s.target=s.srcElement||document),t.experimentalShadowDom&&(s.target=function(e,t){var n,o=t;return(n=e.path)&&n.length>0&&(o=n[0]),e.deepPath&&(n=e.deepPath())&&n.length>0&&(o=n[0]),o}(e,s.target)),e&&l.test(e.type)&&e.pageX===a&&e.clientX!==a){var u=s.target.ownerDocument||document,d=u.documentElement,f=u.body;s.pageX=e.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),s.pageY=e.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=i,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=o,s.isPropagationStopped=o,s.isImmediatePropagationStopped=o),void 0===s.metaKey&&(s.metaKey=!1),s}function r(t,i,r){function a(){r.domLoaded||(r.domLoaded=!0,i(l))}var s=t.document,l={type:"ready"};return r.domLoaded?void i(l):(s.addEventListener?"complete"===s.readyState?a():n(t,"DOMContentLoaded",a):(n(s,"readystatechange",(function e(){("complete"===s.readyState||"interactive"===s.readyState&&s.body)&&(o(s,"readystatechange",e),a())})),s.documentElement.doScroll&&t.self===t.top&&function n(){try{s.documentElement.doScroll("left")}catch(t){return void e.setTimeout(n)}a()}()),void n(t,"load",a))}function a(){function e(e,t){var n,o,i,r,a=f[t];if(n=a&&a[e.type])for(o=0,i=n.length;o<i;o++)if((r=n[o])&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var t,a,l,c,u,d=this,f={};a=s+(+new Date).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,d.domLoaded=!1,d.events=f,d.bind=function(o,s,h,p){function m(t){e(i(t||k.event),g)}var g,v,y,b,w,C,x,k=window;if(o&&3!==o.nodeType&&8!==o.nodeType){for(o[a]?g=o[a]:(g=t++,o[a]=g,f[g]={}),p=p||o,y=(s=s.split(" ")).length;y--;)C=m,w=x=!1,"DOMContentLoaded"===(b=s[y])&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==o.readyState?h.call(p,i({type:b})):(c||(w=u[b])&&(C=function(t){var n,o;if(n=t.currentTarget,(o=t.relatedTarget)&&n.contains)o=n.contains(o);else for(;o&&o!==n;)o=o.parentNode;o||((t=i(t||k.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,g))}),l||"focusin"!==b&&"focusout"!==b||(x=!0,w="focusin"===b?"focus":"blur",C=function(t){(t=i(t||k.event)).type="focus"===t.type?"focusin":"focusout",e(t,g)}),(v=f[g][b])?"ready"===b&&d.domLoaded?h({type:b}):v.push({func:h,scope:p}):(f[g][b]=v=[{func:h,scope:p}],v.fakeName=w,v.capture=x,v.nativeHandler=C,"ready"===b?r(o,C,d):n(o,w||b,C,x)));return o=v=0,h}},d.unbind=function(e,t,n){var i,r,s,l,c,u;if(!e||3===e.nodeType||8===e.nodeType)return d;if(i=e[a]){if(u=f[i],t){for(s=(t=t.split(" ")).length;s--;)if(r=u[c=t[s]]){if(n)for(l=r.length;l--;)if(r[l].func===n){var p=r.nativeHandler,m=r.fakeName,g=r.capture;(r=r.slice(0,l).concat(r.slice(l+1))).nativeHandler=p,r.fakeName=m,r.capture=g,u[c]=r}n&&0!==r.length||(delete u[c],o(e,r.fakeName||c,r.nativeHandler,r.capture))}}else{for(c in u)o(e,(r=u[c]).fakeName||c,r.nativeHandler,r.capture);u={}}for(c in u)return d;delete f[i];try{delete e[a]}catch(h){e[a]=null}}return d},d.fire=function(t,n,o){var r;if(!t||3===t.nodeType||8===t.nodeType)return d;(o=i(null,o)).type=n,o.target=t;do{(r=t[a])&&e(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return d},d.clean=function(e){var t,n,o=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[a]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[a]&&o(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var s="mce-data-",l=/^(?:mouse|contextmenu)|click/,c={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(a.Event=new a).bind(window,"ready",(function(){})),a})),n(u,[],(function(){function e(e,t,n,o){var i,r,a,s,l,c,d,h,p,m;if((t?t.ownerDocument||t:$)!==P&&D(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||P).nodeType)&&9!==s)return[];if(I&&!o){if(i=ve.exec(e))if(a=i[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&H(t,r)&&r.id===a)return n.push(r),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!L||!L.test(e))){if(h=d=F,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?h=d.replace(we,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+f(c[l]);p=ye.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return T(e.replace(se,"$1"),t,n,o)}function n(){var e=[];return function t(n,o){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function o(e){return e[F]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),o=e.length;o--;)x.attrHandle[n[o]]=t}function a(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return o((function(t){return t=+t,o((function(n,o){for(var i,r=e([],n.length,t),a=r.length;a--;)n[i=r[a]]&&(n[i]=!(o[i]=n[i]))}))}))}function u(e){return e&&typeof e.getElementsByTagName!==K&&e}function d(){}function f(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function h(e,t,n){var o=t.dir,i=n&&"parentNode"===o,r=z++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,a){var s,l,c=[j,r];if(a){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[o];)if(1===t.nodeType||i){if((s=(l=t[F]||(t[F]={}))[o])&&s[0]===j&&s[1]===r)return c[2]=s[2];if(l[o]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function m(t,n,o){for(var i=0,r=n.length;i<r;i++)e(t,n[i],o);return o}function g(e,t,n,o,i){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,o,i)||(a.push(r),c&&t.push(s)));return a}function v(e,t,n,i,r,a){return i&&!i[F]&&(i=v(i)),r&&!r[F]&&(r=v(r,a)),o((function(o,a,s,l){var c,u,d,f=[],h=[],p=a.length,v=o||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:g(v,f,e,s,l),b=n?r||(o?e:p||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(c=g(b,h),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[h[u]]=!(y[h[u]]=d));if(o){if(r||e){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?te.call(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else b=g(b===a?b.splice(p,b.length):b),r?r(null,a,b,l):Z.apply(a,b)}))}function y(e){for(var t,n,o,i=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],s=r?1:0,l=h((function(e){return e===t}),a,!0),c=h((function(e){return te.call(t,e)>-1}),a,!0),u=[function(e,n,o){return!r&&(o||n!==N)||((t=n).nodeType?l(e,n,o):c(e,n,o))}];s<i;s++)if(n=x.relative[e[s].type])u=[h(p(u),n)];else{if((n=x.filter[e[s].type].apply(null,e[s].matches))[F]){for(o=++s;o<i&&!x.relative[e[o].type];o++);return v(s>1&&p(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<o&&y(e.slice(s,o)),o<i&&y(e=e.slice(o)),o<i&&f(e))}u.push(n)}return p(u)}function b(t,n){var i=n.length>0,r=t.length>0,a=function(o,a,s,l,c){var u,d,f,h=0,p="0",m=o&&[],v=[],y=N,b=o||r&&x.find.TAG("*",c),w=j+=null==y?1:Math.random()||.1,C=b.length;for(c&&(N=a!==P&&a);p!==C&&null!=(u=b[p]);p++){if(r&&u){for(d=0;f=t[d++];)if(f(u,a,s)){l.push(u);break}c&&(j=w)}i&&((u=!f&&u)&&h--,o&&m.push(u))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(m,v,a,s);if(o){if(h>0)for(;p--;)m[p]||v[p]||(v[p]=Q.call(l));v=g(v)}Z.apply(l,v),c&&!o&&v.length>0&&h+n.length>1&&e.uniqueSort(l)}return c&&(j=w,N=y),m};return i?o(a):a}var w,C,x,k,E,S,_,T,N,A,R,D,P,B,I,L,O,M,H,F="sizzle"+-new Date,$=window.document,j=0,z=0,U=n(),W=n(),q=n(),V=function(e,t){return e===t&&(R=!0),0},K=typeof t,Y=1<<31,X={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,Z=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+oe+"*("+ie+")(?:"+oe+"*([*^$|!~]?=)"+oe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+oe+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),le=new RegExp("^"+oe+"*,"+oe+"*"),ce=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),ue=new RegExp("="+oe+"*([^\\]'\"]*?)"+oe+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),xe=function(e,t,n){var o="0x"+t-65536;return o!=o||n?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)};try{Z.apply(G=ee.call($.childNodes),$.childNodes)}catch(be){Z={apply:G.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}for(w in C=e.support={},E=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=e.setDocument=function(e){var n,o=e?e.ownerDocument||e:$,r=o.defaultView;return o!==P&&9===o.nodeType&&o.documentElement?(P=o,B=o.documentElement,I=!E(o),r&&r!==function(e){try{return e.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){D()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){D()}))),C.attributes=i((function(e){return e.className="i",!e.getAttribute("className")})),C.getElementsByTagName=i((function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length})),C.getElementsByClassName=ge.test(o.getElementsByClassName),C.getById=i((function(e){return B.appendChild(e).id=F,!o.getElementsByName||!o.getElementsByName(F).length})),C.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==K&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(Ce,xe);return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=C.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==K)return t.getElementsByTagName(e)}:function(e,t){var n,o=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},x.find.CLASS=C.getElementsByClassName&&function(e,t){if(I)return t.getElementsByClassName(e)},O=[],L=[],(C.qsa=ge.test(o.querySelectorAll))&&(i((function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+oe+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||L.push(":checked")})),i((function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+oe+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")}))),(C.matchesSelector=ge.test(M=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&i((function(e){C.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),O.push("!=",ae)})),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),n=ge.test(B.compareDocumentPosition),H=n||ge.test(B.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=n?function(e,t){if(e===t)return R=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===$&&H($,e)?-1:t===o||t.ownerDocument===$&&H($,t)?1:A?te.call(A,e)-te.call(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return R=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===o?-1:t===o?1:r?-1:s?1:A?te.call(A,e)-te.call(A,t):0;if(r===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?a(l[i],c[i]):l[i]===$?-1:c[i]===$?1:0},o):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&D(t),n=n.replace(ue,"='$1']"),C.matchesSelector&&I&&(!O||!O.test(n))&&(!L||!L.test(n)))try{var o=M.call(t,n);if(o||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(i){}return e(n,P,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==P&&D(e),H(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==P&&D(e);var o=x.attrHandle[n.toLowerCase()],i=o&&X.call(x.attrHandle,n.toLowerCase())?o(e,n,!I):t;return i!==t?i:C.attributes||!I?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],o=0,i=0;if(R=!C.detectDuplicates,A=!C.sortStable&&e.slice(0),e.sort(V),R){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return A=null,e},k=e.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=k(t);return n},(x=e.selectors={cacheLength:50,createPseudo:o,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&U(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")}))},ATTR:function(t,n,o){return function(i){var r=e.attr(i,t);return null==r?"!="===n:!n||(r+="","="===n?r===o:"!="===n?r!==o:"^="===n?o&&0===r.indexOf(o):"*="===n?o&&r.indexOf(o)>-1:"$="===n?o&&r.slice(-o.length)===o:"~="===n?(" "+r+" ").indexOf(o)>-1:"|="===n&&(r===o||r.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=(c=(u=g[F]||(g[F]={}))[e]||[])[0]===j&&c[2],d=(h=c[0]===j&&c[1])&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[j,h,f];break}}else if(y&&(c=(t[F]||(t[F]={}))[e])&&c[0]===j)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[F]||(d[F]={}))[e]=[j,f]),d!==t)););return(f-=i)===o||f%o==0&&f/o>=0}}},PSEUDO:function(t,n){var i,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[F]?r(n):r.length>1?(i=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?o((function(e,t){for(var o,i=r(e,n),a=i.length;a--;)e[o=te.call(e,i[a])]=!(t[o]=i[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:o((function(e){var t=[],n=[],i=_(e.replace(se,"$1"));return i[F]?o((function(e,t,n,o){for(var r,a=i(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}})),has:o((function(t){return function(n){return e(t,n).length>0}})),contains:o((function(e){return e=e.replace(Ce,xe),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}})),lang:o((function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ce,xe).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===B},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c((function(){return[0]})),last:c((function(e,t){return[t-1]})),eq:c((function(e,t,n){return[n<0?n+t:n]})),even:c((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:c((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:c((function(e,t,n){for(var o=n<0?n+t:n;--o>=0;)e.push(o);return e})),gt:c((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,S=e.tokenize=function(t,n){var o,i,r,a,s,l,c,u=W[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=x.preFilter;s;){for(a in o&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),o=!1,(i=ce.exec(s))&&(o=i.shift(),r.push({value:o,type:i[0].replace(se," ")}),s=s.slice(o.length)),x.filter)!(i=he[a].exec(s))||c[a]&&!(i=c[a](i))||(o=i.shift(),r.push({value:o,type:a,matches:i}),s=s.slice(o.length));if(!o)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},_=e.compile=function(e,t){var n,o=[],i=[],r=q[e+" "];if(!r){for(t||(t=S(e)),n=t.length;n--;)(r=y(t[n]))[F]?o.push(r):i.push(r);(r=q(e,b(i,o))).selector=e}return r},T=e.select=function(e,t,n,o){var i,r,a,s,l,c="function"==typeof e&&e,d=!o&&S(e=c.selector||e);if(n=n||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&C.getById&&9===t.nodeType&&I&&x.relative[r[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(Ce,xe),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=he.needsContext.test(e)?0:r.length;i--&&!x.relative[s=(a=r[i]).type];)if((l=x.find[s])&&(o=l(a.matches[0].replace(Ce,xe),ye.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(i,1),!(e=o.length&&f(r)))return Z.apply(n,o),n;break}}return(c||_(e,d))(o,t,!I,n,ye.test(e)&&u(t.parentNode)||t),n},C.sortStable=F.split("").sort(V).join("")===F,C.detectDuplicates=!!R,D(),C.sortDetached=i((function(e){return 1&e.compareDocumentPosition(P.createElement("div"))})),i((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||r("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),C.attributes&&i((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||r("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),i((function(e){return null==e.getAttribute("disabled")}))||r(ne,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),e})),n(d,[],(function(){function e(e,n,o){var i,r;if(!e)return 0;if(o=o||e,e.length!==t){for(i=0,r=e.length;i<r;i++)if(!1===n.call(o,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===n.call(o,e[i],i,e))return 0;return 1}function n(e,t,n){var o,i;for(o=0,i=e.length;o<i;o++)if(t.call(n,e[o],o,e))return o;return-1}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:o,toArray:function(e){var t,n,i=e;if(!o(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:e,map:function(t,n){var o=[];return e(t,(function(e,i){o.push(n(e,i,t))})),o},filter:function(t,n){var o=[];return e(t,(function(e,i){n&&!n(e,i,t)||o.push(e)})),o},indexOf:function(e,t){var n,o;if(e)for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,o){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(o,n,e[i],i);return n},findIndex:n,find:function(e,o,i){var r=n(e,o,i);return-1!==r?e[r]:t},last:function(e){return e[e.length-1]}}})),n(f,[l,d],(function(e,n){function o(e){return null===e||e===t?"":(""+e).replace(r,"")}function i(e,o){return o?!("array"!=o||!n.isArray(e))||typeof e==o:e!==t}var r=/^\s*|\s*$/g;return{trim:o,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:function(e,t,n){var o;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},o=e.length;o--;)n[e[o]]={};return n},each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,n){var o,i,r,a,s=arguments;for(o=1,i=s.length;o<i;o++)for(r in n=s[o])n.hasOwnProperty(r)&&(a=n[r])!==t&&(e[r]=a);return e},create:function(e,t,n){var o,i,r,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),r=e[3].match(/(^|\.)(\w+)$/i)[2],!(i=l.createNS(e[3].replace(/\.\w+$/,""),n))[r]){if("static"==e[2])return i[r]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[r]));t[r]||(t[r]=function(){},c=1),i[r]=t[r],l.extend(i[r].prototype,t),e[5]&&(o=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[r],i[r]=c?function(){return o[a].apply(this,arguments)}:function(){return this.parent=o[a],s.apply(this,arguments)},i[r].prototype[r]=i[r],l.each(o,(function(e,t){i[r].prototype[t]=o[t]})),l.each(t,(function(e,t){o[t]?i[r].prototype[t]=function(){return this.parent=o[t],e.apply(this,arguments)}:t!=r&&(i[r].prototype[t]=e)}))),l.each(t.static,(function(e,t){i[r][t]=e}))}},walk:function e(t,o,i,r){r=r||this,t&&(i&&(t=t[i]),n.each(t,(function(t,n){return!1!==o.call(r,t,n,i)&&void e(t,o,i,r)})))},createNS:function(e,t){var n,o;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[o=e[n]]||(t[o]={}),t=t[o];return t},resolve:function(e,t){var n,o;for(t=t||window,n=0,o=(e=e.split(".")).length;n<o&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||i(e,"array")?e:n.map(e.split(t||","),o)},_addCacheSuffix:function(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}}})),n(h,[c,u,f,l],(function(e,n,o,i){function r(e){return void 0!==e}function a(e){return"string"==typeof e}function s(e,t){var n,o,i;for(i=(t=t||C).createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;o=i.firstChild;)n.appendChild(o);return n}function l(e,t,n,o){var i;if(a(t))t=s(t,m(e[0]));else if(t.length&&!t.nodeType){if(t=d.makeArray(t),o)for(i=t.length-1;i>=0;i--)l(e,t[i],n,o);else for(i=0;i<t.length;i++)l(e,t[i],n,o);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function c(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function u(e,t,n){var o,i;return t=d(t)[0],e.each((function(){var e=this;n&&o==e.parentNode||(o=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e)),i.appendChild(e)})),e}function d(e,t){return new d.fn.init(e,t)}function f(e){return null===e||e===w?"":(""+e).replace(B,"")}function h(e,t){var n,o,i,r;if(e)if(void 0===(n=e.length)){for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(r=e[o],o,r))break}else for(i=0;i<n&&!1!==t.call(r=e[i],i,r);i++);return e}function p(e,t){var n=[];return h(e,(function(e,o){t(o,e)&&n.push(o)})),n}function m(e){return e?9==e.nodeType?e:e.ownerDocument:C}function g(e,n,o){var i=[],r=e[n];for("string"!=typeof o&&o instanceof d&&(o=o[0]);r&&9!==r.nodeType;){if(o!==t){if(r===o)break;if("string"==typeof o&&d(r).is(o))break}1===r.nodeType&&i.push(r),r=r[n]}return i}function v(e,n,o,i){var r=[];for(i instanceof d&&(i=i[0]);e;e=e[n])if(!o||e.nodeType===o){if(i!==t){if(e===i)break;if("string"==typeof i&&d(e).is(i))break}r.push(e)}return r}function y(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function b(e,t,n){h(n,(function(n,o){e[n]=e[n]||{},e[n][t]=o}))}var w,C=document,x=Array.prototype.push,k=Array.prototype.slice,E=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,S=e.Event,_=o.makeMap("children,contents,next,prev"),T=o.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),N=o.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),A={for:"htmlFor",class:"className",readonly:"readOnly"},R={float:"cssFloat"},D={},P={},B=/^\s*|\s*$/g;return d.fn=d.prototype={constructor:d,selector:"",context:null,length:0,init:function(e,t){var n,o,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return d(e).attr(t);i.context=t=document}if(a(e)){if(i.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:E.exec(e)))return d(t).find(e);if(n[1])for(o=s(e,m(t)).firstChild;o;)x.call(i,o),o=o.nextSibling;else{if(!(o=m(t).getElementById(n[2])))return i;if(o.id!==n[2])return i.find(e);i.length=1,i[0]=o}}else this.add(e,!1);return i},toArray:function(){return o.toArray(this)},add:function(e,t){var n,o,i=this;if(a(e))return i.add(d(e));if(!1!==t)for(n=d.unique(i.toArray().concat(d.makeArray(e))),i.length=n.length,o=0;o<n.length;o++)i[o]=n[o];else x.apply(i,d.makeArray(e));return i},attr:function(e,t){var n,o=this;if("object"==typeof e)h(e,(function(e,t){o.attr(e,t)}));else{if(!r(t)){if(o[0]&&1===o[0].nodeType){if((n=D[e])&&n.get)return n.get(o[0],e);if(N[e])return o.prop(e)?e:w;null===(t=o[0].getAttribute(e,2))&&(t=w)}return t}this.each((function(){var n;if(1===this.nodeType){if((n=D[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return o},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=A[e]||e))h(e,(function(e,t){n.prop(e,t)}));else{if(!r(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1==this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}function o(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}var i,a,l=this;if("object"==typeof e)h(e,(function(e,t){l.css(e,t)}));else if(r(t))e=n(e),"number"!=typeof t||T[e]||(t+="px"),l.each((function(){var n=this.style;if((a=P[e])&&a.set)a.set(this,t);else{try{this.style[R[e]||e]=t}catch(l){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(o(e)):n.removeAttribute(e))}}));else{if(i=l[0],(a=P[e])&&a.get)return a.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(o(e))}catch(s){return w}else if(i.currentStyle)return i.currentStyle[n(e)]}return l},remove:function(){for(var e,t=this.length;t--;)S.clean(e=this[t]),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(r(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(o){d(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(r(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return l(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return l(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?l(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?l(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return d(e).append(this),this},prependTo:function(e){return d(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return u(this,e)},wrapAll:function(e){return u(this,e,!0)},wrapInner:function(e){return this.each((function(){d(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){d(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),d(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?h(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,o){var i,r;(r=c(o,e))!==t&&(i=o.className,r?o.className=f((" "+i+" ").replace(" "+e+" "," ")):o.className+=i?" "+e:e)}))),n},hasClass:function(e){return c(this[0],e)},each:function(e){return h(this,e)},on:function(e,t){return this.each((function(){S.bind(this,e,t)}))},off:function(e,t){return this.each((function(){S.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"==typeof e?S.fire(this,e.type,e):S.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new d(k.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,o=[];for(t=0,n=this.length;t<n;t++)d.find(e,this[t],o);return d(o)},filter:function(e){return d("function"==typeof e?p(this.toArray(),(function(t,n){return e(n,t)})):d.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof d&&(e=e[0]),this.each((function(n,o){for(;o;){if("string"==typeof e&&d(o).is(e)){t.push(o);break}if(o==e){t.push(o);break}o=o.parentNode}})),d(t)},offset:function(e){var t,n,o,i,r=0,a=0;return e?this.css(e):((t=this[0])&&(o=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(r=(i=t.getBoundingClientRect()).left+(o.scrollLeft||n.body.scrollLeft)-o.clientLeft,a=i.top+(o.scrollTop||n.body.scrollTop)-o.clientTop)),{left:r,top:a})},push:x,sort:[].sort,splice:[].splice},o.extend(d,{extend:o.extend,makeArray:function(e){return function(e){return e&&e==e.window}(e)||e.nodeType?[e]:o.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:o.isArray,each:h,trim:f,grep:p,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var o=t.length;for(n&&(e=":not("+e+")");o--;)1!=t[o].nodeType&&t.splice(o,1);return 1===t.length?d.find.matchesSelector(t[0],e)?[t[0]]:[]:d.find.matches(e,t)}}),h({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return g(e,"parentNode")},next:function(e){return y(e,"nextSibling",1)},prev:function(e){return y(e,"previousSibling",1)},children:function(e){return v(e.firstChild,"nextSibling",1)},contents:function(e){return o.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){d.fn[e]=function(n){var o=[];return this.each((function(){var e=t.call(o,this,n,o);e&&(d.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(_[e]||(o=d.unique(o)),0===e.indexOf("parents")&&(o=o.reverse())),o=d(o),n?o.filter(n):o}})),h({parentsUntil:function(e,t){return g(e,"parentNode",t)},nextUntil:function(e,t){return v(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return v(e,"previousSibling",1,t).slice(1)}},(function(e,t){d.fn[e]=function(n,o){var i=[];return this.each((function(){var e=t.call(i,this,n,i);e&&(d.isArray(e)?i.push.apply(i,e):i.push(e))})),this.length>1&&(i=d.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse())),i=d(i),o?i.filter(o):i}})),d.fn.is=function(e){return!!e&&this.filter(e).length>0},d.fn.init.prototype=d.fn,d.overrideDefaults=function(e){function t(o,i){return n=n||e(),0===arguments.length&&(o=n.element),i||(i=n.context),new t.fn.init(o,i)}var n;return d.extend(t,this),t},i.ie&&i.ie<8&&(b(D,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?w:t},size:function(e){var t=e.size;return 20===t?w:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?w:t}}),b(D,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(R.float="styleFloat",b(P,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),d.attrHooks=D,d.cssHooks=P,d})),n(p,[],(function(){return function(e,t){function n(e,t,n,o){function i(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+i(t)+i(n)+i(o)}var o,i,r,a,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,d={};for(e=e||{},t&&(r=t.getValidStyles(),a=t.getInvalidStyles()),i="\\\" \\' \\; \\: ; : \ufeff".split(" "),o=0;o<i.length;o++)d[i[o]]="\ufeff"+o,d["\ufeff"+o]=i[o];return{toHex:function(e){return e.replace(s,n)},parse:function(t){function i(e,t,n){var i,r,a,s;if((i=w[e+"-top"+t])&&(r=w[e+"-right"+t])&&(a=w[e+"-bottom"+t])&&(s=w[e+"-left"+t])){var l=[i,r,a,s];for(o=l.length-1;o--&&l[o]===l[o+1];);o>-1&&n||(w[e+t]=-1==o?l[0]:l.join(" "),delete w[e+"-top"+t],delete w[e+"-right"+t],delete w[e+"-bottom"+t],delete w[e+"-left"+t])}}function r(e){var t,n=w[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return w[e]=n[0],!0}}function a(e){return b=!0,d[e]}function f(e,t){return b&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return d[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function h(e){return String.fromCharCode(parseInt(e.slice(1),16))}function p(e){return e.replace(/\\[0-9a-f]+/gi,h)}function m(t,n,o,i,r,a){if(r=r||a)return"'"+(r=f(r)).replace(/\'/g,"\\'")+"'";if(n=f(n||o||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return C&&(n=C.call(x,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var g,v,y,b,w={},C=e.url_converter,x=e.url_converter_scope||this;if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,a).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,a)}));g=c.exec(t);)if(c.lastIndex=g.index+g[0].length,v=g[1].replace(u,"").toLowerCase(),y=g[2].replace(u,""),v&&y){if(v=p(v),y=p(y),-1!==v.indexOf("\ufeff")||-1!==v.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"==v||/expression\s*\(|\/\*|\*\//.test(y)))continue;"font-weight"===v&&"700"===y?y="bold":"color"!==v&&"background-color"!==v||(y=y.toLowerCase()),y=(y=y.replace(s,n)).replace(l,m),w[v]=b?f(y,!0):y}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),function(e,t,n,o){r(t)&&r(n)&&r(o)&&(w.border=w[t]+" "+w[n]+" "+w[o],delete w[t],delete w[n],delete w[o])}(0,"border-width","border-style","border-color"),"medium none"===w.border&&delete w.border,"none"===w["border-image"]&&delete w["border-image"]}return w},serialize:function(e,t){function n(t){var n,o,i,a;if(n=r[t])for(o=0,i=n.length;o<i;o++)(a=e[t=n[o]])&&(l+=(l.length>0?" ":"")+t+": "+a+";")}function o(e,t){var n;return!((n=a["*"])&&n[e]||(n=a[t],n&&n[e]))}var i,s,l="";if(t&&r)n("*"),n(t);else for(i in e)!(s=e[i])||a&&!o(i,t)||(l+=(l.length>0?" ":"")+i+": "+s+";");return l}}}})),n(m,[],(function(){return function(e,t){function n(e,n,o,i){var r,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(r=e[o])return r;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(r=a[o])return r}}}var o=e;this.current=function(){return o},this.next=function(e){return o=n(o,"firstChild","nextSibling",e)},this.prev=function(e){return o=n(o,"lastChild","previousSibling",e)},this.prev2=function(e){return o=function(e,n,o,i){var r,a,s;if(e){if(r=e.previousSibling,t&&r===t)return;if(r){if(!i)for(s=r[n];s;s=s[n])if(!s[n])return s;return r}if((a=e.parentNode)&&a!==t)return a}}(o,"lastChild",0,e)}}})),n(g,[f],(function(e){function t(n){function o(){return x.createDocumentFragment()}function i(e,t){d(S,e,t)}function r(e,t){d(_,e,t)}function a(e){i(e.parentNode,P(e))}function s(e){r(e.parentNode,P(e)+1)}function l(){return f(k)}function c(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n||e}function u(e,t,o,i){var r,a,s,l,c,u;if(e==o)return t==i?0:t<i?-1:1;for(r=o;r&&r.parentNode!=e;)r=r.parentNode;if(r){for(a=0,s=e.firstChild;s!=r&&a<t;)a++,s=s.nextSibling;return t<=a?-1:1}for(r=e;r&&r.parentNode!=o;)r=r.parentNode;if(r){for(a=0,s=o.firstChild;s!=r&&a<i;)a++,s=s.nextSibling;return a<i?-1:1}for(l=n.findCommonAncestor(e,o),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=o;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function d(e,t,o){var i,r;for(e?(C[N]=t,C[T]=o):(C[A]=t,C[R]=o),i=C[A];i.parentNode;)i=i.parentNode;for(r=C[N];r.parentNode;)r=r.parentNode;r==i?u(C[N],C[T],C[A],C[R])>0&&C.collapse(e):C.collapse(e),C.collapsed=C[N]==C[A]&&C[T]==C[R],C.commonAncestorContainer=n.findCommonAncestor(C[N],C[A])}function f(e){var t,n,o,i,r,a,s,l=0,c=0;if(C[N]==C[A])return h(e);for(n=(t=C[A]).parentNode;n;t=n,n=n.parentNode){if(n==C[N])return p(t,e);++l}for(n=(t=C[N]).parentNode;n;t=n,n=n.parentNode){if(n==C[A])return m(t,e);++c}for(o=c-l,i=C[N];o>0;)i=i.parentNode,o--;for(r=C[A];o<0;)r=r.parentNode,o++;for(a=i.parentNode,s=r.parentNode;a!=s;a=a.parentNode,s=s.parentNode)i=a,r=s;return g(i,r,e)}function h(e){var t,n,i,r,a,s,l,u;if(e!=E&&(t=o()),C[T]==C[R])return t;if(3==C[N].nodeType){if(n=C[N].nodeValue.substring(C[T],C[R]),e!=k&&(i=C[N],u=C[R]-C[T],0===(l=C[T])&&u>=i.nodeValue.length-1?i.parentNode.removeChild(i):i.deleteData(l,u),C.collapse(S)),e==E)return;return n.length>0&&t.appendChild(x.createTextNode(n)),t}for(i=c(C[N],C[T]),r=C[R]-C[T];i&&r>0;)a=i.nextSibling,s=w(i,e),t&&t.appendChild(s),--r,i=a;return e!=k&&C.collapse(S),t}function p(e,t){var n,i,r,a,s;if(t!=E&&(n=o()),i=v(e,t),n&&n.appendChild(i),(r=P(e)-C[T])<=0)return t!=k&&(C.setEndBefore(e),C.collapse(_)),n;for(i=e.previousSibling;r>0;)a=i.previousSibling,s=w(i,t),n&&n.insertBefore(s,n.firstChild),--r,i=a;return t!=k&&(C.setEndBefore(e),C.collapse(_)),n}function m(e,t){var n,i,r,a,s,l;for(t!=E&&(n=o()),r=y(e,t),n&&n.appendChild(r),i=P(e),++i,a=C[R]-i,r=e.nextSibling;r&&a>0;)s=r.nextSibling,l=w(r,t),n&&n.appendChild(l),--a,r=s;return t!=k&&(C.setStartAfter(e),C.collapse(S)),n}function g(e,t,n){var i,r,a,s,l,c;for(n!=E&&(r=o()),i=y(e,n),r&&r.appendChild(i),a=P(e),s=P(t)-++a,l=e.nextSibling;s>0;)c=l.nextSibling,i=w(l,n),r&&r.appendChild(i),l=c,--s;return i=v(t,n),r&&r.appendChild(i),n!=k&&(C.setStartAfter(e),C.collapse(S)),r}function v(e,t){var n,o,i,r,a,s=c(C[A],C[R]-1),l=s!=C[A];if(s==e)return b(s,l,_,t);for(o=b(n=s.parentNode,_,_,t);n;){for(;s;)i=s.previousSibling,r=b(s,l,_,t),t!=E&&o.insertBefore(r,o.firstChild),l=S,s=i;if(n==e)return o;s=n.previousSibling,a=b(n=n.parentNode,_,_,t),t!=E&&a.appendChild(o),o=a}}function y(e,t){var n,o,i,r,a,s=c(C[N],C[T]),l=s!=C[N];if(s==e)return b(s,l,S,t);for(o=b(n=s.parentNode,_,S,t);n;){for(;s;)i=s.nextSibling,r=b(s,l,S,t),t!=E&&o.appendChild(r),l=S,s=i;if(n==e)return o;s=n.nextSibling,a=b(n=n.parentNode,_,S,t),t!=E&&a.appendChild(o),o=a}}function b(e,t,o,i){var r,a,s,l,c;if(t)return w(e,i);if(3==e.nodeType){if(r=e.nodeValue,o?(a=r.substring(l=C[T]),s=r.substring(0,l)):(a=r.substring(0,l=C[R]),s=r.substring(l)),i!=k&&(e.nodeValue=s),i==E)return;return(c=n.clone(e,_)).nodeValue=a,c}return i!=E?n.clone(e,_):void 0}function w(e,t){return t!=E?t==k?n.clone(e,S):e:void e.parentNode.removeChild(e)}var C=this,x=n.doc,k=1,E=2,S=!0,_=!1,T="startOffset",N="startContainer",A="endContainer",R="endOffset",D=e.extend,P=n.nodeIndex;return D(C,{startContainer:x,startOffset:0,endContainer:x,endOffset:0,collapsed:S,commonAncestorContainer:x,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:r,setStartBefore:a,setStartAfter:function(e){i(e.parentNode,P(e)+1)},setEndBefore:function(e){r(e.parentNode,P(e))},setEndAfter:s,collapse:function(e){e?(C[A]=C[N],C[R]=C[T]):(C[N]=C[A],C[T]=C[R]),C.collapsed=S},selectNode:function(e){a(e),s(e)},selectNodeContents:function(e){i(e,0),r(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)},compareBoundaryPoints:function(e,t){var n=C[N],o=C[T],i=C[A],r=C[R],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?u(n,o,a,s):1===e?u(i,r,a,s):2===e?u(i,r,l,c):3===e?u(n,o,l,c):void 0},deleteContents:function(){f(E)},extractContents:function(){return f(0)},cloneContents:l,insertNode:function(e){var t,o,i=this[N],r=this[T];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(i.childNodes.length>0&&(o=i.childNodes[r]),o?i.insertBefore(e,o):3==i.nodeType?n.insertAfter(e,i):i.appendChild(e)):r?r>=i.nodeValue.length?n.insertAfter(e,i):(t=i.splitText(r),i.parentNode.insertBefore(e,t)):i.parentNode.insertBefore(e,i)},surroundContents:function(e){var t=C.extractContents();C.insertNode(e),e.appendChild(t),C.selectNode(e)},cloneRange:function(){return D(new t(n),{startContainer:C[N],startOffset:C[T],endContainer:C[A],endOffset:C[R],collapsed:C.collapsed,commonAncestorContainer:C.commonAncestorContainer})},toStringIE:function(){return n.create("body",null,l()).outerText}}),C}return t.prototype.toString=function(){return this.toStringIE()},t})),n(v,[f],(function(e){function t(e,t){var n,i,r,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),o[i]||(a[i]=r="&"+e[n+1]+";",a[r]=i);return a}}var n,o,i,r=e.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,u={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},n=t("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var d={encodeRaw:function(e,t){return e.replace(t?a:s,(function(e){return o[e]||e}))},encodeAllRaw:function(e){return(""+e).replace(l,(function(e){return o[e]||e}))},encodeNumeric:function(e,t){return e.replace(t?a:s,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":o[e]||"&#"+e.charCodeAt(0)+";"}))},encodeNamed:function(e,t,i){return i=i||n,e.replace(t?a:s,(function(e){return o[e]||i[e]||e}))},getEncodeFunc:function(e,i){return i=t(i)||n,(e=r(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?a:s,(function(e){return o[e]||i[e]||"&#"+e.charCodeAt(0)+";"||e}))}:e.named?i?function(e,t){return d.encodeNamed(e,t,i)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(c,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):u[t]||String.fromCharCode(t):i[e]||n[e]||function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.textContent||t.innerText||e}(e)}))}};return d})),n(y,[f,s],(function(e,t){return function(n,o){function i(e){n.getElementsByTagName("head")[0].appendChild(e)}var r,a=0,s={};r=(o=o||{}).maxLoadTime||5e3,this.load=function(o,l,c){function u(){for(var e=v.passed,t=e.length;t--;)e[t]();v.status=2,v.passed=[],v.failed=[]}function d(){for(var e=v.failed,t=e.length;t--;)e[t]();v.status=3,v.passed=[],v.failed=[]}function f(e,n){e()||((new Date).getTime()-g<r?t.setTimeout(n):d())}function h(){f((function(){for(var e,t,o=n.styleSheets,i=o.length;i--;)if((t=(e=o[i]).ownerNode?e.ownerNode:e.owningElement)&&t.id===p.id)return u(),!0}),h)}var p,m,g,v;if(o=e._addCacheSuffix(o),s[o]?v=s[o]:s[o]=v={passed:[],failed:[]},l&&v.passed.push(l),c&&v.failed.push(c),1!=v.status){if(2==v.status)return void u();if(3==v.status)return void d();if(v.status=1,(p=n.createElement("link")).rel="stylesheet",p.type="text/css",p.id="u"+a++,p.async=!1,p.defer=!1,g=(new Date).getTime(),"onload"in p&&!function(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}())p.onload=h,p.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return(m=n.createElement("style")).textContent='@import "'+o+'"',function e(){f((function(){try{var e=m.sheet.cssRules;return u(),!!e}catch(t){}}),e)}(),void i(m);h()}i(p),p.href=o}}}})),n(b,[u,h,p,c,m,g,v,l,f,y],(function(e,n,o,i,r,a,s,l,c,u){function d(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function f(e,t){var n,o,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)o=e.nodeType,(!t||3!=o||o!=n&&e.nodeValue.length)&&(i++,n=o);return i}function h(e,t){var r,a=this;a.doc=e,a.win=window,a.files={},a.counter=0,a.stdMode=!y||e.documentMode>=8,a.boxModel=!y||"CSS1Compat"==e.compatMode||a.stdMode,a.styleSheetLoader=new u(e),a.boundEvents=[],a.settings=t=t||{},a.schema=t.schema,a.styles=new o({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),a.fixDoc(e),a.events=t.ownEvents?new i(t.proxy):i.Event,a.attrHooks=function(e,t){var n,o={},i=t.keep_values;return n={set:function(n,o,i){t.url_converter&&(o=t.url_converter.call(t.url_converter_scope||e,o,i,n[0])),n.attr("data-mce-"+i,o).attr(i,o)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},o={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(i&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},i&&(o.href=o.src=n),o}(a,t),r=t.schema?t.schema.getBlockElements():{},a.$=n.overrideDefaults((function(){return{context:e,element:a.getRoot()}})),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!r[e.nodeName]):!!r[e]}}var p=c.each,m=c.is,g=c.grep,v=c.trim,y=l.ie,b=/^([a-z0-9],?)+$/i,w=/^[ \t\r\n]*$/;return h.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(y&&n.schema)for(t in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,(function(t){e.createElement(t)})),n.schema.getCustomElements())e.createElement(t)},clone:function(e,t){var n,o=this;return!y||1!==e.nodeType||t?e.cloneNode(t):t?n.firstChild:(n=o.doc.createElement(e.nodeName),p(o.getAttribs(e),(function(t){o.setAttrib(n,t.nodeName,o.getAttrib(e,t.nodeName))})),n)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,o=this;return e=o.get(e),t=o.getPos(e),n=o.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,o=this;return e=o.get(e),t=o.getStyle(e,"width"),n=o.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,o,i){var r,a=this,s=[];for(e=a.get(e),i=i===t,o=o||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),m(n,"string")&&(r=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,r)});e&&e!=o&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var o=this;return e(t,o.get(n)||o.settings.root_element||o.doc,[])},is:function(n,o){var i;if(n.length===t){if("*"===o)return 1==n.nodeType;if(b.test(o)){for(o=o.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=o.length-1;i>=0;i--)if(o[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var r=n.nodeType?[n]:n;return e(o,r[0].ownerDocument||r[0],null,r).length>0},add:function(e,t,n,o,i){var r=this;return this.run(e,(function(e){var a;return a=m(t,"string")?r.doc.createElement(t):t,r.setAttribs(a,n),o&&(o.nodeType?a.appendChild(o):r.setHTML(a,o)),i?a:e.appendChild(a)}))},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var o,i="";for(o in i+="<"+e,t)t.hasOwnProperty(o)&&null!=t[o]&&(i+=" "+o+'="'+this.encode(t[o])+'"');return void 0!==n?i+">"+n+"</"+e+">":i+" />"},createFragment:function(e){var t,n,o,i=this.doc;for(o=i.createElement("div"),t=i.createDocumentFragment(),e&&(o.innerHTML=e);n=o.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each((function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&d(this,e)},getStyle:function(e,n,o){return e=this.$$(e),o?e.css(n):("float"==(n=n.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})))&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&d(this,e)},removeAllAttribs:function(e){return this.run(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},setAttrib:function(e,t,n){var o,i,r=this,a=r.settings;""===n&&(n=null),o=(e=r.$$(e)).attr(t),e.length&&((i=r.attrHooks[t])&&i.set?i.set(e,n,t):e.attr(t,n),o!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each((function(e,o){p(t,(function(e,t){n.setAttrib(o,t,e)}))}))},getAttrib:function(e,t,n){var o,i;return(e=this.$$(e)).length&&(i=(o=this.attrHooks[t])&&o.get?o.get(e,t):e.attr(t)),void 0===i&&(i=n||""),i},getPos:function(e,t){var o,i,r=this,a=0,s=0,l=r.doc,c=l.body;if(t=t||c,e=r.get(e)){if(t===c&&e.getBoundingClientRect&&"static"===n(c).css("position"))return{x:a=(i=e.getBoundingClientRect()).left+(l.documentElement.scrollLeft||c.scrollLeft)-(t=r.boxModel?l.documentElement:c).clientLeft,y:s=i.top+(l.documentElement.scrollTop||c.scrollTop)-t.clientTop};for(o=e;o&&o!=t&&o.nodeType;)a+=o.offsetLeft||0,s+=o.offsetTop||0,o=o.offsetParent;for(o=e.parentNode;o&&o!=t&&o.nodeType;)a-=o.scrollLeft||0,s-=o.scrollTop||0,o=o.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,o=this.doc;if(this!==h.DOM&&o===document){var i=h.DOM.addedStyles;if((i=i||[])[e])return;i[e]=!0,h.DOM.addedStyles=i}(n=o.getElementById("mceDefaultStyles"))||((n=o.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=o.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(o.createTextNode(e))},loadCSS:function(e){var t,n=this,o=n.doc;return n!==h.DOM&&o===document?void h.DOM.loadCSS(e):(e||(e=""),t=o.getElementsByTagName("head")[0],void p(e.split(","),(function(e){var i;e=c._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,i=n.create("link",{rel:"stylesheet",href:e}),y&&o.documentMode&&o.recalc&&(i.onload=function(){o.recalc&&o.recalc(),i.onload=null}),t.appendChild(i))})))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,o){this.$$(e).toggleClass(t,o).each((function(){""===this.className&&n(this).attr("class",null)}))},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),y?e.each((function(e,o){if(!1!==o.canHaveHTML){for(;o.firstChild;)o.removeChild(o.firstChild);try{o.innerHTML="<br>"+t,o.removeChild(o.firstChild)}catch(i){n("<div></div>").html("<br>"+t).contents().slice(1).appendTo(o)}return t}})):e.html(t)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:n("<div></div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var o=this;o.$$(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}o.remove(n(this).html(t),!0)}))},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,(function(e){var n,o;return n=t.parentNode,(o=t.nextSibling)?n.insertBefore(e,o):n.appendChild(e),e}))},replace:function(e,t,n){return this.run(t,(function(t){return m(t,"array")&&(e=e.cloneNode(!0)),n&&p(g(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},rename:function(e,t){var n,o=this;return e.nodeName!=t.toUpperCase()&&(n=o.create(t),p(o.getAttribs(e),(function(t){o.setAttrib(n,t.nodeName,o.getAttrib(e,t.nodeName))})),o.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,o=e;o;){for(n=t;n&&o!=n;)n=n.parentNode;if(o==n)break;o=o.parentNode}return!o&&e.ownerDocument?e.ownerDocument.documentElement:o},toHex:function(e){return this.styles.toHex(c.trim(e))},run:function(e,t,n){var o,i=this;return"string"==typeof e&&(e=i.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(o=[],p(e,(function(e,r){e&&("string"==typeof e&&(e=i.get(e)),o.push(t.call(n,e,r)))})),o))},getAttribs:function(e){var t;return(e=this.get(e))?y?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,(function(e){t.push({specified:1,nodeName:e})})),t)):e.attributes:[]},isEmpty:function(e,t){var n,o,i,a,s,l,c=this,u=0;if(e=e.firstChild){s=new r(e,e.parentNode),t=t||(c.schema?c.schema.getNonEmptyElements():null),a=c.schema?c.schema.getWhiteSpaceElements():{};do{if(1===(i=e.nodeType)){var d=e.getAttribute("data-mce-bogus");if(d){e=s.next("all"===d);continue}if(l=e.nodeName.toLowerCase(),t&&t[l]){if("br"===l){u++,e=s.next();continue}return!1}for(n=(o=c.getAttribs(e)).length;n--;)if("name"===(l=o[n].nodeName)||"data-mce-bookmark"===l)return!1}if(8==i)return!1;if(3===i&&!w.test(e.nodeValue))return!1;if(3===i&&e.parentNode&&a[e.parentNode.nodeName]&&w.test(e.nodeValue))return!1;e=s.next()}while(e)}return u<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:f,split:function(e,t,n){function o(e){var t,n=e.childNodes,i=e.nodeType;if(1!=i||"bookmark"!=e.getAttribute("data-mce-type")){for(t=n.length-1;t>=0;t--)o(n[t]);if(9!=i){if(3==i&&e.nodeValue.length>0){var r=v(e.nodeValue).length;if(!s.isBlock(e.parentNode)||r>0||0===r&&function(e){return e.previousSibling&&"SPAN"==e.previousSibling.nodeName&&e.nextSibling&&"SPAN"==e.nextSibling.nodeName}(e))return}else if(1==i&&(1==(n=e.childNodes).length&&n[0]&&1==n[0].nodeType&&"bookmark"==n[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(n[0],e),n.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var i,r,a,s=this,l=s.createRng();if(e&&t)return l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),i=l.extractContents(),(l=s.createRng()).setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),r=l.extractContents(),(a=e.parentNode).insertBefore(o(i),e),a.insertBefore(n||t,e),a.insertBefore(o(r),e),s.remove(e),n||t},bind:function(e,t,n,o){var i=this;if(c.isArray(e)){for(var r=e.length;r--;)e[r]=i.bind(e[r],t,n,o);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,o]),i.events.bind(e,t,n,o||i)},unbind:function(e,t,n){var o,i=this;if(c.isArray(e)){for(o=e.length;o--;)e[o]=i.unbind(e[o],t,n);return e}if(i.boundEvents&&(e===i.doc||e===i.win))for(o=i.boundEvents.length;o--;){var r=i.boundEvents[o];e!=r[0]||t&&t!=r[1]||n&&n!=r[2]||this.events.unbind(r[0],r[1],r[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var o=t.boundEvents[n];this.events.unbind(o[0],o[1],o[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var o=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return o.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},h.DOM=new h(document),h.nodeIndex=f,h})),n(w,[b,f],(function(e,t){function n(){function e(e,n,i){function r(){c.remove(l),s&&(s.onreadystatechange=s.onload=s=null),n()}var s,l,c=o;l=c.uniqueId(),(s=document.createElement("script")).id=l,s.type="text/javascript",s.src=t._addCacheSuffix(e),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&r()}:s.onload=r,s.onerror=function(){a(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}var n,s={},l=[],c={},u=[],d=0;this.isDone=function(e){return 2==s[e]},this.markDone=function(e){s[e]=2},this.add=this.load=function(e,t,o,i){s[e]==n&&(l.push(e),s[e]=0),t&&(c[e]||(c[e]=[]),c[e].push({success:t,failure:i,scope:o||this}))},this.remove=function(e){delete s[e],delete c[e]},this.loadQueue=function(e,t,n){this.loadScripts(l,e,t,n)},this.loadScripts=function(t,o,l,f){function h(e,t){i(c[t],(function(t){a(t[e])&&t[e].call(t.scope)})),c[t]=n}var p,m=[];u.push({success:o,failure:f,scope:l||this}),(p=function(){var n=r(t);t.length=0,i(n,(function(t){return 2===s[t]?void h("success",t):3===s[t]?void h("failure",t):void(1!==s[t]&&(s[t]=1,d++,e(t,(function(){s[t]=2,d--,h("success",t),p()}),(function(){s[t]=3,d--,m.push(t),h("failure",t),p()}))))})),d||(i(u,(function(e){0===m.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,m)})),u.length=0)})()}}var o=e.DOM,i=t.each,r=t.grep,a=function(e){return"function"==typeof e};return n.ScriptLoader=new n,n})),n(C,[w,f],(function(e,n){function o(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return o.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=o.language;if(i&&!1!==o.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1==n.indexOf(","+i+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var o=this.urls[t];i(n,(function(t){e.ScriptLoader.add(o+"/"+t)}))},load:function(n,r,a,s,l){function c(){var o=u.dependencies(n);i(o,(function(e){var n=u.createUrl(r,e);u.load(n.resource,n,t,t)})),a&&a.call(s||e)}var u=this,d=r;u.urls[n]||("object"==typeof r&&(d=r.prefix+r.resource+r.suffix),0!==d.indexOf("/")&&-1==d.indexOf("://")&&(d=o.baseURL+"/"+d),u.urls[n]=d.substring(0,d.lastIndexOf("/")),u.lookup[n]?c():e.ScriptLoader.add(d,c,s,l))}},o.PluginManager=new o,o.ThemeManager=new o,o})),n(x,[],(function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,o;if(t&&t.nodeType)for(o=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(o===e[n])return!0;return!1}}function n(e){return function(t){if(o(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var o=e(1);return{isText:e(3),isElement:o,isComment:e(8),isBr:t("br"),isContentEditableTrue:n("true"),isContentEditableFalse:n("false"),matchNodeNames:t,hasPropValue:function(e,t){return function(n){return o(n)&&n[e]===t}},hasAttributeValue:function(e,t){return function(n){return o(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){return t=t.toLowerCase().split(" "),function(n){var i;if(o(n))for(i=0;i<t.length;i++)if(getComputedStyle(n,null).getPropertyValue(e)===t[i])return!0;return!1}},isBogus:function(e){return o(e)&&e.hasAttribute("data-mce-bogus")}}})),n(k,[],(function(){return{isZwsp:function(e){return"\ufeff"==e},ZWSP:"\ufeff",trim:function(e){return e.replace(new RegExp("\ufeff","g"),"")}}})),n(E,[x,k],(function(e,t){function n(e){return d(e)&&(e=e.parentNode),u(e)&&e.hasAttribute("data-mce-caret")}function o(e){return d(e)&&t.isZwsp(e.data)}function i(e){return n(e)||o(e)}function r(e){var t=e.parentNode;t&&t.removeChild(e)}function a(t){return t.firstChild!==t.lastChild||!e.isBr(t.firstChild)}function s(e){return d(e)&&e.data[0]==t.ZWSP}function l(e){return d(e)&&e.data[e.data.length-1]==t.ZWSP}function c(t){var n=t.getElementsByTagName("br"),o=n[n.length-1];e.isBogus(o)&&o.parentNode.removeChild(o)}var u=e.isElement,d=e.isText;return{isCaretContainer:i,isCaretContainerBlock:n,isCaretContainerInline:o,showCaretContainerBlock:function(e){return e&&e.hasAttribute("data-mce-caret")?(c(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},insertInline:function(e,n){var o,r,a;if(r=e.ownerDocument.createTextNode(t.ZWSP),a=e.parentNode,n){if(d(o=e.previousSibling)){if(i(o))return o;if(l(o))return o.splitText(o.data.length-1)}a.insertBefore(r,e)}else{if(d(o=e.nextSibling)){if(i(o))return o;if(s(o))return o.splitText(1),o}e.nextSibling?a.insertBefore(r,e.nextSibling):a.appendChild(r)}return r},insertBlock:function(e,t,n){var o,i;return(o=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}()),i=t.parentNode,n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},hasContent:a,remove:function(e){u(e)&&i(e)&&(a(e)?e.removeAttribute("data-mce-caret"):r(e)),d(e)&&function(e,t){0===t.length?r(e):e.nodeValue=t}(e,t.trim(function(e){try{return e.nodeValue}catch(t){return""}}(e)))},startsWithCaretContainer:s,endsWithCaretContainer:l}})),n(S,[f,m,x,g,E],(function(e,t,n,o,i){function r(e){return f(e)||h(e)}function a(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function s(e){return"_mce_caret"===e.id}function l(e,t){return p(e)&&!1===function(e,t,n){return null!==a(e,t,n)}(e,t,s)}function c(e){this.walk=function(t,n){function o(e){var t;return 3===(t=e[0]).nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function i(e,t,n){for(var o=[];e&&e!=n;e=e[t])o.push(e);return o}function r(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function a(e,t,r){var a=r?"nextSibling":"previousSibling";for(f=(u=e).parentNode;u&&u!=t;u=f)f=u.parentNode,(h=i(u==e?u:u[a],a)).length&&(r||h.reverse(),n(o(h)))}var s,l,c,u,f,h,p,m=t.startContainer,g=t.startOffset,v=t.endContainer,y=t.endOffset;if((p=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)d(p,(function(e){n([e])}));else{if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=function(e,t){var n=e.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}(v,y)),m==v)return n(o([m]));for(s=e.findCommonAncestor(m,v),u=m;u;u=u.parentNode){if(u===v)return a(m,s,!0);if(u===s)break}for(u=v;u;u=u.parentNode){if(u===m)return a(v,s);if(u===s)break}l=r(m,s)||m,c=r(v,s)||v,a(m,l,!0),(h=i(l==m?l:l.nextSibling,"nextSibling",c==v?c.nextSibling:c)).length&&n(o(h)),a(v,c)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,o=e.startOffset,i=e.endContainer,r=e.endOffset;return n==i&&3==n.nodeType?o>0&&o<n.nodeValue.length&&(n=(i=t(n,o)).previousSibling,r>o?(n=i=t(i,r-=o).previousSibling,r=i.nodeValue.length,o=0):r=0):(3==n.nodeType&&o>0&&o<n.nodeValue.length&&(n=t(n,o),o=0),3==i.nodeType&&r>0&&r<i.nodeValue.length&&(r=(i=t(i,r).previousSibling).nodeValue.length)),{startContainer:n,startOffset:o,endContainer:i,endOffset:r}},this.normalize=function(n){function o(o){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,o){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||b);n=i[o?"prev":"next"]();)if("BR"===n.nodeName)return!0}function c(n,o){var a,s,c;if(c=e.getParent((o=o||u).parentNode,e.isBlock)||b,n&&"BR"==o.nodeName&&y&&e.isEmpty(c))return u=o.parentNode,d=e.nodeIndex(o),void(i=!0);for(a=new t(o,c);m=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(m)||l(m,e.getRoot()))return;if(3===m.nodeType&&m.nodeValue.length>0)return u=m,d=n?m.nodeValue.length:0,void(i=!0);if(e.isBlock(m)||g[m.nodeName.toLowerCase()])return;s=m}r&&s&&(u=s,i=!0,d=0)}var u,d,f,m,g,v,y,b=e.getRoot();if(d=n[(o?"start":"end")+"Offset"],y=1==(u=n[(o?"start":"end")+"Container"]).nodeType&&d===u.childNodes.length,g=e.schema.getNonEmptyElements(),v=o,!p(u)){if(1==u.nodeType&&d>u.childNodes.length-1&&(v=!1),9===u.nodeType&&(u=e.getRoot(),d=0),u===b){if(v&&(m=u.childNodes[d>0?d-1:0])){if(p(m))return;if(g[m.nodeName]||"TABLE"==m.nodeName)return}if(u.hasChildNodes()){if(d=Math.min(!v&&d>0?d-1:d,u.childNodes.length-1),u=u.childNodes[d],d=0,!r&&u===b.lastChild&&"TABLE"===u.nodeName)return;if(function(e){for(;e&&e!=b;){if(h(e))return!0;e=e.parentNode}return!1}(u)||p(u))return;if(u.hasChildNodes()&&!/TABLE/.test(u.nodeName)){m=u,f=new t(u,b);do{if(h(m)||p(m)){i=!1;break}if(3===m.nodeType&&m.nodeValue.length>0){d=v?0:m.nodeValue.length,u=m,i=!0;break}if(g[m.nodeName.toLowerCase()]&&!a(m)){d=e.nodeIndex(m),u=m.parentNode,"IMG"!=m.nodeName||v||d++,i=!0;break}}while(m=v?f.next():f.prev())}}}r&&(3===u.nodeType&&0===d&&c(!0),1===u.nodeType&&((m=u.childNodes[d])||(m=u.childNodes[d-1]),!m||"BR"!==m.nodeName||function(e,t){return e.previousSibling&&"A"==e.previousSibling.nodeName}(m)||s(m)||s(m,!0)||c(!0,m))),v&&!r&&3===u.nodeType&&d===u.nodeValue.length&&c(!1),i&&n["set"+(o?"Start":"End")](u,d)}}var i,r;return r=n.collapsed,o(!0),r||o(),i&&r&&n.collapse(!0),i}}function u(t,n,o){var i,r,s;if(i=o.elementFromPoint(t,n),r=o.body.createTextRange(),i&&"HTML"!=i.tagName||(i=o.body),r.moveToElementText(i),(s=(s=e.toArray(r.getClientRects())).sort((function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-Math.abs(Math.max(t.top-n,t.bottom-n))}))).length>0){n=(s[0].bottom+s[0].top)/2;try{return r.moveToPoint(t,n),r.collapse(!0),r}catch(a){}}return null}var d=e.each,f=n.isContentEditableTrue,h=n.isContentEditableFalse,p=i.isCaretContainer;return c.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},c.getCaretRangeFromPoint=function(e,t,n){var o,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),(o=n.createRange()).setStart(i.offsetNode,i.offset),o.collapse(!0);else if(n.caretRangeFromPoint)o=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){o=n.body.createTextRange();try{o.moveToPoint(e,t),o.collapse(!0)}catch(r){o=u(e,t,n)}return function(e,t){var n=e&&e.parentElement?e.parentElement():null;return h(a(n,t,r))?null:e}(o,n.body)}return o},c.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},c.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},c})),n(_,[S,l,s],(function(e,t,n){return function(o){var i,r=[];"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",(function(t){var n,r;r={startContainer:(n=o.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(r,i)||o.fire("SelectionChange"),i=r})),o.on("contextmenu",(function(){o.fire("SelectionChange")})),o.on("SelectionChange",(function(){var e=o.selection.getStart(!0);!t.range&&o.selection.isCollapsed()||!function(e){var t,n;if((n=o.$(e).parentsUntil(o.getBody()).add(e)).length===r.length){for(t=n.length;t>=0&&n[t]===r[t];t--);if(-1===t)return r=n,!0}return r=n,!1}(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})})),o.on("MouseUp",(function(e){e.isDefaultPrevented()||("IMG"==o.selection.getNode().nodeName?n.setEditorTimeout(o,(function(){o.nodeChanged()})):o.nodeChanged())})),this.nodeChanged=function(e){var t,n,i,r=o.selection;o.initialized&&r&&!o.settings.disable_nodechange&&!o.readonly&&(i=o.getBody(),(t=r.getStart()||i).ownerDocument==o.getDoc()&&o.dom.isChildOf(t,i)||(t=i),"IMG"==t.nodeName&&r.isCollapsed()&&(t=t.parentNode),n=[],o.dom.getParent(t,(function(e){return e===i||void n.push(e)})),(e=e||{}).element=t,e.parents=n,o.fire("NodeChange",e))}}})),n(T,[],(function(){function e(e,t,n){var o,i,r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){if(o=e[a])return o;for(i=e.parent;i&&i!==t;i=i.parent)if(o=i[a])return o}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,o={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,o,i=this;if("string"!=typeof e){for(o in e)i.attr(o,e[o]);return i}if(n=i.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],o=n.length;o--;)if(n[o].name===e)return n=n.splice(o,1),i;return i}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,i}return n.map[e]}},clone:function(){var e,n,o,i,r,a=this,s=new t(a.name,a.type);if(o=a.attributes){for((r=[]).map={},e=0,n=o.length;e<n;e++)"id"!==(i=o[e]).name&&(r[r.length]={name:i.name,value:i.value},r.map[i.name]=i.value);s.attributes=r}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o.next=n,t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n.prev=o,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var o;return e.parent&&e.remove(),o=t.parent||this,n?(t===o.firstChild?o.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=o,e},getAll:function(t){var n,o=[];for(n=this.firstChild;n;n=e(n,this))n.name===t&&o.push(n);return o},empty:function(){var t,n,o,i=this;if(i.firstChild){for(t=[],o=i.firstChild;o;o=e(o,i))t.push(o);for(n=t.length;n--;)(o=t[n]).parent=o.firstChild=o.lastChild=o.next=o.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(t,o){var i,r,a=this.firstChild;if(o=o||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if("name"===(r=a.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1;if(3===a.type&&a.parent&&o[a.parent.name]&&n.test(a.value))return!1}while(a=e(a,this));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,r;if(i=new t(e,o[e]||1),n)for(r in n)i.attr(r,n[r]);return i},t})),n(N,[f],(function(e){function t(t,n){return(t=e.trim(t))?t.split(n||" "):[]}function n(e){function n(e,n,o){function i(e,t){var n,o,i={};for(n=0,o=e.length;n<o;n++)i[e[n]]=t||{};return i}var s,l,c;for(n=n||"","string"==typeof(o=o||[])&&(o=t(o)),s=(e=t(e)).length;s--;)c={attributes:i(l=t([a,n].join(" "))),attributesOrder:l,children:i(o,r)},h[e[s]]=c}function o(e,n){var o,i,r,a;for(o=(e=t(e)).length,n=t(n);o--;)for(i=h[e[o]],r=0,a=n.length;r<a;r++)i.attributes[n[r]]={},i.attributesOrder.push(n[r])}var a,l,c,u,d,f,h={};return i[e]?i[e]:(a="id accesskey class dir lang style tabindex title",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(a+=" xml:lang",c=[c,f="acronym applet basefont big font strike tt"].join(" "),s(t(f),(function(e){n(e,"",c)})),l=[l,d="center dir isindex noframes"].join(" "),u=[l,c].join(" "),s(t(d),(function(e){n(e,"",u)}))),u=u||[l,c].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),n("address dt dd div caption","",u),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",u),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",u),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",u),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",u),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[u,"param"].join(" ")),n("param","name value"),n("map","name",[u,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",u),n("th","colspan rowspan headers scope abbr",u),n("form","accept-charset action autocomplete enctype method name novalidate target",u),n("fieldset","disabled form name",[u,"legend"].join(" ")),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?u:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[u,"li"].join(" ")),n("noscript","",u),"html4"!=e&&(n("wbr"),n("ruby","",[c,"rt rp"].join(" ")),n("figcaption","",u),n("mark rt rp summary bdi","",c),n("canvas","width height",u),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[u,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[c,"option"].join(" ")),n("article section nav aside header footer","",u),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[u,"figcaption"].join(" ")),n("time","datetime",c),n("dialog","open",u),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",[u,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(o("script","language xml:space"),o("style","xml:space"),o("object","declare classid code codebase codetype archive standby align border hspace vspace"),o("embed","align name hspace vspace"),o("param","valuetype type"),o("a","charset name rev shape coords"),o("br","clear"),o("applet","codebase archive code object alt name width height align hspace vspace"),o("img","name longdesc align border hspace vspace"),o("iframe","longdesc frameborder marginwidth marginheight scrolling align"),o("font basefont","size color face"),o("input","usemap align"),o("select","onchange"),o("textarea"),o("h1 h2 h3 h4 h5 h6 div p legend caption","align"),o("ul","type compact"),o("li","type"),o("ol dl menu dir","compact"),o("pre","width xml:space"),o("hr","align noshade size width"),o("isindex","prompt"),o("table","summary width frame rules cellspacing cellpadding align bgcolor"),o("col","width align char charoff valign"),o("colgroup","width align char charoff valign"),o("thead","align char charoff valign"),o("tr","align char charoff valign bgcolor"),o("th","axis align char charoff valign nowrap bgcolor width height"),o("form","accept"),o("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),o("tfoot","align char charoff valign"),o("tbody","align char charoff valign"),o("area","nohref"),o("body","background bgcolor text link vlink alink")),"html4"!=e&&(o("input button select textarea","autofocus"),o("input textarea","placeholder"),o("a","download"),o("link script img","crossorigin"),o("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),(function(e){h[e]&&delete h[e].children[e]})),delete h.caption.children.table,delete h.script,i[e]=h,h)}function o(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,(function(e,o){n[o]=n[o.toUpperCase()]="map"==t?a(e,/[, ]/):c(e,/[, ]/)}))),n}var i={},r={},a=e.makeMap,s=e.each,l=e.extend,c=e.explode,u=e.inArray;return function(e){function r(t,n,o){var r=e[t];return r?r=a(r,/[, ]/,a(r.toUpperCase(),/[, ]/)):(r=i[t])||(r=a(n," ",a(n.toUpperCase()," ")),r=l(r,o),i[t]=r),r}function d(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function f(e){var n,o,i,r,s,l,c,f,h,p,m,g,v,y,b,w,C,x,k,E=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,_=/[*?+]/;if(e)for(e=t(e,","),D["@"]&&(w=D["@"].attributes,C=D["@"].attributesOrder),n=0,o=e.length;n<o;n++)if(s=E.exec(e[n])){if(h=s[2],b=s[3],f=s[5],l={attributes:g={},attributesOrder:v=[]},"#"===(y=s[1])&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),w){for(x in w)g[x]=w[x];v.push.apply(v,C)}if(f)for(i=0,r=(f=t(f,"|")).length;i<r;i++)if(s=S.exec(f[i])){if(c={},m=s[1],p=s[2].replace(/::/g,":"),y=s[3],k=s[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),c.required=!0),"-"===m){delete g[p],v.splice(u(v,p),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:k}),c.defaultValue=k),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:k}),c.forcedValue=k),"<"===y&&(c.validValues=a(k,"?"))),_.test(p)?(l.attributePatterns=l.attributePatterns||[],c.pattern=d(p),l.attributePatterns.push(c)):(g[p]||v.push(p),g[p]=c)}w||"@"!=h||(w=g,C=v),b&&(l.outputName=h,D[b]=l),_.test(h)?(l.pattern=d(h),B.push(l)):D[h]=l}}function h(e){D={},B=[],f(e),s(b,(function(e,t){P[t]=e.children}))}function p(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,s(t(e,","),(function(e){var t=n.exec(e),o="~"===t[1],i=o?"span":"div",r=t[2];if(P[r]=P[i],I[r]=i,o||(S[r.toUpperCase()]={},S[r]={}),!D[r]){var a=D[i];delete(a=l({},a)).removeEmptyAttrs,delete a.removeEmpty,D[r]=a}s(P,(function(e,t){e[i]&&(P[t]=e=l({},P[t]),e[r]=e[i])}))})))}function m(n){var o=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[e.schema]=null,n&&s(t(n,","),(function(e){var n,i,r=o.exec(e);r&&(n=(i=r[1])?P[r[2]]:P[r[2]]={"#comment":{}},n=P[r[2]],s(t(r[3],"|"),(function(e){"-"===i?delete n[e]:n[e]={}})))}))}function g(e){var t,n=D[e];if(n)return n;for(t=B.length;t--;)if((n=B[t]).pattern.test(e))return n}var v,y,b,w,C,x,k,E,S,_,T,N,A,R=this,D={},P={},B=[],I={},L={};b=n((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),v=o(e.valid_styles),y=o(e.invalid_styles,"map"),E=o(e.valid_classes,"map"),w=r("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=r("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=r("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=r("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),_=r("non_empty_elements","td th iframe video audio object script pre code",x),T=r("move_caret_before_on_enter_elements","table",_),N=r("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),S=r("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",N),A=r("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),(function(e){L[e]=new RegExp("</"+e+"[^>]*>","gi")})),e.valid_elements?h(e.valid_elements):(s(b,(function(e,t){D[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},P[t]=e.children})),"html5"!=e.schema&&s(t("strong/b em/i"),(function(e){e=t(e,"/"),D[e[1]].outputName=e[0]})),s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){D[e]&&(D[e].removeEmpty=!0)})),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),(function(e){D[e].paddEmpty=!0})),s(t("span"),(function(e){D[e].removeEmptyAttrs=!0}))),p(e.custom_elements),m(e.valid_children),f(e.extended_valid_elements),m("+ol[ul|ol],+ul[ul|ol]"),s({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){D[n]&&(D[n].parentsRequired=t(e))})),e.invalid_elements&&s(c(e.invalid_elements),(function(e){D[e]&&delete D[e]})),g("span")||f("span[!data-mce-type|*]"),R.children=P,R.getValidStyles=function(){return v},R.getInvalidStyles=function(){return y},R.getValidClasses=function(){return E},R.getBoolAttrs=function(){return k},R.getBlockElements=function(){return S},R.getTextBlockElements=function(){return N},R.getTextInlineElements=function(){return A},R.getShortEndedElements=function(){return x},R.getSelfClosingElements=function(){return C},R.getNonEmptyElements=function(){return _},R.getMoveCaretBeforeOnEnterElements=function(){return T},R.getWhiteSpaceElements=function(){return w},R.getSpecialElements=function(){return L},R.isValidChild=function(e,t){var n=P[e];return!(!n||!n[t])},R.isValid=function(e,t){var n,o,i=g(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(o=n.length;o--;)if(n[o].pattern.test(e))return!0}return!1},R.getElementRule=g,R.getCustomElements=function(){return I},R.addValidElements=f,R.setValidElements=h,R.addCustomElements=p,R.addValidChildren=m,R.elements=D}})),n(A,[N,v,f],(function(e,t,n){function o(e,t,n){var o,i,r,a,s=1;for(a=e.getShortEndedElements(),(r=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=o=n;i=r.exec(t);){if(o=r.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return o}function i(i,a){function s(){}var l=this;i=i||{},l.schema=a=a||new e,!1!==i.fix_self_closing&&(i.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),(function(e){e&&(l[e]=i[e]||s)})),l.parse=function(e){function r(e){var t,n;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(n=H.length-1;n>=t;n--)(e=H[n]).valid&&O.end(e.name);H.length=t}}function s(e,t,n,o,r){var a,s;if(n=(t=t.toLowerCase())in y?t:$(n||o||r||""),w&&!m&&0!==t.indexOf("data-")){if(!(a=S[t])&&_){for(s=_.length;s--&&!(a=_[s]).pattern.test(t););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(j[t]&&!i.allow_script_urls){var l=n.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(M){l=unescape(l)}if(z.test(l))return;if(!i.allow_html_data_urls&&U.test(l)&&!/^data:image\//i.test(l))return}d.map[t]=n,d.push({name:t,value:n})}var l,c,u,d,f,h,p,m,g,v,y,b,w,C,x,k,E,S,_,T,N,A,R,D,P,B,I,L,O=this,M=0,H=[],F=0,$=t.decode,j=n.makeMap("src,href,data,background,formaction,poster"),z=/((java|vb)script|mhtml):/i,U=/^data:/i;for(D=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),R=i.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),w=i.validate,g=i.remove_internals,L=i.fix_self_closing,B=a.getSpecialElements();l=D.exec(e);){if(M<l.index&&O.text($(e.substr(M,l.index-M))),c=l[6])":"===(c=c.toLowerCase()).charAt(0)&&(c=c.substr(1)),r(c);else if(c=l[7]){if(":"===(c=c.toLowerCase()).charAt(0)&&(c=c.substr(1)),b=c in v,L&&R[c]&&H.length>0&&H[H.length-1].name===c&&r(c),!w||(C=a.getElementRule(c))){if(x=!0,w&&(S=C.attributes,_=C.attributePatterns),(E=l[8])?((m=-1!==E.indexOf("data-mce-type"))&&g&&(x=!1),(d=[]).map={},E.replace(P,s)):(d=[]).map={},w&&!m){if(T=C.attributesRequired,N=C.attributesDefault,C.removeEmptyAttrs&&!d.length&&(x=!1),A=C.attributesForced)for(f=A.length;f--;)"{$uid}"===(I=(k=A[f]).value)&&(I="mce_"+F++),d.map[p=k.name]=I,d.push({name:p,value:I});if(N)for(f=N.length;f--;)(p=(k=N[f]).name)in d.map||("{$uid}"===(I=k.value)&&(I="mce_"+F++),d.map[p]=I,d.push({name:p,value:I}));if(T){for(f=T.length;f--&&!(T[f]in d.map););-1===f&&(x=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){M=o(a,e,D.lastIndex),D.lastIndex=M;continue}x=!1}}x&&O.start(c,d,b)}else x=!1;if(u=B[c]){u.lastIndex=M=l.index+l[0].length,(l=u.exec(e))?(x&&(h=e.substr(M,l.index-M)),M=l.index+l[0].length):(h=e.substr(M),M=e.length),x&&(h.length>0&&O.text(h,!0),O.end(c)),D.lastIndex=M;continue}b||(E&&E.indexOf("/")==E.length-1?x&&O.end(c):H.push({name:c,valid:x}))}else(c=l[1])?(">"===c.charAt(0)&&(c=" "+c),i.allow_conditional_comments||"[if"!==c.substr(0,3).toLowerCase()||(c=" "+c),O.comment(c)):(c=l[2])?O.cdata(c):(c=l[3])?O.doctype(c):(c=l[4])&&O.pi(c,l[5]);M=l.index+l[0].length}for(M<e.length&&O.text($(e.substr(M))),f=H.length-1;f>=0;f--)(c=H[f]).valid&&O.end(c.name)}}var r=n.each;return i.findEndTag=o,i})),n(R,[T,N,A,f],(function(e,t,n,o){var i=o.makeMap,r=o.each,a=o.explode,s=o.extend,l=function(t,n){t.padd_empty_with_br?n.empty().append(new e("br","1")).shortEnded=!0:n.empty().append(new e("#text","3")).value="Â "},c=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(u,d){function f(t){var n,o,r,a,s,l,u,f,p,m,g,v,y,b,w,C;for(v=i("tr,td,th,tbody,thead,tfoot,table"),m=d.getNonEmptyElements(),g=d.getWhiteSpaceElements(),y=d.getTextBlockElements(),b=d.getSpecialElements(),n=0;n<t.length;n++)if((o=t[n]).parent&&!o.fixed)if(y[o.name]&&"li"==o.parent.name){for(w=o.next;w&&y[w.name];)w.name="li",w.fixed=!0,o.parent.insert(w,o.parent),w=w.next;o.unwrap(o)}else{for(a=[o],r=o.parent;r&&!d.isValidChild(r.name,o.name)&&!v[r.name];r=r.parent)a.push(r);if(r&&a.length>1){for(a.reverse(),s=l=h.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(d.isValidChild(l.name,a[p].name)?(u=h.filterNode(a[p].clone()),l.append(u)):u=l,f=a[p].firstChild;f&&f!=a[p+1];)C=f.next,u.append(f),f=C;l=u}s.isEmpty(m,g)?r.insert(o,a[0],!0):(r.insert(s,a[0],!0),r.insert(o,s)),((r=a[0]).isEmpty(m,g)||c(r,"br"))&&r.empty().remove()}else if(o.parent){if("li"===o.name){if((w=o.prev)&&("ul"===w.name||"ul"===w.name)){w.append(o);continue}if((w=o.next)&&("ul"===w.name||"ul"===w.name)){w.insert(o,w.firstChild,!0);continue}o.wrap(h.filterNode(new e("ul",1)));continue}d.isValidChild(o.parent.name,"div")&&d.isValidChild("div",o.name)?o.wrap(h.filterNode(new e("div",1))):b[o.name]?o.empty().remove():o.unwrap()}}}var h=this,p={},m=[],g={},v={};(u=u||{}).validate=!("validate"in u)||u.validate,u.root_name=u.root_name||"body",h.schema=d=d||new t,h.filterNode=function(e){var t,n,o;n in p&&((o=g[n])?o.push(e):g[n]=[e]),t=m.length;for(;t--;)(n=m[t].name)in e.attributes.map&&((o=v[n])?o.push(e):v[n]=[e]);return e},h.addNodeFilter=function(e,t){r(a(e),(function(e){var n=p[e];n||(p[e]=n=[]),n.push(t)}))},h.addAttributeFilter=function(e,t){r(a(e),(function(e){var n;for(n=0;n<m.length;n++)if(m[n].name===e)return void m[n].callbacks.push(t);m.push({name:e,callbacks:[t]})}))},h.parse=function(t,o){function r(t,n){var o,i=new e(t,n);return t in p&&((o=g[t])?o.push(i):g[t]=[i]),i}function a(e){var t,n,o,i,r=d.getBlockElements();for(t=e.prev;t&&3===t.type;){if((o=t.value.replace(R,"")).length>0)return void(t.value=o);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!r[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}var c,h,y,b,w,C,x,k,E,S,_,T,N,A,R,D,P,B,I,L,O,M=[];if(o=o||{},g={},v={},T=s(i("script,style,head,html,body,title,meta,param"),d.getBlockElements()),L=d.getNonEmptyElements(),I=d.children,_=u.validate,O="forced_root_block"in o?o.forced_root_block:u.forced_root_block,B=d.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,c=new n({validate:_,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(d.getSelfClosingElements()),cdata:function(e){y.append(r("#cdata",4)).value=e},text:function(e,t){var n;A||(e=e.replace(D," "),y.lastChild&&T[y.lastChild.name]&&(e=e.replace(N,""))),0!==e.length&&((n=r("#text",3)).raw=!!t,y.append(n).value=e)},comment:function(e){y.append(r("#comment",8)).value=e},pi:function(e,t){y.append(r(e,7)).value=t,a(y)},doctype:function(e){y.append(r("#doctype",10)).value=e,a(y)},start:function(e,t,n){var o,i,s,l,c;if(s=_?d.getElementRule(e):{}){for((o=r(s.outputName||e,1)).attributes=t,o.shortEnded=n,y.append(o),(c=I[y.name])&&I[o.name]&&!c[o.name]&&M.push(o),i=m.length;i--;)(l=m[i].name)in t.map&&((E=v[l])?E.push(o):v[l]=[o]);T[e]&&a(o),n||(y=o),!A&&B[e]&&(A=!0)}},end:function(e){var t,n,o,i,r;if(n=_?d.getElementRule(e):{}){if(T[e]&&!A){if((t=y.firstChild)&&3===t.type)if((o=t.value.replace(N,"")).length>0)t.value=o,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)i=t.next,(0===(o=t.value).length||P.test(o))&&(t.remove(),t=i),t=i;if((t=y.lastChild)&&3===t.type)if((o=t.value.replace(R,"")).length>0)t.value=o,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)i=t.prev,(0===(o=t.value).length||P.test(o))&&(t.remove(),t=i),t=i}if(A&&B[e]&&(A=!1),(n.removeEmpty||n.paddEmpty)&&y.isEmpty(L,B))if(n.paddEmpty)l(u,y);else if(!y.attributes.map.name&&!y.attributes.map.id)return r=y.parent,T[y.name]?y.empty().remove():y.unwrap(),void(y=r);y=y.parent}}},d),h=y=new e(o.context||u.root_name,11),c.parse(t),_&&M.length&&(o.context?o.invalid=!0:f(M)),O&&("body"==h.name||o.isRootContent)&&function(){function e(e){e&&((o=e.firstChild)&&3==o.type&&(o.value=o.value.replace(N,"")),(o=e.lastChild)&&3==o.type&&(o.value=o.value.replace(R,"")))}var t,n,o=h.firstChild;if(d.isValidChild(h.name,O.toLowerCase())){for(;o;)t=o.next,3==o.type||1==o.type&&"p"!==o.name&&!T[o.name]&&!o.attr("data-mce-type")?(n||((n=r(O,1)).attr(u.forced_root_block_attrs),h.insert(n,o)),n.append(o)):(e(n),n=null),o=t;e(n)}}(),!o.invalid){for(S in g){for(E=p[S],x=(b=g[S]).length;x--;)b[x].parent||b.splice(x,1);for(w=0,C=E.length;w<C;w++)E[w](b,S,o)}for(w=0,C=m.length;w<C;w++)if((E=m[w]).name in v){for(x=(b=v[E.name]).length;x--;)b[x].parent||b.splice(x,1);for(x=0,k=E.callbacks.length;x<k;x++)E.callbacks[x](b,E.name,o)}}return h},u.remove_trailing_brs&&h.addNodeFilter("br",(function(t){var n,o,i,r,a,c,f,h,p=t.length,m=s({},d.getBlockElements()),g=d.getNonEmptyElements(),v=d.getNonEmptyElements();for(m.body=1,n=0;n<p;n++)if(i=(o=t[n]).parent,m[o.parent.name]&&o===i.lastChild){for(a=o.prev;a;){if("span"!==(c=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){o=null;break}}a=a.prev}o&&(o.remove(),i.isEmpty(g,v)&&(f=d.getElementRule(i.name))&&(f.removeEmpty?i.remove():f.paddEmpty&&l(u,i)))}else{for(r=o;i&&i.firstChild===r&&i.lastChild===r&&(r=i,!m[i.name]);)i=i.parent;r===i&&!0!==u.padd_empty_with_br&&((h=new e("#text",3)).value="Â ",o.replace(h))}})),u.allow_unsafe_link_target||h.addAttributeFilter("href",(function(e){function t(e){var t=new RegExp("("+s.replace(" ","|")+")","g");return e&&(e=o.trim(e.replace(t,""))),e||null}function n(e,n){return n?function(e){return(e=t(e))?[e,s].join(" "):s}(e):t(e)}for(var i,r,a=e.length,s="noopener noreferrer";a--;)r=(i=e[a]).attr("rel"),"a"===i.name&&i.attr("rel",n(r,"_blank"==i.attr("target")))})),u.allow_html_in_named_anchor||h.addAttributeFilter("id,name",(function(e){for(var t,n,o,i,r=e.length;r--;)if("a"===(i=e[r]).name&&i.firstChild&&!i.attr("href")){o=i.parent,t=i.lastChild;do{n=t.prev,o.insert(t,i),t=n}while(t)}})),u.fix_list_elements&&h.addNodeFilter("ul,ol",(function(t){for(var n,o,i=t.length;i--;)if("ul"===(o=(n=t[i]).parent).name||"ol"===o.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var r=new e("li",1);r.attr("style","list-style-type: none"),n.wrap(r)}})),u.validate&&d.getValidClasses()&&h.addAttributeFilter("class",(function(e){for(var t,n,o,i,r,a,s,l=e.length,c=d.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),r="",o=0;o<n.length;o++)i=n[o],s=!1,(a=c["*"])&&a[i]&&(s=!0),a=c[t.name],!s&&a&&a[i]&&(s=!0),s&&(r&&(r+=" "),r+=i);r.length||(r=null),t.attr("class",r)}}))}})),n(D,[v,f],(function(e,t){var n=t.makeMap;return function(t){var o,i,r,a,s,l=[];return o=(t=t||{}).indent,i=n(t.indent_before||""),r=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(o&&i[e]&&l.length>0&&(f=l[l.length-1]).length>0&&"\n"!==f&&l.push("\n"),l.push("<",e),t)for(c=0,u=t.length;c<u;c++)l.push(" ",(d=t[c]).name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&o&&r[e]&&l.length>0&&(f=l[l.length-1]).length>0&&"\n"!==f&&l.push("\n")},end:function(e){var t;l.push("</",e,">"),o&&r[e]&&l.length>0&&(t=l[l.length-1]).length>0&&"\n"!==t&&l.push("\n")},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),o&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",o?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}})),n(P,[D,N],(function(e,t){return function(n,o){var i=this,r=new e(n);(n=n||{}).validate=!("validate"in n)||n.validate,i.schema=o=o||new t,i.writer=r,i.serialize=function(e){function t(e){var n,s,l,c,u,d,f,h,p,m=i[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1&&((d=[]).map={},p=o.getElementRule(e.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(c=p.attributesOrder[f])in l.map&&(d.map[c]=u=l.map[c],d.push({name:c,value:u}));for(f=0,h=l.length;f<h;f++)(c=l[f].name)in d.map||(d.map[c]=u=l.map[c],d.push({name:c,value:u}));l=d}if(r.start(e.name,l,s),!s){if(e=e.firstChild)do{t(e)}while(e=e.next);r.end(n)}}}var i,a;return a=n.validate,i={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do{t(e)}while(e=e.next)}},r.reset(),1!=e.type||n.inner?i[11](e):t(e),r.getContent()}}})),n(B,[b,R,A,v,P,T,N,l,f,k],(function(e,t,n,o,i,r,a,s,l,c){var u=l.each,d=l.trim,f=e.DOM;return function(e,r){function h(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[â\ufeff]+<\\/span>","\\s?("+y.join("|")+')="[^"]+"'].join("|"),"gi");return c.trim(e.replace(t,""))}function p(e){var t,o,i,a,s,l=e,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=r.schema;for(l=h(l),s=u.getShortEndedElements();a=c.exec(l);)o=c.lastIndex,i=a[0].length,t=s[a[1]]?o:n.findEndTag(u,l,o),l=l.substring(0,o-i)+l.substring(t),c.lastIndex=o-i;return l}var m,g,v,y=["data-mce-selected"];return r&&(m=r.dom,g=r.schema),m=m||f,g=g||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,(v=new t(e,g)).addAttributeFilter("data-mce-tabindex",(function(e,t){for(var n,o=e.length;o--;)(n=e[o]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)})),v.addAttributeFilter("src,href,style",(function(t,n){for(var o,i,r=t.length,a="data-mce-"+n,s=e.url_converter,l=e.url_converter_scope;r--;)void 0!==(i=(o=t[r]).attributes.map[a])?(o.attr(n,i.length>0?i:null),o.attr(a,null)):(i=o.attributes.map[n],"style"===n?i=m.serializeStyle(m.parseStyle(i),o.name):s&&(i=s.call(l,i,n,o.name)),o.attr(n,i.length>0?i:null))})),v.addAttributeFilter("class",(function(e){for(var t,n,o=e.length;o--;)(n=(t=e[o]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),v.addAttributeFilter("data-mce-type",(function(e,t,n){for(var o,i=e.length;i--;)"bookmark"!==(o=e[i]).attributes.map["data-mce-type"]||n.cleanup||o.remove()})),v.addNodeFilter("noscript",(function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=o.decode(t.value))})),v.addNodeFilter("script,style",(function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var o,i,r,a=e.length;a--;)i=(o=e[a]).firstChild?o.firstChild.value:"","script"===t?((r=o.attr("type"))&&o.attr("type","mce-no/type"==r?null:r.replace(/^mce\-/,"")),i.length>0&&(o.firstChild.value="// <![CDATA[\n"+n(i)+"\n// ]]>")):i.length>0&&(o.firstChild.value="\x3c!--\n"+n(i)+"\n--\x3e")})),v.addNodeFilter("#comment",(function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))})),v.addNodeFilter("xml:namespace,input",(function(e,t){for(var n,o=e.length;o--;)7===(n=e[o]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))})),v.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),{schema:g,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:function(t,n){var o,r,a,l,f,h;return s.ie&&m.select("script,style,select,map").length>0?(f=t.innerHTML,t=t.cloneNode(!1),m.setHTML(t,f)):t=t.cloneNode(!0),(o=document.implementation).createHTMLDocument&&(r=o.createHTMLDocument(""),u("BODY"==t.nodeName?t.childNodes:[t],(function(e){r.body.appendChild(r.importNode(e,!0))})),t="BODY"!=t.nodeName?r.body.firstChild:r.body,a=m.doc,m.doc=r),(n=n||{}).format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,this.onPreProcess(n)),function(e){function t(e){return e&&"br"===e.name}var n,o;t(n=e.lastChild)&&t(o=n.prev)&&(n.remove(),o.remove())}(h=v.parse(d(n.getInner?t.innerHTML:m.getOuterHTML(t)),n)),l=new i(e,g),n.content=l.serialize(h),n.cleanup||(n.content=c.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||this.onPostProcess(n),a&&(m.doc=a),n.node=null,n.content},addRules:function(e){g.addValidElements(e)},setRules:function(e){g.setValidElements(e)},onPreProcess:function(e){r&&r.fire("PreProcess",e)},onPostProcess:function(e){r&&r.fire("PostProcess",e)},addTempAttr:function(e){-1===l.inArray(y,e)&&(v.addAttributeFilter(e,(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})),y.push(e))},trimHtml:h,getTrimmedContent:function(){return p(r.getBody().innerHTML)},trimContent:p}}})),n(I,[],(function(){return function(e){function t(t,n){var o,i,r,a,s,l,c,u,d=0,f=-1;if((o=t.duplicate()).collapse(n),(u=o.parentElement()).ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(i=(a=u.children).length-1;d<=i;)if(c=Math.floor((d+i)/2),o.moveToElementText(s=a[c]),(f=o.compareEndPoints(n?"StartToStart":"EndToEnd",t))>0)i=c-1;else{if(!(f<0))return{node:s};d=c+1}if(f<0)for(s?o.collapse(!1):(o.moveToElementText(u),o.collapse(!0),s=u,r=!0),l=0;0!==o.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==o.move("character",1)&&u==o.parentElement();)l++;else for(o.collapse(!0),l=0;0!==o.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==o.move("character",-1)&&u==o.parentElement();)l++;return{node:s,position:f,offset:l,inside:r}}}var n=this,o=e.dom;this.getBookmark=function(n){function i(e){var t,n,i,r,a=[];for(t=e.parentNode,n=o.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=(i=t.children).length;r--;)if(e===i[r]){a.push(r);break}e=t,t=t.parentNode}return a}function r(e){var n;if(n=t(a,e))return{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=r(!0),e.isCollapsed()||(s.end=r()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,r;for(t=o.getRoot(),n=e.length-1;n>=0;n--)(i=e[n])<=(r=t.children).length-1&&(t=r[i]);return t}function n(n){var o,a,s,l=e[n?"start":"end"];l&&(o=l.position>0,(a=r.createTextRange()).moveToElementText(t(l.indexes)),void 0!==(s=l.offset)?(a.collapse(l.inside||o),a.moveStart("character",o?-s:s)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,r=o.doc.body;e.start&&(e.start.ctrl?((i=r.createControlRange()).addElement(t(e.start.indexes)),i.select()):(i=r.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,r,u,d;r=o.create("a"),t=e?a:l,n=e?s:c,u=i.duplicate(),t!=p&&t!=p.documentElement||(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(r,t),u.moveToElementText(r),u.moveStart("character",n),o.remove(r),i.setEndPoint(e?"StartToStart":"EndToEnd",u)):((d=t.childNodes).length?(n>=d.length?o.insertAfter(r,d[d.length-1]):t.insertBefore(r,d[n]),u.moveToElementText(r)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",u.moveToElementText(r=t.firstChild),u.collapse(!1)),i.setEndPoint(e?"StartToStart":"EndToEnd",u),o.remove(r))}var i,r,a,s,l,c,u,d,f,p=e.dom.doc,m=p.body;if(a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset,i=m.createTextRange(),a==l&&1==a.nodeType){if(s==c&&!a.hasChildNodes()){if(a.canHaveHTML)return(u=a.previousSibling)&&!u.hasChildNodes()&&o.isBlock(u)?u.innerHTML="&#xFEFF;":u=null,a.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(a.lastChild),i.select(),o.doc.selection.clear(),a.innerHTML="",void(u&&(u.innerHTML=""));s=o.nodeIndex(a),a=a.parentNode}if(s==c-1)try{if(f=a.childNodes[s],(r=m.createControlRange()).addElement(f),r.select(),(d=e.getRng()).item&&f===d.item(0))return}catch(h){}}n(!0),n(),i.select()},this.getRangeAt=function(){function i(e){var n,o,i,r,a=t(d,e),s=0;if(n=a.node,o=a.offset,!a.inside||n.hasChildNodes())if(void 0!==o){if(a.position<0){if(!(i=a.inside?n.firstChild:n.nextSibling))return void f[e?"setStartAfter":"setEndAfter"](n);if(!o)return void(3==i.nodeType?f[e?"setStart":"setEnd"](i,0):f[e?"setStartBefore":"setEndBefore"](i));for(;i;){if(3==i.nodeType&&(s+=(r=i.nodeValue).length)>=o){n=i,s=r.length-(s-=o);break}i=i.nextSibling}}else{if(!(i=n.previousSibling))return f[e?"setStartBefore":"setEndBefore"](n);if(!o)return void(3==n.nodeType?f[e?"setStart":"setEnd"](i,n.nodeValue.length):f[e?"setStartAfter":"setEndAfter"](i));for(;i;){if(3==i.nodeType&&(s+=i.nodeValue.length)>=o){n=i,s-=o;break}i=i.previousSibling}}f[e?"setStart":"setEnd"](n,s)}else f[e?"setStartBefore":"setEndAfter"](n);else f[e?"setStart":"setEnd"](n,0)}var r,a,s,l,u,d=e.getRng(),f=o.createRng();if((r=d.item?d.item(0):d.parentElement()).ownerDocument!=o.doc)return f;if(a=e.isCollapsed(),d.item)return f.setStart(r.parentNode,o.nodeIndex(r)),f.setEnd(f.startContainer,f.startOffset+1),f;try{i(!0),a||i()}catch(c){if(-2147024809!=c.number)throw c;u=n.getBookmark(2),(s=d.duplicate()).collapse(!0),r=s.parentElement(),a||((s=d.duplicate()).collapse(!1),(l=s.parentElement()).innerHTML=l.innerHTML),r.innerHTML=r.innerHTML,n.moveToBookmark(u),d=e.getRng(),i(!0),a||i()}return f}}})),n(L,[l],(function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}})),n(O,[L,f,s,l,x],(function(e,t,n,o,i){function r(e,t){for(;t&&t!=e;){if(s(t)||a(t))return t;t=t.parentNode}return null}var a=i.isContentEditableFalse,s=i.isContentEditableTrue;return function(i,s){function l(e){var t=s.settings.object_resizing;return!1!==t&&!o.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=s.getBody()&&s.dom.is(e,t))}function c(t){var n,o,i,r;M=(M=(n=t.screenX-A)*T[2]+B)<5?5:M,H=(H=(o=t.screenY-R)*T[3]+I)<5?5:H,("IMG"==k.nodeName&&!1!==s.settings.resize_img_proportional?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==k.nodeName&&T[2]*T[3]!=0)&&(V(n)>V(o)?(H=K(M*L),M=K(H/L)):(M=K(H/L),H=K(M*L))),j.setStyles(E,{width:M,height:H}),j.setStyles(S,{left:i=(i=T.startPos.x+n)>0?i:0,top:r=(r=T.startPos.y+o)>0?r:0,display:"block"}),S.innerHTML=M+" &times; "+H,T[2]<0&&E.clientWidth<=M&&j.setStyle(E,"left",D+(B-M)),T[3]<0&&E.clientHeight<=H&&j.setStyle(E,"top",P+(I-H)),(n=Y.scrollWidth-F)+(o=Y.scrollHeight-$)!=0&&j.setStyles(S,{left:i-n,top:r-o}),O||(s.fire("ObjectResizeStart",{target:k,width:B,height:I}),O=!0)}function u(){function e(e,t){t&&(k.style[e]||!s.schema.isValid(k.nodeName.toLowerCase(),e)?j.setStyle(k,e,t):j.setAttrib(k,e,t))}O=!1,e("width",M),e("height",H),j.unbind(U,"mousemove",c),j.unbind(U,"mouseup",u),W!=U&&(j.unbind(W,"mousemove",c),j.unbind(W,"mouseup",u)),j.remove(E),j.remove(S),q&&"TABLE"!=k.nodeName||d(k),s.fire("ObjectResized",{target:k,width:M,height:H}),j.setAttrib(k,"style",j.getAttrib(k,"style")),s.nodeChanged()}function d(e,t,n){var i,r,a,d,h;f(),w(),i=j.getPos(e,Y),D=i.x,P=i.y,h=e.getBoundingClientRect(),r=h.width||h.right-h.left,a=h.height||h.bottom-h.top,k!=e&&(b(),k=e,M=H=0),d=s.fire("ObjectSelected",{target:e}),l(e)&&!d.isDefaultPrevented()?z(_,(function(e,i){function s(t){A=t.screenX,R=t.screenY,L=(I=k.clientHeight)/(B=k.clientWidth),T=e,e.startPos={x:r*e[0]+D,y:a*e[1]+P},F=Y.scrollWidth,$=Y.scrollHeight,E=k.cloneNode(!0),j.addClass(E,"mce-clonedresizable"),j.setAttrib(E,"data-mce-bogus","all"),E.contentEditable=!1,E.unSelectabe=!0,j.setStyles(E,{left:D,top:P,margin:0}),E.removeAttribute("data-mce-selected"),Y.appendChild(E),j.bind(U,"mousemove",c),j.bind(U,"mouseup",u),W!=U&&(j.bind(W,"mousemove",c),j.bind(W,"mouseup",u)),S=j.add(Y,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},B+" &times; "+I)}var l;return t?void(i==t&&s(n)):((l=j.get("mceResizeHandle"+i))&&j.remove(l),l=j.add(Y,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),o.ie&&(l.contentEditable=!1),j.bind(l,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),s(e)})),e.elm=l,void j.setStyles(l,{left:r*e[0]+D-l.offsetWidth/2,top:a*e[1]+P-l.offsetHeight/2}))})):f(),k.setAttribute("data-mce-selected","1")}function f(){var e,t;for(e in w(),k&&k.removeAttribute("data-mce-selected"),_)(t=j.get("mceResizeHandle"+e))&&(j.unbind(t),j.remove(t))}function h(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,o;if(!O&&!s.removed)return z(j.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),o="mousedown"==e.type?e.target:i.getNode(),t(o=j.$(o).closest(q?"table":"table,img,hr")[0],Y)&&(C(),t(n=i.getStart(!0),o)&&t(i.getEnd(!0),o)&&(!q||o!=n&&"IMG"!==n.nodeName))?void d(o):void f()}function p(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function m(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function g(e){var t,n,o,i,r,a,l=e.srcElement;for(n in t=l.getBoundingClientRect(),r=N.clientX-t.left,a=N.clientY-t.top,_)if(i=l.offsetHeight*(o=_[n])[1],V(l.offsetWidth*o[0]-r)<8&&V(i-a)<8){T=o;break}O=!0,s.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight}),s.getDoc().selection.empty(),d(l,n,N)}function v(e){return a(r(s.getBody(),e))}function y(e){var t=e.srcElement;if(v(t))!function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(e);else if(t!=k){if(s.fire("ObjectSelected",{target:t}),b(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(f(),k=t,p(t,"resizestart",g))}}function b(){m(k,"resizestart",g)}function w(){for(var e in _){var t=_[e];t.elm&&(j.unbind(t.elm),delete t.elm)}}function C(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function x(e){var t;if(q){t=U.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}var k,E,S,_,T,N,A,R,D,P,B,I,L,O,M,H,F,$,j=s.dom,z=t.each,U=s.getDoc(),W=document,q=o.ie&&o.ie<11,V=Math.abs,K=Math.round,Y=s.getBody();_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var X=".mce-content-body";return s.contentStyles.push(X+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+X+" .mce-resizehandle:hover {background: #000}"+X+" img[data-mce-selected],"+X+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+X+" .mce-clonedresizable {position: absolute;"+(o.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+X+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",(function(){q?(s.on("ObjectResized",(function(e){"TABLE"!=e.target.nodeName&&(f(),x(e.target))})),p(Y,"controlselect",y),s.on("mousedown",(function(e){N=e}))):(C(),o.ie>=11&&(s.on("mousedown click",(function(e){var t=e.target,n=t.nodeName;O||!/^(TABLE|IMG|HR)$/.test(n)||v(t)||(s.selection.select(t,"TABLE"==n),"mousedown"==e.type&&s.nodeChanged())})),s.dom.bind(Y,"mscontrolselect",(function(e){function t(e){n.setEditorTimeout(s,(function(){s.selection.select(e)}))}return v(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))}))));var e=n.throttle((function(e){s.composing||h(e)}));s.on("nodechange ResizeEditor ResizeWindow drop",e),s.on("keyup compositionend",(function(t){k&&"TABLE"==k.nodeName&&e(t)})),s.on("hide blur",f)})),s.on("remove",w),{isResizable:l,showResizeRect:d,hideResizeRect:f,updateResizeRect:h,controlSelect:x,destroy:function(){k=E=null,q&&(b(),m(Y,"controlselect",y))}}}})),n(M,[],(function(){var e=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:function t(n){var o=e.call(arguments);return o.length-1>=n.length?n.apply(this,o.slice(1)):function(){var e=o.concat([].slice.call(arguments));return t.apply(this,e)}},compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}}})),n(H,[x,d,E],(function(e,t,n){function o(e){return!f(e)&&(l(e)?!c(e.parentNode):u(e)||s(e)||d(e)||a(e))}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(a(e))return!1;if(r(e))return!0}return!0}var r=e.isContentEditableTrue,a=e.isContentEditableFalse,s=e.isBr,l=e.isText,c=e.matchNodeNames("script style textarea"),u=e.matchNodeNames("img input textarea hr iframe video audio object"),d=e.matchNodeNames("table"),f=n.isCaretContainer;return{isCaretCandidate:o,isInEditable:i,isAtomic:function(e){return u(e)||function(e){return!!a(e)&&!0!==t.reduce(e.getElementsByTagName("*"),(function(e,t){return e||r(t)}),!1)}(e)},isEditableCaretCandidate:function(e,t){return o(e)&&i(e,t)}}})),n(F,[],(function(){function e(e){return e?{left:a(e.left),top:a(e.top),bottom:a(e.bottom),right:a(e.right),width:a(e.width),height:a(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function n(e,n){return e.bottom<n.top||!(e.top>n.bottom)&&t(n.top-e.bottom,e,n)}function o(e,n){return e.top>n.bottom||!(e.bottom<n.top)&&t(n.bottom-e.top,e,n)}function i(e,t){return e.left<t.left}function r(e,t){return e.right>t.right}var a=Math.round;return{clone:e,collapse:function(t,n){return t=e(t),n||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:n,isBelow:o,isLeft:i,isRight:r,compare:function(e,t){return n(e,t)?-1:o(e,t)?1:i(e,t)?-1:r(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}})),n($,[],(function(){var e=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]");return{isExtendingChar:function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}}})),n(j,[M,x,b,S,H,F,$],(function(e,t,n,o,i,r,a){function s(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function l(e){return e&&/[\r\n\t ]/.test(e)}function c(e){var t,n=e.startContainer,o=e.startOffset;return!!(l(e.toString())&&g(n.parentNode)&&(t=n.data,l(t[o-1])||l(t[o+1])))}function u(t,n,o){function i(){return o||(o=function(e){function t(e){var t,n;return n=e.getClientRects(),t=r.clone(n.length>0?n[0]:e.getBoundingClientRect()),y(e)&&0===t.left?function(e){var t,n=e.ownerDocument,o=s(n),i=n.createTextNode("Â "),a=e.parentNode;return a.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1),t=r.clone(o.getBoundingClientRect()),a.removeChild(i),t}(e):t}function n(e,t){return(e=r.collapse(e,t)).width=1,e.right=e.left+1,e}function o(e){0!==e.height&&(f.length>0&&r.isEqual(e,f[f.length-1])||f.push(e))}function i(e,i){var r=s(e.ownerDocument);if(i<e.data.length){if(a.isExtendingChar(e.data[i]))return f;if(a.isExtendingChar(e.data[i-1])&&(r.setStart(e,i),r.setEnd(e,i+1),!c(r)))return o(n(t(r),!1)),f}i>0&&(r.setStart(e,i-1),r.setEnd(e,i),c(r)||o(n(t(r),!1))),i<e.data.length&&(r.setStart(e,i),r.setEnd(e,i+1),c(r)||o(n(t(r),!0)))}var l,u,f=[];if(v(e.container()))return i(e.container(),e.offset()),f;if(d(e.container()))if(e.isAtEnd())u=w(e.container(),e.offset()),v(u)&&i(u,u.data.length),m(u)&&!y(u)&&o(n(t(u),!1));else{if(u=w(e.container(),e.offset()),v(u)&&i(u,0),m(u)&&e.isAtEnd())return o(n(t(u),!1)),f;l=w(e.container(),e.offset()-1),m(l)&&!y(l)&&(h(l)||h(u)||!m(u))&&o(n(t(l),!1)),m(u)&&o(n(t(u),!0))}return f}(new u(t,n))),o}return{container:e.constant(t),offset:e.constant(n),toRange:function(){var e;return(e=s(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:i,isVisible:function(){return i().length>0},isAtStart:function(){return v(t),0===n},isAtEnd:function(){return v(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return w(t,e?n-1:n)}}}var d=t.isElement,f=i.isCaretCandidate,h=t.matchStyleValues("display","block table"),p=t.matchStyleValues("float","left right"),m=e.and(d,f,e.negate(p)),g=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),v=t.isText,y=t.isBr,b=n.nodeIndex,w=o.getNode;return u.fromRangeStart=function(e){return new u(e.startContainer,e.startOffset)},u.fromRangeEnd=function(e){return new u(e.endContainer,e.endOffset)},u.after=function(e){return new u(e.parentNode,b(e)+1)},u.before=function(e){return new u(e.parentNode,b(e))},u})),n(z,[x,b,M,d,j],(function(e,t,n,o,i){function r(e){return e?o.reduce(e.childNodes,(function(e,t){return d(t)&&"BR"!=t.nodeName?e=e.concat(r(t)):e.push(t),e}),[]):[]}function a(e){return function(t){return e===t}}function s(t){var n,i,s;return n=r(function e(t){var n=t.parentNode;return d(n)?e(n):n}(t)),i=o.findIndex(n,a(t),t),n=n.slice(0,i+1),s=o.reduce(n,(function(e,t,o){return u(t)&&u(n[o-1])&&e++,e}),0),n=o.filter(n,e.matchNodeNames(t.nodeName)),(i=o.findIndex(n,a(t),t))-s}function l(e){return(u(e)?"text()":e.nodeName.toLowerCase())+"["+s(e)+"]"}function c(t,n,i){var a=r(t);return a=o.filter(a,(function(e,t){return!u(e)||!u(a[t-1])})),(a=o.filter(a,e.matchNodeNames(n)))[i]}var u=e.isText,d=e.isBogus,f=t.nodeIndex;return{create:function(t,i){var r,a,s,c,d,f=[];return r=i.container(),a=i.offset(),u(r)?s=function(e,t){for(;(e=e.previousSibling)&&u(e);)t+=e.data.length;return t}(r,a):(a>=(c=r.childNodes).length?(s="after",a=c.length-1):s="before",r=c[a]),f.push(l(r)),d=function(e,t,n){var o=[];for(t=t.parentNode;t!=e;t=t.parentNode)o.push(t);return o}(t,r),d=o.filter(d,n.negate(e.isBogus)),(f=f.concat(o.map(d,(function(e){return l(e)})))).reverse().join("/")+","+s},resolve:function(e,t){var n,r,a;return t?(n=t.split(","),t=n[0].split("/"),a=n.length>1?n[1]:"before",(r=o.reduce(t,(function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),c(e,t[1],parseInt(t[2],10))):null}),e))?u(r)?function(e,t){for(var n,o=e,r=0;u(o);){if(n=o.data.length,t>=r&&t<=r+n){e=o,t-=r;break}if(!u(o.nextSibling)){e=o,t=n;break}r+=n,o=o.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}(r,parseInt(a,10)):(a="after"===a?f(r)+1:f(r),new i(r.parentNode,a)):null):null}}})),n(U,[l,f,E,z,j,x,S],(function(e,t,n,o,i,r,a){function s(s){var c=s.dom;this.getBookmark=function(e,u){function d(e,n){var o=0;return t.each(c.select(e),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=n&&void o++})),o}function f(e){function t(t){var n,o,i,r=t?"start":"end";o=e[r+"Offset"],1==(n=e[r+"Container"]).nodeType&&"TR"==n.nodeName&&(n=(i=n.childNodes)[Math.min(t?o:o-1,i.length-1)])&&e["set"+(t?"Start":"End")](n,o=t?0:n.childNodes.length)}return t(!0),t(),e}var h,p,m,g,v,y,b,C="&#xFEFF;";if(2==e)return v=(y=s.getNode())?y.nodeName:null,h=s.getRng(),l(y)||"IMG"==v?{name:v,index:d(v,y)}:s.tridentSel?s.tridentSel.getBookmark(e):(y=function(e){function t(e,t){var o;if(r.isElement(e)&&(e=a.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(r.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),l(o=e.previousSibling))return o;if(l(o=e.nextSibling))return o}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}(h))?{name:v=y.tagName,index:d(v,y)}:function(e){function t(e,t){var o,i,r=e[t?"startContainer":"endContainer"],a=e[t?"startOffset":"endOffset"],s=[],l=0;if(3==r.nodeType){if(u)for(o=r.previousSibling;o&&3==o.nodeType;o=o.previousSibling)a+=o.nodeValue.length;s.push(a)}else a>=(i=r.childNodes).length&&i.length&&(l=1,a=Math.max(0,i.length-1)),s.push(c.nodeIndex(i[a],u)+l);for(;r&&r!=n;r=r.parentNode)s.push(c.nodeIndex(r,u));return s}var n=c.getRoot(),o={};return o.start=t(e,!0),s.isCollapsed()||(o.end=t(e)),o}(h);if(3==e)return h=s.getRng(),{start:o.create(c.getRoot(),i.fromRangeStart(h)),end:o.create(c.getRoot(),i.fromRangeEnd(h))};if(e)return{rng:s.getRng()};if(h=s.getRng(),m=c.uniqueId(),g=s.isCollapsed(),b="overflow:hidden;line-height:0px",h.duplicate||h.item){if(h.item)return{name:v=(y=h.item(0)).nodeName,index:d(v,y)};p=h.duplicate();try{h.collapse(),h.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_start" style="'+b+'">'+C+"</span>"),g||(p.collapse(!1),h.moveToElementText(p.parentElement()),0===h.compareEndPoints("StartToEnd",p)&&p.move("character",-1),p.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_end" style="'+b+'">'+C+"</span>"))}catch(w){return null}}else{if("IMG"==(v=(y=s.getNode()).nodeName))return{name:v,index:d(v,y)};p=f(h.cloneRange()),g||(p.collapse(!1),p.insertNode(c.create("span",{"data-mce-type":"bookmark",id:m+"_end",style:b},C))),(h=f(h)).collapse(!0),h.insertNode(c.create("span",{"data-mce-type":"bookmark",id:m+"_start",style:b},C))}return s.moveToBookmark({id:m,keep:1}),{id:m}},this.moveToBookmark=function(n){function i(e){var t,o,i,r,a=n[e?"start":"end"];if(a){for(i=a[0],o=u,t=a.length-1;t>=1;t--){if(a[t]>(r=o.childNodes).length-1)return;o=r[a[t]]}3===o.nodeType&&(i=Math.min(a[0],o.nodeValue.length)),1===o.nodeType&&(i=Math.min(a[0],o.childNodes.length)),e?l.setStart(o,i):l.setEnd(o,i)}return!0}function r(o){var i,r,a,s,l=c.get(n.id+"_"+o),u=n.keep;if(l&&(i=l.parentNode,"start"==o?(u?(i=l.firstChild,r=1):r=c.nodeIndex(l),d=f=i,h=p=r):(u?(i=l.firstChild,r=1):r=c.nodeIndex(l),f=i,p=r),!u)){for(s=l.previousSibling,a=l.nextSibling,t.each(t.grep(l.childNodes),(function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));l=c.get(n.id+"_"+o);)c.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.opera&&(r=s.nodeValue.length,s.appendData(a.nodeValue),c.remove(a),"start"==o?(d=f=s,h=p=r):(f=s,p=r))}}function a(t){return!c.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}var l,u,d,f,h,p;if(n)if(t.isArray(n.start)){if(l=c.createRng(),u=c.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);i(!0)&&i()&&s.setRng(l)}else"string"==typeof n.start?s.setRng(function(){var e,t;return e=c.createRng(),t=o.resolve(c.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=o.resolve(c.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}()):n.id?(r("start"),r("end"),d&&((l=c.createRng()).setStart(a(d),h),l.setEnd(a(f),p),s.setRng(l))):n.name?s.select(c.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var l=r.isContentEditableFalse;return s.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},s})),n(W,[m,I,O,S,U,x,l,f,j],(function(e,n,o,i,r,a,s,l,c){function u(e,t,i,a){var s=this;s.dom=e,s.win=t,s.serializer=i,s.editor=a,s.bookmarkManager=new r(s),s.controlSelection=new o(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var d=l.each,f=l.trim,h=s.ie;return u.prototype={setCursorLocation:function(e,t){var n=this,o=n.dom.createRng();e?(o.setStart(e,t),o.setEnd(e,t),n.setRng(o),n.collapse(!1)):(n._moveEndPoint(o,n.editor.getBody(),!0),n.setRng(o))},getContent:function(e){var n,o,i,r=this,a=r.getRng(),s=r.dom.create("body"),l=r.getSel();return n=o="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,r.editor.fire("BeforeGetContent",e),"text"==e.format?r.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(i=a.cloneContents())&&s.appendChild(i):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(o=" "),e.getInner=!0,e.content=r.isCollapsed()?"":n+r.serializer.serialize(s,e)+o,r.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,o,i,r=this,a=r.getRng(),s=r.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||r.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(o=s.createDocumentFragment(),i=s.createElement("div"),o.appendChild(i),i.outerHTML=e,a.insertNode(o))),n=r.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),r.setRng(a),r.dom.remove("__caret");try{r.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=r.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),r.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||r.editor.fire("SetContent",t)},getStart:function(e){var t,n,o,i,r=this,a=r.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((o=a.duplicate()).collapse(1),(t=o.parentElement()).ownerDocument!==r.dom.doc&&(t=r.dom.getRoot()),n=i=a.parentElement();i=i.parentNode;)if(i==t){t=n;break}return t}return 1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,o=this,i=o.getRng();return i.duplicate||i.item?i.item?i.item(0):((i=i.duplicate()).collapse(0),(t=i.parentElement()).ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(n=i.endOffset,1==(t=i.endContainer).nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,o=this,i=o.dom,r=i.createRng();if(o.lastFocusBookmark=null,e){if(!t&&o.controlSelection.controlSelect(e))return;n=i.nodeIndex(e),r.setStart(e.parentNode,n),r.setEnd(e.parentNode,n+1),t&&(o._moveEndPoint(r,e,!0),o._moveEndPoint(r,e)),o.setRng(r)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this,o=n.getRng();o.item&&(t=o.item(0),(o=n.win.document.body.createTextRange()).moveToElementText(t)),o.collapse(!!e),n.setRng(o)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,o){try{return t.compareBoundaryPoints(e,o)}catch(n){return-1}}var n,o,i,r,a,s,l=this;if(!l.win)return null;if(null==(r=l.win.document))return null;if(!e&&l.lastFocusBookmark){var c=l.lastFocusBookmark;return c.startContainer?((o=r.createRange()).setStart(c.startContainer,c.startOffset),o.setEnd(c.endContainer,c.endOffset)):o=c,o}if(e&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():r.createRange())}catch(u){}if((s=l.editor.fire("GetSelectionRange",{range:o})).range!==o)return s.range;if(h&&o&&o.setStart&&r.selection){try{a=r.selection.createRange()}catch(u){}a&&a.item&&(i=a.item(0),(o=r.createRange()).setStartBefore(i),o.setEndAfter(i))}return o||(o=r.createRange?r.createRange():r.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=l.dom.getRoot(),o.setStart(i,0),o.setEnd(i,0)),l.selectedRange&&l.explicitRange&&(0===t(o.START_TO_START,o,l.selectedRange)&&0===t(o.END_TO_END,o,l.selectedRange)?o=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),o},setRng:function(e,t){var n,o,i=this;if(e)if(e.select){i.explicitRange=null;try{e.select()}catch(a){}}else if(i.tridentSel){if(e.cloneRange)try{i.tridentSel.addRange(e)}catch(a){}}else{if(n=i.getSel(),e=i.editor.fire("SetSelectionRange",{range:e}).range,n){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(a){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset])&&"IMG"==o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1)),i.editor.fire("AfterSetSelectionRange",{range:e})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,o,i,r,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,o=s.endContainer,i=s.startOffset,r=s.endOffset,s.setStart?(t=s.commonAncestorContainer,!s.collapsed&&(n==o&&r-i<2&&n.hasChildNodes()&&(t=n.childNodes[i]),3===n.nodeType&&3===o.nodeType&&(n=n.length===i?e(n.nextSibling,!0):n.parentNode,o=0===r?e(o.previousSibling,!1):o.parentNode,n&&n===o))?n:t&&3==t.nodeType?t.parentNode:t):((t=s.item?s.item(0):s.parentElement()).ownerDocument!==a.win.document&&(t=l),t)):l},getSelectedBlocks:function(t,n){var o,i,r=this,a=r.dom,s=[];if(i=a.getRoot(),t=a.getParent(t||r.getStart(),a.isBlock),n=a.getParent(n||r.getEnd(),a.isBlock),t&&t!=i&&s.push(t),t&&n&&t!=n){o=t;for(var l=new e(t,i);(o=l.next())&&o!=n;)a.isBlock(o)&&s.push(o)}return n&&t!=n&&n!=i&&s.push(n),s},isForward:function(){var e,t,n=this.dom,o=this.getSel();return!(o&&o.anchorNode&&o.focusNode)||((e=n.createRng()).setStart(o.anchorNode,o.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(o.focusNode,o.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return s.range&&new i(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,o=this;return o.selectorChangedData||(o.selectorChangedData={},n={},o.editor.on("NodeChange",(function(e){var t=e.element,i=o.dom,r=i.getParents(t,null,i.getRoot()),a={};d(o.selectorChangedData,(function(e,t){d(r,(function(o){if(i.is(o,t))return n[t]||(d(e,(function(e){e(!0,{node:o,selector:t,parents:r})})),n[t]=e),a[t]=e,!1}))})),d(n,(function(e,o){a[o]||(delete n[o],d(e,(function(e){e(!1,{node:t,selector:o,parents:r})})))}))}))),o.selectorChangedData[e]||(o.selectorChangedData[e]=[]),o.selectorChangedData[e].push(t),o},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,o=e;o&&o.nodeType;)t+=o.offsetLeft||0,n+=o.offsetTop||0,o=o.offsetParent;return{x:t,y:n}}var o,i,r,s,l=this,c=l.dom,u=c.getRoot(),d=0;if(a.isElement(e)){if(!1===t&&(d=e.offsetHeight),"BODY"!=u.nodeName){var f=l.getScrollContainer();if(f)return o=n(e).y-n(f).y+d,s=f.clientHeight,void((o<(r=f.scrollTop)||o+25>r+s)&&(f.scrollTop=o<r?o:o-s+25))}i=c.getViewPort(l.editor.getWin()),o=c.getPos(e).y+d,r=i.y,s=i.h,(o<i.y||o+25>r+s)&&l.editor.getWin().scrollTo(0,o<r?o:o-s+25)}},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,o){var i=n,r=new e(n,i),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==f(n.nodeValue).length)return void(o?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(o?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(o?t.setStart(n,0):t.setEnd(n,0))}while(n=o?r.next():r.prev());"BODY"==i.nodeName&&(o?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?c.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},u})),n(q,[U,f],(function(e,t){var n=t.each;return function(t){this.compare=function(o,i){function r(e){var o={};return n(t.getAttribs(e),(function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(o[i]=t.getAttrib(e,i))})),o}function a(e,t){var n,o;for(o in e)if(e.hasOwnProperty(o)){if(void 0===(n=t[o]))return!1;if(e[o]!=n)return!1;delete t[o]}for(o in t)if(t.hasOwnProperty(o))return!1;return!0}return!(o.nodeName!=i.nodeName||!a(r(o),r(i))||!a(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(i,"style")))||e.isBookmarkNode(o)||e.isBookmarkNode(i))}}})),n(V,[b,f,N],(function(e,t,n){function o(e,o){function i(e){var t;return function(e,t){t.classes.length&&s.addClass(e,t.classes.join(" ")),s.setAttribs(e,t.attrs)}(t=s.create((l="string"==typeof e?{name:e,classes:[],attrs:{}}:e).name),l),t}function r(e,n){var o="string"!=typeof e?e.nodeName.toLowerCase():e,i=u.getElementRule(o).parentsRequired;return!(!i||!i.length)&&(n&&-1!==t.inArray(i,n)?n:i[0])}var a,l,c,u=o&&o.schema||new n({});return e&&e.length?(a=i(l=e[0]),(c=s.create("div")).appendChild(function e(n,o,a){var l,c,u,d=o.length&&o[0],f=d&&d.name;if(u=r(n,f))f==u?(c=o[0],o=o.slice(1)):c=u;else if(d)c=o[0],o=o.slice(1);else if(!a)return n;return c&&(l=i(c)).appendChild(n),a&&(l||(l=s.create("div")).appendChild(n),t.each(a,(function(e){var t=i(e);l.insertBefore(t,n)}))),e(l,o,c&&c.siblings)}(a,e.slice(1),l.siblings)),c):""}function i(e){var n,o={classes:[],attrs:{}};return"*"!==(e=o.selector=t.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,n,i,r,a){switch(n){case"#":o.attrs.id=i;break;case".":o.classes.push(i);break;case":":-1!==t.inArray("checked disabled enabled read-only required".split(" "),i)&&(o.attrs[i]=i)}if("["==r){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(o.attrs[s[1]]=s[2])}return""}))),o.name=n||"div",o}function r(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),i),o=n.pop();return n.length&&(o.siblings=n),o})).reverse()):[]}var a=t.each,s=e.DOM;return{getCssText:function(e,t){function n(e){return e.replace(/%(\w+)/g,"")}var i,l,c,u,d,f,h="";if(!1===(f=e.settings.preview_styles))return"";if("string"!=typeof f&&(f="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(f=t.preview)?"":(i=t.block||t.inline||"span",(u=r(t.selector)).length?(u[0].name||(u[0].name=i),i=t.selector,l=o(u,e)):l=o([i],e),c=s.select(i,l)[0]||l.firstChild,a(t.styles,(function(e,t){(e=n(e))&&s.setStyle(c,t,e)})),a(t.attributes,(function(e,t){(e=n(e))&&s.setAttrib(c,t,e)})),a(t.classes,(function(e){e=n(e),s.hasClass(c,e)||s.addClass(c,e)})),e.fire("PreviewFormats"),s.setStyles(l,{position:"absolute",left:-65535}),e.getBody().appendChild(l),d=s.getStyle(e.getBody(),"fontSize",!0),d=/px$/.test(d)?parseInt(d,10):0,a(f.split(" "),(function(t){var n=s.getStyle(c,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=s.getStyle(e.getBody(),t,!0),"#ffffff"==s.toHex(n).toLowerCase())||"color"==t&&"#000000"==s.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===d)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*d+"px"}"border"==t&&n&&(h+="padding:0 2px;"),h+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),s.remove(l),h)},parseSelector:r,selectorToHtml:function(e,t){return o(r(e),t)}}})),n(K,[d,x,h],(function(e,t,n){var o={},i=e.filter,r=e.each;return function(e,t){var n=o.pre;n||(o.pre=n=[]),o.pre.push(t)}(0,(function(o){var a,s,l=o.selection.getRng();a=t.matchNodeNames("pre"),l.collapsed||(s=o.selection.getSelectedBlocks(),r(i(i(s,a),(function(t){return a(t.previousSibling)&&-1!=e.indexOf(s,t.previousSibling)})),(function(e){!function(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}(e.previousSibling,e)})))})),{postProcess:function(e,t){r(o[e],(function(e){e(t)}))}}})),n(Y,[m,S,U,q,M,f,V,K],(function(e,t,n,o,i,r,a,s){return function(l){function c(e){return e.nodeType&&(e=e.nodeName),!!l.schema.getTextBlockElements()[e.toLowerCase()]}function u(e){return/^(TH|TD)$/.test(e.nodeName)}function d(e,t){return W.getParents(e,t,W.getRoot())}function f(e){return 1===e.nodeType&&"_mce_caret"===e.id}function h(e){return e?U[e]:U}function p(e,t){e&&("string"!=typeof e?oe(e,(function(e,t){p(t,e)})):(oe(t=t.length?t:[t],(function(e){e.deep===$&&(e.deep=!e.selector),e.split===$&&(e.split=!e.selector||e.inline),e.remove===$&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),U[e]=t))}function m(e,t){var n=h(t);if(n)for(var o=0;o<n.length;o++)if(!1===n[o].inherit&&W.is(e,n[o].selector))return!0;return!1}function g(e){var t;return l.dom.getParent(e,(function(e){return(t=l.dom.getStyle(e,"text-decoration"))&&"none"!==t})),t}function v(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=g(e.parentNode),l.dom.getStyle(e,"color")&&t?l.dom.setStyle(e,"text-decoration",t):l.dom.getStyle(e,"text-decoration")===t&&l.dom.setStyle(e,"text-decoration",null))}function y(t,n,o){function i(e,t){if(t=t||m,e){if(t.onformat&&t.onformat(e,t,n,o),oe(t.styles,(function(t,o){W.setStyle(e,o,A(t,n))})),t.styles){var i=W.getAttrib(e,"style");i&&e.setAttribute("data-mce-style",i)}oe(t.attributes,(function(t,o){W.setAttrib(e,o,A(t,n))})),oe(t.classes,(function(t){t=A(t,n),W.hasClass(e,t)||W.addClass(e,t)}))}}function r(e,t){var n=!1;return!!m.selector&&(oe(e,(function(e){if(!("collapsed"in e)||e.collapsed===g)return W.is(t,e.selector)&&!f(t)?(i(t,e),n=!0,!1):void 0})),n)}function a(e,o,a){var s,l,u=[],d=!0;i(l=W.create(s=m.inline||m.block)),V.walk(e,(function(e){var o;oe(e,(function e(h){var g,v,y,b;if(b=d,g=h.nodeName.toLowerCase(),v=h.parentNode.nodeName.toLowerCase(),1===h.nodeType&&te(h)&&(b=d,d="true"===te(h),y=!0),k(g,"br"))return o=0,void(m.block&&W.remove(h));if(m.wrapper&&w(h,t,n))o=0;else{if(d&&!y&&m.block&&!m.wrapper&&c(g)&&K(v,s))return i(h=W.rename(h,s)),u.push(h),void(o=0);if(m.selector){var C=r(p,h);if(!m.inline||C)return void(o=0)}!d||y||!K(s,g)||!K(v,s)||!a&&3===h.nodeType&&1===h.nodeValue.length&&65279===h.nodeValue.charCodeAt(0)||f(h)||m.inline&&Y(h)?(o=0,oe(ie(h.childNodes),e),y&&(d=b),o=0):(o||(o=W.clone(l,Z),h.parentNode.insertBefore(o,h),u.push(o)),o.appendChild(h))}}))})),!0===m.links&&oe(u,(function(e){!function e(t){"A"===t.nodeName&&i(t,m),oe(ie(t.childNodes),e)}(e)})),oe(u,(function(e){function o(e){var t=0;return oe(e.childNodes,(function(e){R(e)||ne(e)||t++})),t}function r(e){var t=!1;return oe(e.childNodes,(function(e){if(E(e))return t=e,!1})),t}var a;if(a=o(e),!(u.length>1)&&Y(e)||0!==a){if(m.inline||m.wrapper){if(m.exact||1!==a||(e=function(e){var t,n;return(t=r(e))&&!ne(t)&&x(t,m)&&(i(n=W.clone(t,Z)),W.replace(n,e,ee),W.remove(t,1)),n||e}(e)),oe(p,(function(t){oe(W.select(t.inline,e),(function(e){ne(e)||B(t,n,e,t.exact?e:null)}))})),w(e.parentNode,t,n)&&B(m,n,e)&&(e=0),m.merge_with_parents&&W.getParent(e.parentNode,(function(o){if(w(o,t,n))return B(m,n,e)&&(e=0),ee})),!Y(e)&&!T(e,"fontSize")){var s=function(e,t){do{if(1!==o(e))break;if(!(e=r(e)))break;if(t(e))return e}while(e);return null}(e,S("fontSize"));s&&y("fontsize",{value:T(s,"fontSize")},e)}e&&!1!==m.merge_siblings&&(e=L(I(e),e),e=L(e,I(e,ee)))}}else W.remove(e,1)}))}var u,d,p=h(t),m=p[0],g=!o&&q.isCollapsed();if("false"!==te(q.getNode())){if(m){if(o)o.nodeType?r(p,o)||((d=W.createRng()).setStartBefore(o),d.setEndAfter(o),a(P(d,p),0,!0)):a(o,0,!0);else if(g&&m.inline&&!W.select("td[data-mce-selected],th[data-mce-selected]").length)M("apply",t,n);else{var b=l.selection.getNode();X||!p[0].defaultBlock||W.getParent(b,W.isBlock)||y(p[0].defaultBlock),l.selection.setRng(function(){var t=l.selection.getRng(),n=t.startContainer,i=t.endContainer;if(n!=i&&0===t.endOffset){var r=function(t,n){var i=new e(n);for(o=i.prev2();o;o=i.prev2()){if(3==o.nodeType&&o.data.length>0)return o;if(o.childNodes.length>1||o==t||"BR"==o.tagName)return o}}(n,i);t.setEnd(r,3==r.nodeType?r.data.length:r.childNodes.length)}return t}()),u=q.getBookmark(),a(P(q.getRng(ee),p)),m.styles&&((m.styles.color||m.styles.textDecoration)&&(re(b,v,"childNodes"),v(b)),m.styles.backgroundColor&&function e(t,n,o){oe(t.childNodes,(function(t){E(t)&&(n(t)&&o(t),t.hasChildNodes()&&e(t,n,o))}))}(b,S("fontSize"),_("backgroundColor",A(m.styles.backgroundColor,n)))),q.moveToBookmark(u),H(q.getRng(ee)),l.nodeChanged()}s.postProcess(t,l)}}else{o=q.getNode();for(var C=0,N=p.length;C<N;C++)if(p[C].ceFalseOverride&&W.is(o,p[C].selector))return void i(o,p[C])}}function b(e,t,n,o){function i(e){var n,o,r,a,s;if(1===e.nodeType&&te(e)&&(a=y,y="true"===te(e),s=!0),n=ie(e.childNodes),y&&!s)for(o=0,r=m.length;o<r&&!B(m[o],t,e,e);o++);if(v.deep&&n.length){for(o=0,r=n.length;o<r;o++)i(n[o]);s&&(y=a)}}function r(n){var i;return oe(d(n.parentNode).reverse(),(function(n){var r;i||"_start"==n.id||"_end"==n.id||(r=w(n,e,t,o))&&!1!==r.split&&(i=n)})),i}function a(e){return function(e,n,o,i){var r,a,s,l,c,u;if(e){for(u=e.parentNode,r=n.parentNode;r&&r!=u;r=r.parentNode){for(a=W.clone(r,Z),c=0;c<m.length;c++)if(B(m[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}v.mixed&&Y(e)||(n=W.split(e,n)),s&&(o.parentNode.insertBefore(s,o),l.appendChild(o))}return n}(r(e),e,e)}function s(e){var t=W.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return ne(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),W.remove(t,!0),n}function c(e){var t,n,o=e.commonAncestorContainer;if(e=P(e,m,ee),v.split){if((t=O(e,ee))!=(n=O(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&u(n)&&n.firstChild&&(n=n.firstChild||n),W.isChildOf(t,n)&&!Y(n)&&!u(t)&&!u(n))return a(t=D(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=s(ee));t=D(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=D(n,"span",{id:"_end","data-mce-type":"bookmark"}),a(t),a(n),t=s(ee),n=s()}else t=n=a(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=G(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=G(n)+1}V.walk(e,(function(e){oe(e,(function(e){i(e),1===e.nodeType&&"underline"===l.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===g(e.parentNode)&&B({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))}var f,p,m=h(e),v=m[0],y=!0;if(n)n.nodeType?((p=W.createRng()).setStartBefore(n),p.setEndAfter(n),c(p)):c(n);else if("false"!==te(q.getNode()))q.isCollapsed()&&v.inline&&!W.select("td[data-mce-selected],th[data-mce-selected]").length?M("remove",e,t,o):(f=q.getBookmark(),c(q.getRng(ee)),q.moveToBookmark(f),v.inline&&C(e,t,q.getStart())&&H(q.getRng(!0)),l.nodeChanged());else{n=q.getNode();for(var b=0,x=m.length;b<x&&(!m[b].ceFalseOverride||!B(m[b],t,n,n));b++);}}function w(e,t,n,o){function i(e,t,i){var r,a,s,l=t[i];if(t.onmatch)return t.onmatch(e,t,i);if(l)if(l.length===$){for(r in l)if(l.hasOwnProperty(r)){if(a="attributes"===i?W.getAttrib(e,r):T(e,r),o&&!a&&!t.exact)return;if((!o||t.exact)&&!k(a,N(A(l[r],n),r)))return}}else for(s=0;s<l.length;s++)if("attributes"===i?W.getAttrib(e,l[s]):T(e,l[s]))return t;return t}var r,a,s,l=h(t);if(l&&e)for(a=0;a<l.length;a++)if(x(e,r=l[a])&&i(e,r,"attributes")&&i(e,r,"styles")){if(s=r.classes)for(a=0;a<s.length;a++)if(!W.hasClass(e,s[a]))return;return r}}function C(e,t,n){function o(n){var o=W.getRoot();return n!==o&&(n=W.getParent(n,(function(n){return!!m(n,e)||n.parentNode===o||!!w(n,e,t,!0)})),w(n,e,t))}var i;return n?o(n):o(n=q.getNode())||(i=q.getStart())!=n&&o(i)?ee:Z}function x(e,t){return k(e,t.inline)||k(e,t.block)?ee:t.selector?1==e.nodeType&&W.is(e,t.selector):void 0}function k(e,t){return t=""+((t=t||"").nodeName||t),(e=""+((e=e||"").nodeName||e)).toLowerCase()==t.toLowerCase()}function E(e){return 1==e.nodeType&&!ne(e)&&!R(e)&&!f(e)}function S(e){return i.curry((function(e,t){return!(!t||!T(t,e))}),e)}function _(e,t){return i.curry((function(e,t,n){W.setStyle(n,e,t)}),e,t)}function T(e,t){return N(W.getStyle(e,t),t)}function N(e,t){return"color"!=t&&"backgroundColor"!=t||(e=W.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function A(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e}function R(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function D(e,t,n){var o=W.create(t,n);return e.parentNode.insertBefore(o,e),o.appendChild(e),o}function P(t,n,o){function i(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var o,i,r,a,s;if(o=i=e?g:y,a=e?"previousSibling":"nextSibling",s=W.getRoot(),3==o.nodeType&&!R(o)&&(e?v>0:b<o.nodeValue.length))return o;for(;;){if(!n[0].block_expand&&Y(i))return i;for(r=i[a];r;r=r[a])if(!ne(r)&&!R(r)&&!t(r))return i;if(i==s||i.parentNode==s){o=i;break}i=i.parentNode}return o}function r(e,t){for(t===$&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e){for(var t=e;t;){if(1===t.nodeType&&te(t))return"false"===te(t)?t:e;t=t.parentNode}return e}function s(t,n,i){function r(e,t){var n,r,a=e.nodeValue;return void 0===t&&(t=i?a.length:0),i?-1===(n=(n=a.lastIndexOf(" ",t))>(r=a.lastIndexOf("Â ",t))?n:r)||o||n++:(n=a.indexOf(" ",t),r=a.indexOf("Â ",t),n=-1!==n&&(-1===r||n<r)?n:r),n}var a,s,c,u;if(3===t.nodeType){if(-1!==(c=r(t,n)))return{container:t,offset:c};u=t}for(a=new e(t,W.getParent(t,Y)||l.getBody());s=a[i?"prev":"next"]();)if(3===s.nodeType){if(u=s,-1!==(c=r(s)))return{container:s,offset:c}}else if(Y(s))break;if(u)return{container:u,offset:n=i?0:u.length}}function u(e,o){var i,r,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[o]&&(e=e[o]),i=d(e),r=0;r<i.length;r++)for(a=0;a<n.length;a++)if((!("collapsed"in(s=n[a]))||s.collapsed===t.collapsed)&&W.is(i[r],s.selector))return i[r];return e}function f(e,t){var o,i=W.getRoot();if(n[0].wrapper||(o=W.getParent(e,n[0].block,i)),o||(o=W.getParent(3==e.nodeType?e.parentNode:e,(function(e){return e!=i&&c(e)}))),o&&n[0].wrapper&&(o=d(o,"ul,ol").reverse()[0]||o),!o)for(o=e;o[t]&&!Y(o[t])&&!k(o=o[t],"br"););return o||e}var h,p,m,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&3==(g=g.childNodes[v>(h=g.childNodes.length-1)?h:v]).nodeType&&(v=0),1==y.nodeType&&y.hasChildNodes()&&3==(y=y.childNodes[b>(h=y.childNodes.length-1)?h:b-1]).nodeType&&(b=y.nodeValue.length),g=a(g),y=a(y),(ne(g.parentNode)||ne(g))&&3==(g=(g=ne(g)?g:g.parentNode).nextSibling||g).nodeType&&(v=0),(ne(y.parentNode)||ne(y))&&3==(y=(y=ne(y)?y:y.parentNode).previousSibling||y).nodeType&&(b=y.length),n[0].inline&&(t.collapsed&&((m=s(g,v,!0))&&(g=m.container,v=m.offset),(m=s(y,b))&&(y=m.container,b=m.offset)),(p=r(y,b)).node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=r(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(y=p.node).splitText(p.offset-1)}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=i(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=i())),n[0].selector&&n[0].expand!==Z&&!n[0].inline&&(g=u(g,"previousSibling"),y=u(y,"nextSibling")),(n[0].block||n[0].selector)&&(g=f(g,"previousSibling"),y=f(y,"nextSibling"),n[0].block&&(Y(g)||(g=i(!0)),Y(y)||(y=i()))),1==g.nodeType&&(v=G(g),g=g.parentNode),1==y.nodeType&&(b=G(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function B(e,t,n,o){var i,r,a;if(!x(n,e)&&!function(e,t){return t.links&&"A"==e.tagName}(n,e))return Z;if("all"!=e.remove)for(oe(e.styles,(function(i,r){i=N(A(i,t),r),"number"==typeof r&&(r=i,o=0),(e.remove_similar||!o||k(T(o,r),i))&&W.setStyle(n,r,""),a=1})),a&&""===W.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),oe(e.attributes,(function(e,i){var r;if(e=A(e,t),"number"==typeof i&&(i=e,o=0),!o||k(W.getAttrib(o,i),e)){if("class"==i&&(e=W.getAttrib(n,i))&&(r="",oe(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(r+=(r?" ":"")+e)})),r))return void W.setAttrib(n,i,r);"class"==i&&n.removeAttribute("className"),J.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}})),oe(e.classes,(function(e){e=A(e,t),o&&!W.hasClass(o,e)||W.removeClass(n,e)})),r=W.getAttribs(n),i=0;i<r.length;i++){var s=r[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return Z}return"none"!=e.remove?(function(e,t){function n(e,t,n){return!(e=I(e,t,n))||"BR"==e.nodeName||Y(e)}var o,i=e.parentNode;t.block&&(X?i==W.getRoot()&&(t.list_block&&k(e,t.list_block)||oe(ie(e.childNodes),(function(e){K(X,e.nodeName.toLowerCase())?o?o.appendChild(e):(o=D(e,X),W.setAttribs(o,l.settings.forced_root_block_attrs)):o=0}))):Y(e)&&!Y(i)&&(n(e,Z)||n(e.firstChild,ee,1)||e.insertBefore(W.create("br"),e.firstChild),n(e,ee)||n(e.lastChild,Z,1)||e.appendChild(W.create("br")))),t.selector&&t.inline&&!k(t.inline,e)||W.remove(e,1)}(n,e),ee):void 0}function I(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!R(e))return e}function L(e,t){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!ne(i))return i}return e}var i,r,a=new o(W);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(i=e.nextSibling;i&&i!=t;)r=i,i=i.nextSibling,e.appendChild(r);return W.remove(t),oe(ie(t.childNodes),(function(t){e.appendChild(t)})),e}return t}function O(t,n){var o,i,r;return i=t[n?"startOffset":"endOffset"],1==(o=t[n?"startContainer":"endContainer"]).nodeType&&(!n&&i&&i--,o=o.childNodes[i>(r=o.childNodes.length-1)?r:i]),3===o.nodeType&&n&&i>=o.nodeValue.length&&(o=new e(o,l.getBody()).next()||o),3!==o.nodeType||n||0!==i||(o=new e(o,l.getBody()).prev()||o),o}function M(t,n,o,i){function r(e){var t=W.create("span",{id:p,"data-mce-bogus":!0,style:m?"color:red":""});return e&&t.appendChild(l.getDoc().createTextNode(Q)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==Q||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===p)return e;e=e.parentNode}}function u(t){var n;if(t)for(t=(n=new e(t,t)).current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,o;if(e)o=q.getRng(!0),a(e)?(!1!==t&&(o.setStartBefore(e),o.setEndBefore(e)),W.remove(e)):((n=u(e)).nodeValue.charAt(0)===Q&&(n.deleteData(0,1),o.startContainer==n&&o.startOffset>0&&o.setStart(n,o.startOffset-1),o.endContainer==n&&o.endOffset>0&&o.setEnd(n,o.endOffset-1)),W.remove(e,1)),q.setRng(o);else if(!(e=s(q.getStart())))for(;e=W.get(p);)d(e,!1)}function f(){var e;(e=s(q.getStart()))&&!W.isEmpty(e)&&re(e,(function(e){1!=e.nodeType||e.id===p||W.isEmpty(e)||W.setAttrib(e,"data-mce-bogus",null)}),"childNodes")}var p="_mce_caret",m=l.settings.caret_debug;l._hasCaretEvents||(z=function(){var e,t=[];if(a(s(q.getStart()),t))for(e=t.length;e--;)W.setAttrib(t[e],"data-mce-bogus","1")},j=function(e){var t=e.keyCode;d(),8==t&&q.isCollapsed()&&q.getStart().innerHTML==Q&&d(s(q.getStart())),37!=t&&39!=t||d(s(q.getStart())),f()},l.on("SetContent",(function(e){e.selection&&f()})),l._hasCaretEvents=!0),"apply"==t?function(){var e,t,i,a,l,c;a=(e=q.getRng(!0)).startOffset,c=e.startContainer.nodeValue,(t=s(q.getStart()))&&(i=u(t));var d=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&a>0&&a<c.length&&d.test(c.charAt(a))&&d.test(c.charAt(a-1))?(l=q.getBookmark(),e.collapse(!0),e=P(e,h(n)),e=V.split(e),y(n,o,e),q.moveToBookmark(l)):(t&&i.nodeValue===Q||(i=(t=r(!0)).firstChild,e.insertNode(t),a=1),y(n,o,t),q.setCursorLocation(i,a))}():function(){var e,t,a,s,l,u,d,f=q.getRng(!0),p=[];for(s=e=f.startContainer,3==e.nodeType&&(f.startOffset!=e.nodeValue.length&&(a=!0),s=s.parentNode);s;){if(w(s,n,o,i)){l=s;break}s.nextSibling&&(a=!0),p.push(s),s=s.parentNode}if(l)if(a)t=q.getBookmark(),f.collapse(!0),f=P(f,h(n),!0),f=V.split(f),b(n,o,f),q.moveToBookmark(t);else{for(s=d=r(),u=p.length-1;u>=0;u--)s.appendChild(W.clone(p[u],!1)),s=s.firstChild;s.appendChild(W.doc.createTextNode(Q)),s=s.firstChild;var m=W.getParent(l,c);m&&W.isEmpty(m)?l.parentNode.replaceChild(d,l):W.insertAfter(d,l),q.setCursorLocation(s,1),W.isEmpty(l)&&W.remove(l)}}()}function H(t){var n,o,i,r,a,s=t.startContainer,l=t.startOffset;if((t.startContainer!=t.endContainer||!function(e){return e&&/^(IMG)$/.test(e.nodeName)}(t.startContainer.childNodes[t.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=G(s),s=s.parentNode,n=!0),1==s.nodeType))for(s=(r=s.childNodes)[Math.min(l,r.length-1)],o=new e(s,W.getParent(s,W.isBlock)),(l>r.length-1||n)&&o.next(),i=o.current();i;i=o.next())if(3==i.nodeType&&!R(i))return a=W.create("a",{"data-mce-bogus":"all"},Q),i.parentNode.insertBefore(a,i),t.setStart(i,0),q.setRng(t),void W.remove(a)}var F,$,j,z,U={},W=l.dom,q=l.selection,V=new t(W),K=l.schema.isValidChild,Y=W.isBlock,X=l.settings.forced_root_block,G=W.nodeIndex,Q="\ufeff",J=/^(src|href|style)$/,Z=!1,ee=!0,te=W.getContentEditable,ne=n.isBookmarkNode,oe=r.each,ie=r.grep,re=r.walk;(0,r.extend)(this,{get:h,register:p,unregister:function(e){return e&&U[e]&&delete U[e],U},apply:y,remove:b,toggle:function(e,t,n){var o=h(e);!C(e,t,n)||"toggle"in o[0]&&!o[0].toggle?y(e,t,n):b(e,t,n)},match:C,matchAll:function(e,t){var n,o=[],i={};return n=q.getStart(),W.getParent(n,(function(n){var r,a;for(r=0;r<e.length;r++)!i[a=e[r]]&&w(n,a,t)&&(i[a]=!0,o.push(a))}),W.getRoot()),o},matchNode:w,canApply:function(e){var t,n,o,i,r=h(e);if(r)for(t=d(q.getStart()),o=r.length-1;o>=0;o--){if(!(i=r[o].selector)||r[o].defaultBlock)return ee;for(n=t.length-1;n>=0;n--)if(W.is(t[n],i))return ee}return Z},formatChanged:function(e,t,n){var o;return F||(F={},o={},l.on("NodeChange",(function(e){var t=d(e.element),n={};t=r.grep(t,(function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")})),oe(F,(function(e,i){oe(t,(function(r){return w(r,i,{},e.similar)?(o[i]||(oe(e,(function(e){e(!0,{node:r,format:i,parents:t})})),o[i]=e),n[i]=e,!1):!m(r,i)&&void 0}))})),oe(o,(function(i,r){n[r]||(delete o[r],oe(i,(function(n){n(!1,{node:e.element,format:r,parents:t})})))}))}))),oe(e.split(","),(function(e){F[e]||(F[e]=[],F[e].similar=n),F[e].push(t)})),this},getCssText:function(e){return a.getCssText(l,e)}}),p({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){oe(n,(function(t,n){W.setAttrib(e,n,t)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),oe("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){p(e,{block:e,remove:"all"})})),p(l.settings.formats),function(){l.addShortcut("meta+b","bold_desc","Bold"),l.addShortcut("meta+i","italic_desc","Italic"),l.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)l.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);l.addShortcut("access+7","",["FormatBlock",!1,"p"]),l.addShortcut("access+8","",["FormatBlock",!1,"div"]),l.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),l.on("BeforeGetContent",(function(e){z&&"raw"!=e.format&&z()})),l.on("mouseup keydown",(function(e){j&&j(e)}))}})),n(X,[],(function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,o=new Array(n),i=new Array(n),r=function(n,o,i,a,l){var c=s(n,o,i,a);if(null===c||c.start===o&&c.diag===o-a||c.end===n&&c.diag===n-i)for(var u=n,d=i;u<o||d<a;)u<o&&d<a&&e[u]===t[d]?(l.push([0,e[u]]),++u,++d):o-n>a-i?(l.push([2,e[u]]),++u):(l.push([1,t[d]]),++d);else{r(n,c.start,i,c.start-c.diag,l);for(var f=c.start;f<c.end;++f)l.push([0,e[f]]);r(c.end,o,c.end-c.diag,a,l)}},a=function(n,o,i,r){for(var a=n;a-o<r&&a<i&&e[a]===t[a-o];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(n,a,o)},s=function(n,r,s,l){var c=r-n,u=l-s;if(0===c||0===u)return null;var d=c-u,f=u+c,h=(f%2==0?f:f+1)/2;o[1+h]=n,i[1+h]=r+1;for(var p=0;p<=h;++p){for(var m=-p;m<=p;m+=2){var g=m+h;o[g]=m===-p||m!=p&&o[g-1]<o[g+1]?o[g+1]:o[g-1]+1;for(var v=o[g],y=v-n+s-m;v<r&&y<l&&e[v]===t[y];)o[g]=++v,++y;if(d%2!=0&&d-p<=m&&m<=d+p&&i[g-d]<=o[g])return a(i[g-d],m+n-s,r,l)}for(m=d-p;m<=d+p;m+=2){for(i[g=m+h-d]=m===d-p||m!=d+p&&i[g+1]<=i[g-1]?i[g+1]-1:i[g-1],y=(v=i[g]-1)-n+s-m;v>=n&&y>=s&&e[v]===t[y];)i[g]=v--,y--;if(d%2==0&&-p<=m&&m<=p&&i[g]<=o[g+d])return a(i[g],m+n-s,r,l)}}},l=[];return r(0,e.length,0,t.length,l),l}}})),n(G,[d,v,X],(function(e,t,n){var o=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""};return{read:function(t){return e.map(t.childNodes,o)},write:function(t,i){var r=e.map(i.childNodes,o);return function(t,o){var i=0;e.each(t,(function(e){e[0]===n.KEEP?i++:e[0]===n.INSERT?(function(e,t,n){var o=function(e){var t,n,o;for(o=document.createElement("div"),t=document.createDocumentFragment(),e&&(o.innerHTML=e);n=o.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var i=e.childNodes[n];i.parentNode.insertBefore(o,i)}else e.appendChild(o)}(o,e[1],i),i++):e[0]===n.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(o,i)}))}(n.diff(r,t),i),i}}})),n(Q,[d,G],(function(e,t){var n=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},o=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},i=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:n,createCompleteLevel:o,createFromEditor:function(i){var r,a,s;return r=t.read(i.getBody()),function(e){return-1!==e.indexOf("</iframe>")}(a=(s=e.map(r,(function(e){return i.serializer.trimContent(e)}))).join(""))?n(s):o(a)},applyToEditor:function(e,n,o){"fragmented"===n.type?t.write(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(o?n.beforeBookmark:n.bookmark)},isEq:function(e,t){return i(e)===i(t)}}})),n(J,[L,f,Q],(function(e,t,n){return function(e){function o(t){e.setDirty(t)}function i(e){l.typing=!1,l.add({},e)}function r(){l.typing&&(l.typing=!1,l.add())}var a,s,l=this,c=0,u=[],d=0;return e.on("init",(function(){l.add()})),e.on("BeforeExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(r(),l.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)})),e.on("ObjectResizeStart Cut",(function(){l.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("DragEnd",i),e.on("KeyUp",(function(t){var r=t.keyCode;t.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||t.ctrlKey)&&(i(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),s&&l.typing&&(e.isDirty()||(o(u[0]&&!n.isEq(n.createFromEditor(e),u[0])),e.isDirty()&&e.fire("change",{level:u[0],lastLevel:null})),e.fire("TypingUndo"),s=!1,e.nodeChanged()))})),e.on("KeyDown",(function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(l.typing&&i(e));!(t<16||t>20)||224===t||91===t||l.typing||e.ctrlKey&&!e.altKey||e.metaKey||(l.beforeChange(),l.typing=!0,l.add({},e),s=!0)}})),e.on("MouseDown",(function(e){l.typing&&i(e)})),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()})),l={data:u,typing:!1,beforeChange:function(){d||(a=e.selection.getBookmark(2,!0))},add:function(i,r){var s,l,f,h=e.settings;if(f=n.createFromEditor(e),i=t.extend(i=i||{},f),d||e.removed)return null;if(e.fire("BeforeAddUndo",{level:i,lastLevel:l=u[c],originalEvent:r}).isDefaultPrevented())return null;if(l&&n.isEq(l,i))return null;if(u[c]&&(u[c].beforeBookmark=a),h.custom_undo_redo_levels&&u.length>h.custom_undo_redo_levels){for(s=0;s<u.length-1;s++)u[s]=u[s+1];u.length--,c=u.length}i.bookmark=e.selection.getBookmark(2,!0),c<u.length-1&&(u.length=c+1),u.push(i),c=u.length-1;var p={level:i,lastLevel:l,originalEvent:r};return e.fire("AddUndo",p),c>0&&(o(!0),e.fire("change",p)),i},undo:function(){var t;return l.typing&&(l.add(),l.typing=!1),c>0&&(t=u[--c],n.applyToEditor(e,t,!0),o(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return c<u.length-1&&(t=u[++c],n.applyToEditor(e,t,!1),o(!0),e.fire("redo",{level:t})),t},clear:function(){u=[],c=0,l.typing=!1,l.data=u,e.fire("ClearUndos")},hasUndo:function(){return c>0||l.typing&&u[0]&&!n.isEq(n.createFromEditor(e),u[0])},hasRedo:function(){return c<u.length-1&&!l.typing},transact:function(e){r(),l.beforeChange();try{d++,e()}finally{d--}return l.add()},extra:function(t,o){var i;l.transact(t)&&(i=u[c].bookmark,n.applyToEditor(e,u[c-1],!0),l.transact(o)&&(u[c-1].beforeBookmark=i))}}}})),n(Z,[m,S,E,l],(function(e,t,n,o){var i=o.ie&&o.ie<11;return function(r){function a(a){function p(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==s.getContentEditable(e)}function m(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create("span",null,"Â ")),l.select(e),e.lastChild.outerHTML="",l.setRng(t))}function g(t){var n,i,r,a,c=t;if(t){if(o.ie&&o.ie<9&&N&&N.firstChild&&N.firstChild==N.lastChild&&"BR"==N.firstChild.tagName&&s.remove(N.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(s.doc.createTextNode("Â "),t.firstChild)}if(r=s.createRng(),o.ie||t.normalize(),t.hasChildNodes()){for(n=new e(t,t);i=n.current();){if(3==i.nodeType){r.setStart(i,0),r.setEnd(i,0);break}if(h[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}c=i,i=n.next()}i||(r.setStart(c,0),r.setEnd(c,0))}else"BR"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!A||A<9)&&(a=s.create("br"),t.parentNode.insertBefore(a,t)),r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));l.setRng(r),s.remove(a),l.scrollIntoView(t)}}function v(e){var t=c.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,c.forced_root_block_attrs)}function y(e){e.innerHTML=i?"":'<br data-mce-bogus="1">'}function b(e){var t,n,o,r=_,a=d.getTextInlineElements();if(e||"TABLE"==I?v(t=s.create(e||O)):t=N.cloneNode(!1),o=t,!1!==c.keep_styles)do{if(a[r.nodeName]){if("_mce_caret"==r.id)continue;n=r.cloneNode(!1),s.setAttrib(n,"id",""),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(o=n,t.appendChild(n))}}while((r=r.parentNode)&&r!=S);return i||(o.innerHTML='<br data-mce-bogus="1">'),t}function w(t){var n,o,i;if(3==_.nodeType&&(t?T>0:T<_.nodeValue.length))return!1;if(_.parentNode==N&&M&&!t)return!0;if(t&&1==_.nodeType&&_==N.firstChild)return!0;if("TABLE"===_.nodeName||_.previousSibling&&"TABLE"==_.previousSibling.nodeName)return M&&!t||!M&&t;for(n=new e(_,N),3==_.nodeType&&(t&&0===T?n.prev():t||T!=_.nodeValue.length||n.next());o=n.current();){if(1===o.nodeType){if(!o.getAttribute("data-mce-bogus")&&(i=o.nodeName.toLowerCase(),f[i]&&"br"!==i))return!1}else if(3===o.nodeType&&!/^[ \t\r\n]*$/.test(o.nodeValue))return!1;t?n.prev():n.next()}return!0}function C(){r.execCommand("InsertLineBreak",!1,a)}function x(){D=/^(H[1-6]|PRE|FIGURE)$/.test(I)&&"HGROUP"!=L?b(O):b(),c.end_container_on_empty_block&&p(B)&&s.isEmpty(N)?D=s.split(B,N):s.insertAfter(D,N),g(D)}var k,E,S,_,T,N,A,R,D,P,B,I,L,O,M;if(k=l.getRng(!0),!a.isDefaultPrevented()){if(!k.collapsed)return void r.execCommand("Delete");if(new t(s).normalize(k),_=k.startContainer,T=k.startOffset,O=(O=(c.force_p_newlines?"p":"")||c.forced_root_block)?O.toUpperCase():"",A=s.doc.documentMode,R=a.shiftKey,1==_.nodeType&&_.hasChildNodes()&&(M=T>_.childNodes.length-1,_=_.childNodes[Math.min(T,_.childNodes.length-1)]||_,T=M&&3==_.nodeType?_.nodeValue.length:0),S=function(e){var t,n,o=s.getRoot();for(t=e;t!==o&&"false"!==s.getContentEditable(t);)"true"===s.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==o?n:o}(_)){if(u.beforeChange(),!s.isBlock(S)&&S!=s.getRoot())return void(O&&!R||C());if((O&&!R||!O&&R)&&(_=function(e,t){var n,o,i,a,l,c,u=O||"P";if(!(o=s.getParent(e,s.isBlock))||!p(o)){if(c=(o=o||S)==r.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(o)?o.nodeName.toLowerCase():o.parentNode.nodeName.toLowerCase(),!o.hasChildNodes())return v(n=s.create(u)),o.appendChild(n),k.setStart(n,0),k.setEnd(n,0),n;for(a=e;a.parentNode!=o;)a=a.parentNode;for(;a&&!s.isBlock(a);)i=a,a=a.previousSibling;if(i&&d.isValidChild(c,u.toLowerCase())){for(v(n=s.create(u)),i.parentNode.insertBefore(n,i),a=i;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;k.setStart(e,t),k.setEnd(e,t)}}return e}(_,T)),N=s.getParent(_,s.isBlock),B=N?s.getParent(N.parentNode,s.isBlock):null,I=N?N.nodeName.toUpperCase():"","LI"!=(L=B?B.nodeName.toUpperCase():"")||a.ctrlKey||(N=B,I=L),r.undoManager.typing&&(r.undoManager.typing=!1,r.undoManager.add()),/^(LI|DT|DD)$/.test(I)){if(!O&&R)return void C();if(s.isEmpty(N))return void function(){function e(e){for(var t=B[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===N}function t(){var e=B.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:B}if(B!=r.getBody()){var n=B.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(O="LI"),D=O?b(O):s.create("BR"),e(!0)&&e()?"LI"==n?s.insertAfter(D,t()):s.replace(D,B):e(!0)?"LI"==n?(s.insertAfter(D,t()),D.appendChild(s.doc.createTextNode(" ")),D.appendChild(B)):B.parentNode.insertBefore(D,B):e()?(s.insertAfter(D,t()),m(D)):(B=t(),(E=k.cloneRange()).setStartAfter(N),E.setEndAfter(B),P=E.extractContents(),"LI"==O&&"LI"==P.firstChild.nodeName?(D=P.firstChild,s.insertAfter(P,B)):(s.insertAfter(P,B),s.insertAfter(D,B))),s.remove(N),g(D),u.add()}}()}if("PRE"==I&&!1!==c.br_in_pre){if(!R)return void C()}else if(!O&&!R&&"LI"!=I||O&&R)return void C();O&&N===r.getBody()||(O=O||"P",n.isCaretContainerBlock(N)?(D=n.showCaretContainerBlock(N),s.isEmpty(N)&&y(N),g(D)):w()?x():w(!0)?(m(D=N.parentNode.insertBefore(b(),N)),g(N)):((E=k.cloneRange()).setEndAfter(N),function(e){do{3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(P=E.extractContents()),D=P.firstChild,s.insertAfter(P,N),function(e){var t,n=e,o=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||f[n.nodeName.toLowerCase()]||o.push(n)}for(t=o.length;t--;)(!(n=o[t]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue||"A"==n.nodeName&&" "===(n.innerText||n.textContent))&&s.remove(n)}}(D),function(e){var t;i||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(s.getStyle(t,"float",!0))||s.add(e,"br"))}(N),s.isEmpty(N)&&y(N),D.normalize(),s.isEmpty(D)?(s.remove(D),x()):g(D)),s.setAttrib(D,"id",""),r.fire("NewBlock",{newBlock:D}),u.typing=!1,u.add())}}}var s=r.dom,l=r.selection,c=r.settings,u=r.undoManager,d=r.schema,f=d.getNonEmptyElements(),h=d.getMoveCaretBeforeOnEnterElements();r.on("keydown",(function(e){13==e.keyCode&&!1!==a(e)&&e.preventDefault()}))}})),n(ee,[],(function(){return function(e){var t=e.settings,n=e.dom,o=e.selection,i=e.schema,r=i.getBlockElements();t.forced_root_block&&e.on("NodeChange",(function(){var a,s,l,c,u,d,f,h,p,m,g,v,b=o.getStart(),w=e.getBody(),C=-16777215;if(v=t.forced_root_block,b&&1===b.nodeType&&v){for(;b&&b!=w;){if(r[b.nodeName])return;b=b.parentNode}if((a=o.getRng()).setStart){s=a.startContainer,l=a.startOffset,c=a.endContainer,u=a.endOffset;try{p=e.getDoc().activeElement===w}catch(y){}}else a.item&&(b=a.item(0),(a=e.getDoc().body.createTextRange()).moveToElementText(b)),p=a.parentElement().ownerDocument===e.getDoc(),(m=a.duplicate()).collapse(!0),l=-1*m.move("character",C),m.collapsed||((m=a.duplicate()).collapse(!1),u=-1*m.move("character",C)-l);for(b=w.firstChild,g=w.nodeName.toLowerCase();b;)if((3===b.nodeType||1==b.nodeType&&!r[b.nodeName])&&i.isValidChild(g,v.toLowerCase())){if(3===b.nodeType&&0===b.nodeValue.length){f=b,b=b.nextSibling,n.remove(f);continue}d||(d=n.create(v,e.settings.forced_root_block_attrs),b.parentNode.insertBefore(d,b),h=!0),f=b,b=b.nextSibling,d.appendChild(f)}else d=null,b=b.nextSibling;if(h&&p){if(a.setStart)a.setStart(s,l),a.setEnd(c,u),o.setRng(a);else try{(a=e.getDoc().body.createTextRange()).moveToElementText(w),a.collapse(!0),a.moveStart("character",l),u>0&&a.moveEnd("character",u),a.select()}catch(y){}e.nodeChanged()}}}))}})),n(te,[M,m,x,j,E,H],(function(e,t,n,o,i,r){function a(e){return e>0}function s(e){return e<0}function l(e,t){for(var n;n=e(t);)if(!b(n))return n;return null}function c(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(m(e))return e;return t}function u(e,t){for(;e&&e!=t;){if(v(e))return e;e=e.parentNode}return null}function d(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function f(e,t,n){return u(t,e)==u(n,e)}function h(e,t,n){var o,i;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(y(o=n[i])&&(o=o[i]),g(o)){if(f(t,o,n))return o;break}if(x(o))break;n=n.parentNode}return null}function p(e,t){return g(function(e,t){var n,o;return t?(n=t.container(),o=t.offset(),C(n)?n.childNodes[o+e]:null):null}(e,t))}var m=n.isContentEditableTrue,g=n.isContentEditableFalse,v=n.matchStyleValues("display","block table table-cell table-caption"),y=i.isCaretContainer,b=i.isCaretContainerBlock,w=e.curry,C=n.isElement,x=r.isCaretCandidate,k=w(d,!0),E=w(d,!1);return{isForwards:a,isBackwards:s,findNode:function(e,n,o,i,r){var c=new t(e,i);if(s(n)){if((g(e)||b(e))&&o(e=l(c.prev,!0)))return e;for(;e=l(c.prev,r);)if(o(e))return e}if(a(n)){if((g(e)||b(e))&&o(e=l(c.next,!0)))return e;for(;e=l(c.next,r);)if(o(e))return e}return null},getEditingHost:c,getParentBlock:u,isInSameBlock:function(e,t,n){return u(e.container(),n)==u(t.container(),n)},isInSameEditingHost:function(e,t,n){return c(e.container(),n)==c(t.container(),n)},isBeforeContentEditableFalse:w(p,0),isAfterContentEditableFalse:w(p,-1),normalizeRange:function(e,t,o){var r,a,s,l,c=w(h,!0,t),u=w(h,!1,t);if(s=o.startOffset,i.isCaretContainerBlock(a=o.startContainer)){if(C(a)||(a=a.parentNode),"before"==(l=a.getAttribute("data-mce-caret"))&&g(r=a.nextSibling))return k(r);if("after"==l&&g(r=a.previousSibling))return E(r)}if(!o.collapsed)return o;if(n.isText(a)){if(y(a)){if(1===e){if(r=u(a))return k(r);if(r=c(a))return E(r)}if(-1===e){if(r=c(a))return E(r);if(r=u(a))return k(r)}return o}if(i.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(r=u(a))?k(r):o;if(i.startsWithCaretContainer(a)&&s<=1)return-1===e&&(r=c(a))?E(r):o;if(s===a.data.length)return(r=u(a))?k(r):o;if(0===s)return(r=c(a))?E(r):o}return o}}})),n(ne,[x,H,j,te,d,M],(function(e,t,n,o,i,r){function a(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function s(e,t){if(p(e)){if(g(t.previousSibling)&&!d(t.previousSibling))return n.before(t);if(d(t))return n(t,0)}if(m(e)){if(g(t.nextSibling)&&!d(t.nextSibling))return n.after(t);if(d(t))return n(t,t.data.length)}return m(e)?h(t)?n.before(t):n.after(t):n.before(t)}function l(t,i){var r;return!!e.isBr(t)&&!!(r=c(1,n.after(t),i))&&!o.isInSameBlock(n.before(t),n.before(r),i)}function c(e,t,h){var b,w,C,x,k,E,S;if(!f(h)||!t)return null;if(b=(S=t).container(),w=S.offset(),d(b)){if(m(e)&&w>0)return n(b,--w);if(p(e)&&w<b.length)return n(b,++w);C=b}else{if(m(e)&&w>0&&(x=a(b,w-1),g(x)))return!v(x)&&(k=o.findNode(x,e,y,x))?d(k)?n(k,k.data.length):n.after(k):d(x)?n(x,x.data.length):n.before(x);if(p(e)&&w<b.childNodes.length&&(x=a(b,w),g(x)))return l(x,h)?c(e,n.after(x),h):!v(x)&&(k=o.findNode(x,e,y,x))?d(k)?n(k,0):n.before(k):d(x)?n(x,0):n.after(x);C=S.getNode()}return(p(e)&&S.isAtEnd()||m(e)&&S.isAtStart())&&(C=o.findNode(C,e,r.constant(!0),h,!0),y(C))?s(e,C):(x=o.findNode(C,e,y,h),!(E=i.last(i.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(b,h),u)))||x&&E.contains(x)?x?s(e,x):null:S=p(e)?n.after(E):n.before(E))}var u=e.isContentEditableFalse,d=e.isText,f=e.isElement,h=e.isBr,p=o.isForwards,m=o.isBackwards,g=t.isCaretCandidate,v=t.isAtomic,y=t.isEditableCaretCandidate;return function(e){return{next:function(t){return c(1,t,e)},prev:function(t){return c(-1,t,e)}}}})),n(oe,[f,ne,j],(function(e,t,n){var o=function(t){return e.grep(t.childNodes,(function(e){return"LI"===e.nodeName}))},i=function(e){return e.length>0&&function(e){return!e.firstChild}(e[e.length-1])?e.slice(0,-1):e},r=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},a=function(e,o){var i=n.before(e),r=new t(o).next(i);return r?r.toRange():null},s=function(e,o){var i=n.after(e),r=new t(o).prev(i);return r?r.toRange():null},l=function(t,n,o,i){var r=function(e,t){var n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]}(t,i),a=t.parentNode;return a.insertBefore(r[0],t),e.each(n,(function(e){a.insertBefore(e,t)})),a.insertBefore(r[1],t),a.removeChild(t),s(n[n.length-1],o)},c=function(t,n,o){var i=t.parentNode;return e.each(n,(function(e){i.insertBefore(e,t)})),a(t,o)};return{isListFragment:function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n||"ul"!==t.name&&"ol"!==t.name)},insertAtCaret:function(e,a,u,d){var f=function(e,t,n){var o=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(o))}(a,e,d),h=r(a,u.startContainer),p=i(o(f.firstChild)),m=a.getRoot(),g=function(e){var o=n.fromRangeStart(u),i=new t(a.getRoot()),s=1===e?i.prev(o):i.next(o);return!s||r(a,s.getNode())!==h};return g(1)?c(h,p,m):g(2)?function(e,t,n,o){return o.insertAfter(t.reverse(),e),s(t[0],n)}(h,p,m,a):l(h,p,m,u)},isParentBlockLi:function(e,t){return!!r(e,t)},trimListItems:i,listItems:o}})),n(ie,[l,f,P,ne,j,q,x,oe],(function(e,t,n,o,i,r,a,s){var l=a.matchNodeNames("td th"),c=function(a,c,u){var d,f,h,p,m,g,v,y,b,w,C,x,k=a.schema.getTextInlineElements(),E=a.selection,S=a.dom;/^ | $/.test(c)&&(c=function(e){function t(e){return o[e]&&3==o[e].nodeType}var n,o,i;return i=(n=E.getRng(!0)).startOffset,3==(o=n.startContainer).nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<o.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(c)),d=a.parser,x=u.merge,f=new n({validate:a.settings.validate},a.schema),C='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',a.fire("BeforeSetContent",g={content:c,format:"html",selection:!0}),-1==(c=g.content).indexOf("{$caret}")&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,C);var _=(y=E.getRng()).startContainer||(y.parentElement?y.parentElement():null),T=a.getBody();_===T&&E.isCollapsed()&&S.isBlock(T.firstChild)&&function(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}(T.firstChild)&&S.isEmpty(T.firstChild)&&((y=S.createRng()).setStart(T.firstChild,0),y.setEnd(T.firstChild,0),E.setRng(y)),E.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),function(){var e,t,n;n=(e=E.getRng(!0)).startOffset,3==(t=e.startContainer).nodeType&&e.collapsed&&("Â "===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(c)||(c+=" ")):"Â "===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(c)||(c=" "+c)))}());var N={context:(h=E.getNode()).nodeName.toLowerCase(),data:u.data};if(m=d.parse(c,N),!0===u.paste&&s.isListFragment(m)&&s.isParentBlockLi(S,h))return y=s.insertAtCaret(f,S,a.selection.getRng(!0),m),a.selection.setRng(y),void a.fire("SetContent",g);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(m),"mce_marker"==(b=m.lastChild).attr("id"))for(v=b,b=b.prev;b;b=b.walk(!0))if(3==b.type||!S.isBlock(b.name)){a.schema.isValidChild(b.parent.name,"span")&&b.parent.insert(v,b,"br"===b.name);break}if(a._selectionOverrides.showBlockCaretContainer(h),N.invalid){for(E.setContent(C),h=E.getNode(),p=a.getBody(),9==h.nodeType?h=b=p:b=h;b!==p;)h=b,b=b.parentNode;c=h==p?p.innerHTML:S.getOuterHTML(h),c=f.serialize(d.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return f.serialize(m)})))),h==p?S.setHTML(p,c):S.setOuterHTML(h,c)}else c=f.serialize(m),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var o=n.firstChild;!o||o===n.lastChild&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(a,c,h);(function(){if(x){var e=a.getBody(),n=new r(S);t.each(S.select("*[data-mce-fragment]"),(function(t){for(var o=t.parentNode;o&&o!=e;o=o.parentNode)k[t.nodeName.toLowerCase()]&&n.compare(o,t)&&S.remove(t,!0)}))}})(),function(t){var n,r,s;if(t){if(E.scrollIntoView(t),n=function(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if("false"===a.dom.getContentEditable(e))return e;return null}(t))return S.remove(t),void E.select(n);y=S.createRng(),(b=t.previousSibling)&&3==b.nodeType?(y.setStart(b,b.nodeValue.length),e.ie||(w=t.nextSibling)&&3==w.nodeType&&(b.appendData(w.data),w.parentNode.removeChild(w))):(y.setStartBefore(t),y.setEndBefore(t)),r=S.getParent(t,S.isBlock),S.remove(t),r&&S.isEmpty(r)&&(a.$(r).empty(),y.setStart(r,0),y.setEnd(r,0),l(r)||function(e){return!!e.getAttribute("data-mce-fragment")}(r)||!(s=function(e){var t=i.fromRangeStart(e);if(t=new o(a.getBody()).next(t))return t.toRange()}(y))?S.add(r,S.create("br",{"data-mce-bogus":"1"})):(y=s,S.remove(r))),E.setRng(y)}}(S.get("mce_marker")),function(e){t.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))}(a.getBody()),a.fire("SetContent",g),a.addVisual()},u=function(e){var n;return"string"!=typeof e?(n=t.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:n}):{content:e,details:{}}};return{insertAtCaret:function(e,t){var n=u(t);c(e,n.content,n.details)}}})),n(re,[l,f,S,m,ie,x],(function(e,n,o,i,r,a){var s=n.each,l=n.extend,c=n.map,u=n.inArray,d=n.explode,f=e.ie&&e.ie<11,h=!0;return function(n){function p(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=S.state[e])return t(e);try{return n.getDoc().queryCommandState(e)}catch(o){}return!1}}function m(e,t){t=t||"exec",s(e,(function(e,n){s(n.toLowerCase().split(","),(function(n){S[t][n]=e}))}))}function g(e,o,i){return o===t&&(o=!1),i===t&&(i=null),n.getDoc().execCommand(e,o,i)}function v(e){return k.match(e)}function y(e,o){k.toggle(e,o?{value:o}:t),n.nodeChanged()}function b(e){E=x.getBookmark(e)}function w(){x.moveToBookmark(E)}var C,x,k,E,S={state:{},exec:{},value:{}},_=n.settings;n.on("PreInit",(function(){C=n.dom,x=n.selection,_=n.settings,k=n.formatter})),l(this,{execCommand:function(e,t,o,i){var r,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||n.focus(),(i=n.fire("BeforeExecCommand",{command:e,ui:t,value:o})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),r=S.exec[a])return r(a,t,o),n.fire("ExecCommand",{command:e,ui:t,value:o}),!0;if(s(n.plugins,(function(i){if(i.execCommand&&i.execCommand(e,t,o))return n.fire("ExecCommand",{command:e,ui:t,value:o}),l=!0,!1})),l)return l;if(n.theme&&n.theme.execCommand&&n.theme.execCommand(e,t,o))return n.fire("ExecCommand",{command:e,ui:t,value:o}),!0;try{l=n.getDoc().execCommand(e,t,o)}catch(c){}return!!l&&(n.fire("ExecCommand",{command:e,ui:t,value:o}),!0)},queryCommandState:p,queryCommandValue:function(e){var t;if(!n.quirks.isHidden()){if(e=e.toLowerCase(),t=S.value[e])return t(e);try{return n.getDoc().queryCommandValue(e)}catch(o){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),S.exec[e])return!0;try{return n.getDoc().queryCommandSupported(e)}catch(t){}return!1},addCommands:m,addCommand:function(e,t,o){e=e.toLowerCase(),S.exec[e]=function(e,i,r,a){return t.call(o||n,i,r,a)}},addQueryStateHandler:function(e,t,o){e=e.toLowerCase(),S.state[e]=function(){return t.call(o||n)}},addQueryValueHandler:function(e,t,o){e=e.toLowerCase(),S.value[e]=function(){return t.call(o||n)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!S.exec[e]}}),m({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(t){var o,i=n.getDoc();try{g(t)}catch(r){o=h}if("paste"!==t||i.queryCommandEnabled(t)||(o=!0),o||!i.queryCommandSupported(t)){var a=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(a=a.replace(/Ctrl\+/g,"â+")),n.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(x.isCollapsed()){var e=n.dom.getParent(n.selection.getStart(),"a");e&&n.dom.remove(e,!0)}else k.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),(function(e){t!=e&&k.remove("align"+e)})),"none"!=t&&y("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;g(e),(t=C.getParent(x.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((n=t.parentNode).nodeName)&&(b(),C.split(n,t),w())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var o,i;n>=1&&n<=7&&(i=d(_.font_size_style_values),n=(o=d(_.font_size_classes))?o[n-1]||n:i[n-1]||n),y(e,n)},RemoveFormat:function(e){k.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var e=x.getBookmark();n.setContent(n.getContent({cleanup:h}),{cleanup:h}),x.moveToBookmark(e)},mceRemoveNode:function(e,t,o){var i=o||x.getNode();i!=n.getBody()&&(b(),n.dom.remove(i,h),w())},mceSelectNodeDepth:function(e,t,o){var i=0;C.getParent(x.getNode(),(function(e){if(1==e.nodeType&&i++==o)return x.select(e),!1}),n.getBody())},mceSelectNode:function(e,t,n){x.select(n)},mceInsertContent:function(e,t,o){r.insertAtCaret(n,o)},mceInsertRawHTML:function(e,t,o){x.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,(function(){return o})))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(e,t,o){n.setContent(o)},"Indent,Outdent":function(e){var t,o,i;o=/[a-z%]+$/i.exec(t=_.indentation),t=parseInt(t,10),p("InsertUnorderedList")||p("InsertOrderedList")?g(e):(_.forced_root_block||C.getParent(x.getNode(),C.isBlock)||k.apply("div"),s(x.getSelectedBlocks(),(function(r){if("false"!==C.getContentEditable(r)&&"LI"!==r.nodeName){var a=n.getParam("indent_use_margin",!1)?"margin":"padding";a="TABLE"===r.nodeName?"margin":a,a+="rtl"==C.getStyle(r,"direction",!0)?"Right":"Left","outdent"==e?(i=Math.max(0,parseInt(r.style[a]||0,10)-t),C.setStyle(r,a,i?i+o:"")):(i=parseInt(r.style[a]||0,10)+t+o,C.setStyle(r,a,i))}})))},mceRepaint:function(){},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,o){n.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,x.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var o;"string"==typeof n&&(n={href:n}),o=C.getParent(x.getNode(),"a"),n.href=n.href.replace(" ","%20"),o&&n.href||k.remove("link"),n.href&&k.apply("link",n,o)},selectAll:function(){var e,t=C.getRoot();if(x.getRng().setStart){var n=C.getParent(x.getStart(),a.isContentEditableTrue);n&&((e=C.createRng()).selectNodeContents(n),x.setRng(e))}else(e=x.getRng()).item||(e.moveToElementText(t),e.select())},delete:function(){g("Delete");var e=n.getBody();C.isEmpty(e)&&(n.setContent(""),e.firstChild&&C.isBlock(e.firstChild)?n.selection.setCursorLocation(e.firstChild,0):n.selection.setCursorLocation(e,0))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(e,t,r){var a,s,l,c=r,u=x.getRng(!0);new o(C).normalize(u);var d=u.startOffset,p=u.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var m=d>p.childNodes.length-1;p=p.childNodes[Math.min(d,p.childNodes.length-1)]||p,d=m&&3==p.nodeType?p.nodeValue.length:0}var g=C.getParent(p,C.isBlock),v=g?g.nodeName.toUpperCase():"",y=g?C.getParent(g.parentNode,C.isBlock):null,b=y?y.nodeName.toUpperCase():"";"LI"!=b||c&&c.ctrlKey||(g=y,v=b),p&&3==p.nodeType&&d>=p.nodeValue.length&&(f||function(){for(var e,t=new i(p,g),o=n.schema.getNonEmptyElements();e=t.next();)if(o[e.nodeName.toLowerCase()]||e.length>0)return!0}()||(a=C.create("br"),u.insertNode(a),u.setStartAfter(a),u.setEndAfter(a),s=!0)),a=C.create("br"),u.insertNode(a);var w=C.doc.documentMode;return f&&"PRE"==v&&(!w||w<8)&&a.parentNode.insertBefore(C.doc.createTextNode("\r"),a),l=C.create("span",{},"&nbsp;"),a.parentNode.insertBefore(l,a),x.scrollIntoView(l),C.remove(l),s?(u.setStartBefore(a),u.setEndBefore(a)):(u.setStartAfter(a),u.setEndAfter(a)),x.setRng(u),n.undoManager.add(),h}}),m({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=x.isCollapsed()?[C.getParent(x.getNode(),C.isBlock)]:x.getSelectedBlocks(),o=c(n,(function(e){return!!k.matchNode(e,t)}));return-1!==u(o,h)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(_.inline_styles){if((e=C.getParent(x.getStart(),C.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return h;if((e=C.getParent(x.getEnd(),C.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return h}return p("InsertUnorderedList")||p("InsertOrderedList")||!_.inline_styles&&!!C.getParent(x.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=C.getParent(x.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),m({"FontSize,FontName":function(e){var t,n=0;return(t=C.getParent(x.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),m({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}})),n(ae,[f],(function(e){function t(e,r){var a,s,l=this;if(e=o(e),a=(r=l.settings=r||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))l.source=e;else{var c=0===e.indexOf("//");0!==e.indexOf("/")||c||(e=(a&&a.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(s=r.base_uri?r.base_uri.path:new t(location.href).directory,""===r.base_uri.protocol?e="//mce_host"+l.toAbsPath(s,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(i,(function(t,n){var o=e[n];o&&(o=o.replace(/\(mce_at\)/g,"@@")),l[t]=o})),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),c&&(l.protocol="")}}var n=e.each,o=e.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),r={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,o=this;if("./"===e)return e;if("mce_host"!=(e=new t(e,{base_uri:o})).host&&o.host!=e.host&&e.host||o.port!=e.port||o.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=o.getURI(),r=e.getURI();return i==r||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==r?i:(n=o.toRelPath(o.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return(e=new t(e,{base_uri:this})).getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=r[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,o,i,r=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(o=0,i=e.length;o<i;o++)if(o>=n.length||e[o]!=n[o]){r=o+1;break}if(e.length<n.length)for(o=0,i=n.length;o<i;o++)if(o>=e.length||e[o]!=n[o]){r=o+1;break}if(1===r)return t;for(o=0,i=e.length-(r-1);o<i;o++)a+="../";for(o=r-1,i=n.length;o<i;o++)a+=o!=r-1?"/"+n[o]:n[o];return a},toAbsPath:function(e,t){var o,i,r,a=0,s=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,(function(e){e&&s.push(e)})),e=s,o=t.length-1,s=[];o>=0;o--)0!==t[o].length&&"."!==t[o]&&(".."!==t[o]?a>0?a--:s.push(t[o]):a++);return 0!==(r=(o=e.length-a)<=0?s.reverse().join("/"):e.slice(0,o).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},t.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},t})),n(se,[f],(function(e){function t(){}var n,o,i=e.each,r=e.extend;return t.extend=n=function(e){function t(){var e,t,n,i=this;if(!o&&(i.init&&i.init.apply(i,arguments),t=i.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(i,arguments)}function a(){return this}function s(e,t){return function(){var n,o=this,i=o._super;return o._super=d[e],n=t.apply(o,arguments),o._super=i,n}}var l,c,u,d=this.prototype;for(c in o=!0,l=new this,o=!1,e.Mixins&&(i(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),d.Mixins&&(e.Mixins=d.Mixins.concat(e.Mixins))),e.Methods&&i(e.Methods.split(","),(function(t){e[t]=a})),e.Properties&&i(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&i(e.Statics,(function(e,n){t[n]=e})),e.Defaults&&d.Defaults&&(e.Defaults=r({},d.Defaults,e.Defaults)),e)l[c]="function"==typeof(u=e[c])&&d[c]?s(c,u):u;return t.prototype=l,t.constructor=t,t.extend=n,t},t})),n(le,[f],(function(e){function t(t){function n(){return!1}function o(){return!0}function i(t,o,i,r){var a,u,d;if(!1===o&&(o=n),o)for(o={func:o},r&&e.extend(o,r),d=(u=t.toLowerCase().split(" ")).length;d--;)(a=c[t=u[d]])||(a=c[t]=[],s(t,!0)),i?a.unshift(o):a.push(o);return l}function r(e,t){var n,o,i,r,a;if(e)for(n=(r=e.toLowerCase().split(" ")).length;n--;){if(o=c[e=r[n]],!e){for(i in c)s(i,!1),delete c[i];return l}if(o){if(t)for(a=o.length;a--;)o[a].func===t&&(o=o.slice(0,a).concat(o.slice(a+1)),c[e]=o);else o.length=0;o.length||(s(e,!1),delete c[e])}}else{for(e in c)s(e,!1);c={}}return l}var a,s,l=this,c={};a=(t=t||{}).scope||l,s=t.toggleEvent||n,l.fire=function(e,i){var s,l,u,d;if(e=e.toLowerCase(),(i=i||{}).type=e,i.target||(i.target=a),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=o},i.stopPropagation=function(){i.isPropagationStopped=o},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=o},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),s=c[e])for(l=0,u=s.length;l<u;l++){if((d=s[l]).once&&r(e,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===d.func.call(a,i))return i.preventDefault(),i}return i},l.on=i,l.off=r,l.once=function(e,t,n){return i(e,t,n,{once:!0})},l.has=function(e){return e=e.toLowerCase(),!(!c[e]||0===c[e].length)}}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t})),n(ce,[],(function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,o){function i(t){e.set(o,t.value)}var r;return e.on("change:"+o,(function(e){t.set(n,e.value)})),t.on("change:"+n,i),(r=e._bindings)||(r=e._bindings=[],e.on("destroy",(function(){for(var e=r.length;e--;)r[e]()}))),r.push((function(){t.off("change:"+n,i)})),t.get(n)}})},e})),n(ue,[le],(function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,o){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,o)}})),t._eventDispatcher}return{fire:function(e,n,o){var i=this;if(i.removed&&"remove"!==e)return n;if(n=t(i).fire(e,n,o),!1!==o&&i.parent)for(var r=i.parent();r&&!n.isPropagationStopped();)r.fire(e,n,!1),r=r.parent();return n},on:function(e,n,o){return t(this).on(e,n,o)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}})),n(de,[ce,ue,se,f],(function(e,t,n,o){function i(e){return e.nodeType>0}function r(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(o.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!r(e[n],t[n]))return!1}if(i(e)||i(t))return e===t;for(n in a={},t){if(!r(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!r(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,o;for(n in t=t||{})(o=t[n])instanceof e&&(t[n]=o.create(this,n));this.data=t},set:function(t,n){var o,i,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(o in t)this.set(o,t[o]);return this}return r(a,n)||(this.data[t]=n,this.fire("change:"+t,i={target:this,name:t,value:n,oldValue:a}),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})})),n(fe,[se],(function(e){var t,n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,r=e.extend({init:function(e){function t(e){var t;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(t=a(e[1],[]),function(e){return!s(e,t)}):(e=e[2],function(t,n,o){return"first"===e?0===n:"last"===e?n===o-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}function r(e,o,r){function a(e){e&&o.push(e)}var s;return a(function(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}((s=n.exec(e.replace(i,"")))[1])),a(function(e){if(e)return function(t){return t._name===e}}(s[2])),a(function(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(s[3])),a(function(e,t,n){if(e)return function(o){var i=o[e]?o[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!=n:"^="===t?0===i.indexOf(n):"$="===t&&i.substr(i.length-n.length)===n:!!n}}(s[4],s[5],s[6])),a(t(s[7])),o.pseudo=!!s[7],o.direct=r,o}function a(e,t){var n,i,s,l=[];do{if(o.exec(""),(i=o.exec(e))&&(e=i[3],l.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&a(n,t),e=[],s=0;s<l.length;s++)">"!=l[s]&&e.push(r(l[s],[],">"===l[s-1]));return t.push(e),t}var s=this.match;this._selectors=a(e,[])},match:function(e,t){var n,o,i,r,a,s,l,c,u,d,f,h,p;for(n=0,o=(t=t||this._selectors).length;n<o;n++){for(p=e,h=0,i=(r=(a=t[n]).length)-1;i>=0;i--)for(c=a[i];p;){if(c.pseudo)for(u=d=(f=p.parent().items()).length;u--&&f[u]!==p;);for(s=0,l=c.length;s<l;s++)if(!c[s](p,u,d)){s=l+1;break}if(s===l){h++;break}if(i===r-1)break;p=p.parent()}if(h===r)return!0}return!1},find:function(e){function n(e,t,o){var i,r,s,l,c,u=t[o];for(i=0,r=e.length;i<r;i++){for(c=e[i],s=0,l=u.length;s<l;s++)if(!u[s](c,i,r)){s=l+1;break}if(s===l)o==t.length-1?a.push(c):c.items&&n(c.items(),t,o+1);else if(u.direct)return;c.items&&n(c.items(),t,o)}}var o,i,a=[],s=this._selectors;if(e.items){for(o=0,i=s.length;o<i;o++)n(e.items(),s[o],0);i>1&&(a=function(e){for(var t,n=[],o=e.length;o--;)(t=e[o]).__checked||(n.push(t),t.__checked=1);for(o=n.length;o--;)delete n[o].__checked;return n}(a))}return t||(t=r.Collection),new t(a)}});return r})),n(he,[f,fe,se],(function(e,t,n){var o,i,r=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?r.apply(n,t):t instanceof o?n.add(t.toArray()):r.call(n,t),n},set:function(e){var t,n=this,o=n.length;for(n.length=0,n.add(e),t=n.length;t<o;t++)delete n[t];return n},filter:function(e){var n,i,r,a,s=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,i=this.length;n<i;n++)a(r=this[n])&&s.push(r);return new o(s)},slice:function(){return new o(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new o(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,o=this;return void 0!==t?(o.each((function(n){n[e]&&n[e](t)})),o):(n=o[0])&&n[e]?n[e]():void 0},exec:function(t){var n=this,o=e.toArray(arguments).slice(1);return n.each((function(e){e[t]&&e[t].apply(e,o)})),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each((function(t){t.classes.add(e)}))},removeClass:function(e){return this.each((function(t){t.classes.remove(e)}))}},e.each("fire on off show hide append prepend before after reflow".split(" "),(function(t){i[t]=function(){var n=e.toArray(arguments);return this.each((function(e){t in e&&e[t].apply(e,n)})),this}})),e.each("text name disabled active selected checked visible parent value data".split(" "),(function(e){i[e]=function(t){return this.prop(e,t)}})),o=n.extend(i),t.Collection=o,o})),n(pe,[l,f,b],(function(e,t,n){var o=0,i={id:function(){return"mceu_"+o++},create:function(e,o,i){var r=document.createElement(e);return n.DOM.setAttribs(r,o),"string"==typeof i?r.innerHTML=i:t.each(i,(function(e){e.nodeType&&r.appendChild(e)})),r},createFragment:function(e){return n.DOM.createFragment(e)},getWindowSize:function(){return n.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var o=e.getBoundingClientRect();t=Math.max(o.width||o.right-o.left,e.offsetWidth),n=Math.max(o.height||o.bottom-o.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return n.DOM.getPos(e,t||i.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return n.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return n.DOM.addClass(e,t)},removeClass:function(e,t){return n.DOM.removeClass(e,t)},hasClass:function(e,t){return n.DOM.hasClass(e,t)},toggleClass:function(e,t,o){return n.DOM.toggleClass(e,t,o)},css:function(e,t,o){return n.DOM.setStyle(e,t,o)},getRuntimeStyle:function(e,t){return n.DOM.getStyle(e,t,!0)},on:function(e,t,o,i){return n.DOM.bind(e,t,o,i)},off:function(e,t,o){return n.DOM.unbind(e,t,o)},fire:function(e,t,o){return n.DOM.fire(e,t,o)},innerHtml:function(e,t){n.DOM.setHTML(e,t)}};return i})),n(me,[],(function(){return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,(function(e){return"-"+e})),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function o(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:o(t+"TopWidth"),right:o(t+"RightWidth"),bottom:o(t+"BottomWidth"),left:o(t+"LeftWidth")}}}})),n(ge,[f],(function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n})),n(ve,[s],(function(e){var t,n={};return{add:function(o){var i=o.parent();if(i){if(!i._layout||i._layout.isNative())return;n[i._id]||(n[i._id]=i),t||(t=!0,e.requestAnimationFrame((function(){var e,o;for(e in t=!1,n)(o=n[e]).state.get("rendered")&&o.reflow();n={}}),document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}})),n(ye,[se,f,le,de,he,pe,h,me,ge,ve],(function(e,t,n,o,i,r,a,s,l,c){function u(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,o){o&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=c._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each((function(e){e.fire("mouseleave",{target:e.getEl()})})),c._lastHoverCtrl=null)}function o(t){var n,o,i,r=e.getParentCtrl(t.target),a=c._lastHoverCtrl,s=0;if(r!==a){if(c._lastHoverCtrl=r,(o=r.parents().toArray().reverse()).push(r),a){for((i=a.parents().toArray().reverse()).push(a),s=0;s<i.length&&o[s]===i[s];s++);for(n=i.length-1;n>=s;n--)(a=i[n]).fire("mouseleave",{target:a.getEl()})}for(n=s;n<o.length;n++)(r=o[n]).fire("mouseenter",{target:r.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var r,s,l,c,u,d;if(u=e._nativeEvents){for((l=e.parents().toArray()).unshift(e),r=0,s=l.length;!c&&r<s;r++)c=l[r]._eventsRoot;for(c||(c=l[l.length-1]||e),e._eventsRoot=c,s=r,r=0;r<s;r++)l[r]._eventsRoot=c;var f=c._delegates;for(d in f||(f=c._delegates={}),u){if(!u)return!1;"wheel"!==d||p?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(a(c.getEl()).on("mouseleave",n).on("mouseover",o),c._hasMouseEnter=1):f[d]||(a(c.getEl()).on(d,t),f[d]=!0),u[d]=!1):h?a(e.getEl()).on("mousewheel",i):a(e.getEl()).on("DOMMouseScroll",i)}}}var f,h="onmousewheel"in document,p=!1,m="mce-",g=0,v={Statics:{classPrefix:m},isRtl:function(){return f.rtl},classPrefix:m,init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)c.classes.add(e[t])}var i,r,c=this;c.settings=e=t.extend({},c.Defaults,e),c._id=e.id||"mceu_"+g++,c._aria={role:e.role},c._elmCache={},c.$=a,c.state=new o({visible:!0,active:!1,disabled:!1,value:""}),c.data=new o(e.data),c.classes=new l((function(){c.state.get("rendered")&&(c.getEl().className=this.toString())})),c.classes.prefix=c.classPrefix,(i=e.classes)&&(c.Defaults&&(r=c.Defaults.classes)&&i!=r&&n(r),n(i)),t.each("title text name visible disabled active value".split(" "),(function(t){t in e&&c[t](e[t])})),c.on("click",(function(){if(c.disabled())return!1})),c.settings=e,c.borderBox=s.parseBox(e.border),c.paddingBox=s.parseBox(e.padding),c.marginBox=s.parseBox(e.margin),e.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return r.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,o,i,a,l,c,u,d,f=this,h=f.settings,p=f.getEl();e=f.borderBox=f.borderBox||s.measureBox(p,"border"),f.paddingBox=f.paddingBox||s.measureBox(p,"padding"),f.marginBox=f.marginBox||s.measureBox(p,"margin"),d=r.getSize(p),i=(c=h.minWidth)||d.width,a=(u=h.minHeight)||d.height,n=h.width,o=h.height,l=void 0!==(l=h.autoResize)?l:!n&&!o;var m=e.left+e.right,g=e.top+e.bottom,v=h.maxWidth||65535,y=h.maxHeight||65535;return f._layoutRect=t={x:h.x||0,y:h.y||0,w:n=n||i,h:o=o||a,deltaW:m,deltaH:g,contentW:n-m,contentH:o-g,innerW:n-m,innerH:o-g,startMinWidth:c||0,startMinHeight:u||0,minW:Math.min(i,v),minH:Math.min(a,y),maxW:v,maxH:y,autoResize:l,scrollW:0},f._lastLayoutRect={},t},layoutRect:function(e){var t,n,o,i,r,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(o=l.deltaW,i=l.deltaH,e.x!==r&&(l.x=e.x),e.y!==r&&(l.y=e.y),e.minW!==r&&(l.minW=e.minW),e.minH!==r&&(l.minH=e.minH),(n=e.w)!==r&&(l.w=n=(n=n<l.minW?l.minW:n)>l.maxW?l.maxW:n,l.innerW=n-o),(n=e.h)!==r&&(l.h=n=(n=n<l.minH?l.minH:n)>l.maxH?l.maxH:n,l.innerH=n-i),(n=e.innerW)!==r&&(l.innerW=n=(n=n<l.minW-o?l.minW-o:n)>l.maxW-o?l.maxW-o:n,l.w=n+o),(n=e.innerH)!==r&&(l.innerH=n=(n=n<l.minH-i?l.minH-i:n)>l.maxH-i?l.maxH-i:n,l.h=n+i),e.contentW!==r&&(l.contentW=e.contentW),e.contentH!==r&&(l.contentH=e.contentH),(t=s._lastLayoutRect).x===l.x&&t.y===l.y&&t.w===l.w&&t.h===l.h||((a=f.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,o,i,r,a,s,l,c,u=this;l=document.createRange?function(e){return e}:Math.round,e=u.getEl().style,r=(i=u.borderBox).left+i.right,a=i.top+i.bottom,(o=u._layoutRect).x!==(s=u._lastRepaintRect||{}).x&&(e.left=l(o.x)+"px",s.x=o.x),o.y!==s.y&&(e.top=l(o.y)+"px",s.y=o.y),o.w!==s.w&&(c=l(o.w-r),e.width=(c>=0?c:0)+"px",s.w=o.w),o.h!==s.h&&(c=l(o.h-a),e.height=(c>=0?c:0)+"px",s.h=o.h),u._hasBody&&o.innerW!==s.innerW&&(c=l(o.innerW),(n=u.getEl("body"))&&((t=n.style).width=(c>=0?c:0)+"px"),s.innerW=o.innerW),u._hasBody&&o.innerH!==s.innerH&&(c=l(o.innerH),(n=n||u.getEl("body"))&&((t=t||n.style).height=(c>=0?c:0)+"px"),s.innerH=o.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,r.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return u(n).on(e,function(e){var t,o;return"string"!=typeof e?e:function(i){return t||n.parentsAndSelf().each((function(n){var i=n.settings.callbacks;if(i&&(t=i[e]))return o=n,!1})),t?t.call(o,i):(i.action=e,void this.fire("execute",i))}}(t)),n},off:function(e,t){return u(this).off(e,t),this},fire:function(e,t,n){var o=this;if((t=t||{}).control||(t.control=o),t=u(o).fire(e,t),!1!==n&&o.parent)for(var i=o.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return u(this).has(e)},parents:function(e){var t,n=new i;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,o=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&o.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},translate:function(e){return f.translate?f.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,o=n.getEl(),i=n.parent();if(n.items){var r=n.items().toArray();for(t=r.length;t--;)r[t].remove()}i&&i.items&&(e=[],i.items().each((function(t){t!==n&&e.push(t)})),i.items().set(e),i._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(o).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],o&&o.parentNode&&o.parentNode.removeChild(o),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,o,i,r=this,s=r.settings;for(o in r.$el=a(r.getEl()),r.state.set("rendered",!0),s)0===o.indexOf("on")&&r.on(o.substr(2),s[o]);if(r._eventsRoot){for(n=r.parent();!i&&n;n=n.parent())i=n._eventsRoot;if(i)for(o in i._nativeEvents)r._nativeEvents[o]=!0}d(r),s.style&&(e=r.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style),r.settings.border&&r.$el.css({"border-top-width":(t=r.borderBox).top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left});var l=r.getRoot();for(var u in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[r._id]=r,r._aria)r.aria(u,r._aria[u]);!1===r.state.get("visible")&&(r.getEl().style.display="none"),r.bindStates(),r.state.on("change:visible",(function(e){var t,n=e.value;r.state.get("rendered")&&(r.getEl().style.display=!1===n?"none":"",r.getEl().getBoundingClientRect()),(t=r.parent())&&(t._lastRect=null),r.fire(n?"show":"hide"),c.add(r)})),r.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,o,i,r,a,s=this.getEl(),l=s.parentNode,c=function(e,t){var n,o,i=e;for(n=o=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,o+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:o}}(s,l);return t=c.x,n=c.y,o=s.offsetWidth,i=s.offsetHeight,r=l.clientWidth,a=l.clientHeight,"end"==e?(t-=r-o,n-=a-i):"center"==e&&(t-=r/2-o/2,n-=a/2-i/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var o=n.length;o--;)n[o].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),(function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}})),f=e.extend(v)})),n(be,[],(function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,o){var i,r,a;if(!e){for(r in a=tinymce.ui)t[r.toLowerCase()]=a[r];e=!0}if("string"==typeof n?(o=o||{}).type=n:n=(o=n).type,n=n.toLowerCase(),!(i=t[n]))throw new Error("Could not find control by type: "+n);return(i=new i(o)).type=n,i}}})),n(we,[],(function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return t(e=e||v)?e.getAttribute("role"):null}function o(e){for(var t,o=e||v;o=o.parentNode;)if(t=n(o))return t}function i(e){var n=v;if(t(n))return n.getAttribute("aria-"+e)}function r(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function a(e){return!(!r(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))}function s(e){var t=[];return function e(n){if(1==n.nodeType&&"none"!=n.style.display&&!n.disabled){a(n)&&t.push(n);for(var o=0;o<n.childNodes.length;o++)e(n.childNodes[o])}}(e||w.getEl()),t}function l(e){var t,n;(n=(e=e||y).parents().toArray()).unshift(e);for(var o=0;o<n.length&&!(t=n[o]).settings.ariaRoot;o++);return t}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function u(e,t){var n=-1,o=l();t=t||s(o.getEl());for(var i=0;i<t.length;i++)t[i]===v&&(n=i);o.lastAriaIndex=c(n+=e,t)}function d(){"tablist"==o()?u(-1,s(v.parentNode)):y.parent().submenu?m():u(-1)}function f(){var e=n(),t=o();"tablist"==t?u(1,s(v.parentNode)):"menuitem"==e&&"menu"==t&&i("haspopup")?g():u(1)}function h(){u(-1)}function p(){var e=n(),t=o();"menuitem"==e&&"menubar"==t?g():"button"==e&&i("haspopup")?g({key:"down"}):u(1)}function m(){y.fire("cancel")}function g(e){y.fire("click",{target:v,aria:e=e||{}})}var v,y,w=e.root;try{v=document.activeElement}catch(b){v=document.body}return y=w.getParentCtrl(v),w.on("keydown",(function(e){function t(e,t){r(v)||"slider"!==n(v)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,f);break;case 38:t(e,h);break;case 40:t(e,p);break;case 27:m();break;case 14:case 13:case 32:t(e,g);break;case 9:!1!==function(e){if("tablist"==o()){var t=s(y.getEl("body"))[0];t&&t.focus()}else u(e.shiftKey?-1:1)}(e)&&e.preventDefault()}})),w.on("focusin",(function(e){v=e.target,y=e.control})),{focusFirst:function(e){var t=l(e),n=s(t.getEl());c(t.settings.ariaRemember&&"lastAriaIndex"in t?t.lastAriaIndex:0,n)}}}})),n(Ce,[ye,he,fe,be,we,f,h,ge,ve],(function(e,t,n,o,i,r,a,s,l){var c={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s((function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())})),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=o.create((e.layout||"")+"layout"),n.add(n.settings.items?n.settings.items:n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=c[e]=c[e]||new n(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,o,i=this;return e&&(n=i.keyboardNav||i.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(i):(o=i.find("*"),i.statusbar&&o.add(i.statusbar.items()),o.each((function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))})),t&&t.focus(),i)},replace:function(e,t){for(var n,o=this.items(),i=o.length;i--;)if(o[i]===e){o[i]=t;break}i>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,i=this,a=[];return r.isArray(t)||(t=[t]),r.each(t,(function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=r.extend({},i.settings.defaults,t),t.type=n.type=n.type||t.type||i.settings.defaultType||(n.defaults?n.defaults.type:null),t=o.create(n)),a.push(t))})),a},renderNew:function(){var e=this;return e.items().each((function(t,n){var o;t.parent(e),t.state.get("rendered")||((o=e.getEl("body")).hasChildNodes()&&n<=o.childNodes.length-1?a(o.childNodes[n]).before(t.renderHtml()):a(o).append(t.renderHtml()),t.postRender(),l.add(t))})),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var o,i,r,a=this;return e=a.create(e),o=a.items(),!n&&t<o.length-1&&(t+=1),t>=0&&t<o.length&&(i=o.slice(0,t).toArray(),r=o.slice(t).toArray(),o.set(i.concat(e,r))),a.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find("*").each((function(t){var n=t.name(),o=t.value();n&&void 0!==o&&(e[n]=o)})),e},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&t.$el.css({"border-top-width":(e=t.borderBox).top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})})),n(xe,[h],(function(e){function t(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(n,o){function i(){return f.getElementById(o.handle||n)}var r,a,s,l,c,u,d,f=o.document||document;o=o||{},s=function(n){var s,h,p=function(e){var t,n,o,i,r,a,s,l=Math.max;return o=l((t=e.documentElement).scrollWidth,(n=e.body).scrollWidth),i=l(t.clientWidth,n.clientWidth),r=l(t.offsetWidth,n.offsetWidth),a=l(t.scrollHeight,n.scrollHeight),s=l(t.clientHeight,n.clientHeight),{width:o<r?i:o,height:a<l(t.offsetHeight,n.offsetHeight)?s:a}}(f);t(n),n.preventDefault(),a=n.button,s=i(),u=n.screenX,d=n.screenY,h=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,r=e("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:h}).appendTo(f.body),e(f).on("mousemove touchmove",c).on("mouseup touchend",l),o.start(n)},c=function(e){return t(e),e.button!==a?l(e):(e.deltaX=e.screenX-u,e.deltaY=e.screenY-d,e.preventDefault(),void o.drag(e))},l=function(n){t(n),e(f).off("mousemove touchmove",c).off("mouseup touchend",l),r.remove(),o.stop&&o.stop(n)},this.destroy=function(){e(i()).off()},e(i()).on("mousedown touchstart",s)}})),n(ke,[h,xe],(function(e,t){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,h,p,m,g,v,y;if(f=o.getEl("scroll"+t)){if(v=a.toLowerCase(),y=s.toLowerCase(),e(o.getEl("absend")).css(v,o.layoutRect()[l]-1),!c)return void e(f).css("display","none");e(f).css("display","block"),d=o.getEl("body"),h=o.getEl("scroll"+t+"t"),p=d["client"+s]-2*i,m=(p-=n&&r?f["client"+u]:0)/d["scroll"+s],(g={})[v]=d["offset"+a]+i,g[y]=p,e(f).css(g),(g={})[v]=d["scroll"+a]*m,g[y]=p*m,e(h).css(g)}}var n,r,a;a=o.getEl("body"),r=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n=a.scrollWidth>a.clientWidth,"Height"),t("v","Top","Height","contentH",r,"Width")}var o=this,i=2;o.settings.autoScroll&&(o._hasScroll||(o._hasScroll=!0,function(){function n(n,r,a,s,l){var c,u=o._id+"-scroll"+n,d=o.classPrefix;e(o.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),o.draghelper=new t(u+"t",{start:function(){c=o.getEl("body")["scroll"+r],e("#"+u).addClass(d+"active")},drag:function(e){var t,u,d,f,h=o.layoutRect();u=h.contentW>h.innerW,d=h.contentH>h.innerH,f=o.getEl("body")["client"+a]-2*i,t=(f-=u&&d?o.getEl("scroll"+n)["client"+l]:0)/o.getEl("body")["scroll"+a],o.getEl("body")["scroll"+r]=c+e["delta"+s]/t},stop:function(){e("#"+u).removeClass(d+"active")}})}o.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}(),o.on("wheel",(function(e){var t=o.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()})),e(o.getEl("body")).on("scroll",n)),n())}}})),n(Ee,[Ce,ke],(function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})})),n(Se,[pe],(function(e){function t(t,n,o){var i,r,a,s,l,c,u,d,f,h;return f=e.getViewPort(),a=(r=e.getPos(n)).x,s=r.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=f.x,s-=f.y),i=t.getEl(),l=(h=e.getSize(i)).width,c=h.height,u=(h=e.getSize(n)).width,d=h.height,"b"===(o=(o||"").split(""))[0]&&(s+=d),"r"===o[1]&&(a+=u),"c"===o[0]&&(s+=Math.round(d/2)),"c"===o[1]&&(a+=Math.round(u/2)),"b"===o[3]&&(s-=c),"r"===o[4]&&(a-=l),"c"===o[3]&&(s-=Math.round(c/2)),"c"===o[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,o){for(var i=e.getViewPort(),r=0;r<o.length;r++){var a=t(this,n,o[r]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return o[r]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return o[r]}return o[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var o=t(this,e,n);return this.moveTo(o.x,o.y)},moveBy:function(e,t){var n=this,o=n.layoutRect();return n.moveTo(o.x+e,o.y+t),n},moveTo:function(t,n){function o(e,t,n){return e<0||e+n>t&&(e=t-n)<0?0:e}var i=this;if(i.settings.constrainToViewport){var r=e.getViewPort(window),a=i.layoutRect();t=o(t,r.w+r.x,a.w),n=o(n,r.h+r.y,a.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}})),n(_e,[pe],(function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var o=e.getWindowSize();t=t<=1?t*o.w:t,n=n<=1?n*o.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}})),n(Te,[Ee,Se,_e,pe,h,s],(function(e,t,n,o,i,r){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){function t(t,n){for(var o,i=0;i<p.length;i++)if(p[i]!=e)for(o=p[i].parent();o&&(o=o.parent());)o==e&&p[i].fixed(t).moveBy(0,n).repaint()}var n=o.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function l(e,t){var n,o,r=g.zIndex||65535;if(e)m.push(t);else for(n=m.length;n--;)m[n]===t&&m.splice(n,1);if(m.length)for(n=0;n<m.length;n++)m[n].modal&&(r++,o=m[n]),m[n].getEl().style.zIndex=r,m[n].zIndex=r,r++;var a=i("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];o?i(a).css("z-index",o.zIndex-1):a&&(a.parentNode.removeChild(a),h=!1),g.currentZIndex=r}function c(e){var t;for(t=p.length;t--;)p[t]===e&&p.splice(t,1);for(t=m.length;t--;)m[t]===e&&m.splice(t,1)}var u,d,f,h,p=[],m=[],g=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(u||(u=function(e){2!=e.button&&function(e){for(var t=p.length;t--;){var n=p[t],o=n.getParentCtrl(e.target);if(n.settings.autohide){if(o&&(a(o,n)||n.parent()===o))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},i(document).on("click touchstart",u)),function(){if(!f){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;f=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,g.hideAll())},i(window).on("resize",f)}}(),p.push(t)),e.autofix&&(d||(d=function(){var e;for(e=p.length;e--;)s(p[e])},i(window).on("scroll",d)),t.on("move",(function(){s(this)}))),t.on("postrender show",(function(e){if(e.control==t){var n,o=t.classPrefix;t.modal&&!h&&((n=i("#"+o+"modal-block",t.getContainerElm()))[0]||(n=i('<div id="'+o+'modal-block" class="'+o+"reset "+o+'fade"></div>').appendTo(t.getContainerElm())),r.setTimeout((function(){n.addClass(o+"in"),i(t.getEl()).addClass(o+"in")})),h=!0),l(!0,t)}})),t.on("show",(function(){t.parents().each((function(e){if(e.state.get("fixed"))return t.fixed(!0),!1}))})),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=o.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=p.length;e--&&p[e]!==t;);return-1===e&&p.push(t),n},hide:function(){return c(this),l(!1,this),this._super()},hideAll:function(){g.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),l(!1,e)),e},remove:function(){c(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return g.hideAll=function(){for(var e=p.length;e--;){var t=p[e];t&&t.settings.autohide&&(t.hide(),p.splice(e,1))}},g})),n(Ne,[Te,Ee,pe,h,xe,me,l,s],(function(e,t,n,o,i,r,a,s){function l(e){var t,n=o("meta[name=viewport]")[0];!1!==a.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==u&&(u=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":u))}var c=[],u="",d=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var o=this;o._super(e),o.isRtl()&&o.classes.add("rtl"),o.classes.add("window"),o.bodyClasses.add("window-body"),o.state.set("fixed",!0),e.buttons&&(o.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:o.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),o.statusbar.classes.add("foot"),o.statusbar.parent(o)),o.on("click",(function(e){var t=o.classPrefix+"close";(n.hasClass(e.target,t)||n.hasClass(e.target.parentNode,t))&&o.close()})),o.on("cancel",(function(){o.close()})),o.aria("describedby",o.describedBy||o._id+"-none"),o.aria("label",e.title),o._fullscreen=!1},recalc:function(){var e,t,o,i,r=this,a=r.statusbar;r._fullscreen&&(r.layoutRect(n.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW)>e.w&&(o=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:o}),i=!0),a&&(a.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=a.layoutRect().minW+e.deltaW)>e.w&&(o=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:o}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this,o=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var r=n.getSize(e);o.headerW=r.width,o.headerH=r.height,i+=o.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),o.deltaH+=i,o.minH+=i,o.h+=i;var a=n.getWindowSize();return o.x=t.settings.x||Math.max(0,a.w/2-o.w/2),o.y=t.settings.y||Math.max(0,a.h/2-o.h/2),o},renderHtml:function(){var e=this,t=e._layout,n=e._id,o=e.classPrefix,i=e.settings,r="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(r='<div id="'+n+'-head" class="'+o+'window-head"><div id="'+n+'-title" class="'+o+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+o+'dragh"></div><button type="button" class="'+o+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+r+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,i,a=this,l=document.documentElement,c=a.classPrefix;if(e!=a._fullscreen)if(o(window).on("resize",(function(){var e;if(a._fullscreen)if(t)a._timer||(a._timer=s.setTimeout((function(){var e=n.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0}),50));else{e=(new Date).getTime();var o=n.getWindowSize();a.moveTo(0,0).resizeTo(o.w,o.h),(new Date).getTime()-e>50&&(t=!0)}})),i=a.layoutRect(),a._fullscreen=e,e){a._initial={x:i.x,y:i.y,w:i.w,h:i.h},a.borderBox=r.parseBox("0"),a.getEl("head").style.display="none",i.deltaH-=i.headerH+2,o([l,document.body]).addClass(c+"fullscreen"),a.classes.add("fullscreen");var u=n.getWindowSize();a.moveTo(0,0).resizeTo(u.w,u.h)}else a.borderBox=r.parseBox(a.settings.border),a.getEl("head").style.display="",i.deltaH+=i.headerH,o([l,document.body]).removeClass(c+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var e,t=this;setTimeout((function(){t.classes.add("in"),t.fire("open")}),0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new i(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",(function(e){e.isDefaultPrevented()||t.close()})),c.push(t),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),function(e,t){(function(){for(var e=0;e<c.length;e++)if(c[e]._fullscreen)return!0;return!1})()&&o([document.documentElement,document.body]).removeClass(e+"fullscreen")}(t.classPrefix),e=c.length;e--;)c[e]===t&&c.splice(e,1);l(c.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval((function(){var t=window.innerWidth,n=window.innerHeight;e.w==t&&e.h==n||(e={w:t,h:n},o(window).trigger("resize"))}),100)}o(window).on("resize",(function(){var e,t,o=n.getWindowSize();for(e=0;e<c.length;e++)t=c[e].layoutRect(),c[e].moveTo(c[e].settings.x||Math.max(0,o.w/2-t.w/2),c[e].settings.y||Math.max(0,o.h/2-t.h/2))}))}(),d})),n(Ae,[Ne],(function(e){var t=e.extend({init:function(e){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function o(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}var i,r=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[o("Ok",!0,!0),o("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[o("Yes",1,!0),o("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(o("Cancel",-1));break;default:i=[o("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t})),n(Re,[Ne,Ae],(function(e,t){return function(n){function o(){if(s.length)return s[s.length-1]}function i(e){n.fire("OpenWindow",{win:e})}function r(e){n.fire("CloseWindow",{win:e})}var a=this,s=[];a.windows=s,n.on("remove",(function(){for(var e=s.length;e--;)s[e].close()})),a.open=function(t,o){var a;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new e(t),s.push(a),a.on("close",(function(){for(var e=s.length;e--;)s[e]===a&&s.splice(e,1);s.length||n.focus(),r(a)})),t.data&&a.on("postRender",(function(){this.find("*").each((function(e){var n=e.name();n in t.data&&e.value(t.data[n])}))})),a.features=t||{},a.params=o||{},1===s.length&&n.nodeChanged(),i(a=a.renderTo().reflow()),a},a.alert=function(e,o,a){var s;(s=t.alert(e,(function(){o?o.call(a||this):n.focus()}))).on("close",(function(){r(s)})),i(s)},a.confirm=function(e,n,o){var a;(a=t.confirm(e,(function(e){n.call(o||this,e)}))).on("close",(function(){r(a)})),i(a)},a.close=function(){o()&&o().close()},a.getParams=function(){return o()?o().params:null},a.setParams=function(e){o()&&(o().params=e)},a.getWindows=function(){return s}}})),n(De,[ye,Se],(function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)})),e._super()},repaint:function(){var e,t;(e=this.getEl().style).left=(t=this._layoutRect).x+"px",e.top=t.y+"px",e.zIndex=131070}})})),n(Pe,[ye,De],(function(e,t){var n,o=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==o.tooltips&&(t.on("mouseenter",(function(n){var o=t.tooltip().moveTo(-65535);if(n.control==t){var i=o.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);o.classes.toggle("tooltip-n","bc-tc"==i),o.classes.toggle("tooltip-nw","bc-tl"==i),o.classes.toggle("tooltip-ne","bc-tr"==i),o.moveRel(t.getEl(),i)}else o.hide()})),t.on("mouseleave mousedown click",(function(){t.tooltip().hide()}))),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",(function(t){e(t.value)})),n.state.on("change:active",(function(e){t(e.value)})),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return o})),n(Be,[Pe],(function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+e+'bar-container"><div class="'+e+'bar"></div></div><div class="'+e+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",(function(t){e(t.value)})),e(t.state.get("value")),t._super()}})})),n(Ie,[ye,Se,Be,s],(function(e,t,n,o){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",(function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()}))},renderHtml:function(){var e=this,t=e.classPrefix,n="",o="",i="",r="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(r=' style="background-color: '+e.color+'"'),e.closeButton&&(o='<button type="button" class="'+t+'close" aria-hidden="true">Ã</button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+r+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+o+"</div>"},postRender:function(){var e=this;return o.setTimeout((function(){e.$el.addClass(e.classPrefix+"in")})),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl().childNodes[1].innerHTML=t.value})),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t;(e=this.getEl().style).left=(t=this._layoutRect).x+"px",e.top=t.y+"px",e.zIndex=65534}})})),n(Le,[Ie,s,f],(function(e,t,n){return function(o){function i(){if(l.length)return l[l.length-1]}function r(){if(l.length>0){var e=l.slice(0,1)[0],t=o.inline?o.getElement():o.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),l.length>1)for(var n=1;n<l.length;n++)l[n].moveRel(l[n-1].getEl(),"bc-tc")}}function a(e,t){if(!function(e){return!e.progressBar&&!e.timeout}(t))return null;var o=n.grep(e,(function(e){return function(e,t){return e.type===t.settings.type&&e.text===t.settings.text}(t,e)}));return 0===o.length?null:o[0]}var s=this,l=[];s.notifications=l,o.on("remove",(function(){for(var e=l.length;e--;)l[e].close()})),o.on("ResizeEditor",r),o.on("ResizeWindow",(function(){t.requestAnimationFrame((function(){(function(){for(var e=0;e<l.length;e++)l[e].moveTo(0,0)})(),r()}))})),s.open=function(t){if(!o.removed){var n;o.editorManager.setActive(o);var i=a(l,t);return null===i?(n=new e(t),l.push(n),t.timeout>0&&(n.timer=setTimeout((function(){n.close()}),t.timeout)),n.on("close",(function(){var e=l.length;for(n.timer&&o.getWin().clearTimeout(n.timer);e--;)l[e]===n&&l.splice(e,1);r()})),n.renderTo(),r()):n=i,n}},s.close=function(){i()&&i().close()},s.getNotifications=function(){return l},o.on("SkinLoaded",(function(){var e=o.settings.service_message;e&&o.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})}))}})),n(Oe,[b],(function(e){return{create:function(t,n,o){for(var i=[];n&&n!=t;n=n.parentNode)i.push(e.nodeIndex(n,o));return i},resolve:function(e,t){var n,o,i;for(o=e,n=t.length-1;n>=0;n--){if(t[n]>(i=o.childNodes).length-1)return null;o=i[t[n]]}return o}}})),n(Me,[L,S,m,Oe,T,v,l,f,s,E,j,ne],(function(e,t,n,o,i,r,a,s,l,c,u,d){return function(f){function h(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(n){}}function p(){return f.getDoc().documentMode||6}function m(e){return e.isDefaultPrevented()}function g(e){var t,n;e.dataTransfer&&(f.selection.isCollapsed()&&"IMG"==e.target.tagName&&A.select(e.target),(t=f.selection.getContent()).length>0&&(n=O+escape(f.id)+","+escape(t),e.dataTransfer.setData(M,n)))}function v(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(M))&&t.indexOf(O)>=0?(t=t.substr(O.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function y(e){f.queryCommandSupported("mceInsertClipboardContent")?f.execCommand("mceInsertClipboardContent",!1,{content:e}):f.execCommand("mceInsertContent",!1,e)}function b(){f.shortcuts.add("meta+a",null,"SelectAll")}function w(){f.on("keydown",(function(e){if(!m(e)&&e.keyCode===_){if(!f.getBody().getElementsByTagName("hr").length)return;if(A.isCollapsed()&&0===A.getRng(!0).startOffset){var t=A.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return N.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(N.remove(n),e.preventDefault())}}}))}function C(){f.on("keydown",(function(e){if(!m(e)&&e.keyCode===_&&A.isCollapsed()&&0===A.getRng(!0).startOffset){var t=A.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))}function x(){f.inline||(f.contentStyles.push("body {min-height: 150px}"),f.on("click",(function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void f.getBody().focus();t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged()}})))}function k(){function t(e){var t=new d(e.getBody()),n=e.selection.getRng(),o=u.fromRangeStart(n),i=u.fromRangeEnd(n),r=t.prev(o),a=t.next(i);return!e.selection.isCollapsed()&&(!r||r.isAtStart()&&o.isEqual(r))&&(!a||a.isAtEnd()&&o.isEqual(a))}f.on("keypress",(function(n){!m(n)&&!A.isCollapsed()&&n.charCode>31&&!e.metaKeyPressed(n)&&t(f)&&(n.preventDefault(),f.setContent(String.fromCharCode(n.charCode)),f.selection.select(f.getBody(),!0),f.selection.collapse(!1),f.nodeChanged())})),f.on("keydown",(function(e){var n=e.keyCode;m(e)||n!=T&&n!=_||t(f)&&(e.preventDefault(),f.setContent(""),f.nodeChanged())}))}var E=s.each,S=f.$,_=e.BACKSPACE,T=e.DELETE,N=f.dom,A=f.selection,R=f.settings,D=f.parser,P=f.serializer,B=a.gecko,I=a.ie,L=a.webkit,O="data:text/mce-internal,",M=I?"Text":"URL";return f.on("keydown",(function(t){var n,o,i,r,a;if(!m(t)&&t.keyCode==e.BACKSPACE&&(o=(n=A.getRng()).startContainer,i=n.startOffset,r=N.getRoot(),a=o,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=r;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(f.formatter.toggle("blockquote",null,a),(n=N.createRng()).setStart(o,0),n.setEnd(o,0),A.setRng(n))}})),function(){function e(e){var t=N.create("body"),n=e.cloneContents();return t.appendChild(n),A.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var o=n.duplicate();return o.moveToElementText(f.getBody()),t.compareRanges(n,o)}var i=e(n),r=N.createRng();return r.selectNode(f.getBody()),i===e(r)}f.on("keydown",(function(e){var t,o,i=e.keyCode;if(!m(e)&&(i==T||i==_)){if(t=f.selection.isCollapsed(),o=f.getBody(),t&&!N.isEmpty(o))return;if(!t&&!n(f.selection.getRng()))return;e.preventDefault(),f.setContent(""),o.firstChild&&N.isBlock(o.firstChild)?f.selection.setCursorLocation(o.firstChild,0):f.selection.setCursorLocation(o,0),f.nodeChanged()}}))}(),a.windowsPhone||f.on("keyup focusin mouseup",(function(t){65==t.keyCode&&e.metaKeyPressed(t)||A.normalize()}),!0),L&&(k(),function(){function i(e){var t=x.schema.getBlockElements(),n=f.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function r(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==S.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,o){var r,a,s;if(x.isChildOf(e,f.getBody()))for(s=x.schema.getNonEmptyElements(),r=new n(o||e,e);a=r[t?"next":"prev"]();){if(s[a.nodeName]&&!i(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function c(e){var n,o,i,r,s;if(!e.collapsed&&(n=x.getParent(t.getNode(e.startContainer,e.startOffset),x.isBlock),o=x.getParent(t.getNode(e.endContainer,e.endOffset),x.isBlock),s=f.schema.getTextBlockElements(),n!=o&&s[n.nodeName]&&s[o.nodeName]&&"false"!==x.getContentEditable(n)&&"false"!==x.getContentEditable(o)))return e.deleteContents(),i=a(n,!1),r=a(o,!0),x.isEmpty(o)||S(n).append(o.childNodes),S(o).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):r&&(1==r.nodeType?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStart(r,0),e.setEnd(r,0))),k.setRng(e),!0}function u(e,n){var o,i,s,l,c,u;if(!e.collapsed)return e;if(u=e.startOffset,3==(c=e.startContainer).nodeType)if(n){if(u<c.data.length)return e}else if(u>0)return e;o=t.getNode(c,u),s=x.getParent(o,x.isBlock),i=a(f.getBody(),n,o),l=x.getParent(i,x.isBlock);var d=1===c.nodeType&&u>c.childNodes.length-1;if(!o||!i)return e;if(l&&s!=l)if(n){if(!r(s,l))return e;1==o.nodeType?"BR"==o.nodeName?e.setStartBefore(o):e.setStartAfter(o):e.setStart(o,o.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!r(l,s))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==o.nodeType&&d?e.setEndAfter(o):e.setEndBefore(o)}return e}function d(e,t){function n(e,n){return m=S(n).parents().filter((function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]})),l=e.cloneNode(!1),(m=s.map(m,(function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e}))).length?(p=x.create("br"),m[0].appendChild(p),x.replace(l,e),t.setStartBefore(p),t.setEndBefore(p),f.selection.setRng(t),p):null}function i(e){return e&&f.schema.getTextBlockElements()[e.tagName]}var r,a,l,c,u,d,h,p,m;if(t.collapsed&&(h=t.startOffset,i(a=x.getParent(d=t.startContainer,x.isBlock))))if(1==d.nodeType){if((d=d.childNodes[h])&&"BR"!=d.tagName)return;if(u=e?a.nextSibling:a.previousSibling,x.isEmpty(a)&&i(u)&&x.isEmpty(u)&&n(a,d))return x.remove(u),!0}else if(3==d.nodeType){if(r=o.create(a,d),c=a.cloneNode(!0),d=o.resolve(c,r),e){if(h>=d.data.length)return;d.deleteData(h,1)}else{if(h<=0)return;d.deleteData(h-1,1)}if(x.isEmpty(c))return n(a,d)}}function h(e){var t,n,o;(function(e){var t=k.getRng();if(c(t=u(t,e)))return!0})(e)||(s.each(f.getBody().getElementsByTagName("*"),(function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&f.dom.setAttrib(e,"style",f.dom.getAttrib(e,"style"))})),(t=new E((function(){}))).observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),f.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=f.selection.getRng(),o=n.startContainer.parentNode,s.each(t.takeRecords(),(function(e){if(x.isChildOf(e.target,f.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,(function(e){var t,i;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==o&&(t=n.startOffset,i=e.firstChild),x.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),f.selection.setRng(n)))}))}})),t.disconnect(),s.each(f.dom.select("span[mce-data-marked]"),(function(e){e.removeAttribute("mce-data-marked")})))}function p(e){f.undoManager.transact((function(){h(e)}))}var b,w,C=f.getDoc(),x=f.dom,k=f.selection,E=window.MutationObserver;E||(b=!0,E=function(){function e(e){var t=e.relatedNode||e.target;o.push({target:t,addedNodes:[t]})}function t(e){o.push({target:e.relatedNode||e.target,attributeName:e.attrName})}var n,o=[];this.observe=function(o){(n=o).addEventListener("DOMSubtreeModified",e,!1),n.addEventListener("DOMNodeInsertedIntoDocument",e,!1),n.addEventListener("DOMNodeInserted",e,!1),n.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",e,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),n.removeEventListener("DOMNodeInserted",e,!1),n.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return o}}),f.on("keydown",(function(e){var t=e.keyCode==T,n=e.ctrlKey||e.metaKey;if(!m(e)&&(t||e.keyCode==_)){var o=f.selection.getRng(),i=o.startContainer,r=o.startOffset;if(t&&e.shiftKey)return;if(d(t,o))return void e.preventDefault();if(!n&&o.collapsed&&3==i.nodeType&&(t?r<i.data.length:r>0))return;e.preventDefault(),n&&f.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),h(t)}})),f.on("keypress",(function(t){var n,o,i,r,a,s;!m(t)&&!k.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)&&(n=f.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),o=S(n.startContainer).parents().filter((function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]})),h(!0),(o=o.filter((function(e,t){return!S.contains(f.getBody(),t)}))).length?(i=x.createFragment(),o.each((function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(a=t,i.appendChild(t)),i.appendChild(t)})),a.appendChild(f.getDoc().createTextNode(s)),r=x.getParent(n.startContainer,x.isBlock),x.isEmpty(r)?S(r).empty().append(i):n.insertNode(i),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),f.selection.setRng(n)):f.selection.setContent(s))})),f.addCommand("Delete",(function(){h()})),f.addCommand("ForwardDelete",(function(){h(!0)})),b||(f.on("dragstart",(function(e){w=k.getRng(),g(e)})),f.on("drop",(function(e){if(!m(e)){var n=v(e);n&&(e.preventDefault(),l.setEditorTimeout(f,(function(){var o=t.getCaretRangeFromPoint(e.x,e.y,C);w&&(k.setRng(w),w=null,p()),k.setRng(o),y(n.html)})))}})),f.on("cut",(function(e){m(e)||!e.clipboardData||f.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",f.selection.getContent()),e.clipboardData.setData("text/plain",f.selection.getContent({format:"text"})),l.setEditorTimeout(f,(function(){p(!0)})))})))}(),f.settings.content_editable||N.bind(f.getDoc(),"mousedown mouseup",(function(e){var t;if(e.target==f.getDoc().documentElement)if(t=A.getRng(),f.getBody().focus(),"mousedown"==e.type){if(c.isCaretContainer(t.startContainer))return;A.placeCaretAt(e.clientX,e.clientY)}else A.setRng(t)})),f.on("click",(function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==N.getContentEditableParent(t)&&(e.preventDefault(),A.select(t),f.nodeChanged()),"A"==t.nodeName&&N.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),A.select(t))})),R.forced_root_block&&f.on("init",(function(){h("DefaultParagraphSeparator",R.forced_root_block)})),f.on("init",(function(){f.dom.bind(f.getBody(),"submit",(function(e){e.preventDefault()}))})),C(),D.addNodeFilter("br",(function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})),a.iOS?(f.inline||f.on("keydown",(function(){document.activeElement==document.body&&f.getWin().focus()})),x(),f.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),I&&a.ie<11&&(w(),document.body.setAttribute("role","application"),p()>7||(h("RespectVisibilityInDesign",!0),f.contentStyles.push(".mceHideBrInPre pre br {display: none}"),N.addClass(f.getBody(),"mceHideBrInPre"),D.addNodeFilter("pre",(function(e){for(var t,n,o,r,a=e.length;a--;)for(n=(t=e[a].getAll("br")).length;n--;)(r=(o=t[n]).prev)&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":o.parent.insert(new i("#text",3),o,!0).value="\n"})),P.addNodeFilter("pre",(function(e){for(var t,n,o,i=e.length;i--;)for(n=(t=e[i].getAll("br")).length;n--;)(o=t[n].prev)&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))}))),N.bind(f.getBody(),"mouseup",(function(){var e,t=A.getNode();"IMG"==t.nodeName&&((e=N.getStyle(t,"width"))&&(N.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),N.setStyle(t,"width","")),(e=N.getStyle(t,"height"))&&(N.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),N.setStyle(t,"height","")))})),f.on("keydown",(function(e){var t;m(e)||e.keyCode!=_||(t=f.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),N.remove(t.item(0)),f.undoManager.add())})),function(){var e;p()>=10&&(e="",E("p div h1 h2 h3 h4 h5 h6".split(" "),(function(t,n){e+=(n>0?",":"")+t+":empty"})),f.contentStyles.push(e+"{padding-right: 1px !important}"))}(),p()<9&&(D.addNodeFilter("noscript",(function(e){for(var t,n,o=e.length;o--;)(n=(t=e[o]).firstChild)&&t.attr("data-mce-innertext",n.value)})),P.addNodeFilter("noscript",(function(e){for(var t,n,o,a=e.length;a--;)t=e[a],(n=e[a].firstChild)?n.value=r.decode(n.value):(o=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new i("#text",3)).value=o,n.raw=!0,t.append(n))}))),function(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(a){n=null}return n}function t(t){var o;t.button?(o=e(t.x,t.y))&&(o.compareEndPoints("StartToStart",i)>0?o.setEndPoint("StartToStart",i):o.setEndPoint("EndToEnd",i),o.select()):n()}function n(){var e=a.selection.createRange();i&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&i.select(),N.unbind(a,"mouseup",n),N.unbind(a,"mousemove",t),i=o=0}var o,i,r,a=N.doc,s=a.body;a.documentElement.unselectable=!0,N.bind(a,"mousedown contextmenu",(function(s){if("HTML"===s.target.nodeName){if(o&&n(),(r=a.documentElement).scrollHeight>r.clientHeight)return;o=1,(i=e(s.x,s.y))&&(N.bind(a,"mouseup",n),N.bind(a,"mousemove",t),N.getRoot().focus(),i.select())}}))}()),a.ie>=11&&(x(),C()),a.ie&&(b(),h("AutoUrlDetect",!1),f.on("dragstart",(function(e){g(e)})),f.on("drop",(function(e){if(!m(e)){var n=v(e);if(n&&n.id!=f.id){e.preventDefault();var o=t.getCaretRangeFromPoint(e.x,e.y,f.getDoc());A.setRng(o),y(n.html)}}}))),B&&(k(),w(),window.Range.prototype.getClientRects||f.on("mousedown",(function(e){if(!m(e)&&"HTML"===e.target.nodeName){var t=f.getBody();t.blur(),l.setEditorTimeout(f,(function(){t.focus()}))}})),function(){function e(){var e=N.getAttribs(A.getStart().cloneNode(!1));return function(){var t=A.getStart();t!==f.getBody()&&(N.setAttrib(t,"style",null),E(e,(function(e){t.setAttributeNode(e.cloneNode(!0))})))}}function t(){return!A.isCollapsed()&&N.getParent(A.getStart(),N.isBlock)!=N.getParent(A.getEnd(),N.isBlock)}f.on("keypress",(function(n){var o;if(!m(n)&&(8==n.keyCode||46==n.keyCode)&&t())return o=e(),f.getDoc().execCommand("delete",!1,null),o(),n.preventDefault(),!1})),N.bind(f.getDoc(),"cut",(function(n){var o;!m(n)&&t()&&(o=e(),l.setEditorTimeout(f,(function(){o()})))}))}(),R.readonly||f.on("BeforeExecCommand MouseDown",(function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),R.object_resizing||h("enableObjectResizing",!1)})),f.on("SetContent ExecCommand",(function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||E(N.select("a"),(function(e){var t=e.parentNode,n=N.getRoot();if(t.lastChild===e){for(;t&&!N.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}N.add(t,"br",{"data-mce-bogus":1})}}))})),f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),a.mac&&f.on("keydown",(function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),f.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})),C()),{refreshContentEditable:function(){},isHidden:function(){var e;return B?!(e=f.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}}}})),n(He,[ue,b,f],(function(e,t,n){function o(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=a.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){function n(e){return!e.hidden&&!e.readonly}var i,s=o(e,t);if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(r||(r={},e.editorManager.on("removeEditor",(function(){var t;if(!e.editorManager.activeEditor&&r){for(t in r)e.dom.unbind(o(e,t));r=null}}))),r[t])return;i=function(o){for(var i=o.target,r=e.editorManager.editors,s=r.length;s--;){var l=r[s].getBody();(l===i||a.isChildOf(i,l))&&n(r[s])&&r[s].fire(t,o)}},r[t]=i,a.bind(s,t,i)}else a.bind(s,t,i=function(o){n(e)&&e.fire(t,o)}),e.delegates[t]=i}var r,a=t.DOM,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,(function(t){i(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(o(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(o(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,s)})),n(Fe,[],(function(){function e(e,t,o){try{e.getDoc().execCommand(t,!1,o)}catch(n){}}function t(t,n){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),n?(t._clickBlocker=function(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,"StyleWithCSS",!1),e(t,"enableInlineTableEditing",!1),e(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())}return{setMode:function(e,n){n!=(e.readonly?"readonly":"design")&&(e.initialized?t(e,"readonly"==n):e.on("init",(function(){t(e,"readonly"==n)})),e.fire("SwitchMode",{mode:n}))}}})),n($e,[f,l],(function(e,t){var n=e.each,o=e.explode,i={f9:120,f10:121,f11:122},r=e.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(e){var a,s,l={};for(s in n(o(e,"+"),(function(e){e in r?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=i[e]||e.toUpperCase().charCodeAt(0))})),a=[l.keyCode],r)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(t,n,i,r){var l;return(l=e.map(o(t,">"),s))[l.length-1]=e.extend(l[l.length-1],{func:i,scope:r||a}),e.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function c(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)}function u(e){return e.func?e.func.call(e.scope):null}var d={},f=[];a.on("keyup keypress keydown",(function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(n(d,(function(t){if(c(e,t))return f=t.subpatterns.slice(0),"keydown"==e.type&&u(t),!0})),c(e,f[0])&&(1===f.length&&"keydown"==e.type&&u(f[0]),f.shift()))})),this.add=function(t,i,r,s){var c;return c=r,"string"==typeof r?r=function(){a.execCommand(c,!1,null)}:e.isArray(c)&&(r=function(){a.execCommand(c[0],c[1],c[2])}),n(o(e.trim(t.toLowerCase())),(function(e){var t=l(e,i,r,s);d[t.id]=t})),!0},this.remove=function(e){var t=l(e);return!!d[t.id]&&(delete d[t.id],!0)}}})),n(je,[a,f,M],(function(e,t,n){return function(o,i){function r(e){var t;return t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.blob().type.toLowerCase()]||"dat",e.filename()+"."+t}function a(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(r(e))}}function s(e,t,n,o){var r,a;(r=new XMLHttpRequest).open("POST",i.url),r.withCredentials=i.credentials,r.upload.onprogress=function(e){o(e.loaded/e.total*100)},r.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){var e;return 200!=r.status?void n("HTTP Error: "+r.status):(e=JSON.parse(r.responseText))&&"string"==typeof e.location?void t(function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}(i.basePath,e.location)):void n("Invalid JSON: "+r.responseText)},(a=new FormData).append("file",e.blob(),e.filename()),r.send(a)}function l(){return new e((function(e){e([])}))}function c(e,t){return{url:t,blobInfo:e,status:!0}}function u(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function d(e,n){t.each(m[e],(function(e){e(n)})),delete m[e]}function f(t,n,i){return o.markPending(t.blobUri()),new e((function(e){var r,s,l=function(){};try{var f=function(){r&&(r.close(),s=l)};s=function(e){e<0||e>100||(r||(r=i()),r.progressBar.value(e))},n(a(t),(function(n){f(),o.markUploaded(t.blobUri(),n),d(t.blobUri(),c(t,n)),e(c(t,n))}),(function(n){f(),o.removeFailed(t.blobUri()),d(t.blobUri(),u(t,n)),e(u(t,n))}),s)}catch(h){e(u(t,h.message))}}))}function h(t){var n=t.blobUri();return new e((function(e){m[n]=m[n]||[],m[n].push(e)}))}function p(n,r){return n=t.grep(n,(function(e){return!o.isUploaded(e.blobUri())})),e.all(t.map(n,(function(e){return o.isPending(e.blobUri())?h(e):f(e,i.handler,r)})))}var m={};return i=t.extend({credentials:!1,handler:s},i),{upload:function(e,t){return!i.url&&function(e){return e===s}(i.handler)?l():p(e,t)}}}})),n(ze,[a],(function(e){function t(t){return new e((function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()}))}function n(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}function o(t){return new e((function(e){var o,i,r;t=n(t);try{o=atob(t.data)}catch(a){return void e(new Blob([]))}for(i=new Uint8Array(o.length),r=0;r<i.length;r++)i[r]=o.charCodeAt(r);e(new Blob([i],{type:t.type}))}))}return{uriToBlob:function(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?o(e):null},blobToDataUri:function(t){return new e((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))},parseDataUri:n}})),n(Ue,[a,d,M,ze,l],(function(e,t,n,o,i){var r=0,a=function(e){return(e||"blobid")+r++};return function(r,s){var l={};return{findAll:function(c,u){var d,f;return u||(u=n.constant(!0)),d=t.filter(c.getElementsByTagName("img"),(function(e){var t=e.src;return!!i.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==i.transparentSrc)&&(0===t.indexOf("blob:")?!r.isUploaded(t):0===t.indexOf("data:")&&u(e))})),f=t.map(d,(function(t){var n;return l[t.src]?new e((function(e){l[t.src].then((function(n){e({image:t,blobInfo:n.blobInfo})}))})):(n=new e((function(e){!function(e,t){var n,i;0===e.src.indexOf("blob:")?(i=s.getByUri(e.src))?t({image:e,blobInfo:i}):o.uriToBlob(e.src).then((function(r){o.blobToDataUri(r).then((function(l){n=o.parseDataUri(l).data,i=s.create(a(),r,n),s.add(i),t({image:e,blobInfo:i})}))})):(n=o.parseDataUri(e.src).data,(i=s.findFirst((function(e){return e.base64()===n})))?t({image:e,blobInfo:i}):o.uriToBlob(e.src).then((function(o){i=s.create(a(),o,n),s.add(i),t({image:e,blobInfo:i})})))}(t,e)})).then((function(e){return delete l[e.image.src],e})).catch((function(e){return delete l[t.src],e})),l[t.src]=n,n)})),e.all(f)}}}})),n(We,[d,M],(function(e,t){return function(){function n(e){return o((function(t){return t.id()===e}))}function o(t){return e.filter(i,t)[0]}var i=[],r=t.constant;return{create:function(e,t,n,o){return{id:r(e),filename:r(o||e),blob:r(t),base64:r(n),blobUri:r(URL.createObjectURL(t))}},add:function(e){n(e.id())||i.push(e)},get:n,getByUri:function(e){return o((function(t){return t.blobUri()==e}))},findFirst:o,removeByUri:function(t){i=e.filter(i,(function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)}))},destroy:function(){e.each(i,(function(e){URL.revokeObjectURL(e.blobUri())})),i=[]}}}})),n(qe,[],(function(){return function(){function e(e,t){return{status:e,resultUri:t}}function t(e){return e in n}var n={};return{hasBlobUri:t,getResultUri:function(e){var t=n[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(t){n[t]=e(1,null)},markUploaded:function(t,o){n[t]=e(2,o)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}})),n(Ve,[C],(function(e){var t=e.PluginManager,n=function(e,n){for(var o in t.urls)if(t.urls[o]+"/plugin"+n+".js"===e)return o;return null},o=function(e,t){e.notificationManager.open({type:"error",text:t})},i=function(e,t){e._skinLoaded?o(e,t):e.on("SkinLoaded",(function(){o(e,t)}))};return{pluginLoadError:function(e,t){i(e,function(e,t){var o=n(t,e.suffix);return o?"Failed to load plugin: "+o+" from url "+t:"Failed to load plugin url: "+t}(e,t))},uploadError:function(e,t){i(e,"Failed to upload image: "+t)}}})),n(Ke,[d,je,Ue,We,qe,Ve],(function(e,t,n,o,i,r){return function(a){function s(e){return function(t){return a.selection?e(t):[]}}function l(e,t,n){var o=0;do{-1!==(o=e.indexOf(t,o))&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e}function c(e,t,n){return e=l(e,'src="'+t+'"','src="'+n+'"'),l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function u(t,n){e.each(a.undoManager.data,(function(o){"fragmented"===o.type?o.fragments=e.map(o.fragments,(function(e){return c(e,t,n)})):o.content=c(o.content,t,n)}))}function d(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function f(n){return v||(v=new t(C,{url:w.images_upload_url,basePath:w.images_upload_base_path,credentials:w.images_upload_credentials,handler:w.images_upload_handler})),m().then(s((function(t){var o;return o=e.map(t,(function(e){return e.blobInfo})),v.upload(o,d).then(s((function(o){return o=e.map(o,(function(e,n){var o=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?function(e,t){b.removeByUri(e.src),u(e.src,t),a.$(e).attr({src:w.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":a.convertURL(t,"src")})}(o,e.url):e.error&&r.uploadError(a,e.error),{element:o,status:e.status}})),n&&n(o),o})))})))}function h(e){if(!1!==w.automatic_uploads)return f(e)}function p(e){return!w.images_dataimg_filter||w.images_dataimg_filter(e)}function m(){return y||(y=new n(C,b)),y.findAll(a.getBody(),p).then(s((function(t){return e.each(t,(function(e){u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))}function g(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var o=C.getResultUri(n);if(o)return'src="'+o+'"';var i=b.getByUri(n);return i||(i=e.reduce(a.editorManager.editors,(function(e,t){return e||t.editorUpload.blobCache.getByUri(n)}),null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t}))}var v,y,b=new o,w=a.settings,C=new i;return a.on("setContent",(function(){!1!==a.settings.automatic_uploads?h():m()})),a.on("RawSaveContent",(function(e){e.content=g(e.content)})),a.on("getContent",(function(e){e.source_view||"raw"==e.format||(e.content=g(e.content))})),a.on("PostRender",(function(){a.parser.addNodeFilter("img",(function(t){e.each(t,(function(e){var t=e.attr("src");if(!b.getByUri(t)){var n=C.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:b,uploadImages:f,uploadImagesAuto:h,scanForImages:m,destroy:function(){b.destroy(),C.destroy(),y=v=null}}}})),n(Ye,[E,j,x,S,h,F,s],(function(e,t,n,o,i,r,a){var s=n.isContentEditableFalse;return function(t,n){function o(e,n){var o,i,a,s,l,c=r.collapse(e.getBoundingClientRect(),n);return"BODY"==t.tagName?(o=t.ownerDocument.documentElement,i=t.scrollLeft||o.scrollLeft,a=t.scrollTop||o.scrollTop):(l=t.getBoundingClientRect(),i=t.scrollLeft-l.left,a=t.scrollTop-l.top),c.left+=i,c.right+=i,c.top+=a,c.bottom+=a,c.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),c.left+=s,c.right+=s),c}function l(){(function(){var n,o,r,a,s;for(n=i("*[contentEditable=false]",t),a=0;a<n.length;a++)e.endsWithCaretContainer(r=(o=n[a]).previousSibling)&&(1==(s=r.data).length?r.parentNode.removeChild(r):r.deleteData(s.length-1,1)),e.startsWithCaretContainer(r=o.nextSibling)&&(1==(s=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))})(),f&&(e.remove(f),f=null),d&&(d.remove(),d=null),clearInterval(u)}function c(){u=a.setInterval((function(){i("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")}),500)}var u,d,f;return{show:function(r,a){var u,h;return l(),n(a)?(f=e.insertBlock("p",a,r),u=o(a,r),i(f).css("top",u.top),d=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(t),r&&d.addClass("mce-visual-caret-before"),c(),(h=a.ownerDocument.createRange()).setStart(f,0),h.setEnd(f,0),h):(f=e.insertInline(a,r),h=a.ownerDocument.createRange(),s(f.nextSibling)?(h.setStart(f,0),h.setEnd(f,0)):(h.setStart(f,1),h.setEnd(f,1)),h)},hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){a.clearInterval(u)}}}})),n(Xe,[d,x,F],(function(e,t,n){return{getClientRects:function o(i){function r(t){return e.map(t,(function(e){return(e=n.clone(e)).node=i,e}))}if(e.isArray(i))return e.reduce(i,(function(e,t){return e.concat(o(t))}),[]);if(t.isElement(i))return r(i.getClientRects());if(t.isText(i)){var a=i.ownerDocument.createRange();return a.setStart(i,0),a.setEnd(i,i.data.length),r(a.getClientRects())}}}})),n(Ge,[M,d,Xe,H,te,ne,j,F],(function(e,t,n,o,i,r,a,s){function l(e,t,n,r){for(;r=i.findNode(r,e,o.isEditableCaretCandidate,t);)if(n(r))return}function c(e,o,i,r,a,s){function c(r){var s,l,c;for(c=n.getClientRects(r),-1==e&&(c=c.reverse()),s=0;s<c.length;s++)if(!i(l=c[s],d)){if(h.length>0&&o(l,t.last(h))&&f++,l.line=f,a(l))return!0;h.push(l)}}var u,d,f=0,h=[];return(d=t.last(s.getClientRects()))?(c(u=s.getNode()),l(e,r,c,u),h):h}var u=e.curry;return{upUntil:u(c,-1,s.isAbove,s.isBelow),downUntil:u(c,1,s.isBelow,s.isAbove),positionsUntil:function(e,n,o,i){function l(e){return t.last(e.getClientRects())}var c,u,d,f,h,p,m=new r(n),g=[],v=0;1==e?(c=m.next,u=s.isBelow,d=s.isAbove,f=a.after(i)):(c=m.prev,u=s.isAbove,d=s.isBelow,f=a.before(i)),p=l(f);do{if(f.isVisible()&&!d(h=l(f),p)){if(g.length>0&&u(h,t.last(g))&&v++,(h=s.clone(h)).position=f,h.line=v,o(h))return g;g.push(h)}}while(f=c(f));return g},isAboveLine:u((function(e,t){return t.line>e})),isLine:u((function(e,t){return t.line===e}))}})),n(Qe,[M,d,x,Xe,F,te,H],(function(e,t,n,o,i,r,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function c(e,n){function o(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,(function(e,t){var i,r;return i=Math.min(s(e,n),l(e,n)),r=Math.min(s(t,n),l(t,n)),o(n,t)?t:o(n,e)?e:r==i&&f(t.node)||r<i?t:e}))}function u(e,t,n,o){for(;o=h(o,e,a.isEditableCaretCandidate,t);)if(n(o))return}function d(e,n){function r(e,i){var r;return r=t.filter(o.getClientRects(i),(function(t){return!e(t,n)})),a=a.concat(r),0===r.length}var a=[];return a.push(n),u(-1,e,p(r,i.isAbove),n.node),u(1,e,p(r,i.isBelow),n.node),a}var f=n.isContentEditableFalse,h=r.findNode,p=e.curry;return{findClosestClientRect:c,findLineNodeRects:d,closestCaret:function(e,n,i){var r,a;return r=o.getClientRects(function(e){return t.filter(t.toArray(e.getElementsByTagName("*")),f)}(e)),(a=c(r=t.filter(r,(function(e){return i>=e.top&&i<=e.bottom})),n))&&(a=c(d(e,a),n))&&f(a.node)?function(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}(a,n):null}}})),n(Je,[],(function(){var e=function(e){var t,n,o,i;return{top:(i=e.getBoundingClientRect()).top+(o=(t=e.ownerDocument).defaultView).pageYOffset-(n=t.documentElement).clientTop,left:i.left+o.pageXOffset-n.clientLeft}},t=function(t){return t.inline?e(t.getBody()):{left:0,top:0}},n=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var o=e(t.getContentAreaContainer()),i=function(e){var t=e.getBody(),n=e.getDoc().documentElement;return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop}}(t);return{left:n.pageX-o.left+i.left,top:n.pageY-o.top+i.top}}return{left:n.pageX,top:n.pageY}};return{calc:function(e,o){return function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}(t(e),function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(e),n(e,o))}}})),n(Ze,[x,d,M,s,b,Je],(function(e,t,n,o,i,r){var a=e.isContentEditableFalse,s=e.isContentEditableTrue,l=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},c=function(e,o){return function(i){if(function(e){return 0===e.button}(i)){var r=t.find(o.dom.getParents(i.target),n.or(a,s));if(function(e,t){return a(t)&&t!==e}(o.getBody(),r)){var l=o.dom.getPos(r),c=o.getBody(),u=o.getDoc().documentElement;e.element=r,e.screenX=i.screenX,e.screenY=i.screenY,e.maxX=(o.inline?c.scrollWidth:u.offsetWidth)-2,e.maxY=(o.inline?c.scrollHeight:u.offsetHeight)-2,e.relX=i.pageX-l.x,e.relY=i.pageY-l.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=function(e,t,n,o){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:o}),e.dom.setAttrib(i,"data-mce-selected",null);var r=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(r,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),r.appendChild(i),r}(o,r,e.width,e.height)}}}},u=function(e,t){var n=o.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return function(o){var i=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&i>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,r.calc(t,o));(function(e,t){e.parentNode!==t&&t.appendChild(e)})(e.ghost,t.getBody()),function(e,t,n,o,i,r){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+o>r&&(s=t.pageY+o-r),e.style.width=n-a+"px",e.style.height=o-s+"px"}(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(o.clientX,o.clientY)}}},d=function(e,t){return function(n){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!a(t)}(t,function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t}(t.selection),e.element)){var o=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t}(e.element),i=t.fire("drop",{targetClone:o,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(o=i.targetClone,t.undoManager.transact((function(){l(e.element),t.insertContent(t.dom.getOuterHTML(o)),t._selectionOverrides.hideFakeCaret()})))}f(e)}},f=function(e){e.dragging=!1,e.element=null,l(e.ghost)};return{init:function(e){(function(e){var t,n,o,r,a,s,l={};t=i.DOM,s=document,n=c(l,e),o=u(l,e),r=d(l,e),a=function(e,t){return function(){f(e),e.dragging&&t.fire("dragend")}}(l,e),e.on("mousedown",n),e.on("mousemove",o),e.on("mouseup",r),t.bind(s,"mousemove",o),t.bind(s,"mouseup",a),e.on("remove",(function(){t.unbind(s,"mousemove",o),t.unbind(s,"mouseup",a)}))})(e),function(e){e.on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(a(n)||a(e.dom.getContentEditableParent(n)))&&t.preventDefault()}))}(e)}}})),n(et,[l,ne,j,E,te,Ye,Ge,Qe,x,S,F,L,M,d,s,Ze],(function(e,t,n,o,i,r,a,s,l,c,u,d,f,h,p,m){function g(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}var v=f.curry,y=l.isContentEditableTrue,b=l.isContentEditableFalse,w=l.isElement,C=i.isAfterContentEditableFalse,x=i.isBeforeContentEditableFalse,k=c.getSelectedNode;return function(c){function E(e){return c.dom.isBlock(e)}function S(e){e&&c.selection.setRng(e)}function _(){return c.selection.getRng()}function T(e,t){c.selection.scrollIntoView(e,t)}function N(e,t,n){return c.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(T(t,-1===e),ee.show(n,t))}function A(e){return c.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(e)}function R(e,t){var n=i.isInSameBlock(e,t);return!(n||!l.isBr(e.getNode()))||n}function D(e,t){return t=i.normalizeRange(e,G,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return o.isCaretContainerBlock(e.startContainer)}function B(t,o){var i,r;if(o.collapsed&&c.settings.forced_root_block){if(!(i=c.dom.getParent(o.startContainer,"PRE")))return;(1==t?J(n.fromRangeStart(o)):Z(n.fromRangeStart(o)))||(r=function(){var t=c.dom.create(c.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}(),1==t?c.$(i).after(r):c.$(i).before(r),c.selection.select(r,!0),c.selection.collapse())}}function I(e,t,n,o){var i;return(i=function(e,t,n,o){var i,r,a,s;return!o.collapsed&&(i=k(o),b(i))?N(e,i,-1==e):(s=P(o),n(r=D(e,o))?A(r.getNode(-1==e)):(r=t(r))?n(r)?N(e,r.getNode(-1==e),1==e):n(a=t(r))&&R(r,a)?N(e,a.getNode(-1==e),1==e):s?H(r.toRange()):null:s?o:null)}(e,t,n,o))?i:(i=B(e,o))||null}function L(e,t,n){var o;return(o=function(e,t,n){var o,i,r,l,c,u,d,f,p;if(p=k(n),o=D(e,n),i=t(G,a.isAboveLine(1),o),r=h.filter(i,a.isLine(1)),c=h.last(o.getClientRects()),x(o)&&(p=o.getNode()),C(o)&&(p=o.getNode(!0)),!c)return null;if((l=s.findClosestClientRect(r,u=c.left))&&b(l.node))return d=Math.abs(u-l.left),f=Math.abs(u-l.right),N(e,l.node,d<f);if(p){var m=a.positionsUntil(e,G,a.isAboveLine(1),p);if(l=s.findClosestClientRect(h.filter(m,a.isLine(1)),u))return H(l.position.toRange());if(l=h.last(h.filter(m,a.isLine(0))))return H(l.position.toRange())}}(e,t,n))?o:(o=B(e,n))||null}function O(e){e.hasAttribute("data-mce-caret")&&(o.showCaretContainerBlock(e),S(_()),T(e[0]))}function M(e){var t,o;return e=i.normalizeRange(1,G,e),t=n.fromRangeStart(e),b(t.getNode())?N(1,t.getNode(),!t.isAtEnd()):b(t.getNode(!0))?N(1,t.getNode(!0),!1):(o=c.dom.getParent(t.getNode(),f.or(b,y)),b(o)?N(1,o,!1):null)}function H(e){return e&&e.collapsed&&M(e)||e}function F(e){var t,i,r,a;return b(e)?(b(e.previousSibling)&&(r=e.previousSibling),(i=Z(n.before(e)))||(t=J(n.after(e))),t&&w(t.getNode())&&(a=t.getNode()),o.remove(e.previousSibling),o.remove(e.nextSibling),c.dom.remove(e),c.dom.isEmpty(c.getBody())?(c.setContent(""),void c.focus()):r?n.after(r).toRange():a?n.before(a).toRange():i?i.toRange():t?t.toRange():null):null}function $(e){var t=c.schema.getTextBlockElements();return e.nodeName in t}function j(e){return c.dom.isEmpty(e)}function z(e,t,o){var i,r,a,s,l=c.dom;if(i=l.getParent(t.getNode(),l.isBlock),r=l.getParent(o.getNode(),l.isBlock),-1===e){if(s=o.getNode(!0),C(o)&&E(s))return $(i)?(j(i)&&l.remove(i),n.after(s).toRange()):F(o.getNode(!0))}else if(s=t.getNode(),x(t)&&E(s))return $(r)?(j(r)&&l.remove(r),n.before(s).toRange()):F(t.getNode());if(i===r||!$(i)||!$(r))return null;for(;a=i.firstChild;)r.appendChild(a);return c.dom.remove(i),o.toRange()}function U(e,t,n,i){var r,a,s,l;return!i.collapsed&&(r=k(i),b(r))?H(F(r)):n(a=D(e,i))&&o.isCaretContainerBlock(i.startContainer)?(l=-1==e?Q.prev(a):Q.next(a))?H(l.toRange()):i:t(a)?H(F(a.getNode(-1==e))):t(s=-1==e?Q.prev(a):Q.next(a))?-1===e?z(e,a,s):z(e,s,a):void 0}function W(e){return o.isCaretContainer(e)||o.startsWithCaretContainer(e)||o.endsWithCaretContainer(e)}function q(e){return W(e.startContainer)||W(e.endContainer)}function V(t){var n,o,i,r,a,s,l,u,d,f,h=c.$,p=c.dom;if(!t)return null;if(t.collapsed){if(!q(t)){if(u=D(1,t),b(u.getNode()))return N(1,u.getNode(),!u.isAtEnd());if(b(u.getNode(!0)))return N(1,u.getNode(!0),!1)}return null}return a=t.startOffset,s=t.endOffset,3==(r=t.startContainer).nodeType&&0==a&&b(r.parentNode)&&(a=p.nodeIndex(r=r.parentNode),r=r.parentNode),1!=r.nodeType?null:(s==a+1&&(n=r.childNodes[a]),b(n)?(d=f=n.cloneNode(!0),(l=c.fire("ObjectSelected",{target:n,targetClone:d})).isDefaultPrevented()?null:(d=l.targetClone,0===(o=h("#"+te)).length&&(o=h('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",te)).appendTo(c.getBody()),t=c.dom.createRng(),d===f&&e.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(d),t.setStartAfter(o[0].firstChild.firstChild),t.setEndAfter(d)):(o.empty().append("Â ").append(d).append("Â "),t.setStart(o[0].firstChild,1),t.setEnd(o[0].lastChild,0)),o.css({top:p.getPos(n,c.getBody()).y}),o[0].focus(),(i=c.selection.getSel()).removeAllRanges(),i.addRange(t),c.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),X=n,Y(),t)):null)}function K(){X&&(X.removeAttribute("data-mce-selected"),c.$("#"+te).remove(),X=null)}function Y(){ee.hide()}var X,G=c.getBody(),Q=new t(G),J=v(g,Q.next),Z=v(g,Q.prev),ee=new r(c.getBody(),E),te="sel-"+c.dom.uniqueId(),ne=c.$;return e.ceFalse&&(function(){function i(e,t){if(!1===e.isDefaultPrevented()){var n=t(_());n&&(e.preventDefault(),S(n))}}function r(e){for(var t=c.getBody();e&&e!=t;){if(y(e)||b(e))return e;e=e.parentNode}return null}function l(){var e,t=r(c.selection.getNode());y(t)&&E(t)&&c.dom.isEmpty(t)&&(e=c.dom.create("br",{"data-mce-bogus":"1"}),c.$(t).empty().append(e),c.selection.setRng(n.before(e).toRange()))}var f=v(I,1,J,x),g=v(I,-1,Z,C),w=v(U,1,x,C),k=v(U,-1,C,x),T=v(L,-1,a.upUntil),R=v(L,1,a.downUntil);c.on("mouseup",(function(){var e=_();e.collapsed&&S(M(e))})),c.on("click",(function(e){var t;(t=r(e.target))&&(b(t)&&(e.preventDefault(),c.focus()),y(t)&&c.dom.isChildOf(t,c.selection.getNode())&&K())})),c.on("blur NewBlock",(function(){K(),Y()}));var D=function(e){var o=new t(e);if(!e.firstChild)return!1;var i=n.before(e.firstChild),r=o.next(i);return r&&!x(r)&&!C(r)};(function(e){var t=!1;e.on("touchstart",(function(){t=!1})),e.on("touchmove",(function(){t=!0})),e.on("touchend",(function(e){var n=r(e.target);b(n)&&(t||(e.preventDefault(),V(A(n))))}))})(c),c.on("mousedown",(function(e){var t;if(t=r(e.target))b(t)?(e.preventDefault(),V(A(t))):function(e,t,n){return!n.collapsed&&h.reduce(n.getClientRects(),(function(n,o){return n||u.containsXY(o,e,t)}),!1)}(e.clientX,e.clientY,c.selection.getRng())||c.selection.placeCaretAt(e.clientX,e.clientY);else{K(),Y();var n=s.closestCaret(G,e.clientX,e.clientY);n&&(function(e,t){var n=c.dom.getParent(e,c.dom.isBlock),o=c.dom.getParent(t,c.dom.isBlock);return n&&!function(e,t){return c.dom.getParent(e,c.dom.isBlock)===c.dom.getParent(t,c.dom.isBlock)}(n,o)&&D(n)}(e.target,n.node)||(e.preventDefault(),c.getBody().focus(),S(N(1,n.node,n.before))))}})),c.on("keydown",(function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:i(e,f);break;case d.DOWN:i(e,R);break;case d.LEFT:i(e,g);break;case d.UP:i(e,T);break;case d.DELETE:i(e,w);break;case d.BACKSPACE:i(e,k);break;default:b(c.selection.getNode())&&function(e){return!(e.keyCode>=112&&e.keyCode<=123)}(e)&&e.preventDefault()}})),c.on("keyup compositionstart",(function(e){(function(e){var t=ne("*[data-mce-caret]")[0];t&&("compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),O(t)):o.hasContent(t)&&O(t))})(e),function(e){var t;switch(e.keyCode){case d.DELETE:t=l();break;case d.BACKSPACE:t=l()}t&&e.preventDefault()}(e)}),!0),c.on("cut",(function(){var e=c.selection.getNode();b(e)&&p.setEditorTimeout(c,(function(){S(H(F(e)))}))})),c.on("getSelectionRange",(function(e){var t=e.range;if(X){if(!X.parentNode)return void(X=null);(t=t.cloneRange()).selectNode(X),e.range=t}})),c.on("setSelectionRange",(function(e){var t;(t=V(e.range))&&(e.range=t)})),c.on("AfterSetSelectionRange",(function(e){var t=e.range;q(t)||Y(),function(e){return c.dom.hasClass(e,"mce-offscreen-selection")}(t.startContainer.parentNode)||K()})),c.on("focus",(function(){p.setEditorTimeout(c,(function(){c.selection.setRng(H(c.selection.getRng()))}),0)})),c.on("copy",(function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!e.ie){var o=function(){var e=c.dom.get(te);return e?e.getElementsByTagName("*")[0]:e}();o&&(t.preventDefault(),n.clearData(),n.setData("text/html",o.outerHTML),n.setData("text/plain",o.outerText))}})),m.init(c)}(),function(){var e=c.contentStyles,t=".mce-content-body";e.push(ee.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}()),{showBlockCaretContainer:O,hideFakeCaret:Y,destroy:function(){ee.destroy(),X=null}}}})),n(tt,[],(function(){var e=0;return{uuid:function(t){return t+e+++function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()}()}}})),n(nt,[],(function(){return{add:function(e,t,n){var o=e.sidebars?e.sidebars:[];o.push({name:t,settings:n}),e.sidebars=o}}})),n(ot,[b,h,C,_,T,B,P,W,Y,J,Z,ee,re,ae,w,c,Re,Le,N,R,Me,l,f,s,He,Fe,$e,Ke,et,tt,nt,Ve],(function(e,n,o,i,r,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w,C,x,k,E,S,_,T,N,A,R,D,P){function B(e,t,i){var r,a,s,l=this;r=l.documentBaseUrl=i.documentBaseURL,a=i.baseURI,t=M({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s=i.defaultSettings,t),s&&s.external_plugins&&t.external_plugins&&(t.external_plugins=M({},s.external_plugins,t.external_plugins)),l.settings=t,o.language=t.language||"en",o.languageLoad=t.language_load,o.baseURL=i.baseURL,l.id=t.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new p(t.document_base_url||r,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new T(l),l.loadedCSS={},l.editorCommands=new h(l),l.suffix=i.suffix,l.editorManager=i,l.inline=t.inline,l.settings.content_editable=l.inline,t.cache_suffix&&(x.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(x.overrideViewPort=!1),i.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults((function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}}))}var I=e.DOM,L=o.ThemeManager,O=o.PluginManager,M=k.extend,H=k.each,F=k.explode,$=k.inArray,j=k.trim,z=k.resolve,U=g.Event,W=x.gecko,q=x.ie;return B.prototype={render:function(){var e=this,t=e.settings,n=e.id,o=e.suffix;if(U.domLoaded){if(e.getElement()&&x.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||I.getParent(n,"form");i&&(e.formElement=i,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(I.insertAfter(I.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},I.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.setContent(e.startContent,{format:"raw"})})),!t.submit_patch||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=new v(e),e.notificationManager=new y(e),"xml"==t.encoding&&e.on("GetContent",(function(e){e.save&&(e.content=I.encode(e.content))})),t.add_form_submit_trigger&&e.on("submit",(function(){e.initialized&&e.save()})),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),function(){var n=m.ScriptLoader;if(t.language&&"en"!=t.language&&!t.language_url&&(t.language_url=e.editorManager.baseURL+"/langs/"+t.language+".js"),t.language_url&&n.add(t.language_url),t.theme&&"function"!=typeof t.theme&&"-"!=t.theme.charAt(0)&&!L.urls[t.theme]){var i=t.theme_url;i=i?e.documentBaseURI.toAbsolute(i):"themes/"+t.theme+"/theme"+o+".js",L.load(t.theme,i)}k.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),H(t.external_plugins,(function(e,n){O.load(n,e),t.plugins+=" "+n})),H(t.plugins.split(/[ ,]/),(function(e){if((e=j(e))&&!O.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=O.dependencies(e);H(t,(function(e){e=O.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"},e),O.load(e.resource,e)}))}else O.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})})),n.loadQueue((function(){e.removed||e.init()}),e,(function(t){P.pluginLoadError(e,t[0]),e.removed||e.init()}))}()}}else I.bind(window,"ready",(function t(){I.unbind(window,"ready",t),e.render()}))},init:function(){var e,t,n,o,i,r,a,s,l,c,u,d=this,f=d.settings,h=d.getElement(),p=[];if(d.rtl=f.rtl_ui||d.editorManager.i18n.rtl,d.editorManager.i18n.setCode(f.language),f.aria_label=f.aria_label||I.getAttrib(h,"aria-label",d.getLang("aria.rich_text_area")),d.fire("ScriptsLoaded"),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),r=L.get(f.theme),d.theme=new r(d,L.urls[f.theme]),d.theme.init&&d.theme.init(d,L.urls[f.theme]||d.documentBaseUrl.replace(/\/$/,""),d.$)):d.theme=f.theme),H(f.plugins.replace(/\-/g,"").split(/[ ,]/),(function e(t){var n,o,i=O.get(t);if(n=O.urls[t]||d.documentBaseUrl.replace(/\/$/,""),t=j(t),i&&-1===$(p,t)){if(H(O.dependencies(t),(function(t){e(t)})),d.plugins[t])return;o=new i(d,n,d.$),d.plugins[t]=o,o.init&&(o.init(d,n),p.push(t))}})),f.render_ui&&d.theme&&(d.orgDisplay=h.style.display,"function"!=typeof f.theme?(t=f.height||h.style.height||h.offsetHeight,n=f.min_height||100,(c=/^[0-9\.]+(|px)$/i).test(""+(e=f.width||h.style.width||h.offsetWidth))&&(e=Math.max(parseInt(e,10),100)),c.test(""+t)&&(t=Math.max(parseInt(t,10),n)),i=d.theme.renderUI({targetNode:h,width:e,height:t,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(t=(i.iframeHeight||t)+("number"==typeof t?i.deltaHeight||0:""))<n&&(t=n)):((i=f.theme(d,h)).editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||d.id+"_parent"),i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||d.id+"_iframecontainer"),t=i.iframeHeight||h.offsetHeight),d.editorContainer=i.editorContainer),f.content_css&&H(F(f.content_css),(function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))})),f.content_style&&d.contentStyles.push(f.content_style),f.content_editable)return h=o=i=null,d.initContentBody();if(d.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!x.caretAfter&&f.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(u=0;u<d.contentCSS.length;u++){var m=d.contentCSS[u];d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(m)+'" />',d.loadedCSS[m]=!0}-1!=(s=f.body_id||"tinymce").indexOf("=")&&(s=(s=d.getParam("body_id","","hash"))[d.id]||s),-1!=(l=f.body_class||"").indexOf("=")&&(l=(l=d.getParam("body_class","","hash"))[d.id]||""),f.content_security_policy&&(d.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),d.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" data-id="'+d.id+'"><br></body></html>';var g='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&x.ie&&x.ie<12&&(a=g);var v=I.create("iframe",{id:d.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t,display:"block"}});if(v.onload=function(){v.onload=null,d.fire("load")},I.setAttrib(v,"src",a||'javascript:""'),d.contentAreaContainer=i.iframeContainer,d.iframeElement=v,o=I.add(i.iframeContainer,v),q)try{d.getDoc()}catch(b){o.src=a=g}i.editorContainer&&(I.get(i.editorContainer).style.display=d.orgDisplay,d.hidden=I.isHidden(i.editorContainer)),d.getElement().style.display="none",I.setAttrib(d.id,"aria-hidden",!0),a||d.initContentBody(),h=o=i=null},initContentBody:function(t){var n,o,s=this,h=s.settings,p=s.getElement(),m=s.getDoc();h.inline||(s.getElement().style.visibility=s.orgVisibility),t||h.content_editable||(m.open(),m.write(s.iframeHTML),m.close()),h.content_editable&&(s.on("remove",(function(){var e=this.getBody();I.removeClass(e,"mce-content-body"),I.removeClass(e,"mce-edit-focus"),I.setAttrib(e,"contentEditable",null)})),I.addClass(p,"mce-content-body"),s.contentDocument=m=h.content_document||document,s.contentWindow=h.content_window||window,s.bodyElement=p,h.content_document=h.content_window=null,h.root_name=p.nodeName.toLowerCase()),(n=s.getBody()).disabled=!0,s.readonly=h.readonly,s.readonly||(s.inline&&"static"==I.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new N(s),s.schema=new b(h),s.dom=new e(m,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:h.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new w(h,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",(function(e,t){for(var n,o,i,r=e.length,a=s.dom;r--;)if(o=(n=e[r]).attr(t),!n.attributes.map[i="data-mce-"+t]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===t?((o=a.serializeStyle(a.parseStyle(o),n.name)).length||(o=null),n.attr(i,o),n.attr(t,o)):"tabindex"===t?(n.attr(i,o),n.attr(t,null)):n.attr(i,s.convertURL(o,t,n.name))}})),s.parser.addNodeFilter("script",(function(e){for(var t,n,o=e.length;o--;)0!==(n=(t=e[o]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)})),s.parser.addNodeFilter("#cdata",(function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"})),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var t,n=e.length,o=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(o)&&0===t.getAll("br").length&&(t.append(new r("br",1)).shortEnded=!0)})),s.serializer=new a(h,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new c(s),s.undoManager=new u(s),s.forceBlocks=new f(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new i(s),s._selectionOverrides=new A(s),s.fire("PreInit"),h.browser_spellcheck||h.gecko_spellcheck||(m.body.spellcheck=!1,I.setAttrib(n,"spellcheck","false")),s.quirks=new C(s),s.fire("PostRender"),h.directionality&&(n.dir=h.directionality),h.nowrap&&(n.style.whiteSpace="nowrap"),h.protect&&s.on("BeforeSetContent",(function(e){H(h.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),s.on("SetContent",(function(){s.addVisual(s.getBody())})),h.padd_empty_editor&&s.on("PostProcess",(function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",(function(e){s.composing="compositionstart"===e.type})),s.contentStyles.length>0&&(o="",H(s.contentStyles,(function(e){o+=e+"\r\n"})),s.dom.addStyle(o)),H(s.contentCSS,(function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)})),h.auto_focus&&E.setEditorTimeout(s,(function(){var e;(e=!0===h.auto_focus?s:s.editorManager.get(h.auto_focus)).destroyed||e.focus()}),100),p=m=n=null},focus:function(e){var t,n,o,i=this,r=i.selection,a=i.settings.content_editable,s=i.getDoc(),l=i.getBody();if(!e){if((t=r.getRng()).item&&(n=t.item(0)),i.quirks.refreshContentEditable(),o=function(e){return i.dom.getParent(e,(function(e){return"true"===i.dom.getContentEditable(e)}))}(r.getNode()),i.$.contains(l,o))return o.focus(),r.normalize(),void i.editorManager.setActive(i);if(a||(x.opera||i.getBody().focus(),i.getWin().focus()),W||a){if(l.setActive)try{l.setActive()}catch(u){l.focus()}else l.focus();a&&r.normalize()}n&&n.ownerDocument==s&&((t=s.body.createControlRange()).addElement(n),t.select())}i.editorManager.setActive(i)},execCallback:function(e){var t,n=this,o=n.settings[e];if(o)return n.callbackLookup&&(t=n.callbackLookup[e])&&(o=t.func,t=t.scope),"string"==typeof o&&(t=(t=o.replace(/\.\w+$/,""))?z(t):0,o=z(o),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:o,scope:t}),o.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?(e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,(function(e,o){return n.data[t+"."+o]||"{#"+o+"}"})),this.editorManager.translate(e)):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var o,i=e in this.settings?this.settings[e]:t;return"hash"===n?(o={},"string"==typeof i?H(i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),(function(e){e=e.split("="),o[j(e[0])]=j(e.length>1?e[1]:e)})):o=i,o):i},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return D.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,o=this;o.contextToolbars=o.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return o.dom.is(e,n)}),o.contextToolbars.push({id:R.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,o){this.shortcuts.add(e,t,n,o)},execCommand:function(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(I.show(e.getContainer()),I.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(q&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(I.hide(e.getContainer()),I.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,o=this,i=o.getElement();if(i)return(e=e||{}).load=!0,n=o.setContent(i.value!==t?i.value:i.innerHTML,e),e.element=i,e.no_events||o.fire("LoadContent",e),e.element=i=null,n},save:function(e){var t,n,o=this,i=o.getElement();if(i&&o.initialized)return(e=e||{}).save=!0,e.element=i,e.content=o.getContent(e),e.no_events||o.fire("SaveContent",e),"raw"==e.format&&o.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(i.nodeName)?i.value=t:(o.inline||(i.innerHTML=t),(n=I.getParent(o.id,"form"))&&H(n.elements,(function(e){if(e.name==o.id)return e.value=t,!1}))),e.element=i=null,!1!==e.set_dirty&&o.setDirty(!1),t},setContent:function(e,t){var n,o,i=this,r=i.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(o=q&&q<11?"":'<br data-mce-bogus="1">',"TABLE"==r.nodeName?e="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(e="<li>"+o+"</li>"),(n=i.settings.forced_root_block)&&i.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e=o):q||e||(e='<br data-mce-bogus="1">'),i.dom.setHTML(r,e),i.fire("SetContent",t)):("raw"!==t.format&&(e=new s({validate:i.validate},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=j(e),i.dom.setHTML(r,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,o=n.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?k.trim(n.serializer.getTrimmedContent()):"text"==e.format?o.innerText||o.textContent:n.serializer.serialize(o,e),e.content="text"!=e.format?j(t):t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=M({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){_.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=I.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=I.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var o=this,i=o.settings;return i.urlconverter_callback?o.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,o=this,i=o.settings,r=o.dom;e=e||o.getBody(),o.hasVisual===t&&(o.hasVisual=i.visual),H(r.select("table,a",e),(function(e){var t;switch(e.nodeName){case"TABLE":return n=i.visual_table_class||"mce-item-table",void((t=r.getAttrib(e,"border"))&&"0"!=t||!o.hasVisual?r.removeClass(e,n):r.addClass(e,n));case"A":return void(r.getAttrib(e,"href",!1)||(t=r.getAttrib(e,"name")||e.id,n=i.visual_anchor_class||"mce-item-anchor",t&&o.hasVisual?r.addClass(e,n):r.removeClass(e,n)))}})),o.fire("VisualAid",{element:e,hasVisual:o.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&I.remove(e.getElement().nextSibling),e.inline||(q&&q<10&&e.getDoc().execCommand("SelectAll",!1,null),I.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),I.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),I.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},M(B.prototype,S),B})),n(it,[f],(function(e){var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var o=t[e];for(var i in o||(t[e]=o={}),n)o[i]=n[i];this.setCode(e)},translate:function(o){function i(t){return e.is(t,"function")?Object.prototype.toString.call(t):r(t)?"":""+t}function r(t){return""===t||null===t||e.is(t,"undefined")}function a(t){return t=i(t),e.hasOwn(s,t)?i(s[t]):t}var s=t[n]||{};if(r(o))return"";if(e.is(o,"object")&&e.hasOwn(o,"raw"))return i(o.raw);if(e.is(o,"array")){var l=o.slice(1);o=a(o[0]).replace(/\{([0-9]+)\}/g,(function(t,n){return e.hasOwn(l,n)?i(l[n]):t}))}return a(o).replace(/{context:\w+}$/,"")},data:t}})),n(rt,[b,s,l],(function(e,t,n){function o(e){function o(){try{return document.activeElement}catch(e){return document.body}}e.on("AddEditor",(function(c){var u=c.editor;u.on("init",(function(){(u.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?u.dom.bind(u.getBody(),"beforedeactivate",(function(e){if(e.target==u.getBody())try{u.lastRng=u.selection.getRng()}catch(t){}})):u.on("nodechange mouseup keyup",(function(e){var t=o();"nodechange"==e.type&&e.selectionChange||(t&&t.id==u.id+"_ifr"&&(t=u.getBody()),u.dom.isChildOf(t,u.getBody())&&(u.lastRng=u.selection.getRng()))})),n.webkit&&!i&&(i=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(u.lastRng=n)}},s.bind(document,"selectionchange",i)))})),u.on("setcontent",(function(){u.lastRng=null})),u.on("mousedown",(function(){u.selection.lastFocusBookmark=null})),u.on("focusin",(function(){var t,n=e.focusedEditor;u.selection.lastFocusBookmark&&(t=function(e,t){var n;return t.startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}(u,u.selection.lastFocusBookmark),u.selection.lastFocusBookmark=null,u.selection.setRng(t)),n!=u&&(n&&n.fire("blur",{focusedEditor:u}),e.setActive(u),e.focusedEditor=u,u.fire("focus",{blurredEditor:n}),u.focus(!0)),u.lastRng=null})),u.on("focusout",(function(){t.setEditorTimeout(u,(function(){var t=e.focusedEditor;l(u,o())||t!=u||(u.fire("blur",{focusedEditor:null}),e.focusedEditor=null,u.selection&&(u.selection.lastFocusBookmark=null))}))})),r||(r=function(t){var n,o=e.activeEditor;n=t.target,o&&n.ownerDocument==document&&(o.selection&&n!=o.getBody()&&(o.selection.lastFocusBookmark=function(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}(o.dom,o.lastRng)),n==document.body||l(o,n)||e.focusedEditor!=o||(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,"focusin",r)),u.inline&&!a&&(a=function(t){var n=e.activeEditor,o=n.dom;if(n.inline&&o&&!o.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,"mouseup",a))})),e.on("RemoveEditor",(function(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,"selectionchange",i),s.unbind(document,"focusin",r),s.unbind(document,"mouseup",a),i=r=a=null)}))}var i,r,a,s=e.DOM,l=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==s.getParent(t,(function(t){return o.isEditorUIElement(t)||!!n&&e.dom.is(t,n)}))};return o.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},o._isUIElement=l,o})),n(at,[ot,h,b,ae,l,f,a,ue,it,rt,C],(function(e,t,n,o,i,r,a,s,l,c,u){function d(e){b(g.editors,(function(t){t.fire("scroll"===e.type?"ScrollWindow":"ResizeWindow",e)}))}function f(e,n){n!==x&&(n?t(window).on("resize scroll",d):t(window).off("resize scroll",d),x=n)}function h(e){var t,n=g.editors;delete n[e.id];for(var o=0;o<n.length;o++)if(n[o]==e){n.splice(o,1),t=!0;break}return g.activeEditor==e&&(g.activeEditor=n[0]),g.focusedEditor==e&&(g.focusedEditor=null),t}function p(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(h(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var m,g,v=n.DOM,y=r.explode,b=r.each,w=r.extend,C=0,x=!1;return g={$:t,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:l,activeEditor:null,setup:function(){var e,t,n,i,r=this,a="";if(t=o.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var u=(i=s[l].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=u.indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(i=document.currentScript.src).indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new o(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new o(r.baseURL),r.suffix=a,r.focusManager=new c(r)},overrideDefaults:function(e){var t;(t=e.base_url)&&(this.baseURL=new o(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new o(this.baseURL)),e.suffix&&(this.suffix=e.suffix),this.defaultSettings=e;var n=e.plugin_base_urls;for(var i in n)u.PluginManager.urls[i]=n[i]},init:function(n){function o(e){var t=e.id;return t||(t=(t=e.name)&&!v.get(t)?e.name:v.uniqueId(),e.setAttribute("id",t)),t}function i(e,t){return t.constructor===RegExp?t.test(e.className):v.hasClass(e,t)}function s(e){var t,n=[];if(e.types)return b(e.types,(function(e){n=n.concat(v.select(e.selector))})),n;if(e.selector)return v.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&b(y(t),(function(e){var t;(t=v.get(e))?n.push(t):b(document.forms,(function(t){b(t.elements,(function(t){t.name===e&&(e="mce_editor_"+C++,v.setAttrib(t,"id",e),n.push(t))}))}))}));break;case"textareas":case"specific_textareas":b(v.select("textarea"),(function(t){e.editor_deselector&&i(t,e.editor_deselector)||e.editor_selector&&!i(t,e.editor_selector)||n.push(t)}))}return n}var l,c,u=this;c=r.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var d=function(e){l=e};return u.settings=n,v.bind(window,"ready",(function i(){function a(t,n,o){var i=new e(t,n,u);h.push(i),i.on("init",(function(){++f===l.length&&d(h)})),i.targetElm=i.targetElm||o,i.render()}var l,f=0,h=[];return v.unbind(window,"ready",i),function(e){var t=n[e];t&&t.apply(u,Array.prototype.slice.call(arguments,2))}("onpageload"),l=t.unique(s(n)),n.types?void b(n.types,(function(e){r.each(l,(function(t){return!v.is(t,e.selector)||(a(o(t),w({},n,e),t),!1)}))})):(r.each(l,(function(e){p(u.get(e.id))})),l=r.grep(l,(function(e){return!u.get(e.id)})),void b(l,(function(e){!function(e,t){return e.inline&&t.tagName.toLowerCase()in c}(n,e)?a(o(e),n,e):function(e,t){window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",t)}(0,e)})))})),new a((function(e){l?e(l):d=function(t){e(t)}}))},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),f(0,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),m||(m=function(){t.fire("BeforeUnload")},v.bind(window,"beforeunload",m)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,o=this,i=o.editors;if(e)return"string"==typeof e?void b(v.select(e=e.selector||e),(function(e){(n=i[e.id])&&o.remove(n)})):i[(n=e).id]?(h(n)&&o.fire("RemoveEditor",{editor:n}),i.length||v.unbind(window,"beforeunload",m),n.remove(),f(0,i.length>0),n):null;for(t=i.length-1;t>=0;t--)o.remove(i[t])},execCommand:function(t,n,o){var i=this,r=i.get(o);switch(t){case"mceAddEditor":return i.get(o)||new e(o,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,o),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,n,o)},triggerSave:function(){b(this.editors,(function(e){e.save()}))},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},w(g,s),g.setup(),window.tinymce=window.tinyMCE=g,g})),n("tinymce/LegacyInput",[at,f],(function(e,t){var n=t.each,o=t.explode;e.on("AddEditor",(function(e){var t=e.editor;t.on("preInit",(function(){function e(e,t){n(t,(function(t,n){t&&a.setStyle(e,n,t)})),a.rename(e,"span")}var i,r,a,s=t.settings;s.inline_styles&&(r=o(s.font_size_legacy_values),i={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:r[parseInt(n.size,10)-1]})},u:function(n,o){"html4"===t.settings.schema&&e(o,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",(function(e){a=t.dom,s.convert_fonts_to_spans&&n(a.select("font,u,strike",e.node),(function(e){i[e.nodeName.toLowerCase()](a,e)}))})))}))}))})),n(st,[ue,f],(function(e,t){var n={send:function(e){function o(){!e.async||4==i.readyState||r++>1e4?(e.success&&r<1e4&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):setTimeout(o,10)}var i,r=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n.fire("beforeInitialize",{settings:e}),i=new XMLHttpRequest){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(i.withCredentials=!0),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,(function(e){i.setRequestHeader(e.key,e.value)})),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i=n.fire("beforeSend",{xhr:i,settings:e}).xhr).send(e.data),!e.async)return o();setTimeout(o,10)}}};return t.extend(n,e),n})),n(lt,[],(function(){return{serialize:function e(t,n){var o,i,r,a;if(n=n||'"',null===t)return"null";if("string"==(r=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,(function(e,t){return'"'===n&&"'"===e?e:(o=i.indexOf(t))+1?"\\"+i.charAt(o+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)}))+n;if("object"==r){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(o=0,i="[";o<t.length;o++)i+=(o>0?",":"")+e(t[o],n);return i+"]"}for(a in i="{",t)t.hasOwnProperty(a)&&(i+="function"!=typeof t[a]?(i.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return i+"}"}return""+t},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}})),n(ct,[lt,st,f],(function(e,t,n){function o(e){this.settings=i({},e),this.count=0}var i=n.extend;return o.sendRPC=function(e){return(new o).send(e)},o.prototype={send:function(n){var o=n.error,r=n.success;(n=i(this.settings,n)).success=function(t,i){void 0===(t=e.parse(t))&&(t={error:"JSON Parse error."}),t.error?o.call(n.error_scope||n.scope,t.error,i):r.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){o&&o.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},o})),n(ut,[b],(function(e){return{callbacks:{},count:0,send:function(n){var o=this,i=e.DOM,r=n.count!==t?n.count:o.count,a="tinymce_jsonp_"+r;o.callbacks[r]=function(e){i.remove(a),delete o.callbacks[r],n.callback(e)},i.add(i.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),o.count++}}})),n(dt,[],(function(){function e(){for(var e in a=[],r)a.push(e);o.length=a.length}function n(){var t,n="";if(c){for(var a in r)t=r[a],n+=(n?",":"")+a.length.toString(32)+","+a+","+t.length.toString(32)+","+t;i.setAttribute(l,n);try{i.save(l)}catch(o){}e()}}var o,i,r,a,l,c;try{if(window.localStorage)return localStorage}catch(s){}return l="tinymce",i=document.documentElement,(c=!!i.addBehavior)&&i.addBehavior("#default#userData"),o={key:function(e){return a[e]},getItem:function(e){return e in r?r[e]:null},setItem:function(e,t){r[e]=""+t,n()},removeItem:function(e){delete r[e],n()},clear:function(){r={},n()}},function(){function n(e){var n,o;return-1===(o=e!==t?u+e:a.indexOf(",",u))||o>a.length?null:(n=a.substring(u,o),u=o+1,n)}var o,a,s,u=0;if(r={},c){i.load(l),a=i.getAttribute(l)||"";do{var d=n();if(null===d)break;if(null!==(o=n(parseInt(d,32)||0))){if(null===(d=n()))break;s=n(parseInt(d,32)||0),o&&(r[o]=s)}}while(null!==o);e()}}(),o})),n(ft,[b,c,w,C,f,l],(function(e,t,n,o,i,r){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=o.PluginManager,a.ThemeManager=o.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),(function(e){a[e]=i[e]})),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),(function(e){a[e]=r[e.substr(2).toLowerCase()]})),{}})),n(ht,[se,f],(function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,o,i,r=this.settings;t=r.firstControlClass,n=r.lastControlClass,e.each((function(e){e.classes.remove(t).remove(n).add(r.controlClass),e.visible()&&(o||(o=e),i=e)})),o&&o.classes.add(t),i&&i.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each((function(e){t+=e.renderHtml()})),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})})),n(pt,[ht],(function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each((function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()}))},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})})),n(mt,[Pe],(function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",(function(e){e.preventDefault()})),n.on("touchstart",(function(e){n.fire("click",e),e.preventDefault()})),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,o=t.classPrefix,i=t.state.get("icon"),r=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r&&(t.classes.add("btn-has-text"),a='<span class="'+o+'txt">'+t.encode(r)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+((i=i?o+"ico "+o+"i-"+i:"")?'<i class="'+i+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var i=n("span."+o,t.getEl());e?(i[0]||(n("button:first",t.getEl()).append('<span class="'+o+'"></span>'),i=n("span."+o,t.getEl())),i.html(t.encode(e))):i.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,o=t.classPrefix+"txt";return t.state.on("change:text",(function(t){e(t.value)})),t.state.on("change:icon",(function(n){var o=n.value,i=t.classPrefix;t.settings.icon=o,o=o?i+"ico "+i+"i-"+t.settings.icon:"";var r=t.getEl().firstChild,a=r.getElementsByTagName("i")[0];o?(a&&a==r.firstChild||(a=document.createElement("i"),r.insertBefore(a,r.firstChild)),a.className=o):a&&r.removeChild(a),e(t.state.get("text"))})),t._super()}})})),n(gt,[Ce],(function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})})),n(vt,[Pe],(function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",(function(e){e.preventDefault()})),t.on("click",(function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())})),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",(function(e){t.getEl("al").firstChild.data=t.translate(e.value)})),t.state.on("change:checked change:value",(function(n){t.fire("change"),e(n.value)})),t.state.on("change:icon",(function(e){var n=e.value,o=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?o+"ico "+o+"i-"+t.settings.icon:"";var i=t.getEl().firstChild,r=i.getElementsByTagName("i")[0];n?(r&&r==i.firstChild||(r=document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=n):r&&i.removeChild(r)})),t.state.get("checked")&&e(!0),t._super()}})})),n(yt,[Pe,be,pe,h,L,f],(function(e,t,n,o,i,r){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",(function(n){var i=n.target,r=t.getEl();if(o.contains(r,i)||i==r)for(;i&&i!=r;)i.id&&-1!=i.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode})),t.on("keydown",(function(e){var n;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){if("INPUT"==e.target.nodeName){var n=t.state.get("value"),o=e.target.value;o!==n&&(t.state.set("value",o),t.fire("autocomplete",e))}})),t.on("mouseover",(function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var o=t.statusMessage()||"Ok",i=n.text(o).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==i),n.classes.toggle("tooltip-nw","bc-tl"==i),n.classes.toggle("tooltip-ne","bc-tr"==i),n.moveRel(e.target,i)}}))},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,n=this;n.menu||((e=n.settings.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",(function(e){e.control===n.menu&&n.focus()})),n.menu.on("show hide",(function(e){e.control.items().each((function(e){e.active(e.value()==n.value())}))})).fire("show"),n.menu.on("select",(function(e){n.value(e.control.value())})),n.on("focusin",(function(e){"INPUT"==e.target.tagName.toUpperCase()&&n.menu.hide()})),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,i=this,r=i.getEl(),a=i.getEl("open"),s=i.layoutRect(),l=0,c=r.firstChild;i.statusLevel()&&"none"!==i.statusLevel()&&(l=parseInt(n.getRuntimeStyle(c,"padding-right"),10)-parseInt(n.getRuntimeStyle(c,"padding-left"),10)),e=a?s.w-n.getSize(a).width-10:s.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(t=i.layoutRect().h-2+"px"),o(c).css({width:e-l,lineHeight:t}),i._super(),i},postRender:function(){var e=this;return o(this.getEl("inp")).on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)})),e._super()},renderHtml:function(){var e,t,n,o=this,i=o._id,r=o.settings,a=o.classPrefix,s=o.state.get("value")||"",l="",c="";return"spellcheck"in r&&(c+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(c+=' maxlength="'+r.maxLength+'"'),r.size&&(c+=' size="'+r.size+'"'),r.subtype&&(c+=' type="'+r.subtype+'"'),n='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',o.disabled()&&(c+=' disabled="disabled"'),(e=r.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+r.icon),t=o.state.get("text"),(e||t)&&(l='<div id="'+i+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",o.classes.add("has-open")),'<div id="'+i+'" class="'+o.classes+'"><input id="'+i+'-inp" class="'+a+'textbox" value="'+o.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+o.encode(r.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,n){var o=this;if(0!==e.length){var i=function(e,t){return function(){o.fire("selectitem",{title:t,value:e})}};o.menu?o.menu.items().remove():o.menu=t.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo(),r.each(e,(function(e){o.menu.add({text:e.title,url:e.previewUrl,match:n,classes:"menu-item-ellipsis",onclick:i(e.value,e.title)})})),o.menu.renderNew(),o.hideMenu(),o.menu.on("cancel",(function(e){e.control.parent()===o.menu&&(e.stopPropagation(),o.focus(),o.hideMenu())})),o.menu.on("select",(function(){o.focus()}));var a=o.layoutRect().w;o.menu.layoutRect({w:a,minW:0,maxW:a}),o.menu.reflow(),o.menu.show(),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else o.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",(function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl("inp").disabled=t.value})),e.state.on("change:statusLevel",(function(t){var o=e.getEl("status"),i=e.classPrefix,r=t.value;n.css(o,"display","none"===r?"none":""),n.toggleClass(o,i+"i-checkmark","ok"===r),n.toggleClass(o,i+"i-warning","warn"===r),n.toggleClass(o,i+"i-error","error"===r),e.classes.toggle("has-status","none"!==r),e.repaint()})),n.on(e.getEl("status"),"mouseleave",(function(){e.tooltip().hide()})),e.on("cancel",(function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())}));var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",(function(n){var o=n.keyCode;"INPUT"===n.target.nodeName&&(o===i.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):o===i.UP&&(n.preventDefault(),t(-1,e.menu)))})),e._super()},remove:function(){o(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})})),n(bt,[yt],(function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",(function(){t.repaintColor(t.value())}))},repaintColor:function(e){var t=this.getEl("open"),o=t?t.getElementsByTagName("i")[0]:null;if(o)try{o.style.background=e}catch(n){}},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.state.get("rendered")&&e.repaintColor(t.value)})),e._super()}})})),n(wt,[mt,Te],(function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var o=n.panel;o.type&&(o={layout:"grid",items:o}),o.role=o.role||"dialog",o.popover=!0,o.autohide=!0,o.ariaRoot=!0,e.panel=new t(o).on("hide",(function(){e.active(!1)})).on("cancel",(function(t){t.stopPropagation(),e.focus(),e.hidePanel()})).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",(function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))})),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})})),n(Ct,[wt,b],(function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,o=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",r=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return o&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(o)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(o){o.aria&&"down"==o.aria.key||o.control!=e||n.getParent(o.target,"."+e.classPrefix+"open")||(o.stopImmediatePropagation(),t.call(e,o))})),delete e.settings.onclick,e._super()}})})),n(xt,[],(function(){var e=Math.min,t=Math.max,n=Math.round;return function(o){function i(o,i,r){var a,u,d,f;if(o=(parseInt(o,10)||0)%360,i=parseInt(i,10)/100,r=parseInt(r,10)/100,i=t(0,e(i,1)),r=t(0,e(r,1)),0!==i){switch(a=o/60,d=(u=r*i)*(1-Math.abs(a%2-1)),f=r-u,Math.floor(a)){case 0:s=u,l=d,c=0;break;case 1:s=d,l=u,c=0;break;case 2:s=0,l=u,c=d;break;case 3:s=0,l=d,c=u;break;case 4:s=d,l=0,c=u;break;case 5:s=u,l=0,c=d;break;default:s=l=c=0}s=n(255*(s+f)),l=n(255*(l+f)),c=n(255*(c+f))}else s=l=c=n(255*r)}function r(e){var t;return"object"==typeof e?"r"in e?(s=e.r,l=e.g,c=e.b):"v"in e&&i(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),l=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),l=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:s>255?255:s,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,a}var a=this,s=0,l=0,c=0;o&&r(o),a.toRgb=function(){return{r:s,g:l,b:c}},a.toHsv=function(){return function(o,i,r){var a,s,l,c;return a=0,s=0,(l=e(o/=255,e(i/=255,r/=255)))==(c=t(o,t(i,r)))?{h:0,s:0,v:100*(s=l)}:(a=(c-l)/c,s=c,{h:n(60*((o==l?3:r==l?1:5)-(o==l?i-r:r==l?o-i:r-o)/(c-l))),s:n(100*a),v:n(100*s)})}(s,l,c)},a.toHex=function(){function e(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e}return"#"+e(s)+e(l)+e(c)},a.parse=r}})),n(kt,[Pe,xe,pe,xt],(function(e,t,n,o){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var o,i,r=n.getPos(e);return o=t.pageX-r.x,i=t.pageY-r.y,{x:o=Math.max(0,Math.min(o/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function i(e,t){n.css(c,{top:(360-e.h)/360*100+"%"}),t||n.css(d,{left:e.s+"%",top:100-e.v+"%"}),u.style.background=new o({s:100,v:100,h:e.h}).toHex(),f.color().parse({s:e.s,v:e.v,h:e.h})}function r(t){var n;n=e(u,t),s.s=100*n.x,s.v=100*(1-n.y),i(s),f.fire("change")}function a(t){var n;n=e(l,t),(s=h.toHsv()).h=360*(1-n.y),i(s,!0),f.fire("change")}var s,l,c,u,d,f=this,h=f.color();l=f.getEl("h"),c=f.getEl("hp"),u=f.getEl("sv"),d=f.getEl("svp"),f._repaint=function(){i(s=h.toHsv())},f._super(),f._svdraghelper=new t(f._id+"-sv",{start:r,drag:r}),f._hdraghelper=new t(f._id+"-h",{start:a,drag:a}),f._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new o),this._color},renderHtml:function(){var e,t=this,n=t._id,o=t.classPrefix,i="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+o+'colorpicker-h" style="background: -ms-linear-gradient(top,'+i+");background: linear-gradient(to bottom,"+i+');">'+function(){var e,t,n,r,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(r=i.split(",")).length-1;e<t;e++)a+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+r[e]+",endColorstr="+r[e+1]+");-ms-"+n+r[e]+",endColorstr="+r[e+1]+')"></div>';return a}()+'<div id="'+n+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})})),n(Et,[Pe],(function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="Â»"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",(function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})})),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",(function(t){e.innerHtml(e._getDataPathHtml(t.value))})),e._super()},_getDataPathHtml:function(e){var t,n,o=this,i=e||[],r="",a=o.classPrefix;for(t=0,n=i.length;t<n;t++)r+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+o.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+o._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";return r||(r='<div class="'+a+'path-item">Â </div>'),r}})})),n(St,[Et],(function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",(function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()})),n.on("nodeChange",(function(o){for(var i=[],r=o.parents,a=r.length;a--;)if(1==r[a].nodeType&&!e(r[a])){var s=n.fire("ResolveName",{name:r[a].nodeName.toLowerCase(),target:r[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:r[a]}),s.isPropagationStopped())break}t.row(i)}))),t._super()}})})),n(_t,[Ce],(function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})})),n(Tt,[Ce,_t,f],(function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,o=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),o.each((function(o){var i,r=o.settings.label;r&&((i=new t(n.extend({items:{type:"label",id:o._id+"-l",text:r,flex:0,forId:o._id,disabled:o.disabled()}},e.settings.formItemDefaults))).type="formitem",o.aria("labelledby",o._id+"-l"),void 0===o.settings.flex&&(o.settings.flex=1),e.replace(o,i),i.add(o))}))},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,o=0,i=[];if(!1!==t.settings.labelGapCalc)for(("children"==t.settings.labelGapCalc?t.find("formitem"):t.items()).filter("formitem").each((function(e){var t=e.items()[0],n=t.getEl().clientWidth;o=n>o?n:o,i.push(t)})),n=t.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=o+n}var t=this;t._super(),t.on("show",e),e()}})})),n(Nt,[Tt],(function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})})),n(At,[b,M,d,tt,f,x],(function(e,t,n,o,i,r){var a=i.trim,s=function(e,t,n,o,i){return{type:e,title:t,url:n,level:o,attach:i}},l=function(t,n){return e.DOM.select(t,n)},c=function(e){return e.innerText||e.textContent},u=function(e){return function(e){return e&&"A"===e.nodeName&&(e.id||e.name)}(e)&&f(e)},d=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},f=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return r.isContentEditableTrue(e)}return!1}(e)&&!r.isContentEditableFalse(e)},h=function(e){return d(e)&&f(e)},p=function(e){var t=function(e){return e.id?e.id:o.uuid("h")}(e);return s("header",c(e),"#"+t,function(e){return d(e)?parseInt(e.nodeName.substr(1),10):0}(e),(function(){e.id=t}))},m=function(e){var n=e.id||e.name,o=c(e);return s("anchor",o||"#"+n,"#"+n,0,t.noop)},g=function(e){return a(e.title).length>0};return{find:function(e){var t=function(e){return l("h1,h2,h3,h4,h5,h6,a:not([href])",e)}(e);return n.filter(function(e){return n.map(n.filter(e,h),p)}(t).concat(function(e){return n.map(n.filter(e,u),m)}(t)),g)}}})),n(Rt,[yt,f,d,M,L,At],(function(e,t,n,o,i,r){var a={},s=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},l=function(e){return t.map(e,s)},c=function(e,t){return{title:e,value:{title:e,url:t,attach:o.noop}}},u=function(e,t,n){var o=t in e?e[t]:n;return!1===o?null:o},d=function(e,i,r,s){var d={title:"-"},f=function(e){var a=n.filter(e[r],(function(e){return function(e,t){return!n.find(t,(function(t){return t.url===e}))}(e,i)}));return t.map(a,(function(e){return{title:e,value:{title:e,url:e,attach:o.noop}}}))},p=function(e){var t=n.filter(i,(function(t){return t.type==e}));return l(t)};return!1===s.typeahead_urls?[]:"file"===r?function(e){return n.reduce(e,(function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(d,t)}),[])}([h(e,f(a)),h(e,p("header")),h(e,function(){var e=p("anchor"),t=u(s,"anchor_top","#top"),n=u(s,"anchor_bottom","#bottom");return null!==t&&e.unshift(c("<top>",t)),null!==n&&e.push(c("<bottom>",n)),e}())]):h(e,f(a))},f=function(e,t){var o=a[t];/^https?/.test(e)&&(o?-1===n.indexOf(o,e)&&(a[t]=o.slice(0,5).concat(e)):a[t]=[e])},h=function(e,n){var o=e.toLowerCase(),i=t.grep(n,(function(e){return-1!==e.title.toLowerCase().indexOf(o)}));return 1===i.length&&i[0].title===e?[]:i},p=function(e,t,n,o){var i=function(i){var a=r.find(n),s=d(i,a,o,t);e.showAutoComplete(s,i)};e.on("autocomplete",(function(){i(e.value())})),e.on("selectitem",(function(t){var n=t.value;e.value(n.url);var i=function(e){var t=e.title;return t.raw?t.raw:t}(n);e.fire("change","image"===o?{meta:{alt:i,attach:n.attach}}:{meta:{text:i,attach:n.attach}}),e.focus()})),e.on("click",(function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&i("")})),e.on("PostRender",(function(){e.getRoot().on("submit",(function(t){t.isDefaultPrevented()||f(e.value(),o)}))}))};return e.extend({init:function(e){var n,o,i,r=this,a=tinymce.activeEditor,s=a.settings,l=e.filetype;e.spellcheck=!1,(i=s.file_picker_types||s.file_browser_callback_types)&&(i=t.makeMap(i,/[, ]/)),i&&!i[l]||(!(o=s.file_picker_callback)||i&&!i[l]?!(o=s.file_browser_callback)||i&&!i[l]||(n=function(){o(r.getEl("inp").id,r.value(),l,window)}):n=function(){var e=r.fire("beforecall").meta;e=t.extend({filetype:l},e),o.call(a,(function(e,t){r.value(e).fire("change",{meta:t})}),r.value(),e)}),n&&(e.icon="browse",e.onaction=n),r._super(e),p(r,s,a.getBody(),l),function(e,t,n){var o=t.filepicker_validator_handler;if(o){var i=function(t){return 0===t.length?void e.statusLevel("none"):void o({url:t,type:n},(function(t){var n=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t||"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}}(t);e.statusMessage(n.message),e.statusLevel(n.status)}))};e.state.on("change:value",(function(e){i(e.value)}))}}(r,s,l)}})})),n(Dt,[pt],(function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each((function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()}))}})})),n(Pt,[pt],(function(e){return e.extend({recalc:function(e){var t,n,o,i,r,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w,C,x,k,E,S,_,T,N,A,R,D,P,B,I,L,O,M,H=[],F=Math.max,$=Math.min;for(o=e.items().filter(":visible"),i=e.layoutRect(),r=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(o=o.set(o.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",x="h",k="minH",S="maxH",T="innerH",_="top",N="deltaH",A="contentH",I="left",P="w",R="x",D="innerW",B="minW",L="right",O="deltaW",M="contentW"):(E="x",x="w",k="minW",S="maxW",T="innerW",_="left",N="deltaW",A="contentW",I="top",P="h",R="y",D="innerH",B="minH",L="bottom",O="deltaH",M="contentH"),d=i[T]-r[_]-r[_],C=u=0,t=0,n=o.length;t<n;t++)p=(h=o[t]).layoutRect(),d-=t<n-1?c:0,(m=h.settings.flex)>0&&(u+=m,p[S]&&H.push(h),p.flex=m),d-=p[k],(g=r[I]+p[B]+r[L])>C&&(C=g);if((b={})[k]=d<0?i[k]-d+i[N]:i[T]-d+i[N],b[B]=C+i[O],b[A]=i[T]-d,b[M]=C,b.minW=$(b.minW,i.maxW),b.minH=$(b.minH,i.maxH),b.minW=F(b.minW,i.startMinWidth),b.minH=F(b.minH,i.startMinHeight),!i.autoResize||b.minW==i.minW&&b.minH==i.minH){for(y=d/u,t=0,n=H.length;t<n;t++)(g=(p=(h=H[t]).layoutRect())[k]+p.flex*y)>(v=p[S])?(d-=p[S]-p[k],u-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=d/u,w=r[_],b={},0===u&&("end"==l?w=d+r[_]:"center"==l?(w=Math.round(i[T]/2-(i[T]-d)/2)+r[_])<0&&(w=r[_]):"justify"==l&&(w=r[_],c=Math.floor(d/(o.length-1)))),b[R]=r[I],t=0,n=o.length;t<n;t++)g=(p=(h=o[t]).layoutRect()).maxFlexSize||p[k],"center"===s?b[R]=Math.round(i[D]/2-p[P]/2):"stretch"===s?(b[P]=F(p[B]||0,i[D]-r[I]-r[L]),b[R]=r[I]):"end"===s&&(b[R]=i[D]-p[P]-r.top),p.flex>0&&(g+=p.flex*y),b[x]=g,b[E]=w,h.layoutRect(b),h.recalc&&h.recalc(),w+=g+c}else if(b.w=b.minW,b.h=b.minH,e.layoutRect(b),this.recalc(e),null===e._lastRect){var j=e.parent();j&&(j._lastRect=null,j.recalc())}}})})),n(Bt,[ht],(function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each((function(e){e.recalc&&e.recalc()}))},isNative:function(){return!0}})})),n(It,[b],(function(e){var n=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return""},o=function(t,n){return e.DOM.getStyle(n,t,!0)};return{getFontSize:function(e,t){var i=n("fontSize",e,t);return""!==i?i:o("fontSize",t)},getFontFamily:function(e,i){var r=n("fontFamily",e,i),a=""!==r?r:o("fontFamily",i);return a!==t?function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(a):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}})),n(Lt,[ye,Pe,Te,f,d,b,at,l,It],(function(e,t,n,o,i,r,a,s,l){function c(t){t.on("ScriptsLoaded",(function(){t.rtl&&(e.rtl=!0)}))}var u=o.each,d=function(e){return i.reduce(e,(function(e,t){return e.concat(t)}),[])};a.on("AddEditor",(function(e){var t=e.editor;c(t),function(e){function t(t,n){return function(){var o=this;e.on("nodeChange",(function(i){var r=e.formatter,a=null;u(i.parents,(function(e){if(u(t,(function(t){if(n?r.matchNode(e,n,{value:t.value})&&(a=t.value):r.matchNode(e,t.value)&&(a=t.value),a)return!1})),a)return!1})),o.value(a)}))}}function i(t){return function(){var n=this,o=function(e){return e?e.split(",")[0]:""};e.on("nodeChange",(function(i){var r,a=null;r=l.getFontFamily(e.getBody(),i.element),u(t,(function(e){e.value.toLowerCase()===r.toLowerCase()&&(a=e.value)})),u(t,(function(e){a||o(e.value).toLowerCase()!==o(r).toLowerCase()||(a=e.value)})),n.value(a),!a&&r&&n.text(o(r))}))}}function r(t){return function(){var n=this;e.on("nodeChange",(function(o){var i,r,a=null;i=l.getFontSize(e.getBody(),o.element),r=l.toPt(i),u(t,(function(e){e.value===i?a=i:e.value===r&&(a=r)})),n.value(a),a||n.text(r)}))}}function a(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function s(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,(function(e){n.active(e)})):e.on("init",(function(){e.formatter.formatChanged(t,(function(e){n.active(e)}))}))}}function c(t){return function(){function n(){return!!e.undoManager&&e.undoManager["redo"==t?"hasRedo":"hasUndo"]()}var o=this;o.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(){o.disabled(e.readonly||!n())}))}}function f(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}function h(t){var n=t.length;return o.each(t,(function(t){t.menu&&(t.hidden=0===h(t.menu));var o=t.format;o&&(t.hidden=!e.formatter.canApply(o)),t.hidden&&n--})),n}var p;p=function(){var t=0,n=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",(function(){u(n,(function(t){e.formatter.register(t.name,t)}))})),{type:"menu",items:function e(o){var i=[];if(o)return u(o,(function(o){var r={text:o.title,icon:o.icon};if(o.items)r.menu=e(o.items);else{var a=o.format||"custom"+t++;o.format||(o.name=a,n.push(o)),r.format=a,r.cmd=o.cmd}i.push(r)})),i}(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",(function(){var n,o;(n=t.settings.format)&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(o=t.settings.cmd)&&t.active(e.queryCommandState(o))}))},onclick:function(){this.settings.format&&f(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}(),u({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},(function(t,n){e.addButton(n,{tooltip:t,onPostRender:s(n),onclick:function(){f(n)}})})),u({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},(function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})})),u({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},(function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:s(n)})}));var m=function(t){var n,i;if("string"==typeof t)i=t.split(" ");else if(o.isArray(t))return d(o.map(t,m));return n=o.grep(i,(function(t){return"|"===t||t in e.menuItems})),o.map(n,(function(t){return"|"===t?{text:"-"}:e.menuItems[t]}))},g=function(t){var n=[{text:"-"}],i=o.grep(e.menuItems,(function(e){return e.context===t}));return o.each(i,(function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})})),n};e.addButton("undo",{tooltip:"Undo",onPostRender:c("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:c("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:c("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:c("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var t=this;e.on("VisualAid",(function(e){t.active(e.hasVisual)})),t.active(e.hasVisual)},cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(function(e){return function(e){var t=e;return t.length>0&&"-"===t[0].text&&(t=t.slice(1)),t.length>0&&"-"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t}(e.insert_button_items?m(e.insert_button_items):g("insert"))}(e.settings)),this.menu.renderNew()}}),u({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},(function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})})),e.on("mousedown",(function(){n.hideAll()})),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:p,onShowMenu:function(){e.settings.style_formats_autohide&&function t(n){var o=n.items().length;return n.items().each((function(n){n.menu&&n.visible(t(n.menu)>0),!n.menu&&n.settings.menu&&n.visible(h(n.settings.menu)>0);var i=n.settings.format;i&&n.visible(e.formatter.canApply(i)),n.visible()||o--})),o}(this.menu)}}),e.addButton("formatselect",(function(){var n=[],o=a(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return u(o,(function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})})),{type:"listbox",text:o[0][0],values:n,fixedWidth:!0,onselect:f,onPostRender:t(n)}})),e.addButton("fontselect",(function(){var t=[],n=a(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return u(n,(function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})})),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:i(t),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})),e.addButton("fontsizeselect",(function(){var t=[];return u((e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),(function(e){var n=e,o=e,i=e.split("=");i.length>1&&(n=i[0],o=i[1]),t.push({text:n,value:o})})),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:r(t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})),e.addMenuItem("formats",{text:"Formats",menu:p})}(t),function(e){e.settings.ui_container&&(s.container=r.DOM.select(e.settings.ui_container)[0])}(t)})),e.translate=function(e){return a.translate(e)},t.tooltips=!s.iOS})),n(Ot,[pt],(function(e){return e.extend({recalc:function(e){var t,n,o,i,r,a,s,l,c,u,d,f,h,p,m,g,v,y,b,w,C,x,k,E,S,_,T,N,A=[],R=[];t=e.settings,i=e.items().filter(":visible"),r=e.layoutRect(),o=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/o),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,w=t.alignH||t.align,C=t.alignV||t.align,g=e.paddingBox,N="reverseRows"in t?t.reverseRows:e.isRtl(),w&&"string"==typeof w&&(w=[w]),C&&"string"==typeof C&&(C=[C]);for(d=0;d<o;d++)A.push(0);for(f=0;f<n;f++)R.push(0);for(f=0;f<n;f++)for(d=0;d<o&&(u=i[f*o+d]);d++)S=(c=u.layoutRect()).minH,A[d]=(E=c.minW)>A[d]?E:A[d],R[f]=S>R[f]?S:R[f];for(_=r.innerW-g.left-g.right,x=0,d=0;d<o;d++)x+=A[d]+(d>0?y:0),_-=(d>0?y:0)+A[d];for(T=r.innerH-g.top-g.bottom,k=0,f=0;f<n;f++)k+=R[f]+(f>0?b:0),T-=(f>0?b:0)+R[f];if(k+=g.top+g.bottom,(l={}).minW=(x+=g.left+g.right)+(r.w-r.innerW),l.minH=k+(r.h-r.innerH),l.contentW=l.minW-r.deltaW,l.contentH=l.minH-r.deltaH,l.minW=Math.min(l.minW,r.maxW),l.minH=Math.min(l.minH,r.maxH),l.minW=Math.max(l.minW,r.startMinWidth),l.minH=Math.max(l.minH,r.startMinHeight),!r.autoResize||l.minW==r.minW&&l.minH==r.minH){var D;r.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-r.deltaW,l.contentH=l.minH-r.deltaH),D="start"==t.packV?0:T>0?Math.floor(T/n):0;var P=0,B=t.flexWidths;if(B)for(d=0;d<B.length;d++)P+=B[d];else P=o;var I=_/P;for(d=0;d<o;d++)A[d]+=B?B[d]*I:I;for(p=g.top,f=0;f<n;f++){for(h=g.left,s=R[f]+D,d=0;d<o&&(u=i[N?f*o+o-1-d:f*o+d]);d++)m=u.settings,c=u.layoutRect(),a=Math.max(A[d],c.startMinWidth),c.x=h,c.y=p,"center"==(v=m.alignH||(w?w[d]||w[0]:null))?c.x=h+a/2-c.w/2:"right"==v?c.x=h+a-c.w:"stretch"==v&&(c.w=a),"center"==(v=m.alignV||(C?C[d]||C[0]:null))?c.y=p+s/2-c.h/2:"bottom"==v?c.y=p+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),h+=a+y,u.recalc&&u.recalc();p+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var L=e.parent();L&&(L._lastRect=null,L.recalc())}}})})),n(Mt,[Pe,s],(function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var o=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout((function(){o.html(e)})),this}})})),n(Ht,[Pe],(function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e.state.on("change:help",(function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}})})),n(Ft,[Pe,pe],(function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();return e.settings.multiline&&(t.getSize(e.getEl()).width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)),n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,o=n.settings.forId;return!o&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(o=e._id),o?'<label id="'+n._id+'" class="'+n.classes+'"'+(o?' for="'+o+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",(function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()})),e._super()}})})),n($t,[Ce],(function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each((function(e){e.classes.add("toolbar-item")})),this._super()}})})),n(jt,[$t],(function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})})),n(zt,[mt,be,jt],(function(e,t,n){var o=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var n,o=this;return o.menu&&o.menu.visible()&&!1!==e?o.hideMenu():(o.menu||((n=o.state.get("menu")||[]).length?n={type:"menu",items:n}:n.type=n.type||"menu",o.menu=n.renderTo?n.parent(o).show().renderTo():t.create(n).parent(o).renderTo(),o.fire("createmenu"),o.menu.reflow(),o.menu.on("cancel",(function(e){e.control.parent()===o.menu&&(e.stopPropagation(),o.focus(),o.hideMenu())})),o.menu.on("select",(function(){o.focus()})),o.menu.on("show hide",(function(e){e.control==o.menu&&o.activeMenu("show"==e.type),o.aria("expanded","show"==e.type)})).fire("show")),o.menu.show(),o.menu.layoutRect({w:o.layoutRect().w}),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void o.fire("showmenu"))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,o=t._id,i=t.classPrefix,r=t.settings.icon,a=t.state.get("text"),s="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(t.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+t.encode(a)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof n?"menuitem":"button"),'<div id="'+o+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+o+'"><button id="'+o+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+s+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",(function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())})),e.on("mouseenter",(function(t){var n,i=t.control,r=e.parent();i&&r&&i instanceof o&&i.parent()==r&&(r.items().filter("MenuButton").each((function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())})),n&&(i.focus(),i.showMenu()))})),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",(function(){e.menu&&e.menu.remove(),e.menu=null})),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o})),n(Ut,[Pe,be,l,s],(function(e,t,n,o){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",(function(e){e.preventDefault()})),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,o=n.settings,i=n.parent();if(i.items().each((function(e){e!==n&&e.hideMenu()})),o.menu){(e=n.menu)?e.show():((e=o.menu).length?e={type:"menu",items:e}:e.type=e.type||"menu",i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),(e=n.menu=t.create(e).parent(n).renderTo()).reflow(),e.on("cancel",(function(t){t.stopPropagation(),n.focus(),e.hide()})),e.on("show hide",(function(e){e.control.items&&e.control.items().each((function(e){e.active(e.settings.selected)}))})).fire("show"),e.on("hide",(function(t){t.control===e&&n.classes.remove("selected")})),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var r=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),r),e.rel=r,r="menu-sub-"+r,e.classes.remove(e._lastRel).add(r),e._lastRel=r,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each((function(e){e.hideMenu&&e.hideMenu()})),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(t){var n=s.match||"";return n?t.replace(new RegExp(e(n),"gi"),(function(e){return"!mce~match["+e+"]mce~match!"})):t}function o(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var i,r=this,a=r._id,s=r.settings,l=r.classPrefix,c=r.state.get("text"),u=r.settings.icon,d="",f=s.shortcut,h=r.encode(s.url);return u&&r.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),f&&(f=function(e){var t,o,i;for(i=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(o=i[e[t].toLowerCase()])&&(e[t]=o);return e.join("+")}(f)),u=l+"ico "+l+"i-"+(r.settings.icon||"none"),i="-"!==c?'<i class="'+u+'"'+d+"></i>Â ":"",c=o(r.encode(t(c))),h=o(r.encode(t(h))),'<div id="'+a+'" class="'+r.classes+'" tabindex="-1">'+i+("-"!==c?'<span id="'+a+'-text" class="'+l+'text">'+c+"</span>":"")+(f?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+f+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(h?'<div class="'+l+'menu-item-link">'+h+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",(function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),o.requestAnimationFrame((function(){e.parent().hideAll()}))))})),e._super(),e},hover:function(){var e=this;return e.parent().items().each((function(e){e.classes.remove("selected")})),e.classes.toggle("selected",!0),e},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})})),n(Wt,[h,ye,s],(function(e,t,n){return function(o,i){var r,a,s=this,l=t.classPrefix;s.show=function(t,c){function u(){r&&(e(o).append('<div class="'+l+"throbber"+(i?" "+l+"throbber-inline":"")+'"></div>'),c&&c())}return s.hide(),r=!0,t?a=n.setTimeout(u,t):u(),s},s.hide=function(){var e=o.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),r=!1,s}}})),n(qt,[Te,Ut,Wt,f],(function(e,t,n,o){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=o.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function e(){o.throbber&&(o.throbber.hide(),o.throbber=null)}var t,o=this;o.settings.itemsFactory&&(o.throbber||(o.throbber=new n(o.getEl("body"),!0),0===o.items().length?(o.throbber.show(),o.fire("loading")):o.throbber.show(100,(function(){o.items().remove(),o.fire("loading")})),o.on("hide close",e)),o.requestTime=t=(new Date).getTime(),o.settings.itemsFactory((function(n){return 0===n.length?void o.hide():void(o.requestTime===t&&(o.getEl().style.width="",o.getEl("body").style.width="",e(),o.items().remove(),o.getEl("body").innerHTML="",o.add(n),o.renderNew(),o.fire("loaded")))})))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each((function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1})),e.settings.itemsFactory&&e.on("postrender",(function(){e.settings.itemsFactory&&e.load()})),e._super()}})})),n(Vt,[zt,qt],(function(e,t){return e.extend({init:function(e){var t,n,o,i,r=this;r._super(e),r._values=t=(e=r.settings).values,t&&(void 0!==e.value&&function t(i){for(var a=0;a<i.length;a++){if(n=i[a].selected||e.value===i[a].value)return o=o||i[a].text,r.state.set("value",i[a].value),!0;if(i[a].menu&&t(i[a].menu))return!0}}(t),!n&&t.length>0&&(o=t[0].text,r.state.set("value",t[0].value)),r.state.set("menu",t)),r.state.set("text",e.text||o),r.classes.add("listbox"),r.on("select",(function(t){var n=t.control;i&&(t.lastControl=i),e.multiple?n.active(!n.active()):r.value(t.control.value()),i=n}))},bindStates:function(){function e(e,n){e instanceof t&&e.items().each((function(e){e.hasMenus()||e.active(e.value()===n)}))}var n=this;return n.on("show",(function(t){e(t.control,n.value())})),n.state.on("change:value",(function(e){var t=function e(t,n){var o;if(t)for(var i=0;i<t.length;i++){if(t[i].value===n)return t[i];if(t[i].menu&&(o=e(t[i].menu,n)))return o}}(n.state.get("menu"),e.value);n.text(t?t.text:n.settings.text)})),n._super()}})})),n(Kt,[vt],(function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})})),n(Yt,[Pe,xe],(function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})})),n(Xt,[Pe],(function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",(function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))}))},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n=this,o="";return e=t(n._options),n.size&&(o=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+o+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",(function(n){e.getEl().innerHTML=t(n.value)})),e._super()}})})),n(Gt,[Pe,xe,pe],(function(e,t,n){function o(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute("aria-"+t,n)}function r(e,t){var o,r,a,s,l;"v"==e.settings.orientation?(s="top",a="height",r="h"):(s="left",a="width",r="w"),l=e.getEl("handle"),o=(e.layoutRect()[r]||100)-n.getSize(l)[a],l.style[s]=o*((t-e._minValue)/(e._maxValue-e._minValue))+"px",l.style.height=e.layoutRect().h+"px",i(l,"valuenow",t),i(l,"valuetext",""+e.settings.previewFilter(t)),i(l,"valuemin",e._minValue),i(l,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+e.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,i,r,a,s,l,c=this;e=c._minValue,i=c._maxValue,"v"==c.settings.orientation?(r="screenY",a="top",s="height",l="h"):(r="screenX",a="left",s="width",l="w"),c._super(),function(e,t){function n(n){var i;i=c.value(),i=o(i=function(e,t,n){return n*(t-e)-e}(e,t,function(e,t,n){return(n+e)/(t-e)}(e,t,i)+.05*n),e,t),c.value(i),c.fire("dragstart",{value:i}),c.fire("drag",{value:i}),c.fire("dragend",{value:i})}c.on("keydown",(function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}}))}(e,i,c.getEl("handle")),function(e,i,u){var d,f,h,p,m;c._dragHelper=new t(c._id,{handle:c._id+"-handle",start:function(e){d=e[r],f=parseInt(c.getEl("handle").style[a],10),h=(c.layoutRect()[l]||100)-n.getSize(u)[s],c.fire("dragstart",{value:m})},drag:function(t){p=o(f+(t[r]-d),0,h),u.style[a]=p+"px",c.value(m=e+p/h*(i-e)),c.tooltip().text(""+c.settings.previewFilter(m)).show().moveRel(u,"bc tc"),c.fire("drag",{value:m})},stop:function(){c.tooltip().hide(),c.fire("dragend",{value:m})}})}(e,i,c.getEl("handle"))},repaint:function(){this._super(),r(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){r(e,t.value)})),e._super()}})})),n(Qt,[Pe],(function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})})),n(Jt,[zt,pe,h],(function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,o=this,i=o.getEl(),r=o.layoutRect();return o._super(),e=i.lastChild,n(i.firstChild).css({width:r.w-t.getSize(e).width,height:r.h-2}),n(e).css({height:r.h-2}),o},activeMenu:function(e){n(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,o=t.classPrefix,i=t.state.get("icon"),r=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=t.settings.icon?o+"ico "+o+"i-"+i:"",r&&(t.classes.add("btn-has-text"),a='<span class="'+o+'txt">'+t.encode(r)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(i?"Â ":"")+t._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",(function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}})),delete e.settings.onclick,e._super()}})})),n(Zt,[Bt],(function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})})),n(en,[Ee,h,pe],(function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each((function(t,n){e!=n&&t.hide()}))},renderHtml:function(){var e=this,t=e._layout,n="",o=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each((function(t,i){var r=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",r),n+='<div id="'+r+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"})),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+o+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",(function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var o=n.childNodes.length;o--;)n.childNodes[o]==t.target&&e.activateTab(o)}))},initLayoutRect:function(){var e,t,o,i=this;t=(t=n.getSize(i.getEl("head")).width)<0?0:t,o=0,i.items().each((function(e){t=Math.max(t,e.layoutRect().minW),o=Math.max(o,e.layoutRect().minH)})),i.items().each((function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=o,e.layoutRect({x:0,y:0,w:t,h:o})}));var r=n.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=o+r,(e=i._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e}})})),n(tn,[Pe,f,pe],(function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",(function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each((function(e){if(e.toJSON)return n=e,!1})),t.fire("submit",{data:n.toJSON()}))})),t.on("keyup",(function(e){t.state.set("value",e.target.value)})))},repaint:function(){var e,t,n,o,i,r=this,a=0;e=r.getEl().style,t=r._layoutRect,i=r._lastRepaintRect||{};var s=document;return!r.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),o=(n=r.borderBox).left+n.right+8,a=n.top+n.bottom+(r.settings.multiline?8:0),t.x!==i.x&&(e.left=t.x+"px",i.x=t.x),t.y!==i.y&&(e.top=t.y+"px",i.y=t.y),t.w!==i.w&&(e.width=t.w-o+"px",i.w=t.w),t.h!==i.h&&(e.height=t.h-a+"px",i.h=t.h),r._lastRepaintRect=i,r.fire("repaint",{},!1),r},renderHtml:function(){var e,o,i=this,r=i.settings;return e={id:i._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],(function(t){e[t]=r[t]})),i.disabled()&&(e.disabled="disabled"),r.subtype&&(e.type=r.subtype),(o=n.create(r.multiline?"textarea":"input",e)).value=i.state.get("value"),o.className=i.classes,o.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",(function(t){e.state.set("value",t.target.value),e.fire("change",t)}))},bindStates:function(){var e=this;return e.state.on("change:value",(function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)})),e.state.on("change:disabled",(function(t){e.getEl().disabled=t.value})),e._super()},remove:function(){this.$el.off(),this._super()}})})),n("tinymce/Register",[],(function(){var e=this||window;return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],(function(){return e.tinymce}))),"object"==typeof module&&(module.exports=window.tinymce),{}})),function(n){var o,r,a,s,l;for(o=0;o<n.length;o++){r=e,s=(a=n[o]).split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=i[a]}if(e.AMDLC_TESTS){for(a in l=e.privateModules||{},i)l[a]=i[a];for(o=0;o<n.length;o++)delete l[n[o]];e.privateModules=l}}([r,a,s,l,c,u,f,h,p,m,v,b,w,C,S,T,N,A,R,D,P,B,L,O,U,W,Y,J,re,ae,se,le,ue,fe,he,ve,ye,be,we,Ce,xe,ke,Ee,Se,_e,Te,Ne,Ae,Re,De,Pe,Be,Ie,Le,He,$e,ot,it,rt,at,st,lt,ct,ut,dt,ft,ht,pt,mt,gt,vt,yt,bt,wt,Ct,xt,kt,Et,St,_t,Tt,Nt,Rt,Dt,Pt,Bt,Lt,Ot,Mt,Ht,Ft,$t,jt,zt,Ut,Wt,qt,Vt,Kt,Yt,Xt,Gt,Qt,Jt,Zt,en,tn])}(window),function(){var e={},t=function(t){for(var o=e[t],i=o.deps,r=o.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=n(i[l]);var c=r.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";o.instance=c},n=function(n){var o=e[n];if(void 0===o)throw"module ["+n+"] was undefined";return void 0===o.instance&&t(n),o.instance},o=function(t,n,o){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===o)throw"no definition function for "+t;e[t]={deps:n,defn:o,instance:void 0}},i=function(e,t){o(e,[],(function(){return t}))};i("1",tinymce.Env),i("2",tinymce.EditorManager),i("3",tinymce.ThemeManager),i("8",tinymce.util.Tools),i("9",tinymce.ui.Factory),i("a",tinymce.DOM),o("b",["8","9"],(function(e,t){var n=function(n,o,i){var r,a=[];if(o)return e.each(o.split(/[ ,]/),(function(e){var o=function(){var t=n.selection;e.settings.stateSelector&&t.selectorChanged(e.settings.stateSelector,(function(t){e.active(t)}),!0),e.settings.disabledStateSelector&&t.selectorChanged(e.settings.disabledStateSelector,(function(t){e.disabled(t)}))};"|"==e?r=null:t.has(e)?(a.push(e={type:e,size:i}),r=null):(r||a.push(r={type:"buttongroup",items:[]}),n.buttons[e]&&("function"==typeof(e=n.buttons[e])&&(e=e()),e.type=e.type||"button",e.size=i,e=t.create(e),r.items.push(e),n.initialized?o():n.on("init",o)))})),{type:"toolbar",layout:"flow",items:a}};return{createToolbar:n,createToolbars:function(t,o){var i=[],r=t.settings,a=function(e){if(e)return i.push(n(t,e,o)),!0};if(e.isArray(r.toolbar)){if(0===r.toolbar.length)return;e.each(r.toolbar,(function(e,t){r["toolbar"+(t+1)]=e})),delete r.toolbar}for(var s=1;s<10&&a(r["toolbar"+s]);s++);if(i.length||!1===r.toolbar||a(r.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),i.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}}}})),o("c",["8"],(function(e){var t={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n=function(e,t){return"|"==t?{text:"|"}:e[t]},o=function(o,i,r){var a,s,l,c,u;if(u=e.makeMap((i.removed_menuitems||"").split(/[ ,]/)),i.menu?(s=i.menu[r],c=!0):s=t[r],s){a={text:s.title},l=[],e.each((s.items||"").split(/[ ,]/),(function(e){n(o,e)&&!u[e]&&l.push(n(o,e))})),c||e.each(o,(function(e){e.context==r&&("before"==e.separator&&l.push({text:"|"}),e.prependToContext?l.unshift(e):l.push(e),"after"==e.separator&&l.push({text:"|"}))}));for(var d=0;d<l.length;d++)"|"==l[d].text&&(0!==d&&d!=l.length-1||l.splice(d,1));if(a.menu=l,!a.menu.length)return null}return a};return{createMenuButtons:function(e){var n,i=[],r=e.settings,a=[];if(r.menu)for(n in r.menu)a.push(n);else for(n in t)a.push(n);for(var s="string"==typeof r.menubar?r.menubar.split(/[ ,]/):a,l=0;l<s.length;l++){var c=s[l];(c=o(e.menuItems,e.settings,c))&&i.push(c)}return i}}})),i("j",tinymce.util.Delay),i("k",tinymce.geom.Rect),o("d",["a","8","j","b","9","k"],(function(e,t,n,o,i,r){var a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},s=function(e){t.each(e.contextToolbars,(function(e){e.panel&&e.panel.hide()}))},l=function(e,t){e.moveTo(t.left,t.top)},c=function(e,n,o){n=n?n.substr(0,2):"",t.each({t:"down",b:"up"},(function(t,i){e.classes.toggle("arrow-"+t,o(i,n.substr(0,1)))})),t.each({l:"left",r:"right"},(function(t,i){e.classes.toggle("arrow-"+t,o(i,n.substr(1,1)))}))},u=function(e,t,n,o,i,r){return r=a({x:t,y:n,w:r.w,h:r.h}),e&&(r=e({elementRect:a(o),contentAreaRect:a(i),panelRect:r})),r};return{addContextualToolbars:function(a){var d,f=a.settings,h=function(){return a.contextToolbars||[]},p=function(t,n){var o,i,d,h,p,m,g,v=f.inline_toolbar_position_handler;if(!a.removed){if(!t||!t.toolbar.panel)return void s(a);g=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],p=t.toolbar.panel,n&&p.show(),d=function(t){var n,o,i;return n=e.getPos(a.getContentAreaContainer()),o=a.dom.getRect(t),"BODY"===(i=a.dom.getRoot()).nodeName&&(o.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft,o.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop),o.x+=n.x,o.y+=n.y,o}(t.element),i=e.getRect(p.getEl()),h=e.getRect(a.getContentAreaContainer()||a.getBody()),"inline"!==e.getStyle(t.element,"display",!0)&&(d.w=t.element.clientWidth,d.h=t.element.clientHeight),a.inline||(h.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(t.element)&&d.w<25&&(d=r.inflate(d,0,8)),o=r.findBestRelativePosition(i,d,h,g),d=r.clamp(d,h),o?(m=r.relativePosition(i,d,o),l(p,u(v,m.x,m.y,d,h,i))):(h.h+=i.h,(d=r.intersect(h,d))?(o=r.findBestRelativePosition(i,d,h,["bc-tc","bl-tl","br-tr"]))?(m=r.relativePosition(i,d,o),l(p,u(v,m.x,m.y,d,h,i))):l(p,u(v,d.x,d.y,d,h,i)):p.hide()),c(p,o,(function(e,t){return e===t}))}},m=function(e){return function(){n.requestAnimationFrame((function(){a.selection&&p(y(a.selection.getNode()),e)}))}},g=function(){d||(d=a.selection.getScrollContainer()||a.getWin(),e.bind(d,"scroll",m(!0)),a.on("remove",(function(){e.unbind(d,"scroll")})))},v=function(){t.each(h(),(function(e){e.panel&&e.panel.hide()}))},y=function(e){var t,n,o,i=h();for(t=(o=a.$(e).parents().add(e)).length-1;t>=0;t--)for(n=i.length-1;n>=0;n--)if(i[n].predicate(o[t]))return{toolbar:i[n],element:o[t]};return null};a.on("click keyup setContent ObjectResized",(function(e){("setcontent"!==e.type||e.selection)&&n.setEditorTimeout(a,(function(){var e;(e=y(a.selection.getNode()))?(v(),function(e){var t;e.toolbar.panel?(e.toolbar.panel.show(),p(e)):(g(),t=i.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:o.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus()}}),e.toolbar.panel=t,t.renderTo(document.body).reflow(),p(e))}(e)):v()}))})),a.on("blur hide contextmenu",v),a.on("ObjectResizeStart",(function(){var e=y(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()})),a.on("ResizeEditor ResizeWindow",m(!0)),a.on("nodeChange",m(!1)),a.on("remove",(function(){t.each(h(),(function(e){e.panel&&e.panel.remove()})),a.contextToolbars={}})),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",(function(){var e=y(a.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()}))}}})),o("e",[],(function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}};return{addKeys:function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",(function(){t.focus()}))}}})),o("f",["8","9","1"],(function(e,t,n){var o=function(e,t,n){var o=e.settings[n];o&&o(function(e){return{element:function(){return e}}}(t.getEl("body")))},i=function(t,n,i){e.each(i,(function(e){var i=n.items().filter("#"+e.name)[0];i&&i.visible()&&e.name!==t&&(o(e,i,"onhide"),i.visible(!1))}))},r=function(t,n){return e.grep(t,(function(e){return e.name===n}))[0]},a=function(e,n,a){return function(s){var l=s.control,c=l.parents().filter("panel")[0],u=c.find("#"+n)[0],d=r(a,n);i(n,c,a),function(e){e.items().each((function(e){e.active(!1)}))}(l.parent()),u&&u.visible()?(o(d,u,"onhide"),u.hide(),l.active(!1)):(u?(u.show(),o(d,u,"onshow")):(u=t.create({type:"container",name:n,layout:"stack",classes:"sidebar-panel",html:""}),c.prepend(u),o(d,u,"onrender"),o(d,u,"onshow")),l.active(!0)),e.fire("ResizeEditor")}};return{hasSidebar:function(e){return!(n.ie&&!(n.ie>=11)||!e.sidebars)&&e.sidebars.length>0},createSidebar:function(t){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(t.sidebars,(function(e){var n=e.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:a(t,e.name,t.sidebars)}}))}]}}}})),o("g",[],(function(){return{fireSkinLoaded:function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}}}})),o("6",["a"],(function(e){var t=function(e){return{width:e.clientWidth,height:e.clientHeight}},n=function(n,o,i){var r,a,s,l,c=n.settings;r=n.getContainer(),a=n.getContentAreaContainer().firstChild,s=t(r),l=t(a),null!==o&&(o=Math.max(c.min_width||100,o),o=Math.min(c.max_width||65535,o),e.setStyle(r,"width",o+(s.width-l.width)),e.setStyle(a,"width",o)),i=Math.max(c.min_height||100,i),i=Math.min(c.max_height||65535,i),e.setStyle(a,"height",i),n.fire("ResizeEditor")};return{resizeTo:n,resizeBy:function(e,t,o){var i=e.getContentAreaContainer();n(e,i.clientWidth+t,i.clientHeight+o)}}})),o("4",["8","9","a","b","c","d","e","f","g","6"],(function(e,t,n,o,i,r,a,s,l,c){var u=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},d=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[u("0"),s.createSidebar(e)]}};return{render:function(e,f,h){var p,m,g,v=e.settings;return h.skinUiCss&&n.styleSheetLoader.load(h.skinUiCss,l.fireSkinLoaded(e)),p=f.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===v.menubar?null:{type:"menubar",border:"0 0 1 0",items:i.createMenuButtons(e)},o.createToolbars(e,v.toolbar_items_size),s.hasSidebar(e)?d(e):u("1 0 0 0")]}),!1!==v.resize&&(m={type:"resizehandle",direction:v.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;g={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){c.resizeTo(e,"both"===v.resize?g.width+t.deltaX:null,g.height+t.deltaY)}}),!1!==v.statusbar&&p.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},m]}),e.fire("BeforeRenderUI"),e.on("SwitchMode",function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}}(p)),p.renderBefore(h.targetNode).reflow(),v.readonly&&e.setMode("readonly"),v.width&&n.setStyle(p.getEl(),"width",v.width),e.on("remove",(function(){p.remove(),p=null})),a.addKeys(e,p),r.addContextualToolbars(e),{iframeContainer:p.find("#iframe")[0].getEl(),editorContainer:p.getEl()}}}})),i("h",tinymce.ui.FloatPanel),o("5",["8","9","a","h","b","c","d","e","g"],(function(e,t,n,o,i,r,a,s,l){return{render:function(e,c,u){var d,f,h=e.settings;h.fixed_toolbar_container&&(f=n.select(h.fixed_toolbar_container)[0]);var p=function(){if(d&&d.moveRel&&d.visible()&&!d._fixed){var t=e.selection.getScrollContainer(),o=e.getBody(),i=0,r=0;if(t){var a=n.getPos(o),s=n.getPos(t);i=Math.max(0,s.x-a.x),r=Math.max(0,s.y-a.y)}d.fixed(!1).moveRel(o,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,r)}},m=function(){d&&(d.show(),p(),n.addClass(e.getBody(),"mce-edit-focus"))},g=function(){d&&(d.hide(),o.hideAll(),n.removeClass(e.getBody(),"mce-edit-focus"))},v=function(){return d?void(d.visible()||m()):(d=c.panel=t.create({type:f?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!f,border:1,items:[!1===h.menubar?null:{type:"menubar",border:"0 0 1 0",items:r.createMenuButtons(e)},i.createToolbars(e,h.toolbar_items_size)]}),e.fire("BeforeRenderUI"),d.renderTo(f||document.body).reflow(),s.addKeys(e,d),m(),a.addContextualToolbars(e),e.on("nodeChange",p),e.on("activate",m),e.on("deactivate",g),void e.nodeChanged())};return h.content_editable=!0,e.on("focus",(function(){u.skinUiCss?n.styleSheetLoader.load(u.skinUiCss,v,v):v()})),e.on("blur hide",g),e.on("remove",(function(){d&&(d.remove(),d=null)})),u.skinUiCss&&n.styleSheetLoader.load(u.skinUiCss,l.fireSkinLoaded(e)),{}}}})),i("i",tinymce.ui.Throbber),o("7",["i"],(function(e){return{setup:function(t,n){var o;t.on("ProgressState",(function(t){o=o||new e(n.panel.getEl("body")),t.state?o.show(t.time):o.hide()}))}}})),o("0",["1","2","3","4","5","6","7"],(function(e,t,n,o,i,r,a){var s=function(n,r,s){var l=n.settings,c=!1!==l.skin&&(l.skin||"lightgray");if(c){var u=l.skin_url;u=u?n.documentBaseURI.toAbsolute(u):t.baseURL+"/skins/"+c,s.skinUiCss=e.documentMode<=7?u+"/skin.ie7.min.css":u+"/skin.min.css",n.contentCSS.push(u+"/content"+(n.inline?".inline":"")+".min.css")}return a.setup(n,r),l.inline?i.render(n,r,s):o.render(n,r,s)};return n.add("modern",(function(e){return{renderUI:function(t){return s(e,this,t)},resizeTo:function(t,n){return r.resizeTo(e,t,n)},resizeBy:function(t,n){return r.resizeBy(e,t,n)}}})),function(){}})),n("0")()}(),tinymce.PluginManager.add("link",(function(e){function t(e){return e&&"A"===e.nodeName&&e.href}function n(e){return tinymce.util.Tools.grep(e,t).length>0}function o(t){return e.dom.getParent(t,"a[href]")}function i(){return o(e.selection.getStart())}function r(t){if(t){var n=function(e){return e.getAttribute("data-mce-href")||e.getAttribute("href")}(t);if(/^#/.test(n)){var o=e.$(n);o.length&&e.selection.scrollIntoView(o[0],!0)}else!function(e){if(!tinymce.Env.ie||tinymce.Env.ie>10){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)}(t,n)}else{var o=window.open("","_blank");if(o){o.opener=null;var i=o.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(e)+'">'),i.close()}}}(t.href)}}function a(){r(i())}function s(t){return function(){var n=e.settings.link_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function l(e,t,n){return function e(n,o){return o=o||[],tinymce.each(n,(function(n){var i={text:n.text||n.title};n.menu?i.menu=e(n.menu):(i.value=n.value,t&&t(i)),o.push(i)})),o}(e,n||[])}function c(t){function n(e){var t=s.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),s.find("#href").value(e.control.value())}function o(){!a&&0===y.text.length&&c&&this.parent().parent().find("#text")[0].value(this.value())}var i,r,a,s,c,d,f,h,p,m,g,v,y={},b=e.selection,w=e.dom;i=b.getNode(),r=w.getParent(i,"a[href]"),c=function(e){var t=b.getContent();return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1==t.indexOf("href=")))}(),y.text=a=r?r.innerText||r.textContent:b.getContent({format:"text"}),y.href=r?w.getAttrib(r,"href"):"",r?y.target=w.getAttrib(r,"target"):e.settings.default_link_target&&(y.target=e.settings.default_link_target),(v=w.getAttrib(r,"rel"))&&(y.rel=v),(v=w.getAttrib(r,"class"))&&(y.class=v),(v=w.getAttrib(r,"title"))&&(y.title=v),c&&(d={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){y.text=this.value()}}),t&&(f={type:"listbox",label:"Link list",values:l(t,(function(t){t.value=e.convertURL(t.value||t.url,"href")}),[{text:"None",value:""}]),onselect:n,value:e.convertURL(y.href,"href"),onPostRender:function(){f=this}}),!1!==e.settings.target_list&&(e.settings.target_list||(e.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),p={name:"target",type:"listbox",label:"Target",values:l(e.settings.target_list)}),e.settings.rel_list&&(h={name:"rel",type:"listbox",label:"Rel",values:l(e.settings.rel_list)}),e.settings.link_class_list&&(m={name:"class",type:"listbox",label:"Class",values:l(e.settings.link_class_list,(function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})}))}),!1!==e.settings.link_title&&(g={name:"title",type:"textbox",label:"Title",value:y.title}),s=e.windowManager.open({title:"Insert link",data:y,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(t){var n=t.meta||{};f&&f.value(e.convertURL(this.value(),"href")),tinymce.each(t.meta,(function(e,t){var n=s.find("#"+t);"text"===t?0===a.length&&(n.value(e),y.text=e):n.value(e)})),n.attach&&(u={href:this.value(),attach:n.attach}),n.text||o.call(this)},onkeyup:o,onbeforecall:function(e){e.meta=s.toJSON()}},d,g,function(t){var o=[];if(tinymce.each(e.dom.select("a:not([href])"),(function(e){var n=e.name||e.id;n&&o.push({text:n,value:"#"+n,selected:-1!=t.indexOf("#"+n)})})),o.length)return o.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:o,onselect:n}}(y.href),f,h,p,m],onSubmit:function(t){function n(t,n){var o=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(o),n(t)}))}))}function o(){var t={href:s,target:y.target?y.target:null,rel:y.rel?y.rel:null,class:y.class?y.class:null,title:y.title?y.title:null};e.settings.allow_unsafe_link_target||(t.rel=function(e,t){function n(e){var t=new RegExp("("+o.replace(" ","|")+")","g");return e&&(e=tinymce.trim(e.replace(t,""))),e||null}var o="noopener noreferrer";return t?function(e){return(e=n(e))?[e,o].join(" "):o}(e):n(e)}(t.rel,"_blank"==t.target)),s===u.href&&(u.attach(),u={}),r?(e.focus(),c&&y.text!=a&&("innerText"in r?r.innerText=y.text:r.textContent=y.text),w.setAttribs(r,t),b.select(r),e.undoManager.add()):c?e.insertContent(w.createHTML("a",t,w.encode(y.text))):e.execCommand("mceInsertLink",!1,t)}function i(){e.undoManager.transact(o)}var s;return y=tinymce.extend(y,t.data),(s=y.href)?s.indexOf("@")>0&&-1==s.indexOf("//")&&-1==s.indexOf("mailto:")?void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",(function(e){e&&(s="mailto:"+s),i()})):e.settings.link_assume_external_targets&&!/^\w+:/i.test(s)||!e.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(s)?void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",(function(e){e&&(s="http://"+s),i()})):void i():void e.execCommand("unlink")}})}var u={};e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:s(c),stateSelector:"a[href]"}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),e.addContextToolbar&&(e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:a}),e.addContextToolbar((function(n){var o,i,r;return!!(e.settings.link_context_toolbar&&!function(){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}()&&t(n)&&(o=e.selection,i=o.getRng(),r=i.startContainer,3==r.nodeType&&o.isCollapsed()&&i.startOffset>0&&i.startOffset<r.data.length))}),"openlink | link unlink")),e.addShortcut("Meta+K","",s(c)),e.addCommand("mceLink",s(c)),e.on("click",(function(e){var t=o(e.target);t&&tinymce.util.VK.metaKeyPressed(e)&&(e.preventDefault(),r(t))})),e.on("keydown",(function(e){var t=i();t&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),r(t))})),this.showDialog=c,e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:a,onPostRender:function(){var t=this,o=function(e){n(e.parents)?t.show():t.hide()};n(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",o),t.on("remove",(function(){e.off("nodechange",o)}))},prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:s(c),stateSelector:"a[href]",context:"insert",prependToContext:!0})})),function(e,t){"use strict";function n(e,t){for(var n,o=[],a=0;a<e.length;++a){if(!(n=r[e[a]]||i(e[a])))throw"module definition dependecy not found: "+e[a];o.push(n)}t.apply(null,o)}function o(e,o,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(o===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(o,(function(){r[e]=i.apply(null,arguments)}))}function i(t){for(var n=e,o=t.split(/[.\/]/),i=0;i<o.length;++i){if(!n[o[i]])return;n=n[o[i]]}return n}var r={};o("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],(function(e,t,n){function o(t,n){return e.each(n,(function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}return{filter:o,innerText:function(i){var r=new n,a=new t({},r),s="",l=r.getShortEndedElements(),c=e.makeMap("script noscript style textarea video audio iframe object"," "),u=r.getBlockElements();return i=o(i,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,o=t;if("br"!==n)if(l[n]&&(s+=" "),c[n])s+=" ";else{if(3==t.type&&(s+=t.value),!t.shortEnded&&(t=t.firstChild))do{e(t)}while(t=t.next);u[n]&&o.next&&(s+="\n","p"==n&&(s+="\n"))}else s+="\n"}(a.parse(i)),s},trimHtml:function(e){return o(function(e){var t="\x3c!--StartFragment--\x3e",n="\x3c!--EndFragment--\x3e",o=e.indexOf(t);if(-1!==o){var i=e.substr(o+t.length),r=i.indexOf(n);if(-1!==r&&/^<\/(p|h[1-6]|li)>/i.test(i.substr(r+n.length,5)))return i.substr(0,r)}return e}(e),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"Â ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}}}})),o("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],(function(e){var t=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},n=function(e){return t(e)&&/.(gif|jpe?g|png)$/.test(e)},o=function(e,n,o){return!(!1!==e.selection.isCollapsed()||!t(n))&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0}(e,n,o)},i=function(e,t,o){return!!n(t)&&function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0}(e,t,o)},r=function(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0},a=function(t,n){e.each([o,i,r],(function(e){return!0!==e(t,n,r)}))};return{isImageUrl:n,isAbsoluteUrl:t,insertContent:function(e,t){!1===e.settings.smart_paste?r(e,t):a(e,t)}}})),o("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],(function(e,t,n,o,i,r){return function(a){function s(e){var t,n=a.dom;if(t=a.fire("BeforePastePreProcess",{content:e}),e=(t=a.fire("PastePreProcess",t)).content,!t.isDefaultPrevented()){if(a.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var o=n.add(a.getBody(),"div",{style:"display:none"},e);t=a.fire("PastePostProcess",{node:o}),n.remove(o),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(a,e)}}function l(e){e=a.dom.encode(e).replace(/\r\n/g,"\n");var t,n=a.dom.getParent(a.selection.getStart(),a.dom.isBlock),i=a.settings.forced_root_block;i&&(t=(t=a.dom.createHTML(i,a.settings.forced_root_block_attrs)).substr(0,t.length-3)+">"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!i?e=o.filter(e,[[/\n/g,"<br>"]]):-1!=(e=o.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(e=t+e),s(e)}function c(){var t,n=a.dom,o=a.getBody(),i=a.dom.getViewPort(a.getWin()).y,r=20;if(C=a.selection.getRng(),a.inline&&(t=a.selection.getScrollContainer())&&t.scrollTop>0&&(i=t.scrollTop),C.getClientRects){var s=function(e){var t,o,i,r=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1==r.nodeType){for(i=r.childNodes[C.startOffset];i&&3==i.nodeType&&!i.data.length;)i=i.nextSibling;if(i)return"BR"==i.tagName&&(o=n.doc.createTextNode("\ufeff"),i.parentNode.insertBefore(o,i),(e=n.createRng()).setStartBefore(o),e.setEndAfter(o),t=e.getClientRects(),n.remove(o)),t.length?t[0]:void 0}}(C);if(s)r=i+(s.top-n.getPos(o).y);else{r=i;var l=C.startContainer;l&&(3==l.nodeType&&l.parentNode!=o&&(l=l.parentNode),1==l.nodeType&&(r=n.getPos(l,t||o).y))}}w=n.add(a.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+r+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},_),(e.ie||e.gecko)&&n.setStyle(w,"left","rtl"==n.getStyle(o,"direction",!0)?65535:-65535),n.bind(w,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),w.focus(),a.selection.select(w,!0)}function u(){if(w){for(var e;e=a.dom.get("mcepastebin");)a.dom.remove(e),a.dom.unbind(e);C&&a.selection.setRng(C)}w=C=null}function d(){var e,t,n,o="";for(e=a.dom.select("div[id=mcepastebin]"),t=0;t<e.length;t++)(n=e[t]).firstChild&&"mcepastebin"==n.firstChild.id&&(n=n.firstChild),o!=_&&(o+=n.innerHTML);return o}function f(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1==n.indexOf(T)&&(t["text/plain"]=n)}if(e.types)for(var o=0;o<e.types.length;o++){var i=e.types[o];t[i]=e.getData(i)}}return t}function h(e){return f(e.clipboardData||a.getDoc().dataTransfer)}function p(e){return y(e,"text/html")||y(e,"text/plain")}function m(e,t,n){e&&(a.selection.setRng(e),e=null);var o=t.result,i=function(e){var t;return-1!==(t=e.indexOf(","))?e.substr(t+1):null}(o),r=new Image;if(r.src=o,function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}(a.settings,r)){var l,c,u=a.editorUpload.blobCache;(c=u.findFirst((function(e){return e.base64()===i})))?l=c:(l=u.create(N(),n,i),u.add(l)),s('<img src="'+l.blobUri()+'">')}else s('<img src="'+o+'">')}function g(e,t){function n(n){var o,i,r,a=!1;if(n)for(o=0;o<n.length;o++)if(/^image\/(jpeg|png|gif|bmp)$/.test((i=n[o]).type)){var s=i.getAsFile?i.getAsFile():i;(r=new FileReader).onload=m.bind(null,t,r,s),r.readAsDataURL(s),e.preventDefault(),a=!0}return a}var o=e.clipboardData||e.dataTransfer;if(a.settings.paste_data_images&&o)return n(o.items)||n(o.files)}function v(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc())}function y(e,t){return t in e&&e[t].length>0}function b(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}var w,C,x,k=this,E=0,S=!1,_="%MCEPASTEBIN%",T="data:text/mce-internal,",N=o.createIdGenerator("mceclip");k.pasteHtml=s,k.pasteText=l,k.pasteImageData=g,a.on("preInit",(function(){(function(){function t(e,t,n){var i;return y(e,"text/html")?i=e["text/html"]:(i=d())==_&&(n=!0),i=o.trimHtml(i),w&&w.firstChild&&"mcepastebin"===w.firstChild.id&&(n=!0),u(),i.length||(n=!0),n&&(i=y(e,"text/plain")&&-1==i.indexOf("</p>")?e["text/plain"]:o.innerText(i)),i==_?void(t||a.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(n?l(i):s(i))}a.on("keydown",(function(t){function n(e){b(e)&&!e.isDefaultPrevented()&&u()}if(b(t)&&!t.isDefaultPrevented()){if((x=t.shiftKey&&86==t.keyCode)&&e.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(t.stopImmediatePropagation(),E=(new Date).getTime(),e.ie&&x)return t.preventDefault(),void a.fire("paste",{ieFake:!0});u(),c(),a.once("keyup",n),a.once("paste",(function(){a.off("keyup",n)}))}})),a.on("paste",(function(n){var o=(new Date).getTime(),i=h(n),s=(new Date).getTime()-o,l=(new Date).getTime()-E-s<1e3,f="text"==k.pasteFormat||x;return x=!1,n.isDefaultPrevented()||function(e){var t=e.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}(n)||!p(i)&&g(n,C||a.selection.getRng())?void u():(l||n.preventDefault(),!e.ie||l&&!n.ieFake||(c(),a.dom.bind(w,"paste",(function(e){e.stopPropagation()})),a.getDoc().execCommand("Paste",!1,null),i["text/html"]=d()),void(y(i,"text/html")?(n.preventDefault(),t(i,l,f)):r.setEditorTimeout(a,(function(){t(i,l,f)}),0)))})),a.on("dragstart dragend",(function(e){S="dragstart"==e.type})),a.on("drop",(function(e){var t,n;if(n=v(e),!e.isDefaultPrevented()&&!S&&(p(t=f(e.dataTransfer))&&!function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}(t)||!g(e,n))&&n&&!1!==a.settings.paste_filter_drop){var i=t["mce-internal"]||t["text/html"]||t["text/plain"];i&&(e.preventDefault(),r.setEditorTimeout(a,(function(){a.undoManager.transact((function(){t["mce-internal"]&&a.execCommand("Delete"),a.selection.setRng(n),i=o.trimHtml(i),t["text/html"]?s(i):l(i)}))})))}})),a.on("dragover dragend",(function(e){a.settings.paste_data_images&&e.preventDefault()}))})(),a.parser.addNodeFilter("img",(function(t,n,o){function i(t){t.attr("data-mce-object")||c===e.transparentSrc||t.remove()}function r(e){return 0===e.indexOf("webkit-fake-url")}function s(e){return 0===e.indexOf("data:")}if(!a.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(o))for(var l=t.length;l--;){var c=t[l].attributes.map.src;c&&(r(c)||!a.settings.allow_html_data_urls&&s(c))&&i(t[l])}}))}))}})),o("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],(function(e,t,n,o,i,r){function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(t){var n,o;return o=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),e.each(o,(function(e){if(e.test(t))return n=!0,!1})),n}function l(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function c(c){var u=c.settings;c.on("BeforePastePreProcess",(function(d){function f(t,n){var o,r={},a=c.dom.parseStyle(n);return e.each(a,(function(e,i){switch(i){case"mso-list":(o=/\w+ \w+([0-9]+)/i.exec(n))&&(t._listLevel=parseInt(o[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case"horiz-align":i="text-align";break;case"vert-align":i="vertical-align";break;case"font-color":case"mso-foreground":i="color";break;case"mso-background":case"mso-highlight":i="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(r[i]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===i.indexOf("mso-comment")?void t.remove():void(0!==i.indexOf("mso-")&&("all"==h||p&&p[i])&&(r[i]=e))})),/(bold)/i.test(r["font-weight"])&&(delete r["font-weight"],t.wrap(new i("b",1))),/(italic)/i.test(r["font-style"])&&(delete r["font-style"],t.wrap(new i("i",1))),(r=c.dom.serializeStyle(r,t.name))||null}var h,p,m=d.content;if(m=(m=m.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(h=u.paste_retain_style_properties)&&(p=e.makeMap(h.split(/[, ]/))),!1!==u.paste_enable_default_filters&&a(d.content)){d.wordContent=!0,m=r.filter(m,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("Â "):""}]]);var g=u.paste_word_valid_elements;g||(g="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var v=new n({valid_elements:g,valid_children:"-li[p]"});e.each(v.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var y=new t({},v);y.addAttributeFilter("style",(function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",f(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()})),y.addAttributeFilter("class",(function(e){for(var t,n,o=e.length;o--;)n=(t=e[o]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),y.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),y.addNodeFilter("a",(function(e){for(var t,n,o,i=e.length;i--;)if(n=(t=e[i]).attr("href"),o=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||o){if(o&&!/^_?(?:toc|edn|ftn)/i.test(o)){t.unwrap();continue}t.attr({href:n,name:o})}else t.unwrap()}));var b=y.parse(m);!1!==u.paste_convert_word_fake_lists&&function(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function o(e,t,o){var s=e._listLevel||c;s!=c&&(s<c?r&&(r=r.parent.parent):(a=r,r=null)),r&&r.name==t?r.append(e):(a=a||r,r=new i(t,1),o>1&&r.attr("start",""+o),e.wrap(r)),e.name="li",s>c&&a&&a.lastChild.append(r),c=s,function e(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)do{e(t)}while(t=t.next)}(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var r,a,c=1,u=[],d=e.firstChild;null!=d;)if(u.push(d),null!==(d=d.walk()))for(;void 0!==d&&d.parent!==e;)d=d.walk();for(var f=0;f<u.length;f++)if("p"==(e=u[f]).name&&e.firstChild){var h=t(e);if(l(h)){o(e,"ul");continue}if(s(h)){var p=/([0-9]+)\./.exec(h),m=1;p&&(m=parseInt(p[1],10)),o(e,"ol",m);continue}if(e._listLevel){o(e,"ul",1);continue}r=null}else a=r,r=null}(b),d.content=new o({validate:u.validate},v).serialize(b)}}))}return c.isWordContent=a,c})),o("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],(function(e,t,n,o){return function(i){function r(e){i.on("BeforePastePreProcess",(function(t){t.content=e(t.content)}))}e.webkit&&r((function(e){if(n.isWordContent(e))return e;var t=i.settings.paste_webkit_styles;if(!1===i.settings.paste_remove_styles_if_webkit||"all"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var o=i.dom,r=i.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,n,i,a){var s=o.parseStyle(i,"span"),l={};if("none"===t)return n+a;for(var c=0;c<t.length;c++){var u=s[t[c]],d=o.getStyle(r,t[c],!0);/color/.test(t[c])&&(u=o.toHex(u),d=o.toHex(d)),d!=u&&(l[t[c]]=u)}return(l=o.serializeStyle(l,"span"))?n+' style="'+l+'"'+a:n+a}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,o){return t+' style="'+n+'"'+o}))})),e.ie&&(r((function(e){if(!n.isWordContent(e))return e;var r=[];t.each(i.schema.getBlockElements(),(function(e,t){r.push(t)}));var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+r.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=o.filter(e,[[a,"$1"]]),o.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])})),i.on("PastePostProcess",(function(e){!function(e){i.$("a",e).find("font,u").each((function(e,t){i.dom.remove(t,!0)}))}(e.node)})))}})),o("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],(function(e,t,n,o){var i;e.add("paste",(function(r){function a(){if("text"==l.pasteFormat)l.pasteFormat="html",r.fire("PastePlainTextToggle",{state:!1});else if(l.pasteFormat="text",r.fire("PastePlainTextToggle",{state:!0}),!i&&!1!==r.settings.paste_plaintext_inform){var e=r.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");r.notificationManager.open({text:e,type:"info"}),i=!0}r.focus()}function s(){var e=this;e.active("text"===l.pasteFormat),r.on("PastePlainTextToggle",(function(t){e.active(t.state)}))}var l,c=this,u=r.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(u.plugins)&&e.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(c.clipboard=l=new t(r),c.quirks=new o(r),c.wordFilter=new n(r),r.settings.paste_as_text&&(c.clipboard.pasteFormat="text"),u.paste_preprocess&&r.on("PastePreProcess",(function(e){u.paste_preprocess.call(c,c,e)})),u.paste_postprocess&&r.on("PastePostProcess",(function(e){u.paste_postprocess.call(c,c,e)})),r.addCommand("mceInsertClipboardContent",(function(e,t){t.content&&c.clipboard.pasteHtml(t.content),t.text&&c.clipboard.pasteText(t.text)})),r.settings.paste_block_drop&&r.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),r.settings.paste_data_images||r.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),r.addCommand("mceTogglePlainTextPaste",a),r.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:a,onPostRender:s}),void r.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:l.pasteFormat,onclick:a,onPostRender:s}))}))})),function(n){var o,i,a,s,l;for(o=0;o<n.length;o++){i=e,s=(a=n[o]).split(/[.\/]/);for(var c=0;c<s.length-1;++c)i[s[c]]===t&&(i[s[c]]={}),i=i[s[c]];i[s[s.length-1]]=r[a]}if(e.AMDLC_TESTS){for(a in l=e.privateModules||{},r)l[a]=r[a];for(o=0;o<n.length;o++)delete l[n[o]];e.privateModules=l}}(["tinymce/pasteplugin/Utils"])}(window),function(e,t){"use strict";function n(e,t){for(var n,o=[],a=0;a<e.length;++a){if(!(n=r[e[a]]||i(e[a])))throw"module definition dependecy not found: "+e[a];o.push(n)}t.apply(null,o)}function o(e,o,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(o===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(o,(function(){r[e]=i.apply(null,arguments)}))}function i(t){for(var n=e,o=t.split(/[.\/]/),i=0;i<o.length;++i){if(!n[o[i]])return;n=n[o[i]]}return n}var r={};o("tinymce/tableplugin/Utils",["tinymce/Env"],(function(e){var t=function(e){return function(t,n){t&&(1===(n=parseInt(n,10))||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},n=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:t("colSpan"),setRowSpan:t("rowspan"),getColSpan:n("colSpan"),getRowSpan:n("rowSpan"),setSpanVal:function(e,n,o){t(n)(e,o)},getSpanVal:function(e,t){return n(t)(e)},paddCell:function(t){(!e.ie||e.ie>9)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus="1" />'))}}})),o("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],(function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},o=function(e,t,o){var i=n(e,t,o);return i?i.elm:null},i=function(e,t,i,r){var a,s=0,l=o(e,t,i);for(a=i;(r>0?a<e.length:a>=0)&&l===n(e,t,a).elm;a+=r)s++;return s},r=function(e,t,n){for(var o,i=e[n],r=t;r<i.length;r++)if((o=i[r]).real)return o.elm;return null},a=function(e,n){for(var o,r=[],a=e[n],s=0;s<a.length;s++)r.push({elm:(o=a[s]).elm,above:i(e,s,n,-1)-1,below:i(e,s,n,1)-1}),s+=t.getColSpan(o.elm)-1;return r},s=function(e,n){var o=e.elm.ownerDocument.createElement("td");return t.setColSpan(o,t.getColSpan(e.elm)),t.setRowSpan(o,n),t.paddCell(o),o},l=function(e,t,n,o){var i=r(e,n+1,o);i?i.parentNode.insertBefore(t,i):(i=r(e,0,o)).parentNode.appendChild(t)},c=function(e,n,o,i){if(0!==n.above){t.setRowSpan(n.elm,n.above);var r=s(n,n.below+1);return l(e,r,o,i),r}return null},u=function(e,n,o,i){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var r=s(n,n.below);return l(e,r,o,i+1),r}return null};return{splitAt:function(t,n,i,r){var s=a(t,i),l=o(t,n,i).parentNode,d=[];return e.each(s,(function(e,n){null!==(r?c(t,e,n,i):u(t,e,n,i))&&d.push(d)})),{cells:d,row:l}}}})),o("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],(function(e,n,o,i){var r=e.each,a=o.getSpanVal,s=o.setSpanVal;return function(l,c,u){function d(){l.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function f(e){return e===l.getBody()}function h(t,n){return t?(n=e.map(n.split(","),(function(e){return e.toLowerCase()})),e.grep(t.childNodes,(function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())}))):[]}function p(){var e=0;O=[],M=0,r(["thead","tbody","tfoot"],(function(t){var n=h(c,t)[0],o=h(n,"tr");r(o,(function(n,o){o+=e,r(h(n,"td,th"),(function(e,n){var i,r,s,l;if(O[o])for(;O[o][n];)n++;for(s=a(e,"rowspan"),l=a(e,"colspan"),r=o;r<o+s;r++)for(O[r]||(O[r]=[]),i=n;i<n+l;i++)O[r][i]={part:t,real:r==o&&i==n,elm:e,rowspan:s,colspan:l};M=Math.max(M,n+1)}))})),e+=o.length}))}function m(e){return l.fire("newrow",{node:e}),e}function g(e){return l.fire("newcell",{node:e}),e}function v(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function y(e,t){var n;if(n=O[t])return n[e]}function b(e,t){return e[t]?e[t]:null}function w(e,t){for(var n=[],o=0;o<e.length;o++)n.push(y(t,o));return n}function C(e){return e&&(!!j.getAttrib(e.elm,"data-mce-selected")||e==u)}function x(){var e=[];return r(c.rows,(function(t){r(t.cells,(function(n){if(j.getAttrib(n,"data-mce-selected")||u&&n==u.elm)return e.push(t),!1}))})),e}function k(t){var i,a={};return!1!==l.settings.table_clone_elements&&(a=e.makeMap((l.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,(function(e){var o;if(3==e.nodeType)return r(j.getParents(e.parentNode,null,t).reverse(),(function(e){a[e.nodeName]&&(e=v(e,!1),i?o&&o.appendChild(e):i=o=e,o=e)})),o&&(o.innerHTML=n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1}),"childNodes"),g(t=v(t,!1)),s(t,"rowSpan",1),s(t,"colSpan",1),i?t.appendChild(i):o.paddCell(t),t}function E(){var e,t=j.createRng();return r(j.select("tr",c),(function(e){0===e.cells.length&&j.remove(e)})),0===j.select("tr",c).length?(t.setStartBefore(c),t.setEndBefore(c),$.setRng(t),void j.remove(c)):(r(j.select("thead,tbody,tfoot",c),(function(e){0===e.rows.length&&j.remove(e)})),p(),void(H&&(e=O[Math.min(O.length-1,H.y)],e&&($.select(e[Math.min(e.length-1,H.x)].elm,!0),$.collapse(!0)))))}function S(e,t,n,o){var i,r,a,s,l;for(i=O[t][e].elm.parentNode,a=1;a<=n;a++)if(i=j.getNext(i,"tr")){for(r=e;r>=0;r--)if((l=O[t+a][r].elm).parentNode==i){for(s=1;s<=o;s++)j.insertAfter(k(l),l);break}if(-1==r)for(s=1;s<=o;s++)i.insertBefore(k(i.cells[0]),i.cells[0])}}function _(){r(O,(function(e,t){r(e,(function(e,n){var o,i,r;if(C(e)&&(o=a(e=e.elm,"colspan"),i=a(e,"rowspan"),o>1||i>1)){for(s(e,"rowSpan",1),s(e,"colSpan",1),r=0;r<o-1;r++)j.insertAfter(k(e),e);S(n,t,i-1,o)}}))}))}function T(e,t,n){for(var o=[],i=0;i<e.length;i++)(i<t||i>n)&&o.push(e[i]);return o}function N(t){return e.grep(t,(function(e){return!1===e.real}))}function A(e){for(var t=[],n=0;n<e.length;n++){var o=e[n].elm;t[t.length-1]!==o&&t.push(o)}return t}function R(t,n,i,r,a){var s=0;if(a-i<1)return 0;for(var l=i+1;l<=a;l++){var c=T(b(t,l),n,r),u=N(c);c.length===u.length&&(e.each(A(u),(function(e){o.setRowSpan(e,o.getRowSpan(e)-1)})),s++)}return s}function D(t,n,i,r,a){var s=0;if(r-n<1)return 0;for(var l=n+1;l<=r;l++){var c=T(w(t,l),i,a),u=N(c);c.length===u.length&&(e.each(A(u),(function(e){o.setColSpan(e,o.getColSpan(e)-1)})),s++)}return s}function P(e){var n,o,i,l,c,u,d,f,h,p;if(r(O,(function(o,i){if(r(o,(function(t){if(C(t)&&(u=m(v(c=(t=t.elm).parentNode,!1)),n=i,e))return!1})),e)return n===t})),n!==t){for(l=0,p=0;l<O[0].length;l+=p)if(O[n][l]&&(p=a(o=O[n][l].elm,"colspan"),o!=i)){if(e){if(n>0&&O[n-1][l]&&(h=a(f=O[n-1][l].elm,"rowSpan"))>1){s(f,"rowSpan",h+1);continue}}else if((h=a(o,"rowspan"))>1){s(o,"rowSpan",h+1);continue}d=k(o),s(d,"colSpan",o.colSpan),u.appendChild(d),i=o}u.hasChildNodes()&&(e?c.parentNode.insertBefore(u,c):j.insertAfter(u,c))}}function B(e){var n,o;r(O,(function(o){if(r(o,(function(t,o){if(C(t)&&(n=o,e))return!1})),e)return n===t})),r(O,(function(t,i){var r,l,c;t[n]&&(r=t[n].elm)!=o&&(c=a(r,"colspan"),l=a(r,"rowspan"),1==c?e?(r.parentNode.insertBefore(k(r),r),S(n,i,l-1,c)):(j.insertAfter(k(r),r),S(n,i,l-1,c)):s(r,"colSpan",r.colSpan+1),o=r)}))}function I(e){var t=[];return r(e,(function(e){r(e,(function(e){t.push(e)}))})),t}function L(e){var t;return r(O,(function(n,o){return r(n,(function(n,i){if(n.elm==e)return t={x:i,y:o},!1})),!t})),t}var O,M,H,F,$=l.selection,j=$.dom;c=c||j.getParent($.getStart(!0),"table"),p(),(u=u||j.getParent($.getStart(!0),"th,td"))&&(H=L(u),F=function(){var e,t;return e=t=0,r(O,(function(n,o){r(n,(function(n,i){var r,a;C(n)&&(i>e&&(e=i),o>t&&(t=o),(n=O[o][i]).real&&((r=n.colspan-1)&&i+r>e&&(e=i+r),(a=n.rowspan-1)&&o+a>t&&(t=o+a)))}))})),{x:e,y:t}}(),u=y(H.x,H.y)),e.extend(this,{deleteTable:function(){var e=j.createRng();f(c)||(e.setStartAfter(c),e.setEndAfter(c),$.setRng(e),j.remove(c))},split:_,merge:function(t,n,o){var i,a,l,c,u,d,f,h,m,g,v,b,w;if(t?(c=(a=(i=L(t)).x)+(n-1),u=(l=i.y)+(o-1)):(H=F=null,r(O,(function(e,t){r(e,(function(e,n){C(e)&&(H||(H={x:n,y:t}),F={x:n,y:t})}))})),H&&(a=H.x,l=H.y,c=F.x,u=F.y)),h=y(a,l),m=y(c,u),h&&m&&h.part==m.part){_(),p(),b=R(O,a,l,c,u),w=D(O,a,l,c,u),h=y(a,l).elm;var x=c-a-w+1,k=u-l-b+1;for(x===M&&k===O.length&&(x=1,k=1),x===M&&k>1&&(k=1),s(h,"colSpan",x),s(h,"rowSpan",k),f=l;f<=u;f++)for(d=a;d<=c;d++)O[f]&&O[f][d]&&(t=O[f][d].elm)!=h&&(g=e.grep(t.childNodes),r(g,(function(e){h.appendChild(e)})),g.length&&(g=e.grep(h.childNodes),v=0,r(g,(function(e){"BR"==e.nodeName&&v++<g.length-1&&h.removeChild(e)}))),j.remove(t));E()}},insertRow:P,insertRows:function(e,t){t=t||x().length||1;for(var n=0;n<t;n++)P(e)},insertCol:B,insertCols:function(e,t){t=t||function(){var e=0;return r(O,(function(t){if(r(t,(function(t){C(t)&&e++})),e)return!1})),e}()||1;for(var n=0;n<t;n++)B(e)},splitCols:function(t){if(H){var n=i.splitAt(O,H.x,H.y,t);e.each(n.cells,g)}},deleteCols:function(){var t=[];if(f(c)){if(1==O[0].length)return;if(function(t){return e.grep(I(t),C)}(O).length==I(O).length)return}r(O,(function(n){r(n,(function(n,o){C(n)&&-1===e.inArray(t,o)&&(r(O,(function(e){var t,n=e[o].elm;(t=a(n,"colSpan"))>1?s(n,"colSpan",t-1):j.remove(n)})),t.push(o))}))})),E()},deleteRows:function(){var e;e=x(),f(c)&&e.length==c.rows.length||(r(e.reverse(),(function(e){!function(e){var t,n;r(e.cells,(function(e){var n=a(e,"rowSpan");n>1&&(s(e,"rowSpan",n-1),S((t=L(e)).x,t.y,1,1))})),t=L(e.cells[0]),r(O[t.y],(function(e){var t;(e=e.elm)!=n&&((t=a(e,"rowSpan"))<=1?j.remove(e):s(e,"rowSpan",t-1),n=e)}))}(e)})),E())},cutRows:function(){var e=x();if(!f(c)||e.length!=c.rows.length)return j.remove(e),E(),e},copyRows:function(){var e=x();return r(e,(function(t,n){e[n]=v(t,!0)})),e},pasteRows:function(t,n){var o,a,l;t&&(o=i.splitAt(O,H.x,H.y,n),a=o.row,e.each(o.cells,g),l=e.map(t,(function(e){return e.cloneNode(!0)})),n||l.reverse(),r(l,(function(e){var t,o,i=e.cells.length;for(m(e),t=0;t<i;t++)g(o=e.cells[t]),s(o,"colSpan",1),s(o,"rowSpan",1);for(t=i;t<M;t++)e.appendChild(g(k(e.cells[i-1])));for(t=M;t<i;t++)j.remove(e.cells[t]);n?a.parentNode.insertBefore(e,a):j.insertAfter(e,a)})),d())},getPos:L,setStartCell:function(e){H=L(e)},setEndCell:function(e){var t,n,o,i,r,a,s,l,c,u;if(F=L(e),H&&F){for(t=Math.min(H.x,F.x),n=Math.min(H.y,F.y),r=o=Math.max(H.x,F.x),a=i=Math.max(H.y,F.y),u=n;u<=i;u++)for(c=t;c<=o;c++)(e=O[u][c]).real&&((s=e.colspan-1)&&c+s>r&&(r=c+s),(l=e.rowspan-1)&&u+l>a&&(a=u+l));for(d(),u=n;u<=a;u++)for(c=t;c<=r;c++)O[u][c]&&j.setAttrib(O[u][c].elm,"data-mce-selected","1")}},moveRelIdx:function(e,t){var n,o,i;o=(n=L(e)).y*M+n.x;do{if(!(i=y((o+=t)%M,Math.floor(o/M))))break;if(i.elm!=e)return $.select(i.elm,!0),j.isEmpty(i.elm)&&$.collapse(!0),!0}while(i.elm==e);return!1},refresh:p})}})),o("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],(function(e,t,n,o,i){var r=o.each,a=i.getSpanVal;return function(s){function l(){s.on("KeyDown",(function(e){var t,n,o=s.dom;37!=e.keyCode&&38!=e.keyCode||(t=s.selection.getRng(),(n=o.getParent(t.startContainer,"table"))&&s.getBody().firstChild==n&&function(e,t){var n,o=t.ownerDocument,i=o.createRange();return i.setStartBefore(t),i.setEnd(e.endContainer,e.endOffset),(n=o.createElement("body")).appendChild(i.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(t,n)&&((t=o.createRng()).setStartBefore(n),t.setEndBefore(n),s.selection.setRng(t),e.preventDefault()))}))}function c(){s.on("KeyDown SetContent VisualAid",(function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):s.dom.add(s.getBody(),"br",{"data-mce-bogus":"1"}))})),s.on("PreProcess",(function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||"Â "==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&s.dom.remove(t)}))}(function(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),i.paddCell(e)}s.on("keydown",(function(i){var r,a,l,c;if((i.keyCode==e.DELETE||i.keyCode==e.BACKSPACE)&&!i.isDefaultPrevented()&&(r=s.dom.getParent(s.selection.getStart(),"table"))){if(a=s.dom.select("td,th",r),0===(l=o.grep(a,(function(e){return!!s.dom.getAttrib(e,"data-mce-selected")}))).length)return c=s.dom.getParent(s.selection.getStart(),"td,th"),void(s.selection.isCollapsed()&&c&&s.dom.isEmpty(c)&&(i.preventDefault(),n(c),t(c)));i.preventDefault(),s.undoManager.transact((function(){a.length==l.length?s.execCommand("mceTableDelete"):(o.each(l,n),t(l[0]))}))}}))})(),function(){var t=function(e,t){var n=s.selection.getRng(),o=e.ownerDocument.createTextNode("Â ");n.startOffset?e.insertBefore(o,e.firstChild):e.appendChild(o),t&&(s.selection.select(o,!0),s.selection.collapse(!0))},o=function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()},i=function(e){return e.firstChild===e.lastChild&&e.firstChild},r=function(e){return e&&3===e.nodeType},a=function(e){var t=i(e);return r(t)&&1===t.data.length?t.data:null},l=function(e){var t=i(e),n=a(e);return t&&!r(t)||n&&!u(n)},c=function(e){return s.dom.isEmpty(e)||u(a(e))},u=function(e){return"Â "===e};s.on("keydown",(function(e){if(o(e)){var i=s.dom.getParent(s.selection.getStart(),"caption");(function(e){return e&&"CAPTION"==e.nodeName&&"TABLE"==e.parentNode.nodeName})(i)&&(n.ie&&(s.selection.isCollapsed()?l(i)&&t(i):(s.undoManager.transact((function(){s.execCommand("Delete"),c(i)&&t(i,!0)})),e.preventDefault())),c(i)&&e.preventDefault())}}))}(),n.webkit&&(function(){function n(n){function o(e,t){var o=e?"previousSibling":"nextSibling",r=s.dom.getParent(t,"tr"),a=r[o];if(a)return h(0,t,a,e),n.preventDefault(),!0;var c=s.dom.getParent(r,"table"),u=r.parentNode,d=u.nodeName.toLowerCase();if("tbody"===d||d===(e?"tfoot":"thead")){var f=function(e,t,n,o){var i=s.dom.select(">tbody",t),r=i.indexOf(n);return e&&0===r||!e&&r===i.length-1?function(e,t){var n=s.dom.select(">"+(e?"thead":"tfoot"),t);return 0!==n.length?n[0]:null}(e,t):-1===r?i["thead"===n.tagName.toLowerCase()?0:i.length-1]:i[r+(e?-1:1)]}(e,c,u);if(null!==f)return i(e,f,t)}return l(e,r,o,c)}function i(e,t,o){var i=c(t,e);return i&&h(0,o,i,e),n.preventDefault(),!0}function l(e,t,i,r){var a=r[i];if(a)return u(a),!0;var l=s.dom.getParent(r,"td,th");return l?o(e,l):(u(c(t,!e)),n.preventDefault(),!1)}function c(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?s.dom.getParent(n,"td,th"):n}function u(e){s.selection.setCursorLocation(e,0)}function d(e){for(var t=0,n=e;n.previousSibling;)t+=a(n=n.previousSibling,"colspan");return t}function f(e,t){var n=0,o=0;return r(e.children,(function(e,i){if(n+=a(e,"colspan"),o=i,n>t)return!1})),o}function h(e,t,n,o){var i=f(n,d(s.dom.getParent(t,"td,th"))),r=n.childNodes[i];u(c(r,o)||r)}var p=n.keyCode;if((p==e.UP||p==e.DOWN)&&function(e){var t=e.selection.getNode();return null!==e.dom.getParent(t,"tr")}(s)){var m=s.selection.getNode();t.setEditorTimeout(s,(function(){(function(e){var t=s.selection.getNode(),n=s.dom.getParent(t,"td,th"),o=s.dom.getParent(e,"td,th");return n&&n!==o&&function(e,t){return s.dom.getParent(e,"TABLE")===s.dom.getParent(t,"TABLE")}(n,o)})(m)&&o(!n.shiftKey&&p===e.UP,m)}),0)}}s.on("KeyDown",(function(e){n(e)}))}(),function(){function e(){var e=s.selection.getRng(),t=s.selection.getNode(),n=s.dom.getParent(e.startContainer,"TD,TH");if(function(e,t,n,o){var i,r=e.dom.getParent(t.startContainer,"TABLE");return r&&(i=r.parentNode),3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&o&&("TR"==n.nodeName||n==i)||("TD"==n.nodeName||"TH"==n.nodeName)&&!o}(s,e,t,n)){n||(n=t);for(var o=n.lastChild;o.lastChild;)o=o.lastChild;3==o.nodeType&&(e.setEnd(o,o.data.length),s.selection.setRng(e))}}s.on("KeyDown",(function(){e()})),s.on("MouseDown",(function(t){2!=t.button&&e()}))}()),n.gecko&&(l(),c()),n.ie>9&&(l(),c())}})),o("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],(function(e,t,n){return function(o,i){function r(e){o.getBody().style.webkitUserSelect="",(e||m)&&(o.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),m=!1)}function a(e,t){return!(!e||!t)&&e===p.getParent(t,"table")}function s(t){var n,r,s=t.target;if(!f&&!h&&s!==d&&(d=s,u&&c)){if(r=p.getParent(s,"td,th"),a(u,r)||(r=p.getParent(u,"td,th")),c===r&&!m)return;if(i(!0),a(u,r)){t.preventDefault(),l||(l=new e(o,u,c),o.getBody().style.webkitUserSelect="none"),l.setEndCell(r),m=!0,n=o.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}var l,c,u,d,f,h,p=o.dom,m=!0,g=function(){c=l=u=d=null,i(!1)};return o.on("SelectionChange",(function(e){m&&e.stopImmediatePropagation()}),!0),o.on("MouseDown",(function(e){2==e.button||f||h||(r(),c=p.getParent(e.target,"td,th"),u=p.getParent(c,"table"))})),o.on("mouseover",s),o.on("remove",(function(){p.unbind(o.getDoc(),"mouseover",s),r()})),o.on("MouseUp",(function(){function e(e,o){var r=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(o?i.setStart(e,0):i.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(o?i.setStartBefore(e):i.setEndBefore(e))}while(e=o?r.next():r.prev())}var i,r,a,s,u,d=o.selection;if(c){if(l&&(o.getBody().style.webkitUserSelect=""),(r=p.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(i=p.createRng()).setStartBefore(s=r[0]),i.setEndAfter(s),e(s,1),a=new t(s,p.getParent(r[0],"table"));do{if("TD"==s.nodeName||"TH"==s.nodeName){if(!p.getAttrib(s,"data-mce-selected"))break;u=s}}while(s=a.next());e(u),d.setRng(i)}o.nodeChanged(),g()}})),o.on("KeyUp Drop SetContent",(function(e){r("setcontent"==e.type),g(),f=!1})),o.on("ObjectResizeStart ObjectResized",(function(e){f="objectresized"!=e.type})),o.on("dragstart",(function(){h=!0})),o.on("drop dragend",(function(){h=!1})),{clear:r}}})),o("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],(function(e,t){var n=e.each;return function(o){function i(){var e=o.settings.color_picker_callback;if(e)return function(){var t=this;e.call(o,(function(e){t.value(e).fire("change")}),t.value())}}function r(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){u(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:i()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:i()}]}]}}function a(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function l(e){n("left center right".split(" "),(function(t){o.formatter.remove("align"+t,{},e)}))}function c(t,n,o){return function t(o,i){return i=i||[],e.each(o,(function(e){var o={text:e.text||e.title};e.menu?o.menu=t(e.menu):(o.value=e.value,n&&n(o)),i.push(o)})),i}(t,o||[])}function u(e,t,n){var o=t.toJSON(),i=e.parseStyle(o.style);n?(t.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change")):(i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}function d(e,t,n){var o=e.parseStyle(e.getAttrib(n,"style"));o["border-color"]&&(t.borderColor=o["border-color"]),o["background-color"]&&(t.backgroundColor=o["background-color"]),t.style=e.serializeStyle(o)}function f(e,t,o){var i=e.parseStyle(e.getAttrib(t,"style"));n(o,(function(e){i[e.name]=e.value})),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}var h=this;h.tableProps=function(){h.table(!0)},h.table=function(i){function h(){function n(e,t,o){if("TD"===e.tagName||"TH"===e.tagName)C.setStyle(e,t,o);else if(e.children)for(var i=0;i<e.children.length;i++)n(e.children[i],t,o)}var i;u(C,this),!1===(x=e.extend(x,this.toJSON())).class&&delete x.class,o.undoManager.transact((function(){if(m||(m=o.plugins.table.insertTable(x.cols||1,x.rows||1)),o.dom.setAttribs(m,{style:x.style,class:x.class}),o.settings.table_style_by_css){if((w=[]).push({name:"border",value:x.border}),w.push({name:"border-spacing",value:s(x.cellspacing)}),f(C,m,w),C.setAttribs(m,{"data-mce-border-color":x.borderColor,"data-mce-cell-padding":x.cellpadding,"data-mce-border":x.border}),m.children)for(var e=0;e<m.children.length;e++)n(m.children[e],"border",x.border),n(m.children[e],"padding",s(x.cellpadding))}else o.dom.setAttribs(m,{border:x.border,cellpadding:x.cellpadding,cellspacing:x.cellspacing});C.getAttrib(m,"width")&&!o.settings.table_style_by_css?C.setAttrib(m,"width",a(x.width)):C.setStyle(m,"width",s(x.width)),C.setStyle(m,"height",s(x.height)),(i=C.select("caption",m)[0])&&!x.caption&&C.remove(i),!i&&x.caption&&((i=C.create("caption")).innerHTML=t.ie?"Â ":'<br data-mce-bogus="1"/>',m.insertBefore(i,m.firstChild)),l(m),x.align&&o.formatter.apply("align"+x.align,{},m),o.focus(),o.addVisual()}))}function p(e,t){return function(e,n){for(var o=0;o<n.length;o++){var i=C.getStyle(n[o],t);if(void 0===e&&(e=i),e!=i)return""}return e}(void 0,o.dom.select("td,th",e))}var m,g,v,y,b,w,C=o.dom,x={};!0===i?(m=C.getParent(o.selection.getStart(),"table"))&&(x={width:a(C.getStyle(m,"width")||C.getAttrib(m,"width")),height:a(C.getStyle(m,"height")||C.getAttrib(m,"height")),cellspacing:a(C.getStyle(m,"border-spacing")||C.getAttrib(m,"cellspacing")),cellpadding:C.getAttrib(m,"data-mce-cell-padding")||C.getAttrib(m,"cellpadding")||p(m,"padding"),border:C.getAttrib(m,"data-mce-border")||C.getAttrib(m,"border")||p(m,"border"),borderColor:C.getAttrib(m,"data-mce-border-color"),caption:!!C.select("caption",m)[0],class:C.getAttrib(m,"class")},n("left center right".split(" "),(function(e){o.formatter.matchNode(m,"align"+e)&&(x.align=e)}))):(g={label:"Cols",name:"cols"},v={label:"Rows",name:"rows"}),o.settings.table_class_list&&(x.class&&(x.class=x.class.replace(/\s*mce\-item\-table\s*/g,"")),y={name:"class",type:"listbox",label:"Class",values:c(o.settings.table_class_list,(function(e){e.value&&(e.textStyle=function(){return o.formatter.getCssText({block:"table",classes:[e.value]})})}))}),b={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==o.settings.table_appearance_options?[g,v,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[g,v,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},y]},!1!==o.settings.table_advtab?(d(C,x,m),o.windowManager.open({title:"Table properties",data:x,bodyType:"tabpanel",body:[{title:"General",type:"form",items:b},r(C)],onsubmit:h})):o.windowManager.open({title:"Table properties",data:x,body:b,onsubmit:h})},h.merge=function(e,t){o.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();o.undoManager.transact((function(){e.merge(t,n.cols,n.rows)}))}})},h.cell=function(){function t(e,t,n){(1===v.length||n)&&g.setAttrib(e,t,n)}function i(e,t,n){(1===v.length||n)&&g.setStyle(e,t,n)}function f(){u(g,this),p=e.extend(p,this.toJSON()),o.undoManager.transact((function(){n(v,(function(e){t(e,"scope",p.scope),t(e,"style",p.style),t(e,"class",p.class),i(e,"width",s(p.width)),i(e,"height",s(p.height)),p.type&&e.nodeName.toLowerCase()!==p.type&&(e=g.rename(e,p.type)),1===v.length&&(l(e),function(e){n("top middle bottom".split(" "),(function(t){o.formatter.remove("valign"+t,{},e)}))}(e)),p.align&&o.formatter.apply("align"+p.align,{},e),p.valign&&o.formatter.apply("valign"+p.valign,{},e)})),o.focus()}))}var h,p,m,g=o.dom,v=[];if(v=o.dom.select("td[data-mce-selected],th[data-mce-selected]"),h=o.dom.getParent(o.selection.getStart(),"td,th"),!v.length&&h&&v.push(h),h=h||v[0]){v.length>1?p={width:"",height:"",scope:"",class:"",align:"",style:"",type:h.nodeName.toLowerCase()}:((p={width:a(g.getStyle(h,"width")||g.getAttrib(h,"width")),height:a(g.getStyle(h,"height")||g.getAttrib(h,"height")),scope:g.getAttrib(h,"scope"),class:g.getAttrib(h,"class")}).type=h.nodeName.toLowerCase(),n("left center right".split(" "),(function(e){o.formatter.matchNode(h,"align"+e)&&(p.align=e)})),n("top middle bottom".split(" "),(function(e){o.formatter.matchNode(h,"valign"+e)&&(p.valign=e)})),d(g,p,h)),o.settings.table_cell_class_list&&(m={name:"class",type:"listbox",label:"Class",values:c(o.settings.table_cell_class_list,(function(e){e.value&&(e.textStyle=function(){return o.formatter.getCssText({block:"td",classes:[e.value]})})}))});var y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},m]};o.windowManager.open(!1!==o.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:p,body:[{title:"General",type:"form",items:y},r(g)],onsubmit:f}:{title:"Cell properties",data:p,body:y,onsubmit:f})}},h.row=function(){function t(e,t,n){(1===b.length||n)&&y.setAttrib(e,t,n)}function i(){var i,r,a;u(y,this),g=e.extend(g,this.toJSON()),o.undoManager.transact((function(){var e=g.type;n(b,(function(n){t(n,"scope",g.scope),t(n,"style",g.style),t(n,"class",g.class),function(e,t,n){(1===b.length||n)&&y.setStyle(e,"height",n)}(n,0,s(g.height)),e!==n.parentNode.nodeName.toLowerCase()&&(i=y.getParent(n,"table"),r=n.parentNode,(a=y.select(e,i)[0])||(a=y.create(e),i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a)),a.appendChild(n),r.hasChildNodes()||y.remove(r)),1===b.length&&l(n),g.align&&o.formatter.apply("align"+g.align,{},n)})),o.focus()}))}var f,h,p,m,g,v,y=o.dom,b=[];f=o.dom.getParent(o.selection.getStart(),"table"),h=o.dom.getParent(o.selection.getStart(),"td,th"),n(f.rows,(function(e){n(e.cells,(function(t){if(y.getAttrib(t,"data-mce-selected")||t==h)return b.push(e),!1}))})),(p=b[0])&&(b.length>1?g={height:"",scope:"",class:"",align:"",type:p.parentNode.nodeName.toLowerCase()}:((g={height:a(y.getStyle(p,"height")||y.getAttrib(p,"height")),scope:y.getAttrib(p,"scope"),class:y.getAttrib(p,"class")}).type=p.parentNode.nodeName.toLowerCase(),n("left center right".split(" "),(function(e){o.formatter.matchNode(p,"align"+e)&&(g.align=e)})),d(y,g,p)),o.settings.table_row_class_list&&(m={name:"class",type:"listbox",label:"Class",values:c(o.settings.table_row_class_list,(function(e){e.value&&(e.textStyle=function(){return o.formatter.getCssText({block:"tr",classes:[e.value]})})}))}),v={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},m]},o.windowManager.open(!1!==o.settings.table_row_advtab?{title:"Row properties",data:g,bodyType:"tabpanel",body:[{title:"General",type:"form",items:v},r(y)],onsubmit:i}:{title:"Row properties",data:g,body:v,onsubmit:i}))}}})),o("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],(function(e,n){var o;return function(i){function r(e,t){return{index:e,y:i.dom.getPos(t).y}}function a(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function s(e,t){return{index:e,x:i.dom.getPos(t).x}}function l(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function c(){return"rtl"===i.getBody().dir}function u(){return i.inline}function d(){return u?i.getBody().ownerDocument.body:i.getBody()}function f(e,t){return c()?l(e,t):s(e,t)}function h(e,t){return c()?s(e,t):l(e,t)}function p(e,t){var n=i.dom.getStyle(e,t,!0);return parseInt(n,10)}function m(e){return p(e,"width")/p(e.parentElement,"width")*100}function g(e,t,n){for(var o=[],i=1;i<n.length;i++)o.push(e(i-1,n[i].element));return o.push(t(n.length-1,n[n.length-1].element)),o}function v(){var t=i.dom.select("."+re,d());e.each(t,(function(e){i.dom.remove(e)}))}function y(e){v(),N(e)}function b(e,t,n,o,i,r,a,s){var l={"data-mce-bogus":"all",class:re+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+o+"px; height: "+i+"px; width: "+r+"px; "};return l[a]=s,l}function w(t,n,o){e.each(t,(function(e){var t=o.x,r=e.y-pe/2,a=pe,s=n;i.dom.add(d(),"div",b(ae,se,t,r,a,s,le,e.index))}))}function C(t,n,o){e.each(t,(function(e){var t=e.x-pe/2,r=o.y,a=n,s=pe;i.dom.add(d(),"div",b(ue,de,t,r,a,s,fe,e.index))}))}function x(t){return e.map(t.rows,(function(t){return{element:t,cells:e.map(t.cells,(function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}}))}}))}function k(n){function o(e,t){return e+","+t}var i={},r=[],a=0,s=0;return e.each(n,(function(n,l){var c=[];e.each(n.cells,(function(e){for(var n=0;i[o(l,n)]!==t;)n++;for(var r={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:l,colIndex:n},u=0;u<e.colspan;u++)for(var d=0;d<e.rowspan;d++){var f=l+d,h=n+u;i[o(f,h)]=r,a=Math.max(a,f+1),s=Math.max(s,h+1)}c.push(r)})),r.push({element:n.element,cells:c})})),{grid:{maxRows:a,maxCols:s},getAt:function(e,t){return i[o(e,t)]},getAllCells:function(){var t=[];return e.each(r,(function(e){t=t.concat(e.cells)})),t},getAllRows:function(){return r}}}function E(e,t){for(var n=[],o=e;o<t;o++)n.push(o);return n}function S(e,t,n){for(var o,i=e(),r=0;r<i.length;r++)t(i[r])&&(o=i[r]);return o||n()}function _(t){var n=E(0,t.grid.maxCols),o=E(0,t.grid.maxRows);return e.map(n,(function(e){return S((function(){for(var n=[],i=0;i<o.length;i++){var r=t.getAt(i,e);r&&r.colIndex===e&&n.push(r)}return n}),(function(e){return 1===e.colspan}),(function(){for(var n,i=0;i<o.length;i++)if(n=t.getAt(i,e))return n;return null}))}))}function T(t){var n=E(0,t.grid.maxCols),o=E(0,t.grid.maxRows);return e.map(o,(function(e){return S((function(){for(var o=[],i=0;i<n.length;i++){var r=t.getAt(e,i);r&&r.rowIndex===e&&o.push(r)}return o}),(function(e){return 1===e.rowspan}),(function(){return t.getAt(e,0)}))}))}function N(e){var t=k(x(e)),n=T(t),o=_(t),s=i.dom.getPos(e),l=n.length>0?g(r,a,n):[],c=o.length>0?g(f,h,o):[];w(l,e.offsetWidth,s),C(c,e.offsetHeight,s)}function A(e,t,n,o){if(t<0||t>=e.length-1)return"";var i=e[t];if(i)i={value:i,delta:0};else for(var r=e.slice(0,t).reverse(),a=0;a<r.length;a++)r[a]&&(i={value:r[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});var u=s.delta-i.delta,d=Math.abs(s.value-i.value)/u;return n?d/p(o,"width")*100:d}function R(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function D(e,t,n){var o=R(e,"width"),i=parseInt(o,10),r=t?function(e,t){return p(e,"width")/p(t,"width")*100}(e,n):p(e,"width");return(t&&!$(o)||!t&&!j(o))&&(i=0),!isNaN(i)&&i>0?i:r}function P(t,n,o){for(var i=_(t),r=e.map(i,(function(e){return f(e.colIndex,e.element).x})),a=[],s=0;s<i.length;s++){var l=(i[s].element.hasAttribute("colspan")?parseInt(i[s].element.getAttribute("colspan"),10):1)>1?A(r,s):D(i[s].element,n,o);a.push(l=l||me)}return a}function B(e){var t=R(e,"height"),n=parseInt(t,10);return $(t)&&(n=0),!isNaN(n)&&n>0?n:p(e,"height")}function I(t){for(var n=T(t),o=e.map(n,(function(e){return r(e.rowIndex,e.element).y})),i=[],a=0;a<n.length;a++){var s=(n[a].element.hasAttribute("rowspan")?parseInt(n[a].element.getAttribute("rowspan"),10):1)>1?A(o,a):B(n[a].element);i.push(s=s||ge)}return i}function L(t,n,o,i,r){function a(t){return e.map(t,(function(){return 0}))}function s(e,t){var n,r=a(l.slice(0,e)),s=a(l.slice(t+1));if(o>=0){var c=Math.max(i,l[t]-o);n=r.concat([o,c-l[t]]).concat(s)}else{var u=Math.max(i,l[e]+o);n=r.concat([u-l[e],l[e]-u]).concat(s)}return n}var l=t.slice(0);return 0===t.length?[]:1===t.length?r?[100-l[0]]:[Math.max(i,l[0]+o)-l[0]]:0===n?s(0,1):n>0&&n<t.length-1?s(n,n+1):n===t.length-1?function(e,t){var n,r=a(l.slice(0,t));if(o>=0)n=r.concat([o]);else{var s=Math.max(i,l[t]+o);n=r.concat([s-l[t]])}return n}(0,n):[]}function O(e,t,n){for(var o=0,i=e;i<t;i++)o+=n[i];return o}function M(t,n){var o=t.getAllCells();return e.map(o,(function(e){var t=O(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}}))}function H(t,n){var o=t.getAllCells();return e.map(o,(function(e){var t=O(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}}))}function F(t,n){var o=t.getAllRows();return e.map(o,(function(e,t){return{element:e.element,height:n[t]}}))}function $(e){return ye.test(e)}function j(e){return be.test(e)}function z(t,n,o){for(var r=k(x(t)),a=$(t.width)||$(t.style.width),s=P(r,a,t),l=a?function(e,t){return t/p(e,"width")*100}(t,n):n,c=L(s,o,l,me,a),u=[],d=0;d<c.length;d++)u.push(c[d]+s[d]);var f=M(r,u),h=a?"%":"px",g=a?o<r.grid.maxCols-1?m(t):m(t)+function(e,t){return t/p(e.parentElement,"width")*100}(t,n):o<r.grid.maxCols-1?p(t,"width"):p(t,"width")+n;i.undoManager.transact((function(){(function(t,n){e.each(t,(function(e){i.dom.setStyle(e.element,"width",e.width+n),i.dom.setAttrib(e.element,"width",null)}))})(f,h),function(e,n,a){o!=r.grid.maxCols-1&&a||(i.dom.setStyle(t,"width",e+n),i.dom.setAttrib(t,"width",null))}(g,h,a)}))}function U(t,n,o){for(var r=k(x(t)),a=I(r),s=[],l=0,c=0;c<a.length;c++)s.push(c===o?n+a[c]:a[c]),l+=l[c];var u=H(r,s),d=F(r,s);i.undoManager.transact((function(){e.each(d,(function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)})),e.each(u,(function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)})),i.dom.setStyle(t,"height",l+"px"),i.dom.setAttrib(t,"height",null)}))}function W(){if(i.dom.remove(te),ee){var e,t;if(i.dom.removeClass(ne,ve),ee=!1,V(ne)){var n=parseInt(i.dom.getAttrib(ne,he),10),r=i.dom.getPos(ne).x;e=parseInt(i.dom.getAttrib(ne,fe),10),t=c()?n-r:r-n,Math.abs(t)>=1&&z(o,t,e)}else if(K(ne)){var a=parseInt(i.dom.getAttrib(ne,ce),10),s=i.dom.getPos(ne).y;e=parseInt(i.dom.getAttrib(ne,le),10),t=s-a,Math.abs(t)>=1&&U(o,t,e)}y(o),i.nodeChanged()}}function q(e,t){te=te||function(){var e=document.createElement("div");return e.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),e.setAttribute("data-mce-bogus","all"),e}(),ee=!0,i.dom.addClass(e,ve),ne=e,function(e,t){i.dom.bind(e,"mouseup",(function(){W()})),i.dom.bind(e,"mousemove",(function(e){clearTimeout(Z),ee&&t(e)})),i.dom.bind(e,"mouseout",(function(){Z=setTimeout((function(){W()}),200)}))}(te,t),i.dom.add(d(),te)}function V(e){return i.dom.hasClass(e,ue)}function K(e){return i.dom.hasClass(e,ae)}function Y(e){var n=e.clientX-(oe=oe!==t?oe:e.clientX);oe=e.clientX;var o=i.dom.getPos(ne).x;i.dom.setStyle(ne,"left",o+n+"px")}function X(e){var n=e.clientY-(ie=ie!==t?ie:e.clientY);ie=e.clientY;var o=i.dom.getPos(ne).y;i.dom.setStyle(ne,"top",o+n+"px")}function G(e){oe=t,q(e,Y)}function Q(e){ie=t,q(e,X)}function J(e){var t=e.target,n=i.getBody();if(i.$.contains(n,o)||o===n)if(V(t)){e.preventDefault();var r=i.dom.getPos(t).x;i.dom.setAttrib(t,he,r),G(t)}else if(K(t)){e.preventDefault();var a=i.dom.getPos(t).y;i.dom.setAttrib(t,ce,a),Q(t)}else v()}var Z,ee,te,ne,oe,ie,re="mce-resize-bar",ae="mce-resize-bar-row",se="row-resize",le="data-row",ce="data-initial-top",ue="mce-resize-bar-col",de="col-resize",fe="data-col",he="data-initial-left",pe=4,me=10,ge=10,ve="mce-resize-bar-dragging",ye=new RegExp(/(\d+(\.\d+)?%)/),be=new RegExp(/px|em/);return i.on("init",(function(){i.dom.bind(d(),"mousedown",J)})),i.on("ObjectResized",(function(t){var n=t.target;if("TABLE"===n.nodeName){var o=[];e.each(n.rows,(function(t){e.each(t.cells,(function(e){var t=i.dom.getStyle(e,"width",!0);o.push({cell:e,width:t})}))})),e.each(o,(function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)}))}})),i.on("mouseover",(function(e){if(!ee){var t=i.dom.getParent(e.target,"table");("TABLE"===e.target.nodeName||t)&&(o=t,y(t))}})),i.on("keydown",(function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:v()}})),i.on("remove",(function(){v(),i.dom.unbind(d(),"mousedown",J)})),{adjustWidth:z,adjustHeight:U,clearBars:v,drawBars:N,determineDeltas:L,getTableGrid:k,getTableDetails:x,getWidths:P,getPixelHeights:I,isPercentageBasedSize:$,isPixelBasedSize:j,recalculateWidths:M,recalculateCellHeights:H,recalculateRowHeights:F}}})),o("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],(function(e,t,n,o,i,r,a,s,l){var c=r.each;l.add("table",(function(r){function a(e){return function(){r.execCommand(e)}}function l(e,t){var n,o,i,a;for(i='<table id="__mce"><tbody>',n=0;n<t;n++){for(i+="<tr>",o=0;o<e;o++)i+="<td>"+(s.ie&&s.ie<10?"&nbsp;":"<br>")+"</td>";i+="</tr>"}return i+="</tbody></table>",r.undoManager.transact((function(){r.insertContent(i),a=r.dom.get("__mce"),r.dom.setAttrib(a,"id",null),r.$("tr",a).each((function(e,t){r.fire("newrow",{node:t}),r.$("th,td",t).each((function(e,t){r.fire("newcell",{node:t})}))})),r.dom.setAttribs(a,r.settings.table_default_attributes||{}),r.dom.setStyles(a,r.settings.table_default_styles||{})})),a}function u(e,t,n){function o(){var o,i,a,s={},l=0;(o=(i=r.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(o=r.selection.getStart()),n&&i.length>0?(c(i,(function(e){return s[e.parentNode.parentNode.nodeName]=1})),c(s,(function(e){l+=e})),a=1!==l):a=!r.dom.getParent(o,t),e.disabled(a),r.selection.selectorChanged(t,(function(t){e.disabled(!t)}))}r.initialized?o():r.on("init",o)}function d(){u(this,"table")}function f(){u(this,"td,th")}function h(e,t,n){var o,i,a,s,l,c=n.getEl().getElementsByTagName("table")[0],u=n.isRtl()||"tl-tr"==n.parent().rel;for(c.nextSibling.innerHTML=e+1+" x "+(t+1),u&&(e=9-e),i=0;i<10;i++)for(o=0;o<10;o++)r.dom.toggleClass(s=c.rows[i].childNodes[o].firstChild,"mce-active",l=(u?o>=e:o<=e)&&i<=t),l&&(a=s);return a.parentNode}function p(e){return r.dom.is(e,"table")&&r.getBody().contains(e)}var m,g,v=this,y=new o(r);!r.settings.object_resizing||!1===r.settings.table_resize_bars||!0!==r.settings.object_resizing&&"table"!==r.settings.object_resizing||(g=i(r)),r.addMenuItem("inserttable",!1===r.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:y.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),y.table())},onshow:function(){h(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");r.dom.removeClass(e,"mce-active"),r.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,o=e.target;"A"==o.tagName.toUpperCase()&&(t=parseInt(o.getAttribute("data-mce-x"),10),n=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(h(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),r.undoManager.transact((function(){l(t.lastX+1,t.lastY+1)})),r.addVisual())}}]}),r.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:d,onclick:y.tableProps}),r.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:d,cmd:"mceTableDelete"}),r.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:a("mceTableCellProps"),onPostRender:f},{text:"Merge cells",onclick:a("mceTableMergeCells"),onPostRender:function(){u(this,"td,th",!0)}},{text:"Split cell",onclick:a("mceTableSplitCells"),onPostRender:f}]}),r.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:a("mceTableInsertRowBefore"),onPostRender:f},{text:"Insert row after",onclick:a("mceTableInsertRowAfter"),onPostRender:f},{text:"Delete row",onclick:a("mceTableDeleteRow"),onPostRender:f},{text:"Row properties",onclick:a("mceTableRowProps"),onPostRender:f},{text:"-"},{text:"Cut row",onclick:a("mceTableCutRow"),onPostRender:f},{text:"Copy row",onclick:a("mceTableCopyRow"),onPostRender:f},{text:"Paste row before",onclick:a("mceTablePasteRowBefore"),onPostRender:f},{text:"Paste row after",onclick:a("mceTablePasteRowAfter"),onPostRender:f}]}),r.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:a("mceTableInsertColBefore"),onPostRender:f},{text:"Insert column after",onclick:a("mceTableInsertColAfter"),onPostRender:f},{text:"Delete column",onclick:a("mceTableDeleteCol"),onPostRender:f}]});var b=[];c("inserttable tableprops deletetable | cell row column".split(" "),(function(e){b.push("|"==e?{text:"-"}:r.menuItems[e])})),r.addButton("table",{type:"menubutton",title:"Table",menu:b}),s.isIE||r.on("click",(function(e){"TABLE"===(e=e.target).nodeName&&(r.selection.select(e),r.nodeChanged())})),v.quirks=new t(r),r.on("Init",(function(){v.cellSelection=new n(r,(function(e){e&&g&&g.clearBars()})),v.resizeBars=g})),r.on("PreInit",(function(){r.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",(function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))})),c({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=r.dom.getParent(r.selection.getStart(),"th,td"),r.dom.select("td[data-mce-selected],th[data-mce-selected]").length?e.merge():y.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){m=e.cutRows()},mceTableCopyRow:function(e){m=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(m,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(m)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){g&&g.clearBars(),e.deleteTable()}},(function(t,n){r.addCommand(n,(function(){var n=new e(r);n&&(t(n),r.execCommand("mceRepaint"),v.cellSelection.clear())}))})),c({mceInsertTable:y.table,mceTableProps:function(){y.table(!0)},mceTableRowProps:y.row,mceTableCellProps:y.cell},(function(e,t){r.addCommand(t,(function(t,n){e(n)}))})),r.addButton("tableprops",{title:"Table properties",onclick:y.tableProps,icon:"table"}),r.addButton("tabledelete",{title:"Delete table",onclick:a("mceTableDelete")}),r.addButton("tablecellprops",{title:"Cell properties",onclick:a("mceTableCellProps")}),r.addButton("tablemergecells",{title:"Merge cells",onclick:a("mceTableMergeCells")}),r.addButton("tablesplitcells",{title:"Split cell",onclick:a("mceTableSplitCells")}),r.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:a("mceTableInsertRowBefore")}),r.addButton("tableinsertrowafter",{title:"Insert row after",onclick:a("mceTableInsertRowAfter")}),r.addButton("tabledeleterow",{title:"Delete row",onclick:a("mceTableDeleteRow")}),r.addButton("tablerowprops",{title:"Row properties",onclick:a("mceTableRowProps")}),r.addButton("tablecutrow",{title:"Cut row",onclick:a("mceTableCutRow")}),r.addButton("tablecopyrow",{title:"Copy row",onclick:a("mceTableCopyRow")}),r.addButton("tablepasterowbefore",{title:"Paste row before",onclick:a("mceTablePasteRowBefore")}),r.addButton("tablepasterowafter",{title:"Paste row after",onclick:a("mceTablePasteRowAfter")}),r.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:a("mceTableInsertColBefore")}),r.addButton("tableinsertcolafter",{title:"Insert column after",onclick:a("mceTableInsertColAfter")}),r.addButton("tabledeletecol",{title:"Delete column",onclick:a("mceTableDeleteCol")}),function(){var e=r.settings.table_toolbar;""!==e&&!1!==e&&(e||(e="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),r.addContextToolbar(p,e))}(),!1!==r.settings.table_tab_navigation&&r.on("keydown",(function(t){var n,o,i;9==t.keyCode&&(n=r.dom.getParent(r.selection.getStart(),"th,td"))&&(t.preventDefault(),o=new e(r),i=t.shiftKey?-1:1,r.undoManager.transact((function(){!o.moveRelIdx(n,i)&&i>0&&(o.insertRow(),o.refresh(),o.moveRelIdx(n,i))})))})),v.insertTable=l,v.setClipboardRows=function(e){m=e},v.getClipboardRows=function(){return m}}))}))}(window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Sweetalert2=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return(l=s()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&a(i,n.prototype),i}).apply(null,arguments)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var d=function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){return Array.prototype.slice.call(e)},h=function(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},p=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},m=[],g=function(e){return"function"==typeof e?e():e},v=function(e){return e&&"function"==typeof e.toPromise},y=function(e){return v(e)?e.toPromise():Promise.resolve(e)},b=function(e){return e&&Promise.resolve(e)===e},w=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),C=function(t){return t instanceof Element||function(t){return"object"===e(t)&&t.jquery}(t)},x=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},k=x(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),E=x(["success","warning","info","question","error"]),S=function(){return document.body.querySelector(".".concat(k.container))},_=function(e){var t=S();return t?t.querySelector(e):null},T=function(e){return _(".".concat(e))},N=function(){return T(k.popup)},A=function(){var e=N();return f(e.querySelectorAll(".".concat(k.icon)))},R=function(){var e=A().filter((function(e){return de(e)}));return e.length?e[0]:null},D=function(){return T(k.title)},P=function(){return T(k.content)},B=function(){return T(k.image)},I=function(){return T(k["progress-steps"])},L=function(){return T(k["validation-message"])},O=function(){return _(".".concat(k.actions," .").concat(k.confirm))},M=function(){return _(".".concat(k.actions," .").concat(k.deny))},H=function(){return _(".".concat(k.loader))},F=function(){return _(".".concat(k.actions," .").concat(k.cancel))},$=function(){return T(k.actions)},j=function(){return T(k.header)},z=function(){return T(k.footer)},U=function(){return T(k["timer-progress-bar"])},W=function(){return T(k.close)},q=function(){var e=f(N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=f(N().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return de(e)}))},V=function(){return!K()&&!document.body.classList.contains(k["no-backdrop"])},K=function(){return document.body.classList.contains(k["toast-shown"])},Y=function(){return N().hasAttribute("data-loading")},X={previousBodyPadding:null},G=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");f(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),f(n.querySelector("body").childNodes).forEach((function(t){e.appendChild(t)}))}},Q=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},J=function(t,n,o){if(function(e,t){f(e.classList).forEach((function(n){-1===d(k).indexOf(n)&&-1===d(E).indexOf(n)&&-1===d(t.showClass).indexOf(n)&&e.classList.remove(n)}))}(t,n),n.customClass&&n.customClass[o]){if("string"!=typeof n.customClass[o]&&!n.customClass[o].forEach)return h("Invalid type of customClass.".concat(o,'! Expected string or iterable object, got "').concat(e(n.customClass[o]),'"'));oe(t,n.customClass[o])}};function Z(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return re(e,k[t]);case"checkbox":return e.querySelector(".".concat(k.checkbox," input"));case"radio":return e.querySelector(".".concat(k.radio," input:checked"))||e.querySelector(".".concat(k.radio," input:first-child"));case"range":return e.querySelector(".".concat(k.range," input"));default:return re(e,k.input)}}var ee,te=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ne=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},oe=function(e,t){ne(e,t,!0)},ie=function(e,t){ne(e,t,!1)},re=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(Q(e.childNodes[n],t))return e.childNodes[n]},ae=function(e,t,n){n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},le=function(e){e.style.display="none"},ce=function(e,t,n,o){var i=e.querySelector(t);i&&(i.style[n]=o)},ue=function(e,t,n){t?se(e,n):le(e)},de=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},fe=function(e){return!!(e.scrollHeight>e.clientHeight)},he=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=U();de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},me=function(){return"undefined"==typeof window||"undefined"==typeof document},ge='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k.content,'" class="').concat(k.popup,'" tabindex="-1">\n   <div class="').concat(k.header,'">\n     <ul class="').concat(k["progress-steps"],'"></ul>\n     <div class="').concat(k.icon," ").concat(E.error,'"></div>\n     <div class="').concat(k.icon," ").concat(E.question,'"></div>\n     <div class="').concat(k.icon," ").concat(E.warning,'"></div>\n     <div class="').concat(k.icon," ").concat(E.info,'"></div>\n     <div class="').concat(k.icon," ").concat(E.success,'"></div>\n     <img class="').concat(k.image,'" />\n     <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n     <button type="button" class="').concat(k.close,'"></button>\n   </div>\n   <div class="').concat(k.content,'">\n     <div id="').concat(k.content,'" class="').concat(k["html-container"],'"></div>\n     <input class="').concat(k.input,'" />\n     <input type="file" class="').concat(k.file,'" />\n     <div class="').concat(k.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(k.select,'"></select>\n     <div class="').concat(k.radio,'"></div>\n     <label for="').concat(k.checkbox,'" class="').concat(k.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(k.label,'"></span>\n     </label>\n     <textarea class="').concat(k.textarea,'"></textarea>\n     <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   </div>\n   <div class="').concat(k.actions,'">\n     <div class="').concat(k.loader,'"></div>\n     <button type="button" class="').concat(k.confirm,'"></button>\n     <button type="button" class="').concat(k.deny,'"></button>\n     <button type="button" class="').concat(k.cancel,'"></button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ve=function(e){Rt.isVisible()&&ee!==e.target.value&&Rt.resetValidationMessage(),ee=e.target.value},ye=function(t,n){t instanceof HTMLElement?n.appendChild(t):"object"===e(t)?be(t,n):t&&G(n,t)},be=function(e,t){e.jquery?we(t,e):G(t,e.toString())},we=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ce=function(){if(me())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}();function xe(e,t,n){var o;ue(e,n["show".concat((o=t,o.charAt(0).toUpperCase()+o.slice(1)),"Button")],"inline-block"),G(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=k[t],J(e,n,"".concat(t,"Button")),oe(e,n["".concat(t,"ButtonClass")])}var ke={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Ee=["input","file","range","select","radio","checkbox","textarea"],Se=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},_e=function(e){var t=k[e]?k[e]:k.input;return re(P(),t)},Te={};Te.text=Te.email=Te.password=Te.number=Te.tel=Te.url=function(t,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?t.value=n.inputValue:b(n.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(n.inputValue),'"')),Se(t,n),t.type=n.input,t},Te.file=function(e,t){return Se(e,t),e},Te.range=function(e,t){var n=e.querySelector("input"),o=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,o.value=t.inputValue,e},Te.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");G(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return e},Te.radio=function(e){return e.textContent="",e},Te.checkbox=function(e,t){var n=Z(P(),"checkbox");n.value=1,n.id=k.checkbox,n.checked=Boolean(t.inputValue);var o=e.querySelector("span");return G(o,t.inputPlaceholder),e},Te.textarea=function(e,t){if(e.value=t.inputValue,Se(e,t),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(N()).width),o=parseInt(window.getComputedStyle(N()).paddingLeft)+parseInt(window.getComputedStyle(N()).paddingRight);new MutationObserver((function(){var t=e.offsetWidth+o;N().style.width=t>n?"".concat(t,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var Ne=function(e,t){Re(e,t),Ae(),J(e,t,"icon")},Ae=function(){for(var e=N(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),o=0;o<n.length;o++)n[o].style.backgroundColor=t},Re=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,o=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<o.length;n++)ce(e,o[n],"backgroundColor",t.iconColor);ce(e,".swal2-success-ring","borderColor",t.iconColor)}},De=function(e){return'<div class="'.concat(k["icon-content"],'">').concat(e,"</div>")},Pe=[],Be=function(){return S()&&S().getAttribute("data-queue-step")},Ie=function(e,t){!function(e,t){var n=N();ae(n,"width",t.width),ae(n,"padding",t.padding),t.background&&(n.style.background=t.background),function(e,t){e.className="".concat(k.popup," ").concat(de(e)?t.showClass.popup:""),t.toast?(oe([document.documentElement,document.body],k["toast-shown"]),oe(e,k.toast)):oe(e,k.modal),J(e,t,"popup"),"string"==typeof t.customClass&&oe(e,t.customClass),t.icon&&oe(e,k["icon-".concat(t.icon)])}(n,t)}(0,t),function(e,t){var n=S();if(n){!function(e,t){"string"==typeof t?e.style.background=t:t||oe([document.documentElement,document.body],k["no-backdrop"])}(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(e,t){t in k?oe(e,k[t]):(h('The "position" parameter is not valid, defaulting to "center"'),oe(e,k.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in k&&oe(e,k[n])}}(n,t.grow),J(n,t,"container");var o=document.body.getAttribute("data-swal2-queue-step");o&&(n.setAttribute("data-queue-step",o),document.body.removeAttribute("data-swal2-queue-step"))}}(0,t),function(e,t){var n=j();J(n,t,"header"),function(e,t){var n=I();if(!t.progressSteps||0===t.progressSteps.length)return le(n);se(n),n.textContent="";var o=parseInt(void 0===t.currentProgressStep?Be():t.currentProgressStep);o>=t.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,i){var r=function(e){var t=document.createElement("li");return oe(t,k["progress-step"]),G(t,e),t}(e);if(n.appendChild(r),i===o&&oe(r,k["active-progress-step"]),i!==t.progressSteps.length-1){var a=function(e){var t=document.createElement("li");return oe(t,k["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(t);n.appendChild(a)}}))}(0,t),function(e,t){var n=ke.innerParams.get(e);if(n&&t.icon===n.icon&&R())Ne(R(),t);else if(function(){for(var e=A(),t=0;t<e.length;t++)le(e[t])}(),t.icon)if(-1!==Object.keys(E).indexOf(t.icon)){var o=_(".".concat(k.icon,".").concat(E[t.icon]));se(o),function(e,t){e.textContent="",G(e,t.iconHtml?De(t.iconHtml):"success"===t.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===t.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':De({question:"?",warning:"!",info:"i"}[t.icon]))}(o,t),Ne(o,t),oe(o,t.showClass.icon)}else p('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"'))}(e,t),function(e,t){var n=B();if(!t.imageUrl)return le(n);se(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),ae(n,"width",t.imageWidth),ae(n,"height",t.imageHeight),n.className=k.image,J(n,t,"image")}(0,t),function(e,t){var n=D();ue(n,t.title||t.titleText),t.title&&ye(t.title,n),t.titleText&&(n.innerText=t.titleText),J(n,t,"title")}(0,t),function(e,t){var n=W();G(n,t.closeButtonHtml),J(n,t,"closeButton"),ue(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t)}(e,t),function(e,t){var n=P().querySelector("#".concat(k.content));t.html?(ye(t.html,n),se(n,"block")):t.text?(n.textContent=t.text,se(n,"block")):le(n),function(e,t){var n=P(),o=ke.innerParams.get(e),i=!o||t.input!==o.input;Ee.forEach((function(e){var o=k[e],r=re(n,o);(function(e,t){var n=Z(P(),e);if(n)for(var o in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;-1===["type","value","style"].indexOf(n)&&e.removeAttribute(n)}}(n),t)"range"===e&&"placeholder"===o||n.setAttribute(o,t[o])})(e,t.inputAttributes),r.className=o,i&&le(r)})),t.input&&(i&&function(e){if(!Te[e.input])return p('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=_e(e.input),n=Te[e.input](t,e);se(n),setTimeout((function(){te(n)}))}(t),function(e){var t=_e(e.input);e.customClass&&oe(t,e.customClass.input)}(t))}(e,t),J(P(),t,"content")}(e,t),function(e,t){var n=$(),o=H(),i=O(),r=M(),a=F();t.showConfirmButton||t.showDenyButton||t.showCancelButton||le(n),J(n,t,"actions"),xe(i,"confirm",t),xe(r,"deny",t),xe(a,"cancel",t),o.innerHTML=t.loaderHtml,t.buttonsStyling?function(e,t,n,o){if(oe([e,t,n],k.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor),o.denyButtonColor&&(t.style.backgroundColor=o.denyButtonColor),o.cancelButtonColor&&(n.style.backgroundColor=o.cancelButtonColor),!Y()){var i=window.getComputedStyle(e).getPropertyValue("background-color");e.style.borderLeftColor=i,e.style.borderRightColor=i}}(i,r,a,t):ie([i,r,a],k.styled),t.reverseButtons&&(n.insertBefore(a,o),n.insertBefore(r,o),n.insertBefore(i,o))}(0,t),function(e,t){var n=z();ue(n,t.footer),t.footer&&ye(t.footer,n),J(n,t,"footer")}(0,t),"function"==typeof t.didRender?t.didRender(N()):"function"==typeof t.onRender&&t.onRender(N())},Le=function(){return O()&&O().click()},Oe=function(){var e=N();e||Rt.fire(),e=N();var t=$(),n=O(),o=H();se(t),le(n),oe([e,t],k.loading),se(o),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Me={},He=function(){if(Me.timeout)return function(){var e=U(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),o=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(o,"%")}(),Me.timeout.stop()},Fe=function(){if(Me.timeout){var e=Me.timeout.start();return pe(e),e}},$e={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},je=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ze={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},Ue=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],We=function(e){return Object.prototype.hasOwnProperty.call($e,e)},qe=function(e){return ze[e]},Ve=function(e){We(e)||h('Unknown parameter "'.concat(e,'"'))},Ke=function(e){-1!==Ue.indexOf(e)&&h('The parameter "'.concat(e,'" is incompatible with toasts'))},Ye=function(e){var t,n,o;qe(e)&&(t=e,n=qe(e),o='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===m.indexOf(o)&&(m.push(o),h(o)))},Xe=Object.freeze({isValidParameter:We,isUpdatableParameter:function(e){return-1!==je.indexOf(e)},isDeprecatedParameter:qe,argsToParams:function(t){var n={};return"object"!==e(t[0])||C(t[0])?["title","html","icon"].forEach((function(o,i){var r=t[i];"string"==typeof r||C(r)?n[o]=r:void 0!==r&&p("Unexpected type of ".concat(o,'! Expected "string" or "Element", got ').concat(e(r)))})):i(n,t[0]),n},isVisible:function(){return de(N())},clickConfirm:Le,clickDeny:function(){return M()&&M().click()},clickCancel:function(){return F()&&F().click()},getContainer:S,getPopup:N,getTitle:D,getContent:P,getHtmlContainer:function(){return T(k["html-container"])},getImage:B,getIcon:R,getIcons:A,getCloseButton:W,getActions:$,getConfirmButton:O,getDenyButton:M,getCancelButton:F,getHeader:j,getFooter:z,getTimerProgressBar:U,getFocusableElements:q,getValidationMessage:L,isLoading:Y,fire:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return l(e,n)},mixin:function(e){return function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,n);var l,d,f=(l=h,d=s(),function(){var e,t=r(l);if(d){var n=r(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(){return t(this,h),f.apply(this,arguments)}return o(h,[{key:"_main",value:function(t){return u(r(h.prototype),"_main",this).call(this,i({},e,t))}}]),h}(this)},queue:function(e){var t=this;Pe=e;var n=function(e,t){Pe=[],e(t)},o=[];return new Promise((function(e){!function i(r,a){r<Pe.length?(document.body.setAttribute("data-swal2-queue-step",r),t.fire(Pe[r]).then((function(t){void 0!==t.value?(o.push(t.value),i(r+1,a)):n(e,{dismiss:t.dismiss})}))):n(e,{value:o})}(0)}))},getQueueStep:Be,insertQueueStep:function(e,t){return t&&t<Pe.length?Pe.splice(t,0,e):Pe.push(e)},deleteQueueStep:function(e){void 0!==Pe[e]&&Pe.splice(e,1)},showLoading:Oe,enableLoading:Oe,getTimerLeft:function(){return Me.timeout&&Me.timeout.getTimerLeft()},stopTimer:He,resumeTimer:Fe,toggleTimer:function(){var e=Me.timeout;return e&&(e.running?He():Fe())},increaseTimer:function(e){if(Me.timeout){var t=Me.timeout.increase(e);return pe(t,!0),t}},isTimerRunning:function(){return Me.timeout&&Me.timeout.isRunning()}});function Ge(){var e=ke.innerParams.get(this);if(e){var t=ke.domCache.get(this);le(t.loader),e.showConfirmButton?se(t.confirmButton):e.showConfirmButton||e.showCancelButton||le(t.actions),ie([t.popup,t.actions],k.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Qe=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Je=function(){var e=S(),t=N();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},Ze={swalPromiseResolve:new WeakMap};function et(e,t,n,o){n?at(e,o):(new Promise((function(e){var t=window.scrollX,n=window.scrollY;Me.restoreFocusTimeout=setTimeout((function(){Me.previousActiveElement&&Me.previousActiveElement.focus?(Me.previousActiveElement.focus(),Me.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)})).then((function(){return at(e,o)})),Me.keydownTarget.removeEventListener("keydown",Me.keydownHandler,{capture:Me.keydownListenerCapture}),Me.keydownHandlerAdded=!1),t.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&t.parentNode.removeChild(t),V()&&(null!==X.previousBodyPadding&&(document.body.style.paddingRight="".concat(X.previousBodyPadding,"px"),X.previousBodyPadding=null),function(){if(Q(document.body,k.iosfix)){var e=parseInt(document.body.style.top,10);ie(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),"undefined"!=typeof window&&Qe()&&window.removeEventListener("resize",Je),f(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))),ie([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"],k["toast-column"]])}function tt(e){var t=N();if(t){e=nt(e);var n=ke.innerParams.get(this);if(n&&!Q(t,n.hideClass.popup)){var o=Ze.swalPromiseResolve.get(this);ie(t,n.showClass.popup),oe(t,n.hideClass.popup);var i=S();ie(i,n.showClass.backdrop),oe(i,n.hideClass.backdrop),ot(this,t,n),o(e)}}}var nt=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},ot=function(e,t,n){var o=S(),i=Ce&&he(t),r=n.onAfterClose,a=n.didClose;it(t,n.willClose,n.onClose),i?rt(e,t,o,a||r):et(e,o,K(),a||r)},it=function(e,t,n){null!==t&&"function"==typeof t?t(e):null!==n&&"function"==typeof n&&n(e)},rt=function(e,t,n,o){Me.swalCloseEventFinishedCallback=et.bind(null,e,n,K(),o),t.addEventListener(Ce,(function(e){e.target===t&&(Me.swalCloseEventFinishedCallback(),delete Me.swalCloseEventFinishedCallback)}))},at=function(e,t){setTimeout((function(){"function"==typeof t&&t(),e._destroy()}))};function st(e,t,n){var o=ke.domCache.get(e);t.forEach((function(e){o[e].disabled=n}))}function lt(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),o=0;o<n.length;o++)n[o].disabled=t;else e.disabled=t}var ct=function(){function e(n,o){t(this,e),this.callback=n,this.remaining=o,this.running=!1,this.start()}return o(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),ut={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};var dt,ft=function e(t){var n=N();if(t.target===n){var o=S();n.removeEventListener(Ce,e),o.style.overflowY="auto"}},ht=function(e,t,n){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Q(document.body,k.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),oe(document.body,k.iosfix),function(){var e,t=S();t.ontouchstart=function(t){e=function(e){var t=S();return e===t||!(fe(t)||"INPUT"===e.tagName||fe(P())&&P().contains(e))}(t.target)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||N().scrollHeight>window.innerHeight-44&&(S().style.paddingBottom="".concat(44,"px"))}}(),"undefined"!=typeof window&&Qe()&&(Je(),window.addEventListener("resize",Je)),t&&"hidden"!==n&&null===X.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(X.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(X.previousBodyPadding+function(){var e=document.createElement("div");e.className=k["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px")),setTimeout((function(){e.scrollTop=0}))},pt={select:function(e,t,n){var o=re(e,k.select),i=function(e,t,o){var i=document.createElement("option");i.value=o,G(i,t),n.inputValue.toString()===o.toString()&&(i.selected=!0),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var r=document.createElement("optgroup");r.label=t,r.disabled=!1,o.appendChild(r),n.forEach((function(e){return i(r,e[1],e[0])}))}else i(o,n,t)})),o.focus()},radio:function(e,t,n){var o=re(e,k.radio);t.forEach((function(e){var t=e[0],i=e[1],r=document.createElement("input"),a=document.createElement("label");r.type="radio",r.name=k.radio,r.value=t,n.inputValue.toString()===t.toString()&&(r.checked=!0);var s=document.createElement("span");G(s,i),s.className=k.label,a.appendChild(r),a.appendChild(s),o.appendChild(a)}));var i=o.querySelectorAll("input");i.length&&i[0].focus()}},mt=function(e,t){e.closePopup({isConfirmed:!0,value:t})},gt=function(e,t,n){t.showLoaderOnConfirm&&Oe(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then((function(){return y(t.preConfirm(n,t.validationMessage))})).then((function(t){de(L())||!1===t?e.hideLoading():mt(e,void 0===t?n:t)}))):mt(e,n)},vt=function(e,t,n){for(var o=q(),i=0;i<o.length;i++)return(t+=n)===o.length?t=0:-1===t&&(t=o.length-1),o[t].focus();N().focus()},yt=["ArrowRight","ArrowDown","Right","Down"],bt=["ArrowLeft","ArrowUp","Left","Up"],wt=["Escape","Esc"],Ct=!1,xt=function(t,n,o){return new Promise((function(i){var r=function(e){t.closePopup({isDismissed:!0,dismiss:e})};Ze.swalPromiseResolve.set(t,i),n.confirmButton.onclick=function(){return function(e,t){e.disableButtons(),t.input?function(e,t){var n=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return function(e){return e.checked?1:0}(n);case"radio":return function(e){return e.checked?e.value:null}(n);case"file":return function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null}(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,t);t.inputValidator?(e.disableInput(),Promise.resolve().then((function(){return y(t.inputValidator(n,t.validationMessage))})).then((function(o){e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):gt(e,t,n)}))):e.getInput().checkValidity()?gt(e,t,n):(e.enableButtons(),e.showValidationMessage(t.validationMessage))}(e,t):gt(e,t,!0)}(t,o)},n.denyButton.onclick=function(){return function(e){e.disableButtons(),function(e){e.closePopup({isDenied:!0,value:!1})}(e)}(t)},n.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(w.cancel)}(t,r)},n.closeButton.onclick=function(){return r(w.close)},function(e,t,n){ke.innerParams.get(e).toast?function(e,t,n){t.popup.onclick=function(){var t=ke.innerParams.get(e);t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton||t.input||n(w.close)}}(e,t,n):(function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(Ct=!0)}}}(t),function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(Ct=!0)}}}(t),function(e,t,n){t.container.onclick=function(o){var i=ke.innerParams.get(e);Ct?Ct=!1:o.target===t.container&&g(i.allowOutsideClick)&&n(w.backdrop)}}(e,t,n))}(t,n,r),function(e,t,n,o){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return function(e,t,n){var o=ke.innerParams.get(e);o.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Le(),t.preventDefault()}}(e,t,o):"Tab"===t.key?function(e,t){for(var n=e.target,o=q(),i=-1,r=0;r<o.length;r++)if(n===o[r]){i=r;break}vt(0,i,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()}(t):-1!==[].concat(yt,bt).indexOf(t.key)?function(e){if(-1!==[O(),M(),F()].indexOf(document.activeElement)){var t=-1!==yt.indexOf(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement[t];n&&n.focus()}}(t.key):-1!==wt.indexOf(t.key)&&function(e,t,n){g(t.allowEscapeKey)&&(e.preventDefault(),n(w.esc))}(t,o,n)}(e,t,o)},t.keydownTarget=n.keydownListenerCapture?window:N(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(t,Me,o,r),o.toast&&(o.input||o.footer||o.showCloseButton)?oe(document.body,k["toast-column"]):ie(document.body,k["toast-column"]),function(t,n){"select"===n.input||"radio"===n.input?function(t,n){var o=P(),i=function(t){return pt[n.input](o,function t(n){var o=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((function(n,i){var r=n;"object"===e(r)&&(r=t(r)),o.push([i,r])})):Object.keys(n).forEach((function(i){var r=n[i];"object"===e(r)&&(r=t(r)),o.push([i,r])})),o}(t),n)};v(n.inputOptions)||b(n.inputOptions)?(Oe(),y(n.inputOptions).then((function(e){t.hideLoading(),i(e)}))):"object"===e(n.inputOptions)?i(n.inputOptions):p("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(n.inputOptions)))}(t,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(v(n.inputValue)||b(n.inputValue))&&function(e,t){var n=e.getInput();le(n),y(t.inputValue).then((function(o){n.value="number"===t.input?parseFloat(o)||0:"".concat(o),se(n),n.focus(),e.hideLoading()})).catch((function(t){p("Error in inputValue promise: ".concat(t)),n.value="",se(n),n.focus(),e.hideLoading()}))}(t,n)}(t,o),function(e){var t=S(),n=N();"function"==typeof e.willOpen?e.willOpen(n):"function"==typeof e.onBeforeOpen&&e.onBeforeOpen(n);var o=window.getComputedStyle(document.body).overflowY;(function(e,t,n){oe(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),se(t),setTimeout((function(){oe(t,n.showClass.popup),t.style.removeProperty("opacity")}),10),oe([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&oe([document.documentElement,document.body],k["height-auto"])})(t,n,e),setTimeout((function(){!function(e,t){Ce&&he(t)?(e.style.overflowY="hidden",t.addEventListener(Ce,ft)):e.style.overflowY="auto"}(t,n)}),10),V()&&(ht(t,e.scrollbarPadding,o),f(document.body.children).forEach((function(e){e===S()||function(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,S())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),K()||Me.previousActiveElement||(Me.previousActiveElement=document.activeElement),function(e,t){"function"==typeof t.didOpen?setTimeout((function(){return t.didOpen(e)})):"function"==typeof t.onOpen&&setTimeout((function(){return t.onOpen(e)}))}(n,e),ie(t,k["no-transition"])}(o),kt(Me,o,r),Et(n,o),setTimeout((function(){n.container.scrollTop=0}))}))},kt=function(e,t,n){var o=U();le(o),t.timer&&(e.timeout=new ct((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(se(o),setTimeout((function(){e.timeout.running&&pe(t.timer)}))))},Et=function(e,t){if(!t.toast)return g(t.allowEnterKey)?void(St(e,t)||vt(0,-1,1)):_t()},St=function(e,t){return t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton)||(e.confirmButton.focus(),0))},_t=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Tt=function(e){for(var t in e)e[t]=new WeakMap},Nt=Object.freeze({hideLoading:Ge,disableLoading:Ge,getInput:function(e){var t=ke.innerParams.get(e||this),n=ke.domCache.get(e||this);return n?Z(n.content,t.input):null},close:tt,closePopup:tt,closeModal:tt,closeToast:tt,enableButtons:function(){st(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){st(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return lt(this.getInput(),!1)},disableInput:function(){return lt(this.getInput(),!0)},showValidationMessage:function(e){var t=ke.domCache.get(this);G(t.validationMessage,e);var n=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),se(t.validationMessage);var o=this.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedBy",k["validation-message"]),te(o),oe(o,k.inputerror))},resetValidationMessage:function(){var e=ke.domCache.get(this);e.validationMessage&&le(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),ie(t,k.inputerror))},getProgressSteps:function(){return ke.domCache.get(this).progressSteps},_main:function(e){!function(e){for(var t in e)Ve(t),e.toast&&Ke(t),Ye(t)}(e),Me.currentInstance&&Me.currentInstance._destroy(),Me.currentInstance=this;var t,n=function(e){var t=i({},$e.showClass,e.showClass),n=i({},$e.hideClass,e.hideClass),o=i({},$e,e);return o.showClass=t,o.hideClass=n,!1===e.animation&&(o.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},o.hideClass={}),o}(e);(function(e){e.inputValidator||Object.keys(ut).forEach((function(t){e.input===t&&(e.inputValidator=ut[t])}))})(t=n),t.showLoaderOnConfirm&&!t.preConfirm&&h("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=g(t.animation),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),e.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),function(e){var t,n=!!(t=S())&&(t.parentNode.removeChild(t),ie([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0);if(me())p("SweetAlert2 requires document to initialize");else{var o=document.createElement("div");o.className=k.container,n&&oe(o,k["no-transition"]),G(o,ge);var i,r,a,s,l,c,u,d,f,h="string"==typeof(i=e.target)?document.querySelector(i):i;h.appendChild(o),function(e){var t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&oe(S(),k.rtl)}(h),r=P(),a=re(r,k.input),s=re(r,k.file),l=r.querySelector(".".concat(k.range," input")),c=r.querySelector(".".concat(k.range," output")),u=re(r,k.select),d=r.querySelector(".".concat(k.checkbox," input")),f=re(r,k.textarea),a.oninput=ve,s.onchange=ve,u.onchange=ve,d.onchange=ve,f.oninput=ve,l.oninput=function(e){ve(e),c.value=l.value},l.onchange=function(e){ve(e),l.nextSibling.value=l.value}}}(t),Object.freeze(n),Me.timeout&&(Me.timeout.stop(),delete Me.timeout),clearTimeout(Me.restoreFocusTimeout);var o=function(e){var t={popup:N(),container:S(),content:P(),actions:$(),confirmButton:O(),denyButton:M(),cancelButton:F(),loader:H(),closeButton:W(),validationMessage:L(),progressSteps:I()};return ke.domCache.set(e,t),t}(this);return Ie(this,n),ke.innerParams.set(this,n),xt(this,o,n)},update:function(e){var t=N(),n=ke.innerParams.get(this);if(!t||Q(t,n.hideClass.popup))return h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var o={};Object.keys(e).forEach((function(t){Rt.isUpdatableParameter(t)?o[t]=e[t]:h('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var r=i({},n,o);Ie(this,r),ke.innerParams.set(this,r),Object.defineProperties(this,{params:{value:i({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var e=ke.domCache.get(this),t=ke.innerParams.get(this);t&&(e.popup&&Me.swalCloseEventFinishedCallback&&(Me.swalCloseEventFinishedCallback(),delete Me.swalCloseEventFinishedCallback),Me.deferDisposalTimer&&(clearTimeout(Me.deferDisposalTimer),delete Me.deferDisposalTimer),function(e){"function"==typeof e.didDestroy?e.didDestroy():"function"==typeof e.onDestroy&&e.onDestroy()}(t),delete this.params,delete Me.keydownHandler,delete Me.keydownTarget,Tt(ke),Tt(Ze))}}),At=function(){function e(){if(t(this,e),"undefined"!=typeof window){"undefined"==typeof Promise&&p("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),dt=this;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var r=Object.freeze(this.constructor.argsToParams(o));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var a=this._main(this.params);ke.promise.set(this,a)}}return o(e,[{key:"then",value:function(e){return ke.promise.get(this).then(e)}},{key:"finally",value:function(e){return ke.promise.get(this).finally(e)}}]),e}();i(At.prototype,Nt),i(At,Xe),Object.keys(Nt).forEach((function(e){At[e]=function(){var t;if(dt)return(t=dt)[e].apply(t,arguments)}})),At.DismissReason=w,At.version="10.3.5";var Rt=At;return Rt.default=Rt,Rt})),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2);