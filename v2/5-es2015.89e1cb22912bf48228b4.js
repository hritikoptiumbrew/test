(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{aCrv:function(t,e,i){var a,n=function(){this._tweens={},this._tweensAddedDuringUpdate={}};n.prototype={getAll:function(){return Object.keys(this._tweens).map((function(t){return this._tweens[t]}).bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:r.now();i.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var n=this._tweens[i[a]];n&&!1===n.update(t)&&(n._isPlaying=!1,e||delete this._tweens[i[a]])}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,r=new n;r.Group=n,r._nextId=0,r.nextId=function(){return r._nextId++},r.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?r.now()+parseFloat(t):t:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,i,a;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,a=this._easingFunction(i=0===this._duration||i>1?1:i),this._valuesEnd)if(void 0!==this._valuesStart[e]){var n=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,a):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?n+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=n+(o-n)*a))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var r=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?t+this._repeatDelayTime:t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,s=this._chainedTweens.length;c<s;c++)this._chainedTweens[c].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var i=t.length-1,a=i*e,n=Math.floor(a),o=r.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],a):e>1?o(t[i],t[i-1],i-a):o(t[n],t[n+1>i?i:n+1],a-n)},Bezier:function(t,e){for(var i=0,a=t.length-1,n=Math.pow,o=r.Interpolation.Utils.Bernstein,c=0;c<=a;c++)i+=n(1-e,a-c)*n(e,c)*t[c]*o(a,c);return i},CatmullRom:function(t,e){var i=t.length-1,a=i*e,n=Math.floor(a),o=r.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(n=Math.floor(a=i*(1+e))),o(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],a-n)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-a)-t[0]):e>1?t[i]-(o(t[i],t[i],t[i-1],t[i-1],a-i)-t[i]):o(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],a-n)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=r.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var i=t;i>1;i--)e*=i;return o[t]=e,e}),CatmullRom:function(t,e,i,a,n){var o=.5*(i-t),r=.5*(a-e),c=n*n;return(2*e-2*i+o+r)*(n*c)+(-3*e+3*i-2*o-r)*c+o*n+e}}},void 0===(a=(function(){return r}).apply(e,[]))||(t.exports=a)},dgmN:function(t,e,i){"use strict";i.r(e),i.d(e,"PagesModule",(function(){return on}));var a=i("aceb"),n=i("vTDv"),o=i("fXoL");let r=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[a.y,n.a]]}),t})();var c=i("tyNb"),s=i("OaAi");const l=[{title:"Categories",icon:"image-outline",link:"/admin/categories"},{title:"Statistics",icon:"bar-chart-outline",link:"/admin/statistics"},{title:"Image Details",icon:"info-outline",link:"/admin/image-details"},{title:"Redis Cache",icon:"hard-drive-outline",link:"/admin/redis-cache"},{title:"Settings",icon:"settings-2-outline",link:"/admin/settings"}];var d=i("mgFL");let g=(()=>{class t{constructor(t,e){this.route=t,this.utils=e,this.menu=l,localStorage.getItem("at")||this.route.navigate([""]);var i=this;window.onhashchange=function(){i.utils.hidePageDialog()}}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(c.c),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(o.bc(0,"ngx-one-column-layout"),o.Wb(1,"nb-menu",0),o.Wb(2,"router-outlet"),o.ac()),2&t&&(o.Jb(1),o.sc("items",e.menu))},directives:[d.a,a.W,c.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}  .nb-theme-corporate nb-layout-header nav{height:3.75rem!important;box-shadow:0 .5rem 1rem 0 rgba(44,51,73,.1)}  .nb-theme-corporate nb-layout-header.fixed~.layout-container{padding-top:3.75px!important}  nb-theme-corporate .menu-sidebar .scrollable{padding-top:0!important}  nb-layout-column{margin-top:50px!important}  nb-sidebar .scrollable{padding-top:0!important}.nb-theme-corporate[_ngcontent-%COMP%]   nb-layout[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   nb-sidebar[_ngcontent-%COMP%]   .main-container-fixed[_ngcontent-%COMP%],   .nb-theme-corporate nb-layout .layout .layout-container nb-sidebar.fixed{top:3.75rem!important}"]}),t})();var h=i("R7Hv"),p=i("qUcv"),b=i("dkQB"),m=i("ofXK"),u=i("3Pt+");function f(t,e){1&t&&(o.bc(0,"h5",12),o.Nc(1,"Update Category"),o.ac())}function _(t,e){1&t&&(o.bc(0,"h5",12),o.Nc(1,"Add Category"),o.ac())}function C(t,e){if(1&t){const t=o.cc();o.bc(0,"button",13),o.ic("click",(function(){return o.Dc(t),o.mc().editCategory()})),o.Nc(1,"Add"),o.ac()}}function v(t,e){if(1&t){const t=o.cc();o.bc(0,"button",13),o.ic("click",(function(){return o.Dc(t),o.mc().editCategory()})),o.Nc(1,"Update"),o.ac()}}let x=(()=>{class t{constructor(t,e,i,a){this.validService=t,this.utils=e,this.dataService=i,this.dialogRef=a,this.errormsg=b.b,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.categoryData&&(this.catName=this.categoryData.name)}closedialog(){this.dialogRef.close({res:""})}checkValidation(t,e,i,a,n,o){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"Catedit",successArr:["editCatInput"]}}),"blank"!=o&&this.editCategory()}editCategory(){var t,e;this.validService.checkAllValid([{id:"editCatInput",errorId:"inputCatError",type:"",blank_msg:b.b.CAT_NAME_EMPTY,type_msg:""}])&&(this.utils.showLoader(),this.categoryData?(e={category_id:this.categoryData.category_id,name:this.catName},t="updateCategory"):(e={name:this.catName},t="addCategory"),this.dataService.postData(t,e,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("inputCatError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(s.a),o.Vb(h.a),o.Vb(a.F))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-editcategory"]],decls:17,vars:6,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter category name","id","editCatInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputCatError",2,"color","red","margin-bottom","0px","margin-top","4px","height","30px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","Catedit",3,"click",4,"ngIf"],[1,"text-center"],["id","Catedit",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card"),o.bc(1,"nb-card-header",0),o.Lc(2,f,2,0,"h5",1),o.Lc(3,_,2,0,"h5",1),o.bc(4,"i",2),o.ic("click",(function(){return e.closedialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",3),o.bc(7,"div",4),o.bc(8,"label",5),o.Nc(9,"Category"),o.ac(),o.ac(),o.bc(10,"div",6),o.bc(11,"div",7),o.bc(12,"input",8),o.ic("ngModelChange",(function(t){return e.catName=t}))("keyup",(function(){return e.checkValidation("editCatInput","","inputCatError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("editCatInput","","inputCatError",e.errormsg.CAT_NAME_EMPTY,"","usual")})),o.ac(),o.Wb(13,"p",9),o.ac(),o.ac(),o.ac(),o.bc(14,"div",10),o.Lc(15,C,2,0,"button",11),o.Lc(16,v,2,0,"button",11),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",e.categoryData),o.Jb(1),o.sc("ngIf",!e.categoryData),o.Jb(9),o.sc("ngModel",e.catName),o.Kb("valid-status",!!e.categoryData),o.Jb(3),o.sc("ngIf",!e.categoryData),o.Jb(1),o.sc("ngIf",e.categoryData))},directives:[a.v,a.x,m.n,a.u,a.M,u.c,u.n,u.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),t})();var y=i("RS3s"),w=i("oOf3");function P(t,e){1&t&&o.Wb(0,"span")}const M=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};let O=(()=>{class t{constructor(t,e,i,a,n){this.validService=t,this.dialog=e,this.dataService=i,this.utils=a,this.router=n,this.categoryName="",this.errormsg=b.b,this.selectedPageSize=15,this.previousLabel="<",this.nextLabel=">",this.currentPage=1,this.settings={mode:"external",edit:{editButtonContent:'<i class="fa fa-edit" title="edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-folder-open" title="View"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number",width:"75px",editable:!1,filter:!1,hideHeader:!0},name:{title:"Category Name",type:"html",filter:!1,sort:!1}},actions:{add:!1,position:"right",delete:!0,edit:!0},pager:{perPage:this.selectedPageSize},hideSubHeader:!0},this.token=localStorage.getItem("at"),this.getAllBackgroundCatogory(this.currentPage)}ngOnInit(){}handlePageChange(t){this.currentPage=t,this.getAllBackgroundCatogory(this.currentPage)}getAllBackgroundCatogory(t){this.utils.showPageLoader(),this.dataService.postData("getAllCategory",{page:t},{headers:{Authorization:"Bearer "+this.token}}).then(e=>{if(200==e.code){this.totalRecords=e.data.total_record;var i=0;e.data.category_list.forEach(e=>{e.id=i+1+15*(t-1),i++}),this.categoryData=e.data.category_list,this.datasource=new y.a(this.categoryData),this.utils.hidePageLoader()}else 201==e.code?(this.utils.showError(e.message,4e3),this.utils.hidePageLoader()):e.status||0==e.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(e.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}getRow(t){localStorage.setItem("selected_category",JSON.stringify(t.data)),this.router.navigate(["/admin/categories/",t.data.category_id])}editCategory(t){this.open(!1,t.data)}addCategory(){this.open(!1,"")}open(t,e){this.dialog.open(x,{closeOnBackdropClick:t,closeOnEsc:!1,context:{categoryData:e}}).onClose.subscribe(t=>{"add"==t.res&&this.getAllBackgroundCatogory(this.currentPage)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(a.G),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-categories"]],decls:23,vars:13,consts:[[4,"ngFor","ngForOf"],[1,"row","card-summary"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","transparent"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row","mb-3"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","ml-2","text-light",3,"click"],[1,"row"],[1,"col-md-12"],[1,"table-card","categories-card-table","p-0"],[1,"p-0"],[3,"settings","source","edit","userRowSelect","delete"],[1,"pegination-area","text-center","p-2"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"]],template:function(t,e){1&t&&(o.Lc(0,P,1,0,"span",0),o.nc(1,"paginate"),o.bc(2,"div",1),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.Nc(6,"Categories"),o.ac(),o.ac(),o.ac(),o.bc(7,"div",5),o.bc(8,"nb-card"),o.bc(9,"nb-card-header",6),o.bc(10,"div",7),o.Nc(11),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(12,"div",8),o.bc(13,"div",9),o.bc(14,"button",10),o.ic("click",(function(){return e.addCategory()})),o.Nc(15,"Add Category"),o.ac(),o.ac(),o.ac(),o.bc(16,"div",11),o.bc(17,"div",12),o.bc(18,"nb-card",13),o.bc(19,"nb-card-body",14),o.bc(20,"ng2-smart-table",15),o.ic("edit",(function(t){return e.editCategory(t)}))("userRowSelect",(function(t){return e.getRow(t)}))("delete",(function(t){return e.getRow(t)})),o.ac(),o.bc(21,"div",16),o.bc(22,"pagination-controls",17),o.ic("pageChange",(function(t){return e.handlePageChange(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.sc("ngForOf",o.pc(1,6,e.categoryData,o.zc(9,M,e.selectedPageSize,e.currentPage,e.totalRecords))),o.Jb(11),o.Pc(" TOTAL CATEGORIES : ",e.totalRecords," "),o.Jb(9),o.sc("settings",e.settings)("source",e.datasource),o.Jb(2),o.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[m.m,a.v,a.x,a.u,y.b,w.c],pipes:[w.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}"]}),t})();function k(t,e){if(1&t&&(o.bc(0,"td"),o.Nc(1),o.ac()),2&t){const t=o.mc().$implicit;o.Jb(1),o.Oc(t.tag_name)}}function E(t,e){if(1&t){const t=o.cc();o.bc(0,"td"),o.bc(1,"input",26),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().$implicit.tag_name=e}))("keyup.enter",(function(){o.Dc(t);const e=o.mc().$implicit;return o.mc().updateSearchTag(e)})),o.ac(),o.Wb(2,"p",27),o.ac()}if(2&t){const t=o.mc().$implicit;o.Jb(1),o.sc("ngModel",t.tag_name)}}function S(t,e){if(1&t){const t=o.cc();o.bc(0,"div",28),o.bc(1,"nb-icon",29),o.ic("click",(function(){o.Dc(t);const e=o.mc().$implicit;return o.mc().showUpdate(e)})),o.ac(),o.bc(2,"nb-icon",30),o.ic("click",(function(){o.Dc(t);const e=o.mc().$implicit;return o.mc().deleteSearchTag(e)})),o.ac(),o.bc(3,"nb-icon",31),o.ic("click",(function(){o.Dc(t);const e=o.mc(),i=e.$implicit,a=e.index;return o.mc().moveToFirst(i,a)})),o.ac(),o.ac()}}function I(t,e){if(1&t){const t=o.cc();o.bc(0,"div",32),o.bc(1,"button",33),o.ic("click",(function(){o.Dc(t);const e=o.mc().$implicit;return o.mc().updateSearchTag(e)})),o.Nc(2,"Save"),o.ac(),o.bc(3,"button",34),o.ic("click",(function(){o.Dc(t);const e=o.mc(),i=e.$implicit,a=e.index;return o.mc().resetRow(i,a)})),o.Nc(4,"Cancel"),o.ac(),o.ac()}}const L=function(t){return{color:t}};function R(t,e){if(1&t&&(o.bc(0,"tr",22),o.bc(1,"td",18),o.Nc(2),o.ac(),o.Lc(3,k,2,1,"td",21),o.Lc(4,E,3,1,"td",21),o.bc(5,"td",2),o.Nc(6),o.ac(),o.bc(7,"td",23),o.Lc(8,S,4,0,"div",24),o.Lc(9,I,5,0,"div",25),o.ac(),o.ac()),2&t){const t=e.$implicit,i=e.index;o.sc("ngStyle",o.xc(7,L,0==t.total_template?"red":"black")),o.Jb(2),o.Oc(i+1),o.Jb(1),o.sc("ngIf",0==t.is_update),o.Jb(1),o.sc("ngIf",1==t.is_update),o.Jb(2),o.Oc(t.total_template),o.Jb(2),o.sc("ngIf",0==t.is_update),o.Jb(1),o.sc("ngIf",1==t.is_update)}}function T(t,e){1&t&&(o.bc(0,"tr"),o.bc(1,"td",35),o.bc(2,"h6",36),o.Nc(3,"No data found"),o.ac(),o.ac(),o.ac())}let D=(()=>{class t{constructor(t,e,i,a,n){this.dialogRef=t,this.validService=e,this.dataService=i,this.utils=a,this.route=n,this.searchTagList=[],this.tmpCategoryList=[],this.errormsg=b.b,this.is_template="1",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.titleHeader="Search tags of "+this.subCatData.name,this.getAllCategorySearchTags()}checkValidation(t,e,i,a,n,o){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"addTag",successArr:["tagInput"]}}),"blank"!=o&&this.addSearchTag()}addSearchTag(){this.validService.checkAllValid([{id:"tagInput",errorId:"tagError",type:"",blank_msg:b.b.TAG_EMPTY_NAME,type_msg:""}])&&(this.utils.showLoader(),this.dataService.postData("addSearchCategoryTag",{tag_name:this.tagName,sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.getAllCategorySearchTags(),this.tagName="",this.utils.dialogStatus="add"):201==t.code?(document.getElementById("tagError").innerHTML=t.message,this.tagName="",this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}closeDialog(){this.dialogRef.close()}resetRow(t,e){this.searchTagList[e].tag_name=this.tmpCategoryList[e].tag_name,t.is_update=!1,t.tag_name=this.tmpCategoryList[e].tag_name}showUpdate(t){this.searchTagList.forEach((t,e)=>{this.resetRow(t,e)}),t.is_update=!0}updateSearchTag(t){if(void 0===t.tag_name||""==t.tag_name.trim()||null==t.tag_name)return document.getElementById("editInputTag").innerHTML=b.b.TAG_EMPTY_NAME,!1;this.dataService.postData("updateSearchCategoryTag",{tag_name:t.tag_name,sub_category_tag_id:t.sub_category_tag_id,sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getAllCategorySearchTags()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}moveToFirst(t,e){this.utils.showLoader(),this.dataService.postData("setCategoryTagRankOnTheTopByAdmin",{sub_category_tag_id:t.sub_category_tag_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3);var i=this.searchTagList[e];this.searchTagList.splice(e,1),this.searchTagList.splice(0,0,i)}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}deleteSearchTag(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteSearchCategoryTag",{sub_category_tag_id:t.sub_category_tag_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getAllCategorySearchTags()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getAllCategorySearchTags(){this.utils.showLoader(),this.dataService.postData("getCategoryTagBySubCategoryId",{sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.searchTagList=t.data.result,this.tmpCategoryList=JSON.parse(JSON.stringify(t.data.result)),this.searchTagList.forEach(t=>{t.is_update=!1}),this.totalRecord=t.data.total_record,this.utils.hideLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(p.a),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addsearchtags"]],decls:33,vars:5,consts:[[1,"searchtags-card"],[1,"header-text",2,"position","relative"],[1,"text-center"],["title","close",1,"fa","fa-times","close-icon",3,"click"],[1,"row","mb-9"],[1,"col-md-5","pr-0"],["type","text","nbInput","","id","tagInput","valid-status","false","placeholder","Enter new tag name here",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","tagError",2,"color","red","margin-bottom","0px","margin-top","2px","height","20px"],[1,"col-md-3"],["id","addTag",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-4","text-center"],["id","radioInput",1,"d-flex",3,"ngModel","ngModelChange"],["value","1",3,"click"],["value","0",3,"click"],[1,"table-data"],[1,"table-body"],[1,"table"],[2,"background","#edf1f7"],[1,"width-75"],[2,"width","309px"],[3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngStyle"],[1,"text-center","text-dark"],["class","ml-4",4,"ngIf"],["class","button-area text-center",4,"ngIf"],["type","text","nbInput","","placeholder","Enter tag name",1,"mw-100",3,"ngModel","ngModelChange","keyup.enter"],["id","editInputTag",2,"color","red","margin-bottom","0px","margin-top","2px","height","14px"],[1,"ml-4"],["icon","edit-2-outline","title","Edit",3,"click"],["icon","trash-2-outline","title","Delete",3,"click"],["icon","upload-outline","title","Move To First",3,"click"],[1,"button-area","text-center"],[1,"btn","bg-primary","text-light","mr-1",3,"click"],[1,"btn","bg-danger","text-light",3,"click"],["colspan","3"],[1,"mb-0"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"h5",2),o.Nc(3),o.ac(),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"input",6),o.ic("ngModelChange",(function(t){return e.tagName=t}))("keyup",(function(){return e.checkValidation("tagInput","","tagError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("tagInput","","tagError",e.errormsg.TAG_EMPTY_NAME,"","usual")})),o.ac(),o.Wb(9,"p",7),o.ac(),o.bc(10,"div",8),o.bc(11,"button",9),o.ic("click",(function(){return e.addSearchTag()})),o.Nc(12,"Add Tag"),o.ac(),o.ac(),o.bc(13,"div",10),o.bc(14,"nb-radio-group",11),o.ic("ngModelChange",(function(t){return e.is_template=t})),o.bc(15,"nb-radio",12),o.ic("click",(function(){return e.is_template="1",e.getAllCategorySearchTags()})),o.Nc(16,"Template"),o.ac(),o.bc(17,"nb-radio",13),o.ic("click",(function(){return e.is_template="0",e.getAllCategorySearchTags()})),o.Nc(18,"Sticker"),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(19,"div",14),o.bc(20,"div",15),o.bc(21,"table",16),o.bc(22,"tr",17),o.bc(23,"th",18),o.Nc(24,"#"),o.ac(),o.bc(25,"th",19),o.Nc(26,"Tag Name"),o.ac(),o.bc(27,"th",2),o.Nc(28,"Templates"),o.ac(),o.bc(29,"th",2),o.Nc(30,"Actions"),o.ac(),o.ac(),o.Lc(31,R,10,9,"tr",20),o.Lc(32,T,4,0,"tr",21),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(3),o.Oc(e.titleHeader),o.Jb(5),o.sc("ngModel",e.tagName),o.Jb(6),o.sc("ngModel",e.is_template),o.Jb(17),o.sc("ngForOf",e.searchTagList),o.Jb(1),o.sc("ngIf",0==e.totalRecord))},directives:[a.v,a.x,a.u,a.M,u.c,u.n,u.q,a.db,a.cb,m.m,m.n,m.o,a.J],styles:[".header-title[_ngcontent-%COMP%]{font-size:21px;font-weight:700;position:relative}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}.searchtags-card[_ngcontent-%COMP%]{width:750px;overflow:auto}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.mw-100[_ngcontent-%COMP%]{max-width:unset!important;width:100%}.w-100[_ngcontent-%COMP%]{width:100%!important}.width-75[_ngcontent-%COMP%]{width:75px}.w-194[_ngcontent-%COMP%]{width:194px}.w-260[_ngcontent-%COMP%]{width:260px}.w-163[_ngcontent-%COMP%]{width:163px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:23px;cursor:pointer;font-size:23px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-y:scroll}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf1f7;position:-webkit-sticky;position:sticky;top:-2px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px;vertical-align:middle!important}.table-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:23px!important;margin-right:10px;cursor:pointer}@media only screen and (max-width:600px){.searchtags-card[_ngcontent-%COMP%]{width:395px;margin-left:auto;margin-right:auto}.header-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:93%}}@media only screen and (max-width:400px){.searchtags-card[_ngcontent-%COMP%]{width:347px}}"]}),t})();function N(t,e){1&t&&(o.bc(0,"h5",24),o.Nc(1,"Add Sub Category"),o.ac())}function z(t,e){1&t&&(o.bc(0,"h5",24),o.Nc(1,"Update Sub Category"),o.ac())}function V(t,e){1&t&&o.Wb(0,"img",25)}function J(t,e){if(1&t){const t=o.cc();o.bc(0,"img",26),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.subImage,o.Fc)}}function A(t,e){if(1&t){const t=o.cc();o.bc(0,"button",27),o.ic("click",(function(){return o.Dc(t),o.mc().addSubCategory()})),o.Nc(1,"Add"),o.ac()}}function F(t,e){if(1&t){const t=o.cc();o.bc(0,"button",27),o.ic("click",(function(){return o.Dc(t),o.mc().addSubCategory()})),o.Nc(1,"Update"),o.ac()}}let B=(()=>{class t{constructor(t,e,i,a,n){this.validService=t,this.dialogref=e,this.dataService=i,this.utils=a,this.route=n,this.selectType="0",this.formData=new FormData,this.errormsg=b.b,this.utils.dialogref=this.dialogref}ngOnInit(){this.subCatData&&(this.subImage=this.subCatData.thumbnail_img,this.subName=this.subCatData.name,this.selectType=this.subCatData.is_featured.toString(),this.categoryId=this.subCatData.sub_category_id)}closeLoading(){this.utils.hideLoader()}closedialog(){this.dialogref.close({res:""})}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.subImage=t.target.result},e.readAsDataURL(t.target.files[0])}if(this.fileList=t.target.files,this.fileList.length>0){this.file=this.fileList[0];var i=Math.round(this.file.size/1024);document.getElementById("imageError").innerHTML=i>100?"Maximum 100Kb file allow to upload":"",this.formData.append("file",this.file,this.file.name)}}checkImageValid(){if(document.getElementById("subCatAddError").innerHTML="",null==this.subImage||"none"==this.subImage||""==this.subImage)document.getElementById("imageError").innerHTML=b.b.IMG_REQ;else{if(!this.file)return document.getElementById("imageError").innerHTML="",!0;if(!(Math.round(this.file.size/1024)>100))return document.getElementById("imageError").innerHTML="",!0;document.getElementById("imageError").innerHTML="Maximum 100Kb file allow to upload"}}checkValidation(t,e,i,a,n,o){document.getElementById("subCatAddError").innerHTML="",this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"subCatAdd",successArr:["addSubInput","subImage"]}}),"blank"!=o&&this.addSubCategory()}addSubCategory(){var t,e=this.validService.checkAllValid([{id:"addSubInput",errorId:"inputError",type:"",blank_msg:b.b.SUB_CAT_NAME_EMPTY,type_msg:""}]),i=this.checkImageValid();e&&i&&(t=this.subCatData?"updateSubCategory":"addSubCategory",this.token=localStorage.getItem("at"),this.utils.showLoader(),this.formData.append("request_data",JSON.stringify(this.subCatData?{sub_category_id:this.categoryId,name:this.subName,is_featured:this.selectType}:{category_id:this.categoryId,name:this.subName,is_featured:this.selectType})),this.dataService.postData(t,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogref.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("subCatAddError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(a.F),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addsubcategory"]],decls:36,vars:11,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],["id","subImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput",1,"placeholder-img"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput","accept","image/*","autofocus","true",2,"display","none",3,"change"],[1,"row","mt-4"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","tabindex","-1","autofocus","false","nbInput","","placeholder","Enter sub category name","id","addSubInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],[1,"row","mt-1"],["id","radioInput",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","subCatAddError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","subCatAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["id","subCatAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card"),o.bc(1,"nb-card-header",0),o.Lc(2,N,2,0,"h5",1),o.Lc(3,z,2,0,"h5",1),o.bc(4,"i",2),o.ic("click",(function(){return e.closedialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",3),o.Lc(7,V,1,0,"img",4),o.Lc(8,J,1,1,"img",5),o.bc(9,"label",6),o.Wb(10,"i",7),o.ac(),o.ac(),o.Wb(11,"p",8),o.bc(12,"input",9),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.bc(13,"div",10),o.bc(14,"div",11),o.bc(15,"label",12),o.Nc(16,"Category"),o.ac(),o.ac(),o.bc(17,"div",13),o.bc(18,"div",14),o.bc(19,"input",15),o.ic("ngModelChange",(function(t){return e.subName=t}))("keyup",(function(){return e.checkValidation("addSubInput","","inputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("addSubInput","","inputError",e.errormsg.SUB_CAT_NAME_EMPTY,"","usual")})),o.ac(),o.Wb(20,"p",16),o.ac(),o.ac(),o.ac(),o.bc(21,"div",17),o.bc(22,"div",11),o.bc(23,"label",12),o.Nc(24,"Type"),o.ac(),o.ac(),o.bc(25,"div",13),o.bc(26,"div",14),o.bc(27,"nb-radio-group",18),o.ic("ngModelChange",(function(t){return e.selectType=t})),o.bc(28,"nb-radio",19),o.Nc(29,"Featured"),o.ac(),o.bc(30,"nb-radio",20),o.Nc(31,"Normal"),o.ac(),o.ac(),o.Wb(32,"p",21),o.ac(),o.ac(),o.ac(),o.bc(33,"div",22),o.Lc(34,A,2,0,"button",23),o.Lc(35,F,2,0,"button",23),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",!e.subCatData),o.Jb(1),o.sc("ngIf",e.subCatData),o.Jb(3),o.Kb("valid-status",!!e.subCatData),o.Jb(1),o.sc("ngIf",e.subImage),o.Jb(1),o.sc("ngIf",e.subImage),o.Jb(11),o.sc("ngModel",e.subName),o.Kb("valid-status",!!e.subCatData),o.Jb(8),o.sc("ngModel",e.selectType),o.Kb("valid-status",!!e.subCatData),o.Jb(7),o.sc("ngIf",!e.subCatData),o.Jb(1),o.sc("ngIf",e.subCatData))},directives:[a.v,a.x,m.n,a.u,a.M,u.c,u.n,u.q,a.db,a.cb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),t})();function W(t,e){1&t&&(o.bc(0,"h6",13),o.Nc(1,"No data found"),o.ac())}function H(t,e){1&t&&(o.bc(0,"span"),o.Nc(1,"In-Active"),o.ac())}function j(t,e){1&t&&(o.bc(0,"span"),o.Nc(1,"Active"),o.ac())}function U(t,e){if(1&t&&(o.bc(0,"tr",16),o.bc(1,"td",8),o.Nc(2),o.ac(),o.bc(3,"td",9),o.Nc(4),o.ac(),o.bc(5,"td",10),o.Nc(6),o.ac(),o.bc(7,"td",10),o.Nc(8),o.ac(),o.bc(9,"td",11),o.Lc(10,H,2,0,"span",17),o.Lc(11,j,2,0,"span",17),o.ac(),o.ac()),2&t){const t=e.$implicit,i=e.index,a=o.mc().$implicit;o.Jb(2),o.Oc(i+1),o.Jb(2),o.Oc(t.font_name),o.Jb(2),o.Oc(t.ios_font_name),o.Jb(2),o.Oc(t.font_file),o.Jb(2),o.sc("ngIf",0==a.is_removed),o.Jb(1),o.sc("ngIf",1==a.is_removed)}}function G(t,e){if(1&t&&(o.bc(0,"tbody"),o.bc(1,"tr"),o.bc(2,"td",14),o.Nc(3),o.ac(),o.ac(),o.Lc(4,U,12,6,"tr",15),o.ac()),2&t){const t=e.$implicit;o.Jb(3),o.Oc(t.name),o.Jb(1),o.sc("ngForOf",t.font_list)}}let K=(()=>{class t{constructor(t,e,i){this.dataService=t,this.utils=e,this.nbDialogRef=i,this.utils.dialogref=this.nbDialogRef}ngOnInit(){this.token=localStorage.getItem("at"),this.getFontList()}closeDialog(){this.nbDialogRef.close()}getFontList(){this.utils.showLoader(),this.dataService.postData("getCorruptedFontList",{last_sync_time:0},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.fontList=t.data.result,this.totalRecord=this.fontList.length,this.utils.hideLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(h.a),o.Vb(s.a),o.Vb(a.F))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-viewcorruptedfonts"]],decls:23,vars:2,consts:[[1,"currupt-font-card"],[1,"header-text",2,"position","relative"],[1,"text-center"],["title","close",1,"fa","fa-times","close-icon",3,"click"],[1,"table-data"],[1,"table-body"],["class","mt-2 ml-3",4,"ngIf"],[1,"table","table-responsive"],[1,"width-75"],[1,"w-194"],[1,"w-260"],[1,"text-center","w-163"],[4,"ngFor","ngForOf"],[1,"mt-2","ml-3"],["colspan","5",1,"font-weight-bold",2,"background-color","rgb(252, 243, 240)","padding","5px","border-bottom","1px solid #c2c8ce"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%"],[4,"ngIf"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"h5",2),o.Nc(3,"Corrupted Fonts List"),o.ac(),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.Lc(8,W,2,0,"h6",6),o.bc(9,"table",7),o.bc(10,"thead"),o.bc(11,"tr"),o.bc(12,"th",8),o.Nc(13,"#"),o.ac(),o.bc(14,"th",9),o.Nc(15,"Font Name"),o.ac(),o.bc(16,"th",10),o.Nc(17,"Font Name(iOS)"),o.ac(),o.bc(18,"th",10),o.Nc(19,"Font Path(Android)"),o.ac(),o.bc(20,"th",11),o.Nc(21,"Status"),o.ac(),o.ac(),o.ac(),o.Lc(22,G,5,2,"tbody",12),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(8),o.sc("ngIf",0==e.totalRecord),o.Jb(14),o.sc("ngForOf",e.fontList))},directives:[a.v,a.x,a.u,m.n,m.m],styles:[".header-title[_ngcontent-%COMP%]{font-size:21px;font-weight:700;position:relative}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}.searchtags-card[_ngcontent-%COMP%]{width:750px;overflow:auto}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.mw-100[_ngcontent-%COMP%]{max-width:unset!important;width:100%}.w-100[_ngcontent-%COMP%]{width:100%!important}.width-75[_ngcontent-%COMP%]{width:75px}.w-194[_ngcontent-%COMP%]{width:194px}.w-260[_ngcontent-%COMP%]{width:260px}.w-163[_ngcontent-%COMP%]{width:163px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:23px;cursor:pointer;font-size:23px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-y:scroll}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf1f7;position:-webkit-sticky;position:sticky;top:-2px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px;vertical-align:middle!important}.table-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:23px!important;margin-right:10px;cursor:pointer}@media only screen and (max-width:600px){.searchtags-card[_ngcontent-%COMP%]{width:395px;margin-left:auto;margin-right:auto}.header-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:93%}}@media only screen and (max-width:400px){.searchtags-card[_ngcontent-%COMP%]{width:347px}}@media only screen and (max-width:600px){.currupt-font-card[_ngcontent-%COMP%]{width:calc(100vh - 337px);margin-left:auto;margin-right:auto}}@media only screen and (max-width:400px){.currupt-font-card[_ngcontent-%COMP%]{width:347px}}"]}),t})();var Y=i("LRne"),q=i("jtHE"),Q=i("HDdC"),Z=i("KqfI");const X=new Q.a(Z.a);var tt=i("XNiG"),et=(i("EY2u"),i("vkgz")),it=i("pLZG"),at=i("IzEk"),nt=i("5+tZ"),ot=i("lJxs"),rt=i("JIr8"),ct=i("eIep"),st=i("JX91");i("7o/Q"),i("D0XW"),i("w1tV");const lt=new o.u("LazyLoadImageHooks");function dt(t){return Boolean(t.parentElement&&"picture"===t.parentElement.nodeName.toLowerCase())}function gt(t){return"img"===t.nodeName.toLowerCase()}function ht(t,e,i){return gt(t)?i&&"srcset"in t?t.srcset=e:t.src=e:t.style.backgroundImage=`url('${e}')`,t}function pt(t){return e=>{const i=e.parentElement.getElementsByTagName("source");for(let a=0;a<i.length;a++){const e=i[a].getAttribute(t);e&&("srcset"in i[a]?i[a].srcset=e:i[a].src=e)}}}const bt=pt("defaultImage"),mt=pt("lazyLoad"),ut=pt("errorImage");function ft(t){return(e,i,a)=>{gt(e)&&dt(e)&&t(e),i&&ht(e,i,a)}}const _t=ft(bt),Ct=ft(mt),vt=ft(ut);let xt=(()=>{class t{constructor(t,e,i,a){this.onStateChange=new o.r,this.elementRef=t,this.ngZone=e,this.propertyChanges$=new q.a,this.hooks=a,this.hooks.setPlatformId(i),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0!==this.debug||this.debugSubscription||(this.debugSubscription=this.onStateChange.subscribe(t=>console.log(t))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe(Object(et.a)(t=>this.hooks.onAttributeChange(t)),Object(et.a)(t=>t.onStateChange.emit({reason:"setup"})),Object(et.a)(t=>this.hooks.setup(t)),Object(ct.a)(t=>t.imagePath?this.hooks.getObservable(t).pipe(function(t,e){return i=>i.pipe(Object(et.a)(t=>e.onStateChange.emit({reason:"observer-emit",data:t})),Object(it.a)(i=>t.isVisible(i,e)),Object(at.a)(1),Object(et.a)(()=>e.onStateChange.emit({reason:"start-loading"})),Object(nt.a)(()=>t.loadImage(e)),Object(et.a)(()=>e.onStateChange.emit({reason:"mount-image"})),Object(et.a)(i=>t.setLoadedImage(i,e)),Object(et.a)(()=>e.onStateChange.emit({reason:"loading-succeeded"})),Object(ot.a)(()=>!0),Object(rt.a)(i=>(e.onStateChange.emit({reason:"loading-failed",data:i}),t.setErrorImage(i,e),Object(Y.a)(!1))),Object(et.a)(()=>{e.onStateChange.emit({reason:"finally"}),t.finally(e)}))}(this.hooks,t)):X)).subscribe({next:()=>null})})}ngOnDestroy(){var t,e;this.propertyChanges$.pipe(Object(at.a)(1)).subscribe({next:t=>this.hooks.onDestroy(t)}).unsubscribe(),null===(t=this.loadSubscription)||void 0===t||t.unsubscribe(),null===(e=this.debugSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(o.o),o.Vb(o.F),o.Vb(o.I),o.Vb(lt))},t.\u0275dir=o.Qb({type:t,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[o.Hb]}),t})();function yt(t,e){t.className=t.className.replace(e,"")}function wt(t,e){t.className.includes(e)||(t.className+=" "+e)}let Pt=(()=>{class t extends class extends class{constructor(){this.navigator="undefined"!=typeof window?window.navigator:void 0}setPlatformId(t){this.platformId=t}onDestroy(t){}onAttributeChange(t){}}{setup(t){var e;_t(t.element,t.defaultImagePath,t.useSrcset),wt(t.element,"ng-lazyloading"),(e=t.element).className&&e.className.includes("ng-lazyloaded")&&yt(t.element,"ng-lazyloaded")}finally(t){wt(t.element,"ng-lazyloaded"),yt(t.element,"ng-lazyloading")}loadImage(t){if(this.skipLazyLoading())return[t.imagePath];const{element:e,useSrcset:i,imagePath:a,decode:n}=t;let o;if(gt(e)&&dt(e)){const t=e.parentNode.cloneNode(!0);o=t.getElementsByTagName("img")[0],mt(o),ht(o,a,i)}else o=new Image,gt(e)&&e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),gt(e)&&e.sizes&&(o.sizes=e.sizes),i&&"srcset"in o?o.srcset=a:o.src=a;return n&&o.decode?o.decode().then(()=>a):new Promise((t,e)=>{o.onload=()=>t(a),o.onerror=()=>e(null)})}setErrorImage(t,e){const{element:i,useSrcset:a,errorImagePath:n}=e;vt(i,n,a),wt(i,"ng-failed-lazyloaded")}setLoadedImage(t,e){const{element:i,useSrcset:a}=e;Ct(i,t,a)}isDisabled(){return Object(m.C)(this.platformId)&&!this.isBot()}skipLazyLoading(){return this.isBot()}isBot(){var t;return!!(null===(t=this.navigator)||void 0===t?void 0:t.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new tt.a,this.uniqKey={}}getObservable(t){if(this.skipLazyLoading())return Object(Y.a)({isIntersecting:!0});if(t.customObservable)return t.customObservable;const e=t.scrollContainer||this.uniqKey,i={root:t.scrollContainer||null};t.offset&&(i.rootMargin=t.offset+"px");let a=this.observers.get(e);return a||(a=new IntersectionObserver(t=>this.loadingCallback(t),i),this.observers.set(e,a)),a.observe(t.element),Q.a.create(e=>{const i=this.intersectionSubject.pipe(Object(it.a)(e=>e.target===t.element)).subscribe(e);return()=>{i.unsubscribe(),a.unobserve(t.element)}})}isVisible(t){return t.isIntersecting}loadingCallback(t){t.forEach(t=>this.intersectionSubject.next(t))}}return t.\u0275fac=function(e){return Mt(e||t)},t.\u0275prov=o.Rb({token:t,factory:t.\u0275fac}),t})();const Mt=o.dc(Pt);let Ot=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},providers:[{provide:lt,useClass:Pt}]}),t})();function kt(t,e){if(1&t&&(o.bc(0,"nb-option",34),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t),o.Jb(1),o.Oc(t)}}function Et(t,e){if(1&t){const t=o.cc();o.bc(0,"button",35),o.ic("click",(function(){return o.Dc(t),o.mc().viewCorruptedFonts()})),o.Nc(1,"Corrupted Fonts"),o.ac()}}function St(t,e){1&t&&(o.bc(0,"div",36),o.Wb(1,"img",37),o.bc(2,"h2"),o.Nc(3,"No data found"),o.ac(),o.ac())}function It(t,e){1&t&&o.Wb(0,"img",55)}function Lt(t,e){if(1&t){const t=o.cc();o.bc(0,"div",38),o.bc(1,"nb-card",39),o.bc(2,"div",40),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewCatalog(i)})),o.Wb(3,"img",41),o.bc(4,"img",42),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.ac(),o.bc(5,"div",43),o.bc(6,"div",44),o.Nc(7),o.ac(),o.ac(),o.bc(8,"nb-card-footer",45),o.bc(9,"a",46),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewCatalog(i)})),o.Wb(10,"nb-icon",47),o.ac(),o.bc(11,"a",48),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().updateCategory(i)})),o.Wb(12,"nb-icon",49),o.ac(),o.bc(13,"a",50),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().deleteCategory(i.sub_category_id)})),o.Wb(14,"nb-icon",51),o.ac(),o.bc(15,"a",52),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().addSearchtag(i)})),o.Wb(16,"nb-icon",53),o.ac(),o.ac(),o.ac(),o.Lc(17,It,1,0,"img",54),o.ac()}if(2&t){const t=e.$implicit,i=o.mc();o.Jb(4),o.uc("alt","",t.name," thumbnail image"),o.sc("lazyLoad",t.thumbnail_img)("errorImage",i.utils.errorImg),o.Jb(2),o.sc("nbTooltip",t.sub_category_id+". "+t.name),o.Jb(1),o.Qc("",t.sub_category_id,". ",t.name,""),o.Jb(8),o.uc("nbTooltip","Add search tags to ",t.name,""),o.Jb(2),o.sc("ngIf",1==t.is_featured)}}const Rt=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};let Tt=(()=>{class t{constructor(t,e,i,a,n,o){this.validService=t,this.actRoute=e,this.dialog=i,this.dataService=a,this.utils=n,this.route=o,this.previousLabel="<",this.nextLabel=">",this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.currentPage=1,this.errormsg=b.b,this.paginstatus="true",this.broadItem=JSON.parse(localStorage.getItem("selected_category")).name,this.categoryId=this.actRoute.snapshot.params.categoryId}ngOnInit(){this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}checkValidation(t,e,i,a,n,o){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"subCatButton",successArr:["subCatInput"]}}),"blank"!=o&&this.searchCategory()}gotoCategories(){this.route.navigate(["/admin/categories"])}setPageSize(t){this.selectedPageSize=t,this.selectedPageSize>this.totalRecords&&(this.currentPage=1),this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}refreshPage(){this.paginstatus="true",this.searchQuery="",this.selectedPageSize="50",this.currentPage=1,document.getElementById("catError").innerHTML="",this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}searchCategory(){this.validService.checkAllValid([{id:"subCatInput",errorId:"catError",type:"",blank_msg:b.b.SUB_CAT_NAME_SEARCH_EMPTY,type_msg:""}])&&(this.utils.showPageLoader(),this.dataService.postData("searchSubCategoryByName",{name:this.searchQuery,category_id:this.categoryId},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.paginstatus="false",this.totalRecords=t.data.category_list.length,this.selectedPageSize=this.totalRecords.toString(),this.categoryData=t.data.category_list,this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}deleteCategory(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteSubCategory",{sub_category_id:t},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess("Sub category deleted successfully",4e3),this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}addSubCategory(){this.open(!1,"","Add sub category")}addSearchtag(t){this.openTags(!1,t)}openTags(t,e){this.dialog.open(D,{closeOnBackdropClick:t,closeOnEsc:!1,context:{subCatData:e}})}updateCategory(t){this.open(!1,t,"Update sub category")}open(t,e,i){this.dialog.open(B,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{categoryId:this.categoryId,subCatData:e}}).onClose.subscribe(t=>{t&&"add"==t.res&&this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)})}viewCatalog(t){localStorage.setItem("selected_sub_category",JSON.stringify(t)),t.name=t.name.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,t.name,t.sub_category_id])}handlePageChange(t){this.currentPage=t,this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}getAllCategories(t,e,i){this.utils.showPageLoader(),this.token=localStorage.getItem("at"),this.dataService.postData("getSubCategoryByCategoryId",{category_id:t,page:e,item_count:i},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.totalRecords=t.data.total_record,this.categoryData=t.data.category_list,this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}viewCorruptedFonts(){this.dialog.open(K,{closeOnBackdropClick:!0})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(c.a),o.Vb(a.G),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-viewcategories"]],decls:43,vars:22,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"breadcrumb-item","main-home",3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pl-0","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary"],[1,"col-md-12","pr-0","pl-1"],[1,"row","mb-2"],[1,"col-md-5","col-12"],[1,"form-group"],["type","text","nbInput","","placeholder","Search category name here","valid-status","false","id","subCatInput",2,"background","#fff",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","catError",2,"color","red","margin-bottom","0px","height","14px"],[1,"col-md-2","col-12"],["id","subCatButton",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-1","col-sm-1","col-1"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default","nbTooltipTrigger","hint",1,"btn","btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"col-md-4","text-right","col-11","col-sm-11","pl-0"],[1,"pegin",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-primary ml-2","nbTooltip","Click here to view Corrupted Fonts","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click",4,"ngIf"],[1,"btn","btn-primary","ml-2",3,"click"],[1,"row","card-gallary-content"],[1,"col-md-12"],[1,"card-gallary","row"],["class","col-md-12 text-center",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3 pl-0 pr-0",4,"ngFor","ngForOf"],[1,"row","pt-3",2,"background","#fff"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],["nbTooltip","Click here to view Corrupted Fonts","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"btn","btn-primary","ml-2",3,"click"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pl-0","pr-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative",3,"click"],[1,"placeholder-img"],[1,"categImg",3,"lazyLoad","errorImage","alt","load"],[1,"details"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"nbTooltip"],[2,"background","#E1E8F3"],["target","_blank",3,"click"],["icon","folder","pack","eva","nbTooltip","View","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",3,"click"],["icon","trash-2","pack","eva"],["nbTooltipPlacement","bottom","nbTooltipTrigger","hint","nbTooltipStatus","primary",3,"nbTooltip","click"],["icon","pricetags","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],["src","./assets/featured_img.png",1,"label-img"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",0),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.ic("click",(function(){return e.gotoCategories()})),o.Nc(6,"Categories"),o.ac(),o.bc(7,"li",5),o.Nc(8),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"div",6),o.bc(10,"nb-card",7),o.bc(11,"nb-card-header",8),o.Nc(12),o.nc(13,"uppercase"),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(14,"div",9),o.bc(15,"div",10),o.bc(16,"div",11),o.bc(17,"div",12),o.bc(18,"div",13),o.bc(19,"input",14),o.ic("ngModelChange",(function(t){return e.searchQuery=t}))("keyup",(function(){return e.checkValidation("subCatInput","","catError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("subCatInput","","catError","","","usual")})),o.ac(),o.Wb(20,"p",15),o.ac(),o.ac(),o.bc(21,"div",16),o.bc(22,"div",13),o.bc(23,"button",17),o.ic("click",(function(){return e.searchCategory()})),o.Nc(24,"Search"),o.ac(),o.ac(),o.ac(),o.bc(25,"div",18),o.bc(26,"button",19),o.ic("click",(function(){return e.refreshPage()})),o.Wb(27,"i",20),o.ac(),o.ac(),o.bc(28,"div",21),o.bc(29,"nb-select",22),o.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),o.Lc(30,kt,2,2,"nb-option",23),o.ac(),o.Lc(31,Et,2,0,"button",24),o.bc(32,"button",25),o.ic("click",(function(){return e.addSubCategory()})),o.Nc(33,"Add Sub Category"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(34,"div",26),o.bc(35,"div",27),o.bc(36,"div",28),o.Lc(37,St,4,0,"div",29),o.Lc(38,Lt,18,8,"div",30),o.nc(39,"paginate"),o.ac(),o.bc(40,"div",31),o.bc(41,"div",32),o.bc(42,"pagination-controls",33),o.ic("pageChange",(function(t){return e.handlePageChange(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(8),o.Oc(e.broadItem),o.Jb(4),o.Qc(" TOTAL ",o.oc(13,13,e.broadItem)," : ",e.totalRecords," "),o.Jb(7),o.sc("ngModel",e.searchQuery),o.Jb(10),o.sc("selected",e.selectedPageSize),o.Kb("pagin-status",e.paginstatus),o.Jb(1),o.sc("ngForOf",e.pageSize),o.Jb(1),o.sc("ngIf",4==e.categoryId),o.Jb(6),o.sc("ngIf",0==e.totalRecords),o.Jb(1),o.sc("ngForOf",o.pc(39,15,e.categoryData,o.zc(18,Rt,e.selectedPageSize,e.currentPage,e.totalRecords))),o.Jb(3),o.Kb("pagin-status",e.paginstatus),o.Jb(1),o.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[a.sb,a.v,a.x,a.M,u.c,u.n,u.q,a.gb,m.m,m.n,w.c,a.Z,xt,a.w,a.J],pipes:[m.w,w.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}"]}),t})();function Dt(t,e){1&t&&(o.bc(0,"h5",57),o.Nc(1,"Add Catalog"),o.ac())}function Nt(t,e){1&t&&(o.bc(0,"h5",57),o.Nc(1,"Update Catalog"),o.ac())}function zt(t,e){1&t&&o.Wb(0,"img",58)}function Vt(t,e){if(1&t){const t=o.cc();o.bc(0,"img",59),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.calogImage,o.Fc)}}function Jt(t,e){1&t&&o.Wb(0,"img",58)}function At(t,e){if(1&t){const t=o.cc();o.bc(0,"img",59),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.iconImage,o.Fc)}}function Ft(t,e){1&t&&o.Wb(0,"img",58)}function Bt(t,e){if(1&t){const t=o.cc();o.bc(0,"img",59),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.lanscapeImage,o.Fc)}}function Wt(t,e){1&t&&o.Wb(0,"img",58)}function Ht(t,e){if(1&t){const t=o.cc();o.bc(0,"img",59),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.portraitImage,o.Fc)}}function jt(t,e){if(1&t&&(o.bc(0,"nb-option",60),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t.value),o.Jb(1),o.Oc(t.name)}}function Ut(t,e){1&t&&(o.bc(0,"p",61),o.bc(1,"b"),o.Nc(2,"Note:"),o.ac(),o.Nc(3," For Non-Fix date catalog you have to update date every year starting"),o.ac())}function $t(t,e){1&t&&o.Wb(0,"nb-icon",62)}function Gt(t,e){1&t&&o.Wb(0,"nb-icon",63)}function Kt(t,e){1&t&&o.Wb(0,"nb-icon",64)}function Yt(t,e){if(1&t){const t=o.cc();o.bc(0,"div",4),o.bc(1,"div",28),o.bc(2,"label",29),o.Nc(3,"Event Date"),o.ac(),o.ac(),o.bc(4,"div",30),o.bc(5,"div",31),o.bc(6,"input",65),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().eventDate=e}))("change",(function(){return o.Dc(t),o.mc().checkOtherStatus()})),o.ac(),o.Wb(7,"p",66),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.mc();o.Jb(6),o.sc("ngModel",t.eventDate)}}function qt(t,e){if(1&t){const t=o.cc();o.bc(0,"button",67),o.ic("click",(function(){return o.Dc(t),o.mc().addCatalog()})),o.Nc(1,"Add"),o.ac()}}function Qt(t,e){if(1&t){const t=o.cc();o.bc(0,"button",67),o.ic("click",(function(){return o.Dc(t),o.mc().addCatalog()})),o.Nc(1,"Update"),o.ac()}}let Zt=(()=>{class t{constructor(t,e,i,a,n){this.validService=t,this.dialogref=e,this.dataService=i,this.utils=a,this.route=n,this.formData=new FormData,this.errormsg=b.b,this.selectCalogType="0",this.selectCalogPrice="1",this.selectedCatalogType="1",this.catalogTypes=[{name:"Normal",value:"1"},{name:"Fix date",value:"2"},{name:"Non-fix date",value:"3"},{name:"Non date",value:"4"}],this.popularity="1",this.token=localStorage.getItem("at"),this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")).category_id,this.subCategoryId=JSON.parse(localStorage.getItem("selected_sub_category")).sub_category_id,this.utils.dialogref=this.dialogref}ngOnInit(){this.catalogData&&(this.calogImage=this.catalogData.webp_original_img?this.catalogData.webp_original_img:this.catalogData.thumbnail_img,this.CalogName=this.catalogData.name,this.selectCalogType=this.catalogData.is_featured.toString(),this.selectCalogPrice=this.catalogData.is_free.toString(),this.catalogId=this.catalogData.catalog_id,this.catalogData.catalog_type&&(this.selectedCatalogType=""+this.catalogData.catalog_type),this.catalogData.popularity_rate&&null!=this.catalogData.popularity_rate&&(this.popularity=""+this.catalogData.popularity_rate),this.catalogData.event_date&&null!=this.catalogData.event_date&&(this.eventDate=this.catalogData.event_date),this.catalogData.icon&&null!=this.catalogData.icon&&(this.iconImage=this.catalogData.icon),this.catalogData.compressed_landscape_img&&null!=this.catalogData.compressed_landscape_img&&(this.lanscapeImage=this.catalogData.compressed_landscape_img),this.catalogData.compressed_portrait_img&&null!=this.catalogData.compressed_portrait_img&&(this.portraitImage=this.catalogData.compressed_portrait_img))}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.calogImage=t.target.result,this.checkImageValid()},e.readAsDataURL(t.target.files[0])}if(this.fileList=t.target.files,this.fileList.length>0){this.file=this.fileList[0];var i=Math.round(this.file.size/1024);document.getElementById("imageCalogError").innerHTML=i>100?"Maximum 100Kb file allow":"",this.formData.append("file",this.file,this.file.name)}}fileChangeicon(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.iconImage=t.target.result,this.checkIconValid()},e.readAsDataURL(t.target.files[0])}if(this.fileList1=t.target.files,this.fileList1.length>0){this.file1=this.fileList1[0];var i=Math.round(this.file1.size/1024);document.getElementById("iconCalogError").innerHTML=i>50?"Maximum 50Kb file allow":"",this.formData.append("icon",this.file1,this.file1.name)}}fileChangeLandscape(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.lanscapeImage=t.target.result,this.checkLandscapeValid()},e.readAsDataURL(t.target.files[0])}if(this.fileList2=t.target.files,this.fileList2.length>0){this.file2=this.fileList2[0];var i=Math.round(this.file2.size/1024);document.getElementById("lanscapeCalogError").innerHTML=i>100?"Maximum 100Kb file allow":"",this.formData.append("landscape",this.file2,this.file2.name)}}fileChangePortrait(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.portraitImage=t.target.result,this.checkPortraitValid()},e.readAsDataURL(t.target.files[0])}if(this.fileList3=t.target.files,this.fileList3.length>0){this.file3=this.fileList3[0];var i=Math.round(this.file3.size/1024);document.getElementById("portraitCalogError").innerHTML=i>100?"Maximum 100Kb file allow":"",this.formData.append("portrait",this.file3,this.file3.name)}}closedialog(){this.dialogref.close({res:""})}checkImageValid(){if(document.getElementById("CalogAddError").innerHTML="",null==this.calogImage||"none"==this.calogImage||""==this.calogImage)document.getElementById("imageCalogError").innerHTML=b.b.IMG_REQ;else{if(!this.file)return document.getElementById("imageCalogError").innerHTML="",!0;if(!(Math.round(this.file.size/1024)>100))return document.getElementById("imageCalogError").innerHTML="",!0;document.getElementById("imageCalogError").innerHTML="Maximum 100Kb file allow"}}checkPortraitValid(){return document.getElementById("CalogAddError").innerHTML="",this.file3&&Math.round(this.file3.size/1024)>100?void(document.getElementById("portraitCalogError").innerHTML="Maximum 100Kb file allow"):(document.getElementById("portraitCalogError").innerHTML="",!0)}checkLandscapeValid(){return document.getElementById("CalogAddError").innerHTML="",this.file2&&Math.round(this.file2.size/1024)>100?void(document.getElementById("lanscapeCalogError").innerHTML="Maximum 100Kb file allow"):(document.getElementById("lanscapeCalogError").innerHTML="",!0)}checkIconValid(){return document.getElementById("CalogAddError").innerHTML="",this.file1&&Math.round(this.file1.size/1024)>50?void(document.getElementById("iconCalogError").innerHTML="Maximum 50Kb file allow"):(document.getElementById("iconCalogError").innerHTML="",!0)}checkValidation(t,e,i,a,n,o){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"subCalogAdd",successArr:["addCalogInput","calogImage"]}}),"blank"!=o&&this.addCatalog()}checkOtherStatus(){return 2!=this.selectedCatalogType&&3!=this.selectedCatalogType||(null==this.eventDate||""==this.eventDate?(document.getElementById("inputdateError").innerHTML="Please enter event date",!1):(document.getElementById("inputdateError").innerHTML="",!0))}addCatalog(){var t,e=this.validService.checkAllValid([{id:"addCalogInput",errorId:"inputCalogError",type:"",blank_msg:b.b.CAT_LOG_EMPTY,type_msg:""}]),i=this.checkImageValid(),a=this.checkIconValid(),n=this.checkPortraitValid(),o=this.checkLandscapeValid(),r=this.checkOtherStatus();e&&i&&a&&r&&n&&o&&(this.utils.showLoader(),t=this.catalogData?"updateCatalog":"addCatalog",this.formData.append("request_data",JSON.stringify(this.catalogData?{category_id:this.selectedCategory,sub_category_id:this.subCategoryId,is_free:this.selectCalogPrice,catalog_type:+this.selectedCatalogType,event_date:this.eventDate,popularity_rate:this.popularity,is_featured:this.selectCalogType,name:this.CalogName,catalog_id:this.catalogId}:{category_id:this.selectedCategory,sub_category_id:this.subCategoryId,is_free:this.selectCalogPrice,catalog_type:+this.selectedCatalogType,event_date:this.eventDate,popularity_rate:this.popularity,is_featured:this.selectCalogType,name:this.CalogName})),this.dataService.postData(t,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogref.close({res:"add"}),this.utils.showSuccess(this.catalogData?"Catalog updated successfully":"Catalog added successfully",4e3)):201==t.code?(document.getElementById("CalogAddError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(a.F),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addcatalog"]],decls:116,vars:30,consts:[[1,"catalog-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-12"],[1,"col-md-3"],[1,"d-block","form-label","text-center"],["id","calogImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput1"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput1","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","calogImage1",1,"img-preview"],["for","fileInput2"],["id","iconCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput2","autofocus","true","accept","image/png",2,"display","none",3,"change"],["id","calogImag2",1,"img-preview"],["for","fileInput3"],["id","lanscapeCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput3","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","calogImage3",1,"img-preview"],["for","fileInput4"],["id","portraitCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput4","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"row","mt-4"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","tabindex","-1","autofocus","false","nbInput","","placeholder","Enter catalog name","id","addCalogInput",1,"w-100","mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],[1,"col-md-8","pl-0"],[1,"w-100","mw-100",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-info",4,"ngIf"],[1,"col-md-1","pl-0"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have fix date in every year.Ex kites day,valentine's day,teacher's day etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have no fix date but it come in every year.Ex Diwali,Holi etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have no any date but it's come.Ex birthday,anniversary etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["id","radioCalogPriInput","name","my-radio-group4",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["class","row",4,"ngIf"],[1,"form-group","mb-0"],["id","radioCalogPriInput","name","my-radio-group1",3,"ngModel","ngModelChange"],["value","0"],["id","radioCalogInput","name","my-radio-group2",3,"ngModel","ngModelChange"],[1,"pb-0"],[1,"form-group","text-center"],["id","CalogAddError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center"],["class","btn bg-primary text-light w-50","id","subCalogAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[3,"value"],[1,"text-info"],["icon","info-outline","pack","eva","nbTooltip","Event which have fix date in every year.Ex kites day,valentine's day,teacher's day etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["icon","info-outline","pack","eva","nbTooltip","Event which have no fix date but it come in every year.Ex Diwali,Holi etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["icon","info-outline","pack","eva","nbTooltip","Event which have no any date but it's come.Ex birthday,anniversary etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["type","date","nbInput","",1,"w-100","mw-100",3,"ngModel","ngModelChange","change"],["id","inputdateError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],["id","subCalogAdd",1,"btn","bg-primary","text-light","w-50",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.Lc(2,Dt,2,0,"h5",2),o.Lc(3,Nt,2,0,"h5",2),o.bc(4,"i",3),o.ic("click",(function(){return e.closedialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"div",4),o.bc(9,"div",6),o.bc(10,"label",7),o.Nc(11,"Default"),o.ac(),o.bc(12,"div",8),o.Lc(13,zt,1,0,"img",9),o.Lc(14,Vt,1,1,"img",10),o.bc(15,"label",11),o.Wb(16,"i",12),o.ac(),o.ac(),o.Wb(17,"p",13),o.bc(18,"input",14),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.ac(),o.bc(19,"div",6),o.bc(20,"label",7),o.Nc(21,"Icon"),o.ac(),o.bc(22,"div",15),o.Lc(23,Jt,1,0,"img",9),o.Lc(24,At,1,1,"img",10),o.bc(25,"label",16),o.Wb(26,"i",12),o.ac(),o.ac(),o.Wb(27,"p",17),o.bc(28,"input",18),o.ic("change",(function(t){return e.fileChangeicon(t)})),o.ac(),o.ac(),o.bc(29,"div",6),o.bc(30,"label",7),o.Nc(31,"Landscape"),o.ac(),o.bc(32,"div",19),o.Lc(33,Ft,1,0,"img",9),o.Lc(34,Bt,1,1,"img",10),o.bc(35,"label",20),o.Wb(36,"i",12),o.ac(),o.ac(),o.Wb(37,"p",21),o.bc(38,"input",22),o.ic("change",(function(t){return e.fileChangeLandscape(t)})),o.ac(),o.ac(),o.bc(39,"div",6),o.bc(40,"label",7),o.Nc(41,"Portrait"),o.ac(),o.bc(42,"div",23),o.Lc(43,Wt,1,0,"img",9),o.Lc(44,Ht,1,1,"img",10),o.bc(45,"label",24),o.Wb(46,"i",12),o.ac(),o.ac(),o.Wb(47,"p",25),o.bc(48,"input",26),o.ic("change",(function(t){return e.fileChangePortrait(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(49,"div",5),o.bc(50,"div",27),o.bc(51,"div",28),o.bc(52,"label",29),o.Nc(53,"Catalog"),o.ac(),o.ac(),o.bc(54,"div",30),o.bc(55,"div",31),o.bc(56,"input",32),o.ic("ngModelChange",(function(t){return e.CalogName=t}))("keyup",(function(){return e.checkValidation("addCalogInput","","inputCalogError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("addCalogInput","","inputCalogError",e.errormsg.CAT_LOG_EMPTY,"","usual")})),o.ac(),o.Wb(57,"p",33),o.ac(),o.ac(),o.ac(),o.bc(58,"div",4),o.bc(59,"div",28),o.bc(60,"label",29),o.Nc(61,"Catalog Type 1"),o.ac(),o.ac(),o.bc(62,"div",34),o.bc(63,"div",31),o.bc(64,"nb-select",35),o.ic("selectedChange",(function(t){return e.selectedCatalogType=t})),o.Lc(65,jt,2,2,"nb-option",36),o.ac(),o.Lc(66,Ut,4,0,"p",37),o.ac(),o.ac(),o.bc(67,"div",38),o.Lc(68,$t,1,0,"nb-icon",39),o.Lc(69,Gt,1,0,"nb-icon",40),o.Lc(70,Kt,1,0,"nb-icon",41),o.ac(),o.ac(),o.bc(71,"div",4),o.bc(72,"div",28),o.bc(73,"label",29),o.Nc(74,"Popularity"),o.ac(),o.ac(),o.bc(75,"div",30),o.bc(76,"div",31),o.bc(77,"nb-radio-group",42),o.ic("ngModelChange",(function(t){return e.popularity=t})),o.bc(78,"nb-radio",43),o.Nc(79,"1 "),o.ac(),o.bc(80,"nb-radio",44),o.Nc(81,"2 "),o.ac(),o.bc(82,"nb-radio",45),o.Nc(83,"3 "),o.ac(),o.bc(84,"nb-radio",46),o.Nc(85,"4 "),o.ac(),o.bc(86,"nb-radio",47),o.Nc(87,"5 "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.Lc(88,Yt,8,1,"div",48),o.bc(89,"div",4),o.bc(90,"div",28),o.bc(91,"label",29),o.Nc(92,"Pricing"),o.ac(),o.ac(),o.bc(93,"div",30),o.bc(94,"div",49),o.bc(95,"nb-radio-group",50),o.ic("ngModelChange",(function(t){return e.selectCalogPrice=t})),o.bc(96,"nb-radio",43),o.Nc(97,"Free "),o.ac(),o.bc(98,"nb-radio",51),o.Nc(99,"Paid "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(100,"div",4),o.bc(101,"div",28),o.bc(102,"label",29),o.Nc(103,"Catalog Type 2"),o.ac(),o.ac(),o.bc(104,"div",30),o.bc(105,"div",49),o.bc(106,"nb-radio-group",52),o.ic("ngModelChange",(function(t){return e.selectCalogType=t})),o.bc(107,"nb-radio",43),o.Nc(108,"Featured "),o.ac(),o.bc(109,"nb-radio",51),o.Nc(110,"Normal "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(111,"nb-card-footer",53),o.bc(112,"div",54),o.Wb(113,"p",55),o.Lc(114,qt,2,0,"button",56),o.Lc(115,Qt,2,0,"button",56),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",!e.catalogData),o.Jb(1),o.sc("ngIf",e.catalogData),o.Jb(9),o.Kb("valid-status",!!e.catalogData),o.Jb(1),o.sc("ngIf",e.calogImage),o.Jb(1),o.sc("ngIf",e.calogImage),o.Jb(8),o.Kb("valid-status",!!e.catalogData),o.Jb(1),o.sc("ngIf",e.iconImage),o.Jb(1),o.sc("ngIf",e.iconImage),o.Jb(8),o.Kb("valid-status",!!e.catalogData),o.Jb(1),o.sc("ngIf",e.lanscapeImage),o.Jb(1),o.sc("ngIf",e.lanscapeImage),o.Jb(8),o.Kb("valid-status",!!e.catalogData),o.Jb(1),o.sc("ngIf",e.portraitImage),o.Jb(1),o.sc("ngIf",e.portraitImage),o.Jb(12),o.sc("ngModel",e.CalogName),o.Kb("valid-status",!!e.catalogData),o.Jb(8),o.sc("selected",e.selectedCatalogType),o.Jb(1),o.sc("ngForOf",e.catalogTypes),o.Jb(1),o.sc("ngIf",3==e.selectedCatalogType),o.Jb(2),o.sc("ngIf",2==e.selectedCatalogType),o.Jb(1),o.sc("ngIf",3==e.selectedCatalogType),o.Jb(1),o.sc("ngIf",4==e.selectedCatalogType),o.Jb(7),o.sc("ngModel",e.popularity),o.Jb(11),o.sc("ngIf",2==e.selectedCatalogType||3==e.selectedCatalogType),o.Jb(7),o.sc("ngModel",e.selectCalogPrice),o.Kb("valid-status",!!e.catalogData),o.Jb(11),o.sc("ngModel",e.selectCalogType),o.Kb("valid-status",!!e.catalogData),o.Jb(8),o.sc("ngIf",!e.catalogData),o.Jb(1),o.sc("ngIf",e.catalogData))},directives:[a.v,a.x,m.n,a.u,a.M,u.c,u.n,u.q,a.gb,m.m,a.db,a.cb,a.w,a.Z,a.J,a.sb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.catalog-card[_ngcontent-%COMP%]{width:640px}  .catalog-card nb-card-body{max-height:calc(100vh - 191px)}"]}),t})();function Xt(t,e){1&t&&o.Wb(0,"i",10)}function te(t,e){if(1&t){const t=o.cc();o.bc(0,"button",11),o.ic("click",(function(){o.Dc(t);const e=o.mc(),i=e.$implicit,a=e.index;return o.mc().linkCatalogStatus(i,"linkCatalog",a)})),o.Wb(1,"i",12),o.ac()}}function ee(t,e){if(1&t){const t=o.cc();o.bc(0,"button",13),o.ic("click",(function(){o.Dc(t);const e=o.mc(),i=e.$implicit,a=e.index;return o.mc().linkCatalogStatus(i,"deleteLinkedCatalog",a)})),o.Wb(1,"i",14),o.ac()}}function ie(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td"),o.Nc(2),o.ac(),o.bc(3,"td"),o.Nc(4),o.ac(),o.bc(5,"td",6),o.Lc(6,Xt,1,0,"i",7),o.ac(),o.bc(7,"td",6),o.Lc(8,te,2,0,"button",8),o.Lc(9,ee,2,0,"button",9),o.ac(),o.ac()),2&t){const t=e.$implicit,i=e.index;o.Jb(2),o.Oc(i+1),o.Jb(2),o.Oc(t.name),o.Jb(2),o.sc("ngIf",1==t.linked),o.Jb(2),o.sc("ngIf",0==t.linked),o.Jb(1),o.sc("ngIf",1==t.linked)}}let ae=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.dataService=e,this.utils=i,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.getAllSubCategoryWithLinkDetails(this.catalogData)}closeDialog(){this.dialogRef.close({res:this.linkStatus})}linkCatalogStatus(t,e,i){this.utils.showLoader(),this.dataService.postData(e,{catalog_id:this.catalogData.catalog_id,sub_category_id:JSON.parse(JSON.stringify(t)).sub_category_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.showSuccess(t.message,4e3),this.linkStatus="add",this.catalogList[i].linked="linkCatalog"==e?1:0,this.utils.hideLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}getAllSubCategoryWithLinkDetails(t){this.utils.showLoader(),this.dataService.postData("getAllSubCategoryForLinkCatalog",{catalog_id:t.catalog_id,category_id:t.category_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.catalogList=t.data.category_list):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-linkcatalog"]],decls:10,vars:1,consts:[[1,"catalog-link"],[1,"row"],[1,"col-md-12","text-center","header-text"],["title","Close dialog",1,"fa","fa-times","icon-close","text-dark",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[1,"text-right"],["class","fa fa-check-circle fa-1x",4,"ngIf"],["class","btn btn-link","title","Click here to link",3,"click",4,"ngIf"],["class","btn btn-link bg-danger","title","Click here to unlink",3,"click",4,"ngIf"],[1,"fa","fa-check-circle","fa-1x"],["title","Click here to link",1,"btn","btn-link",3,"click"],[1,"fa","fa-link","text-light"],["title","Click here to unlink",1,"btn","btn-link","bg-danger",3,"click"],[1,"fa","fa-unlink","text-light"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header"),o.bc(2,"div",1),o.bc(3,"div",2),o.bc(4,"h5"),o.Nc(5,"Link Catalog"),o.ac(),o.bc(6,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(7,"nb-card-body"),o.bc(8,"table",4),o.Lc(9,ie,10,5,"tr",5),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(9),o.sc("ngForOf",e.catalogList))},directives:[a.v,a.x,a.u,m.m,m.n],styles:[".catalog-link{width:749px;height:calc(100vh - 200px)}  .catalog-link nb-card-body{padding:0 10px!important}  .catalog-link nb-card-header{position:relative}  .catalog-link .icon-close{position:absolute;right:10px;top:0;font-size:23px;cursor:pointer}  .catalog-link i{font-size:20px;color:green;vertical-align:middle}  .catalog-link td{vertical-align:middle!important}  .catalog-link .btn-link{background:green}  .catalog-link .btn-link i{font-size:16px!important}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}@media only screen and (max-width:600px){.catalog-link[_ngcontent-%COMP%]{width:100%}}"]}),t})();var ne=i("X1uw");function oe(t,e){1&t&&(o.bc(0,"div",55),o.bc(1,"div",56),o.Nc(2,"PRO"),o.ac(),o.ac())}function re(t,e){1&t&&(o.bc(0,"div",57),o.Wb(1,"img",58),o.ac())}function ce(t,e){1&t&&(o.bc(0,"div",59),o.Wb(1,"img",60),o.ac())}function se(t,e){1&t&&o.Wb(0,"img",61)}function le(t,e){if(1&t){const t=o.cc();o.bc(0,"div",31),o.bc(1,"nb-card",32),o.bc(2,"div",33),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewCatalog(i)})),o.Wb(3,"img",34),o.bc(4,"img",35),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.Lc(5,oe,3,0,"div",36),o.Lc(6,re,2,0,"div",37),o.Lc(7,ce,2,0,"div",38),o.ac(),o.bc(8,"div",39),o.bc(9,"div",40),o.Nc(10),o.ac(),o.ac(),o.bc(11,"nb-card-footer",41),o.bc(12,"a",42),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewCatalog(i)})),o.Wb(13,"nb-icon",43),o.ac(),o.bc(14,"a",44),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().editCatalog(i)})),o.Wb(15,"nb-icon",45),o.ac(),o.bc(16,"a",46),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().deleteCatalog(i.catalog_id)})),o.Wb(17,"nb-icon",47),o.ac(),o.bc(18,"a",48),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().linkCatalog(i)})),o.Wb(19,"nb-icon",49),o.ac(),o.bc(20,"a",50),o.ic("click",(function(){o.Dc(t);const i=e.$implicit,a=e.index;return o.mc().moveToFirst(i,"feature",a)})),o.Wb(21,"nb-icon",51),o.ac(),o.ac(),o.ac(),o.Lc(22,se,1,0,"img",52),o.bc(23,"div",53),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewImage(i.compressed_img)})),o.Wb(24,"img",54),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=o.mc();o.Jb(4),o.uc("alt","",t.name," thumbnail image"),o.sc("lazyLoad",t.webp_original_img?t.webp_original_img:t.thumbnail_img)("errorImage",i.utils.errorImg),o.Jb(1),o.sc("ngIf",0==t.is_free),o.Jb(1),o.sc("ngIf",t.catalog_type&&t.popularity_rate&&1==t.catalog_type&&5==t.popularity_rate),o.Jb(1),o.sc("ngIf",t.catalog_type&&1!=t.catalog_type),o.Jb(2),o.sc("nbTooltip",t.catalog_id+". "+t.name),o.Jb(1),o.Qc("",t.catalog_id,". ",t.name,""),o.Jb(12),o.sc("ngIf",1==t.is_featured)}}function de(t,e){1&t&&(o.bc(0,"div",62),o.Wb(1,"img",63),o.bc(2,"h2"),o.Nc(3,"No data found"),o.ac(),o.ac())}function ge(t,e){1&t&&(o.bc(0,"div",62),o.Wb(1,"img",63),o.bc(2,"h2"),o.Nc(3,"No data found"),o.ac(),o.ac())}function he(t,e){1&t&&(o.bc(0,"div",55),o.bc(1,"div",56),o.Nc(2,"PRO"),o.ac(),o.ac())}function pe(t,e){1&t&&(o.bc(0,"div",57),o.Wb(1,"img",58),o.ac())}function be(t,e){1&t&&(o.bc(0,"div",59),o.Wb(1,"img",60),o.ac())}function me(t,e){1&t&&o.Wb(0,"img",61)}function ue(t,e){if(1&t){const t=o.cc();o.bc(0,"div",31),o.bc(1,"nb-card",32),o.bc(2,"div",33),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewCatalog(i)})),o.Wb(3,"img",34),o.bc(4,"img",35),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.Lc(5,he,3,0,"div",36),o.Lc(6,pe,2,0,"div",37),o.Lc(7,be,2,0,"div",38),o.ac(),o.bc(8,"div",39),o.bc(9,"div",40),o.Nc(10),o.ac(),o.ac(),o.bc(11,"nb-card-footer",41),o.bc(12,"a",42),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewCatalog(i)})),o.Wb(13,"nb-icon",43),o.ac(),o.bc(14,"a",44),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().editCatalog(i)})),o.Wb(15,"nb-icon",45),o.ac(),o.bc(16,"a",46),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().deleteCatalog(i.catalog_id)})),o.Wb(17,"nb-icon",47),o.ac(),o.bc(18,"a",64),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().linkCatalog(i)})),o.Wb(19,"nb-icon",49),o.ac(),o.bc(20,"a",50),o.ic("click",(function(){o.Dc(t);const i=e.$implicit,a=e.index;return o.mc().moveToFirst(i,"normal",a)})),o.Wb(21,"nb-icon",51),o.ac(),o.ac(),o.ac(),o.Lc(22,me,1,0,"img",52),o.bc(23,"div",53),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewImage(i.compressed_img)})),o.Wb(24,"img",54),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=o.mc();o.Jb(4),o.uc("alt","",t.name," thumbnail image"),o.sc("lazyLoad",t.webp_original_img?t.webp_original_img:t.thumbnail_img)("errorImage",i.utils.errorImg),o.Jb(1),o.sc("ngIf",0==t.is_free),o.Jb(1),o.sc("ngIf",t.catalog_type&&t.popularity_rate&&1==t.catalog_type&&5==t.popularity_rate),o.Jb(1),o.sc("ngIf",t.catalog_type&&1!=t.catalog_type),o.Jb(2),o.sc("nbTooltip",t.catalog_id+". "+t.name),o.Jb(1),o.Qc("",t.catalog_id,". ",t.name,""),o.Jb(12),o.sc("ngIf",1==t.is_featured)}}let fe=(()=>{class t{constructor(t,e,i,a,n,o){this.actRoute=t,this.validService=e,this.dialog=i,this.dataService=a,this.utils=n,this.route=o,this.featuredCatalogList=[],this.normalCatalogList=[],this.errormsg=b.b,this.token=localStorage.getItem("at"),this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.subCategoryName=this.actRoute.snapshot.params.subCategoryName}ngOnInit(){this.getAllCatalogs()}searchCategory(){this.validService.checkAllValid([{id:"calogSearchInput",errorId:"catCalogError",type:"",blank_msg:b.b.CAT_LOG_SEARCH_EMPTY,type_msg:""}])&&(this.utils.showPageLoader(),this.dataService.postData("searchCatalogByName",{sub_category_id:this.subCategoryId,name:this.searchQuery},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.featuredCatalogList=[],this.normalCatalogList=[],this.catalogList=t.data.category_list,this.totalRecords=this.catalogList.length,this.catalogList.forEach(t=>{1==t.is_featured?this.featuredCatalogList.push(t):this.normalCatalogList.push(t)}),this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}viewImage(t){this.dialog.open(ne.a,{context:{imgSrc:t,typeImg:"cat"}})}checkValidation(t,e,i,a,n,o){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"subCalogButton",successArr:["calogSearchInput"]}}),"blank"!=o&&this.searchCategory()}setRank(t,e){if("feature"==t){var i=this.featuredCatalogList[e];this.featuredCatalogList.splice(e,1),this.featuredCatalogList.splice(0,0,i)}else i=this.normalCatalogList[e],this.normalCatalogList.splice(e,1),this.normalCatalogList.splice(0,0,i)}refreshPage(){this.searchQuery="",this.getAllCatalogs()}gotoCategories(){this.route.navigate(["/admin/categories"])}gotoSubCategory(){this.route.navigate(["/admin/categories/",this.categoryId])}viewCatalog(t){localStorage.setItem("selected_catalog",JSON.stringify(t)),t.name=t.name.replace(/ /g,""),this.route.navigate(1==t.is_featured&&3==this.categoryId?["/admin/popular/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:4==this.categoryId?["/admin/fonts/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:7==this.categoryId?["/admin/blog-list/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:["/admin/categories/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id])}addCatalog(){this.open(!1,"")}editCatalog(t){this.open(!1,t)}open(t,e){this.dialog.open(Zt,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e}}).onClose.subscribe(t=>{"add"==t.res&&this.getAllCatalogs()})}linkCatalog(t){var e=t;e.category_id=this.categoryId,this.openLinkTag(!1,e)}openLinkTag(t,e){this.dialog.open(ae,{closeOnBackdropClick:t,closeOnEsc:!1,context:{catalogData:e}}).onClose.subscribe(t=>{"add"==t.res&&this.getAllCatalogs()})}moveToFirst(t,e,i){this.utils.showLoader(),this.dataService.postData("setCatalogRankOnTheTopByAdmin",{catalog_id:t.catalog_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.getAllCatalogs(),this.utils.showSuccess(t.message,4e3),this.utils.hideLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}deleteCatalog(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteCatalog",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getAllCatalogs()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getAllCatalogs(){this.utils.showPageLoader(),this.dataService.postData("getCatalogBySubCategoryId",{sub_category_id:this.subCategoryId},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.featuredCatalogList=[],this.normalCatalogList=[],this.catalogList=t.data.category_list,this.totalRecords=t.data.total_record,this.catalogList.forEach(t=>{1==t.is_featured?this.featuredCatalogList.push(t):this.normalCatalogList.push(t)}),this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(c.a),o.Vb(p.a),o.Vb(a.G),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-catalogsget"]],decls:58,vars:11,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary","mb-2"],[1,"col-md-12"],[1,"col-md-5"],[1,"form-group"],["type","text","nbInput","","placeholder","Search catalog name here","valid-status","false","id","calogSearchInput",2,"background","#fff",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","catCalogError",2,"color","red","margin-bottom","0px","height","14px"],[1,"col-md-2"],["id","subCalogButton",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-2","col-3"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default",1,"btn","btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"col-md-3","col-9","text-right","pr-0"],[1,"btn","btn-primary","btn-add-cat","mr-3",3,"click"],[1,"catalog-data"],["multi",""],["expanded","true"],[1,"row","w-100"],[1,"col-md-9","col-6"],[1,"col-md-3","col-6","text-right"],["class","col-xl-2 col-md-3 col-sm-3 pr-0 pl-0",4,"ngFor","ngForOf"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],[3,"lazyLoad","errorImage","alt","load"],["class","ribbon-wrapper-yellow",4,"ngIf"],["class","catalog-icon","nbTooltip","Popular Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",4,"ngIf"],["class","catalog-icon","nbTooltip","Event Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",4,"ngIf"],[1,"details"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"nbTooltip"],[2,"background","#e1e8f3","padding","10px !important"],["nbTooltip","View","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","folder","pack","eva"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","LInk this catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","link-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","upload","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],[1,"fullscreen-icon",2,"background","lightgray","position","absolute","top","0","right","6px","cursor","pointer",3,"click"],["src","./assets/expand.png",2,"width","25px"],[1,"ribbon-wrapper-yellow"],[1,"ribbon-yellow"],["nbTooltip","Popular Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"catalog-icon"],["src","./assets/popular-icon.jpg"],["nbTooltip","Event Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"catalog-icon"],["src","./assets/event-icon.jpg"],["src","./assets/featured_img.png",1,"label-img"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],["nbTooltip","Link this catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",0),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.ic("click",(function(){return e.gotoCategories()})),o.Nc(6,"Categories"),o.ac(),o.bc(7,"li",5),o.ic("click",(function(){return e.gotoSubCategory()})),o.Nc(8),o.ac(),o.bc(9,"li",6),o.Nc(10),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(11,"div",7),o.bc(12,"nb-card",8),o.bc(13,"nb-card-header",9),o.Nc(14),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(15,"div",10),o.bc(16,"div",11),o.bc(17,"div",0),o.bc(18,"div",12),o.bc(19,"div",13),o.bc(20,"input",14),o.ic("ngModelChange",(function(t){return e.searchQuery=t}))("keyup",(function(){return e.checkValidation("calogSearchInput","","catCalogError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("calogSearchInput","","catCalogError",e.errormsg.SEARCH_QUERY_EMPTY,"","usual")})),o.ac(),o.Wb(21,"p",15),o.ac(),o.ac(),o.bc(22,"div",16),o.bc(23,"div",13),o.bc(24,"button",17),o.ic("click",(function(){return e.searchCategory()})),o.Nc(25,"Search"),o.ac(),o.ac(),o.ac(),o.bc(26,"div",18),o.bc(27,"button",19),o.ic("click",(function(){return e.refreshPage()})),o.Wb(28,"i",20),o.ac(),o.ac(),o.bc(29,"div",21),o.bc(30,"button",22),o.ic("click",(function(){return e.addCatalog()})),o.Nc(31,"Add Catalog"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(32,"div",23),o.bc(33,"div",0),o.bc(34,"div",11),o.bc(35,"nb-accordion",24),o.bc(36,"nb-accordion-item",25),o.bc(37,"nb-accordion-item-header"),o.bc(38,"div",26),o.bc(39,"div",27),o.Nc(40," Templates "),o.ac(),o.bc(41,"div",28),o.Nc(42),o.ac(),o.ac(),o.ac(),o.bc(43,"nb-accordion-item-body"),o.bc(44,"div",0),o.Lc(45,le,25,10,"div",29),o.Lc(46,de,4,0,"div",30),o.ac(),o.ac(),o.ac(),o.bc(47,"nb-accordion-item"),o.bc(48,"nb-accordion-item-header"),o.bc(49,"div",26),o.bc(50,"div",27),o.Nc(51," Collections "),o.ac(),o.bc(52,"div",28),o.Nc(53),o.ac(),o.ac(),o.ac(),o.bc(54,"nb-accordion-item-body"),o.bc(55,"div",0),o.Lc(56,ge,4,0,"div",30),o.Lc(57,ue,25,10,"div",29),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(7),o.uc("nbTooltip","Go to ",e.broadHome,""),o.Jb(1),o.Oc(e.broadHome),o.Jb(2),o.Oc(e.broadItem),o.Jb(4),o.Pc(" TOTAL CATALOGS : ",e.totalRecords," "),o.Jb(6),o.sc("ngModel",e.searchQuery),o.Jb(22),o.Pc(" Total count: ",e.featuredCatalogList.length," "),o.Jb(3),o.sc("ngForOf",e.featuredCatalogList),o.Jb(1),o.sc("ngIf",0==e.featuredCatalogList.length),o.Jb(7),o.Pc(" Total count: ",e.normalCatalogList.length," "),o.Jb(3),o.sc("ngIf",0==e.normalCatalogList.length),o.Jb(1),o.sc("ngForOf",e.normalCatalogList))},directives:[a.sb,a.v,a.x,a.M,u.c,u.n,u.q,a.g,a.i,a.j,a.h,m.m,m.n,xt,a.w,a.J],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:6px 0 15px;left:-4px;top:32px;width:120px;background-color:#fbc913;color:#6a6340;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}"]}),t})();var _e=i("A5z7");function Ce(t,e){1&t&&(o.bc(0,"h5",42),o.Nc(1,"Add JSON Data"),o.ac())}function ve(t,e){1&t&&(o.bc(0,"h5",42),o.Nc(1,"Update JSON Data"),o.ac())}function xe(t,e){1&t&&o.Wb(0,"img",43)}function ye(t,e){if(1&t){const t=o.cc();o.bc(0,"img",44),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.jsonImage,o.Fc)}}function we(t,e){if(1&t){const t=o.cc();o.bc(0,"mat-chip"),o.Nc(1),o.bc(2,"i",45),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().remove(i)})),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Jb(1),o.Pc(" ",t," ")}}function Pe(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td",52),o.Nc(2),o.ac(),o.bc(3,"td"),o.Nc(4),o.ac(),o.bc(5,"td",52),o.Nc(6),o.ac(),o.bc(7,"td"),o.Nc(8),o.ac(),o.ac()),2&t){const t=e.$implicit;o.Jb(1),o.sc("ngClass",0==t.is_correct_name?"text-danger":"text-success"),o.Jb(1),o.Pc("",t.font_name," "),o.Jb(2),o.Oc(t.correct_font_name),o.Jb(1),o.sc("ngClass",0==t.is_correct_path?"text-danger":"text-success"),o.Jb(1),o.Pc("",t.font_path," "),o.Jb(2),o.Oc(t.correct_font_path)}}function Me(t,e){if(1&t&&(o.bc(0,"div",46),o.bc(1,"table",47),o.bc(2,"thead",48),o.bc(3,"tr",49),o.bc(4,"th",50),o.Nc(5,"Incorrect fonts, Please update fonts in red color."),o.ac(),o.ac(),o.bc(6,"tr"),o.bc(7,"th",51),o.Nc(8,"Your font name"),o.ac(),o.bc(9,"th",51),o.Nc(10,"Correct font name"),o.ac(),o.bc(11,"th",51),o.Nc(12,"Your font path"),o.ac(),o.bc(13,"th",51),o.Nc(14,"Correct font path"),o.ac(),o.ac(),o.ac(),o.bc(15,"tbody"),o.Lc(16,Pe,9,6,"tr",30),o.ac(),o.ac(),o.ac()),2&t){const t=o.mc();o.Jb(16),o.sc("ngForOf",t.incorrect_fonts)}}function Oe(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td"),o.Nc(2),o.ac(),o.bc(3,"td"),o.Nc(4),o.ac(),o.bc(5,"td"),o.Nc(6),o.ac(),o.bc(7,"td"),o.Nc(8),o.ac(),o.ac()),2&t){const t=e.$implicit;o.Jb(2),o.Oc(t.font_name),o.Jb(2),o.Oc(t.correct_font_path),o.Jb(2),o.Oc(t.font_path),o.Jb(2),o.Oc(t.correct_font_name)}}function ke(t,e){if(1&t&&(o.bc(0,"div",46),o.bc(1,"table",47),o.bc(2,"thead",48),o.bc(3,"tr",49),o.bc(4,"th",50),o.Nc(5,"Mismatched fonts, please ask designer to make corrections in JSON."),o.ac(),o.ac(),o.bc(6,"tr"),o.bc(7,"th",51),o.Nc(8,"Your font name"),o.ac(),o.bc(9,"th",51),o.Nc(10,"Suggested font path"),o.ac(),o.bc(11,"th",51),o.Nc(12,"Your font path"),o.ac(),o.bc(13,"th",51),o.Nc(14,"Suggested font name"),o.ac(),o.ac(),o.ac(),o.bc(15,"tbody"),o.Lc(16,Oe,9,4,"tr",30),o.ac(),o.ac(),o.ac()),2&t){const t=o.mc();o.Jb(16),o.sc("ngForOf",t.mismatch_fonts)}}function Ee(t,e){if(1&t){const t=o.cc();o.bc(0,"button",53),o.ic("click",(function(){return o.Dc(t),o.mc().saveJson()})),o.Nc(1,"Save"),o.ac()}}function Se(t,e){if(1&t){const t=o.cc();o.bc(0,"button",53),o.ic("click",(function(){return o.Dc(t),o.mc().saveJson()})),o.Nc(1,"Update"),o.ac()}}let Ie=(()=>{class t{constructor(t,e,i,a){this.validService=t,this.dialogRef=e,this.utils=i,this.dataService=a,this.allSearchTag=[],this.searchINputControl=new u.d,this.selectedSearchTags=[],this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCataLog=JSON.parse(localStorage.getItem("selected_catalog")),this.selectedType="0",this.selectedPrice="1",this.selectedStyle="1",this.formData=new FormData,this.incorrect_fonts=[],this.mismatch_fonts=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.searchTagList=JSON.parse(localStorage.getItem("search_tag_list")),this.selectedSearchTags=this.selectedCataLog.name.toLowerCase().replace(/[^a-zA-Z ]/g,"  ").replace(/\s\s+/g," ").trim().split(" "),this.searchTagList&&this.searchTagList.forEach(t=>{this.allSearchTag.push(t.tag_name)}),this.options=this.allSearchTag,this.filteredOptions$=Object(Y.a)(this.options),this.filteredOptions$=this.searchINputControl.valueChanges.pipe(Object(st.a)(""),Object(ot.a)(t=>this.filter(t))),this.upJSonData&&(this.jsonImage=this.upJSonData.thumbnail_img,this.selectedType=this.upJSonData.is_featured,this.selectedStyle=this.upJSonData.is_portrait.toString(),this.selectedPrice=this.upJSonData.is_free.toString(),this.selectedSearchTags=void 0===this.upJSonData.search_category||""==this.upJSonData.search_category.trim()||null==this.upJSonData.search_category?[]:this.upJSonData.search_category.split(","),this.upJSonData.json_data=JSON.stringify(this.upJSonData.json_data,null,2),this.jsonData=this.upJSonData.json_data)}filter(t){const e=t.toLowerCase();return this.options.filter(t=>t.toLowerCase().includes(e))}validateString(t){return/^[a-z0-9&,# ]+$/i.test(t)}add(t){if("object"==typeof t)if(""!=t.target.value.trim()){if(!this.validateString(t.target.value))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, ' & , #' is allowed in tag name.");var e=t.target.value.split(",");for(let t=0;t<e.length;t++)(e[t]||"").trim()&&this.selectedSearchTags.push(e[t].trim().toLowerCase());document.getElementById("tagInputError").innerHTML="",this.searchINputControl.setValue("")}else this.searchINputControl.setValue("");else if(""!=t){if(!this.validateString(t))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '&' is allowed in tag name.");document.getElementById("tagInputError").innerHTML="",this.selectedSearchTags.push(t.toLowerCase()),this.searchINputControl.setValue("")}const i=this.selectedSearchTags.filter((t,e,i)=>i.indexOf(t)===e);this.selectedSearchTags=i}remove(t){var e=this.selectedSearchTags.indexOf(t);this.selectedSearchTags.splice(e,1)}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.jsonImage=t.target.result,this.checkImageValid()},e.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}checkValidation(t,e,i,a,n){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"saveJson",successArr:["jsonImage","radioCalogPriInput","radioCalogtypeInput","radioCalogstyleInput"]}})}checkImageValid(){if(document.getElementById("jsonAddError").innerHTML="",null!=this.jsonImage&&"none"!=this.jsonImage&&""!=this.jsonImage)return document.getElementById("imageError").innerHTML="",!0;document.getElementById("imageError").innerHTML=b.b.IMG_REQ}checkJsonValid(){if(document.getElementById("jsonAddError").innerHTML="",void 0===this.jsonData||""==this.jsonData.trim()||null==this.jsonData)document.getElementById("jsonFileError").innerHTML=b.b.JSON_DATA_EMPTY;else{if(this.isJson(this.jsonData))return document.getElementById("jsonFileError").innerHTML="",!0;document.getElementById("jsonFileError").innerHTML="JSON data you enter is not valid"}}removeError(){document.getElementById("jsonFileError").innerHTML=""}isJson(t){try{JSON.parse(t)}catch(e){return!1}return!0}closeDialog(){this.dialogRef.close({res:""})}openFile(t){var e=t.target,i=new FileReader;i.onload=t=>{this.jsonData=t.target.result,this.checkJsonValid()},i.readAsText(e.files[0])}saveJson(){var t=this.checkImageValid(),e=this.checkJsonValid();if(t&&e){var i,a;this.utils.showLoader();var n=JSON.parse(this.jsonData);let t=this.selectedSearchTags.join();this.upJSonData?(a={category_id:this.selectedCategory.category_id,is_featured_catalog:this.selectedCataLog.is_featured,img_id:this.upJSonData.img_id,is_free:this.selectedPrice,is_featured:this.selectedType,is_portrait:this.selectedStyle,catalog_id:this.catalogId,json_data:n,search_category:t},i="editJsonData"):(a={category_id:this.selectedCategory.category_id,is_featured_catalog:this.selectedCataLog.is_featured,is_free:this.selectedPrice,is_featured:this.selectedType,is_portrait:this.selectedStyle,catalog_id:this.catalogId,json_data:n,search_category:t},i="addJson"),this.formData.append("request_data",JSON.stringify(a)),this.dataService.postData(i,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.incorrect_fonts=[],this.mismatch_fonts=[],this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("jsonAddError").innerHTML=t.message,this.utils.hideLoader()):433==t.code?(document.getElementById("jsonAddError").innerHTML=t.message,this.incorrect_fonts=t.data.incorrect_fonts,this.mismatch_fonts=t.data.mismatch_fonts,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(document.getElementById("jsonAddError").innerHTML=t.message,this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(a.F),o.Vb(s.a),o.Vb(h.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addjsondata"]],decls:74,vars:18,consts:[[1,"add-json-data-card"],[2,"position","relative"],["class","text-center header-text",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row","json-form-data"],[1,"col-md-5"],["id","jsonImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["type","file","id","fileInput","autofocus","true",2,"display","none",3,"change"],["id","imageError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],[1,"row","mt-4"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["id","radioCalogPriInput","name","my-radio-group1",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","radioPlaError",2,"color","red","margin-bottom","0px","margin-top","4px"],[1,"row"],["id","radioCalogtypeInput","name","my-radio-group2",3,"ngModel","ngModelChange"],["id","radioCalogstyleInput","name","my-radio-group3",3,"ngModel","ngModelChange"],[1,"col-md-12"],["nbInput","","type","text","placeholder","Select / Enter new tag",1,"mw-100","mb-1",3,"formControl","keyup.enter"],["id","tagInputError",2,"color","red","margin-bottom","3px"],["aria-label","Fruit selection"],["chipList",""],[4,"ngFor","ngForOf"],[1,"col-md-7"],[1,"form-group","mb-0"],["type","file","accept","text/plain","title","Choose JSON File",1,"form-control","height-45",3,"change"],["id","jsonFileError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"mb-3"],["nbInput","","placeholder","Enter JSON data",1,"mw-100",2,"height","418px",3,"ngModel","ngModelChange","keyup"],["class","col-md-12 post-table-div pr-0",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-12","text-center"],["id","jsonAddError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],["class","btn bg-primary w-25 text-light mr-1","id","saveJson",3,"click",4,"ngIf"],[1,"text-center","header-text"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["matChipRemove","",1,"fa","fa-times",2,"margin-top","5px","color","red","cursor","pointer",3,"click"],[1,"col-md-12","post-table-div","pr-0"],[1,"table"],[2,"background","#edf1f7"],[1,"table-inverse"],["colspan","4",1,"pt-1","pb-1","text-center"],[1,"pt-1","pb-1"],[3,"ngClass"],["id","saveJson",1,"btn","bg-primary","w-25","text-light","mr-1",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.Lc(2,Ce,2,0,"h5",2),o.Lc(3,ve,2,0,"h5",2),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"div",6),o.Lc(9,xe,1,0,"img",7),o.Lc(10,ye,1,1,"img",8),o.bc(11,"label",9),o.Wb(12,"i",10),o.ac(),o.ac(),o.bc(13,"input",11),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.Wb(14,"p",12),o.bc(15,"div",13),o.bc(16,"div",14),o.bc(17,"label",15),o.Nc(18,"Pricing"),o.ac(),o.ac(),o.bc(19,"div",16),o.bc(20,"div",17),o.bc(21,"nb-radio-group",18),o.ic("ngModelChange",(function(t){return e.selectedPrice=t})),o.bc(22,"nb-radio",19),o.Nc(23,"Free "),o.ac(),o.bc(24,"nb-radio",20),o.Nc(25,"Paid "),o.ac(),o.ac(),o.Wb(26,"p",21),o.ac(),o.ac(),o.ac(),o.bc(27,"div",22),o.bc(28,"div",14),o.bc(29,"label",15),o.Nc(30,"Type"),o.ac(),o.ac(),o.bc(31,"div",16),o.bc(32,"div",17),o.bc(33,"nb-radio-group",23),o.ic("ngModelChange",(function(t){return e.selectedType=t})),o.bc(34,"nb-radio",19),o.Nc(35," Featured"),o.ac(),o.bc(36,"nb-radio",20),o.Nc(37," Normal"),o.ac(),o.ac(),o.Wb(38,"p",21),o.ac(),o.ac(),o.ac(),o.bc(39,"div",22),o.bc(40,"div",14),o.bc(41,"label",15),o.Nc(42,"Orientation"),o.ac(),o.ac(),o.bc(43,"div",16),o.bc(44,"div",17),o.bc(45,"nb-radio-group",24),o.ic("ngModelChange",(function(t){return e.selectedStyle=t})),o.bc(46,"nb-radio",19),o.Nc(47," Portrait"),o.ac(),o.bc(48,"nb-radio",20),o.Nc(49," Landscape"),o.ac(),o.ac(),o.Wb(50,"p",21),o.ac(),o.ac(),o.ac(),o.bc(51,"div",22),o.bc(52,"div",25),o.bc(53,"div",17),o.bc(54,"input",26),o.ic("keyup.enter",(function(t){return e.add(t)})),o.ac(),o.Wb(55,"p",27),o.bc(56,"mat-chip-list",28,29),o.Lc(58,we,3,1,"mat-chip",30),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(59,"div",31),o.bc(60,"div",32),o.bc(61,"input",33),o.ic("change",(function(t){return e.openFile(t)})),o.ac(),o.Wb(62,"p",34),o.ac(),o.bc(63,"h6",35),o.Nc(64,"-- OR --"),o.ac(),o.bc(65,"div",17),o.bc(66,"textarea",36),o.ic("ngModelChange",(function(t){return e.jsonData=t}))("keyup",(function(){return e.removeError()})),o.ac(),o.ac(),o.ac(),o.Lc(67,Me,17,1,"div",37),o.Lc(68,ke,17,1,"div",37),o.ac(),o.bc(69,"div",38),o.bc(70,"div",39),o.Wb(71,"p",40),o.Lc(72,Ee,2,0,"button",41),o.Lc(73,Se,2,0,"button",41),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",!e.upJSonData),o.Jb(1),o.sc("ngIf",e.upJSonData),o.Jb(5),o.Kb("valid-status",!!e.upJSonData),o.Jb(1),o.sc("ngIf",e.jsonImage),o.Jb(1),o.sc("ngIf",e.jsonImage),o.Jb(11),o.sc("ngModel",e.selectedPrice),o.Kb("valid-status",!!e.upJSonData),o.Jb(12),o.sc("ngModel",e.selectedType),o.Kb("valid-status",!!e.upJSonData),o.Jb(12),o.sc("ngModel",e.selectedStyle),o.Kb("valid-status",!!e.upJSonData),o.Jb(9),o.sc("formControl",e.searchINputControl),o.Jb(4),o.sc("ngForOf",e.selectedSearchTags),o.Jb(8),o.sc("ngModel",e.jsonData),o.Jb(1),o.sc("ngIf",e.incorrect_fonts.length>0),o.Jb(1),o.sc("ngIf",e.mismatch_fonts.length>0),o.Jb(4),o.sc("ngIf",!e.upJSonData),o.Jb(1),o.sc("ngIf",e.upJSonData))},directives:[a.v,a.x,m.n,a.u,a.db,u.n,u.q,a.cb,a.M,u.c,u.e,_e.b,m.m,_e.a,_e.c,m.l],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.add-json-data-card[_ngcontent-%COMP%]{width:calc(100vw - 500px);height:calc(100vh - 87px)}.add-json-data-card[_ngcontent-%COMP%]   .json-form-data[_ngcontent-%COMP%]{height:calc(100vh - 267px);overflow-x:hidden;overflow-y:scroll}.add-json-data-card[_ngcontent-%COMP%]   .json-form-data[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.height-45[_ngcontent-%COMP%]{height:45px!important}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}@media only screen and (max-width:600px){.add-json-data-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}"]}),t})();function Le(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td",6),o.Nc(2),o.ac(),o.bc(3,"td",7),o.Nc(4),o.ac(),o.bc(5,"td",17),o.Wb(6,"img",18),o.bc(7,"img",19),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.ac(),o.bc(8,"td",17),o.Wb(9,"img",18),o.bc(10,"img",19),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.ac(),o.bc(11,"td",9),o.bc(12,"input",20),o.ic("ngModelChange",(function(i){return o.Dc(t),e.$implicit.is_checked=i}))("change",(function(){o.Dc(t);const i=e.$implicit;return o.mc().valueChanged(i)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=e.index;o.Jb(2),o.Oc(i+1),o.Jb(2),o.Oc(t.name),o.Jb(3),o.sc("src",t.url,o.Fc),o.Jb(3),o.sc("src",t.new_image.compressed_img,o.Fc),o.Jb(2),o.sc("ngModel",t.is_checked)}}let Re=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.dataService=e,this.utils=i,this.formData=new FormData,this.requestData={is_replace:1,category_id:JSON.parse(localStorage.getItem("selected_category")).category_id},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.imageFiles.forEach(t=>{t.is_checked=!1})}closeDialog(){this.dialogRef.close({res:""})}selectAll(t){if(document.getElementById("imageExtError").innerHTML="",1==t)for(let e=0;e<this.imageFiles.length;e++)this.imageFiles[e].is_checked=!0;else for(let e=0;e<this.imageFiles.length;e++)this.imageFiles[e].is_checked=!1}valueChanged(){document.getElementById("imageExtError").innerHTML="";for(let t=0;t<this.imageFiles.length;t++)0==this.imageFiles[t].is_checked&&(this.isAllChecked=!1)}replaceImages(t){let e=0;this.formData=new FormData;for(let i=0;i<t.length;i++)1==t[i].is_checked&&(e++,this.formData.append("file[]",t[i].new_image));if(e<=0)return document.getElementById("imageExtError").innerHTML=b.b.IMG_REP_EMPTY,!1;this.formData.append("request_data",JSON.stringify(this.requestData)),this.utils.showLoader(),this.dataService.postData("addCatalogImagesForJson",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.dialogRef.close({res:"add"})):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-existingimageslist"]],decls:28,vars:2,consts:[[1,"existing-image-card"],[2,"position","relative"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"table-body"],[1,"table-header-content",2,"background","#80808026"],[1,"table","mb-0"],[1,"w-45"],[1,"w-226"],[1,"text-center","w-220"],[1,"text-center"],["type","checkbox",2,"vertical-align","middle","margin-left","5px",3,"ngModel","ngModelChange","change"],[1,"table-body-content"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-area","text-center"],["id","imageExtError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],[1,"text-center","w-220",2,"position","relative"],[1,"placeholder-img",2,"left","unset"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"h5"),o.Nc(3,"Existing Images List"),o.ac(),o.bc(4,"i",2),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",3),o.bc(7,"div",4),o.bc(8,"table",5),o.bc(9,"tr"),o.bc(10,"th",6),o.Nc(11,"#"),o.ac(),o.bc(12,"th",7),o.Nc(13,"Image Name"),o.ac(),o.bc(14,"th",8),o.Nc(15,"Existing Image"),o.ac(),o.bc(16,"th",8),o.Nc(17,"New Image"),o.ac(),o.bc(18,"th",9),o.Nc(19,"Replace"),o.bc(20,"input",10),o.ic("ngModelChange",(function(t){return e.isAllChecked=t}))("change",(function(){return e.selectAll(e.isAllChecked)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(21,"div",11),o.bc(22,"table",12),o.Lc(23,Le,13,5,"tr",13),o.ac(),o.ac(),o.bc(24,"div",14),o.Wb(25,"p",15),o.bc(26,"button",16),o.ic("click",(function(){return e.replaceImages(e.imageFiles)})),o.Nc(27,"Replace"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(20),o.sc("ngModel",e.isAllChecked),o.Jb(3),o.sc("ngForOf",e.imageFiles))},directives:[a.v,a.x,a.u,u.a,u.n,u.q,m.m],styles:[".existing-image-card[_ngcontent-%COMP%]{width:900px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:20px;cursor:pointer;font-size:23px}.table-body-content[_ngcontent-%COMP%]{max-height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-body-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.table-body-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.table-body-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{zoom:1.4}.w-45[_ngcontent-%COMP%]{width:45px}.w-226[_ngcontent-%COMP%]{width:226px}.w-220[_ngcontent-%COMP%]{width:220px}"]}),t})();function Te(t,e){if(1&t){const t=o.cc();o.bc(0,"div",16),o.bc(1,"div",17),o.Wb(2,"img",18),o.bc(3,"i",19),o.ic("click",(function(){o.Dc(t);const i=e.index;return o.mc().deleteImage(i)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Jb(2),o.sc("src",t.compressed_img,o.Fc)}}function De(t,e){if(1&t){const t=o.cc();o.bc(0,"img",35),o.ic("load",(function(e){return o.Dc(t),o.mc(4).imageLoad(e)})),o.ac()}if(2&t){const t=o.mc().$implicit;o.sc("src",t.compressed_img,o.Fc)}}function Ne(t,e){if(1&t&&(o.bc(0,"div",32),o.Wb(1,"img",33),o.Lc(2,De,1,1,"img",34),o.ac()),2&t){const t=e.$implicit,i=o.mc().$implicit;o.Jb(2),o.sc("ngIf",t.name==i.file_name)}}function ze(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td",30),o.Lc(2,Ne,3,1,"div",31),o.ac(),o.bc(3,"td",27),o.Nc(4),o.ac(),o.bc(5,"td",28),o.Nc(6),o.ac(),o.ac()),2&t){const t=e.$implicit,i=o.mc(2);o.Jb(2),o.sc("ngForOf",i.fileList),o.Jb(2),o.Oc(t.file_name),o.Jb(2),o.Oc(t.error_message)}}function Ve(t,e){if(1&t&&(o.bc(0,"div",20),o.bc(1,"div",9),o.bc(2,"div",21),o.bc(3,"div",22),o.bc(4,"p"),o.Nc(5,"Invalid files, Please update files correct."),o.ac(),o.ac(),o.bc(6,"div",23),o.bc(7,"table",24),o.bc(8,"thead"),o.bc(9,"tr",25),o.bc(10,"th",26),o.Nc(11,"Image"),o.ac(),o.bc(12,"th",27),o.Nc(13,"File Name"),o.ac(),o.bc(14,"th",28),o.Nc(15,"Error"),o.ac(),o.ac(),o.ac(),o.Lc(16,ze,7,3,"tr",29),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t){const t=o.mc();o.Jb(16),o.sc("ngForOf",t.errorList)}}function Je(t,e){if(1&t){const t=o.cc();o.bc(0,"button",36),o.ic("click",(function(){o.Dc(t);const e=o.mc();return e.viewExistingImages(e.existingFiles)})),o.Nc(1,"View Existing Images"),o.ac()}}const Ae=function(t){return{"height-img-card":t}};let Fe=(()=>{class t{constructor(t,e,i,a){this.dialog=t,this.dialogRef=e,this.dataService=i,this.utils=a,this.totalFiles=0,this.formData=new FormData,this.existingFiles=[],this.errorList=[],this.files=[],this.requestData={is_replace:0,category_id:JSON.parse(localStorage.getItem("selected_category")).category_id},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){}closeDialog(){this.dialogRef.close({res:""})}fileChange(t){if(this.files=[],this.errorList=[],this.existingFiles=[],this.fileList=t.target.files,this.fileList&&this.fileList.length>0)for(let i=0;i<this.fileList.length;i++){var e=new FileReader;e.onload=t=>{this.fileList[i].compressed_img=t.target.result},e.readAsDataURL(this.fileList[i]),this.files.push(this.fileList[i]),this.totalFiles=this.files.length,document.getElementById("imageFileError").innerHTML=this.totalFiles>20?"Max 20 files allow to upload":""}else this.fileList=[],this.existingFiles=[]}deleteImage(t){document.getElementById("imageFileError").innerHTML="",this.files.splice(t,1),this.totalFiles=this.files.length,0==this.totalFiles&&(this.existingFiles=[])}getFileFormData(){this.formData=new FormData;for(let t=0;t<this.files.length;t++)this.formData.append("file[]",this.files[t])}viewExistingImages(t){this.open(!1,t)}open(t,e){this.dialog.open(Re,{closeOnBackdropClick:t,closeOnEsc:!1,context:{imageFiles:e}}).onClose.subscribe(t=>{if("add"==t.res){for(let t=0;t<this.files.length;t++)e.forEach(e=>{e.name==this.files[t].name&&this.files.splice(t,1)});this.files.length>0?this.addImages():this.dialogRef.close()}})}addImages(){if(this.getFileFormData(),this.errorList=[],void 0===this.files||""==this.files||null==this.files||this.files.length<=0)return document.getElementById("imageFileError").innerHTML=b.b.IMG_UP_EMPTY,!1;this.totalFiles>20?document.getElementById("imageFileError").innerHTML="Max 20 files allow to upload":(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify(this.requestData)),this.dataService.postData("addCatalogImagesForJson",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code)this.dialogRef.close(),this.utils.showSuccess(t.message,4e3),this.utils.hideLoader();else if(201==t.code)document.getElementById("imageFileError").innerHTML=t.message,this.utils.hideLoader();else if(t.status||0==t.status)document.getElementById("imageFileError").innerHTML=t.message,this.utils.hideLoader();else if(420==t.code){this.utils.hideLoader(),document.getElementById("imageFileError").innerHTML=t.message,this.existingFiles=t.data.existing_files;for(var e,i=0;e=this.files[i];i++)this.existingFiles.forEach(t=>{e.name==t.name&&(t.new_image=e)})}else 432==t.code?(document.getElementById("imageFileError").innerHTML=t.message,this.errorList=t.data.error_list,this.utils.hideLoader()):(document.getElementById("imageFileError").innerHTML=t.message,this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.G),o.Vb(a.F),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addjsonimages"]],decls:21,vars:7,consts:[[1,"json-img-card"],[1,"header-text",2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"img-card-content",3,"ngClass"],[1,"add-images-label"],["for","multipleFiles"],["type","file","accept","image/*","onclick","this.value = null;","multiple","","id","multipleFiles",2,"display","none",3,"change"],[1,"upload-card-gallary","height-multi-image","mt-2"],[1,"row"],["class","col-md-2 col-4 col-sm-3 up-card-item",4,"ngFor","ngForOf"],["class","files-error-list",4,"ngIf"],[1,"button-area","text-center"],["id","imageFileError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","27px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],["class","btn bg-success text-light",3,"click",4,"ngIf"],[1,"col-md-2","col-4","col-sm-3","up-card-item"],[1,"up-card-content"],[3,"src"],[1,"fa","fa-times",3,"click"],[1,"files-error-list"],[1,"col-md-12"],[1,"table-header-error"],[1,"table-body"],[1,"table","table-responsive"],[2,"background","#80808026"],[1,"w-105"],[1,"w-325"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"img-td"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"placeholder-img",2,"left","unset","height","100%"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[1,"btn","bg-success","text-light",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"p",2),o.Nc(3,"Add JSON Images"),o.ac(),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"label",6),o.bc(9,"p"),o.Nc(10),o.ac(),o.ac(),o.ac(),o.bc(11,"input",7),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.bc(12,"div",8),o.bc(13,"div",9),o.Lc(14,Te,4,1,"div",10),o.ac(),o.ac(),o.Lc(15,Ve,17,1,"div",11),o.ac(),o.bc(16,"div",12),o.Wb(17,"p",13),o.bc(18,"button",14),o.ic("click",(function(){return e.addImages()})),o.Nc(19,"Save"),o.ac(),o.Lc(20,Je,2,0,"button",15),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(6),o.sc("ngClass",o.xc(5,Ae,e.errorList.length>0)),o.Jb(4),o.Pc("Choose JSON Images - ",e.totalFiles," Files Selected"),o.Jb(4),o.sc("ngForOf",e.files),o.Jb(1),o.sc("ngIf",e.errorList.length>0),o.Jb(5),o.sc("ngIf",e.existingFiles.length>0))},directives:[a.v,a.x,a.u,m.l,m.m,m.n],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}  .json-img-card{width:700px}.height-img-card[_ngcontent-%COMP%]{height:calc(100vh - 218px);overflow-x:hidden;overflow-y:scroll}.height-img-card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]{border:2px dashed #0273ff;width:100%}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0!important;position:relative;cursor:pointer;padding:15px 10px}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;width:100%;margin-bottom:0!important}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.upload-card-gallary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:100%;height:40px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-item[_ngcontent-%COMP%]{background:#fff;padding:10px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]{border:2px dotted #000;position:relative;text-align:center;padding:4px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;background:#0273ff;color:#fff;padding:5px 7px;border-radius:50%;right:-10px;top:-10px;cursor:pointer}.files-error-list[_ngcontent-%COMP%]   .table-header-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:red;color:#fff;font-size:18px;font-weight:700;text-align:center;padding:10px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:55px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;color:red}.w-105[_ngcontent-%COMP%]{width:105px}.w-325[_ngcontent-%COMP%]{width:325px}.height-multi-image[_ngcontent-%COMP%]{height:130px;padding:10px 18px 10px 10px;overflow-x:hidden;overflow-y:auto}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.json-img-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.files-error-list[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset!important}}@media only screen and (max-width:400px){.json-img-card[_ngcontent-%COMP%]{width:347px}}"]}),t})();function Be(t,e){if(1&t){const t=o.cc();o.bc(0,"div",15),o.bc(1,"div",16),o.Wb(2,"img",17),o.bc(3,"i",18),o.ic("click",(function(){o.Dc(t);const i=e.index;return o.mc().deleteImage(i)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Jb(2),o.sc("src",t.compressed_img,o.Fc)}}function We(t,e){if(1&t){const t=o.cc();o.bc(0,"img",34),o.ic("load",(function(e){return o.Dc(t),o.mc(4).imageLoad(e)})),o.ac()}if(2&t){const t=o.mc().$implicit;o.sc("src",t.compressed_img,o.Fc)}}function He(t,e){if(1&t&&(o.bc(0,"div",31),o.Wb(1,"img",32),o.Lc(2,We,1,1,"img",33),o.ac()),2&t){const t=e.$implicit,i=o.mc().$implicit;o.Jb(2),o.sc("ngIf",t.name==i.file_name)}}function je(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td",29),o.Lc(2,He,3,1,"div",30),o.ac(),o.bc(3,"td",26),o.Nc(4),o.ac(),o.bc(5,"td",27),o.Nc(6),o.ac(),o.ac()),2&t){const t=e.$implicit,i=o.mc(2);o.Jb(2),o.sc("ngForOf",i.fileList),o.Jb(2),o.Oc(t.file_name),o.Jb(2),o.Oc(t.error_message)}}function Ue(t,e){if(1&t&&(o.bc(0,"div",19),o.bc(1,"div",9),o.bc(2,"div",20),o.bc(3,"div",21),o.bc(4,"p"),o.Nc(5,"Invalid files, Please update files correct."),o.ac(),o.ac(),o.bc(6,"div",22),o.bc(7,"table",23),o.bc(8,"thead"),o.bc(9,"tr",24),o.bc(10,"th",25),o.Nc(11,"Image"),o.ac(),o.bc(12,"th",26),o.Nc(13,"File Name"),o.ac(),o.bc(14,"th",27),o.Nc(15,"Error"),o.ac(),o.ac(),o.ac(),o.Lc(16,je,7,3,"tr",28),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t){const t=o.mc();o.Jb(16),o.sc("ngForOf",t.errorList)}}const $e=function(t){return{"height-img-card":t}};let Ge=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.dataService=e,this.utils=i,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.totalFiles=0,this.formData=new FormData,this.errorList=[],this.files=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){}closeDialog(){this.dialogRef.close({res:""})}fileChange(t){if(this.files=[],this.errorList=[],this.fileList=t.target.files,this.fileList&&this.fileList.length>0)for(let i=0;i<this.fileList.length;i++){var e=new FileReader;e.onload=t=>{this.fileList[i].compressed_img=t.target.result},e.readAsDataURL(this.fileList[i]),this.files.push(this.fileList[i]),this.totalFiles=this.files.length,document.getElementById("imageFileError").innerHTML=this.totalFiles>20?"Max 20 files allow to upload":""}else this.fileList=[]}deleteImage(t){document.getElementById("imageFileError").innerHTML="",this.files.splice(t,1),this.totalFiles=this.files.length}getFileFormData(){this.formData=new FormData;for(let t=0;t<this.files.length;t++)this.formData.append("file[]",this.files[t])}addImages(){if(this.getFileFormData(),this.errorList=[],void 0===this.files||""==this.files||null==this.files||this.files.length<=0)return document.getElementById("imageFileError").innerHTML=b.b.IMG_UP_EMPTY,!1;this.totalFiles>20?document.getElementById("imageFileError").innerHTML="Max 20 files allow to upload":(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({catalog_id:this.catalogId,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured})),this.dataService.postData("addCatalogImages",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3),this.utils.hideLoader()):201==t.code?(document.getElementById("imageFileError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):432==t.code?(document.getElementById("imageFileError").innerHTML=t.message,this.errorList=t.data.error_list,this.utils.hideLoader()):(document.getElementById("imageFileError").innerHTML=t.message,this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addsubcategoryimagesbyid"]],decls:20,vars:6,consts:[[1,"json-img-card"],[1,"header-text",2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"img-card-content",3,"ngClass"],[1,"add-images-label"],["for","multipleFiles"],["type","file","accept","image/*","onclick","this.value = null;","multiple","","id","multipleFiles",2,"display","none",3,"change"],[1,"upload-card-gallary","height-multi-image","mt-2"],[1,"row"],["class","col-md-2 up-card-item",4,"ngFor","ngForOf"],["class","files-error-list",4,"ngIf"],[1,"button-area","text-center"],["id","imageFileError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],[1,"col-md-2","up-card-item"],[1,"up-card-content"],[3,"src"],[1,"fa","fa-times",3,"click"],[1,"files-error-list"],[1,"col-md-12"],[1,"table-header-error"],[1,"table-body"],[1,"table","table-responsive"],[2,"background","#80808026"],[1,"w-105"],[1,"w-325"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"img-td"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"placeholder-img",2,"left","unset","height","100%"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"p",2),o.Nc(3,"Add Normal Images"),o.ac(),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"label",6),o.bc(9,"p"),o.Nc(10),o.ac(),o.ac(),o.ac(),o.bc(11,"input",7),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.bc(12,"div",8),o.bc(13,"div",9),o.Lc(14,Be,4,1,"div",10),o.ac(),o.ac(),o.Lc(15,Ue,17,1,"div",11),o.ac(),o.bc(16,"div",12),o.Wb(17,"p",13),o.bc(18,"button",14),o.ic("click",(function(){return e.addImages()})),o.Nc(19,"Save"),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(6),o.sc("ngClass",o.xc(4,$e,e.errorList.length>0)),o.Jb(4),o.Pc("Choose Normal Images - ",e.totalFiles," Files Selected"),o.Jb(4),o.sc("ngForOf",e.files),o.Jb(1),o.sc("ngIf",e.errorList.length>0))},directives:[a.v,a.x,a.u,m.l,m.m,m.n],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}  .json-img-card{width:700px}.height-img-card[_ngcontent-%COMP%]{height:calc(100vh - 218px);overflow-x:hidden;overflow-y:scroll}.height-img-card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]{border:2px dashed #0273ff;width:100%}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0!important;position:relative;cursor:pointer;padding:15px 10px}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;width:100%;margin-bottom:0!important}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.upload-card-gallary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:100%;height:40px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-item[_ngcontent-%COMP%]{background:#fff;padding:10px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]{border:2px dotted #000;position:relative;text-align:center;padding:4px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;background:#0273ff;color:#fff;padding:5px 7px;border-radius:50%;right:-10px;top:-10px;cursor:pointer}.files-error-list[_ngcontent-%COMP%]   .table-header-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:red;color:#fff;font-size:18px;font-weight:700;text-align:center;padding:10px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:55px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;color:red}.w-105[_ngcontent-%COMP%]{width:105px}.w-325[_ngcontent-%COMP%]{width:325px}.height-multi-image[_ngcontent-%COMP%]{height:130px;padding:10px 18px 10px 10px;overflow-x:hidden;overflow-y:auto}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.json-img-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.files-error-list[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset!important}}@media only screen and (max-width:400px){.json-img-card[_ngcontent-%COMP%]{width:347px}}"]}),t})();var Ke=i("EVdn");function Ye(t,e){1&t&&(o.bc(0,"div",9),o.bc(1,"div",10),o.Wb(2,"img",11),o.bc(3,"h2"),o.Nc(4,"No data found"),o.ac(),o.ac(),o.ac())}function qe(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td",21),o.Nc(2),o.ac(),o.bc(3,"td"),o.Nc(4),o.ac(),o.bc(5,"td",22),o.bc(6,"input",23),o.ic("ngModelChange",(function(i){return o.Dc(t),e.$implicit.is_linked=i}))("change",(function(i){o.Dc(t);const a=e.$implicit;return o.mc(3).checkboxSelect(a,i)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=e.index;o.Jb(2),o.Pc("",i+1,"."),o.Jb(2),o.Oc(t.catalog_name),o.Jb(2),o.sc("ngModel",t.is_linked)}}function Qe(t,e){1&t&&(o.bc(0,"p",24),o.Nc(1,"No Data Found"),o.ac())}function Ze(t,e){if(1&t&&(o.bc(0,"nb-accordion-item"),o.bc(1,"nb-accordion-item-header",14),o.bc(2,"div",15),o.bc(3,"div",16),o.Nc(4),o.ac(),o.bc(5,"div",17),o.Nc(6),o.ac(),o.ac(),o.ac(),o.bc(7,"nb-accordion-item-body"),o.bc(8,"div",18),o.bc(9,"table",19),o.bc(10,"tbody"),o.Lc(11,qe,7,3,"tr",13),o.ac(),o.ac(),o.Lc(12,Qe,2,0,"p",20),o.ac(),o.ac(),o.ac()),2&t){const t=e.$implicit,i=e.index;o.Jb(1),o.Jc("background",1==t.has_tplt?"#b1efb1":"#d2cccc61"),o.Jb(3),o.Qc(" ",i+1,". ",t.sub_category_name," "),o.Jb(2),o.Pc(" Total Catalogs: ",t.catalog_list.length," "),o.Jb(5),o.sc("ngForOf",t.catalog_list),o.Jb(1),o.sc("ngIf",0==t.catalog_list.length)}}function Xe(t,e){if(1&t&&(o.bc(0,"div",12),o.bc(1,"nb-accordion"),o.Lc(2,Ze,13,7,"nb-accordion-item",13),o.ac(),o.ac()),2&t){const t=o.mc();o.Jb(2),o.sc("ngForOf",t.subCategoryList)}}function ti(t,e){if(1&t){const t=o.cc();o.bc(0,"button",25),o.ic("click",(function(){return o.Dc(t),o.mc().moveTemplate()})),o.Nc(1,"Move"),o.ac()}}let ei=(()=>{class t{constructor(t,e,i){this.dialog=t,this.dataService=e,this.utils=i,this.totalRecords=0,this.imgIds=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialog}ngOnInit(){this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.getSubList(this.catalogData)}closeDialog(){this.dialog.close({res:""})}checkboxSelect(t,e){this.errormsg="",this.selectedCatalog=t,Ke('input[name="'+e.target.name+'"]').not(e.target).prop("checked",!1),this.subCategoryList.forEach(t=>{t.has_tplt=!1,t.catalog_list.forEach(i=>{this.selectedCatalog.catalog_id==i.catalog_id?(i.is_linked=1==e.target.checked?1:0,this.selectedCatalog=i,t.has_tplt=!0):i.is_linked=0})})}getSubList(t){this.utils.showLoader(),this.dataService.postData("getAllSubCategoryToMoveTemplate",{img_id:t.img_id,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.subCategoryList=t.data.sub_category_list,this.subCategoryList&&(this.totalRecords=this.subCategoryList.length),this.subCategoryList.forEach(t=>{t.has_tplt=!1,t.catalog_list.forEach(e=>{1!=e.is_linked&&1!=e.is_linked||(this.selectedCatalog=e,t.has_tplt=!0)})}),this.utils.hideLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}moveTemplate(){if(0==this.selectedCatalog.is_linked||0==this.selectedCatalog.is_linked)return this.errormsg=b.b.SEL_TMPLT_MV,!1;this.utils.showLoader(),this.errormsg="",this.dataService.postData("moveTemplate",{catalog_id:this.selectedCatalog.catalog_id,template_list:0==this.imgIds.length?[this.catalogData.img_id]:this.imgIds},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.dialog.close({res:"add"})):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-movetocatalog"]],decls:12,vars:4,consts:[[1,"move-catalog-card"],[2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],["class","row",4,"ngIf"],["class","move-accord",4,"ngIf"],[1,"move-buttons","text-center","mt-2"],[2,"height","17px","color","red"],["class","btn bg-primary text-light mr-2 w-50",3,"click",4,"ngIf"],[1,"row"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"move-accord"],[4,"ngFor","ngForOf"],[2,"background","#d2cccc61","height","51px"],[1,"row","w-100","clog-header"],[1,"col-md-8","col-7"],[1,"col-md-4","text-right","col-5"],[1,"clog-table"],[1,"table","table-hover","mb-1"],["class","ml-3","style","font-weight: 700;text-align: center;",4,"ngIf"],[1,"text-right"],[1,"text-right","pr-5"],["type","checkbox","name","group1",3,"ngModel","ngModelChange","change"],[1,"ml-3",2,"font-weight","700","text-align","center"],[1,"btn","bg-primary","text-light","mr-2","w-50",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"h5",2),o.Nc(3,"Move Template To Catalog"),o.ac(),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.Lc(6,Ye,5,0,"div",4),o.Lc(7,Xe,3,1,"div",5),o.bc(8,"div",6),o.bc(9,"p",7),o.Nc(10),o.ac(),o.Lc(11,ti,2,0,"button",8),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(6),o.sc("ngIf",0==e.totalRecords),o.Jb(1),o.sc("ngIf",e.totalRecords>0),o.Jb(3),o.Oc(e.errormsg),o.Jb(1),o.sc("ngIf",e.totalRecords>0))},directives:[a.v,a.x,a.u,m.n,a.g,m.m,a.i,a.j,a.h,u.a,u.n,u.q],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}  .move-catalog-card{width:700px}  .move-catalog-card .item-body{padding:0!important}  .move-catalog-card td{font-size:17px;font-weight:600}  .move-catalog-card input{zoom:1.9;vertical-align:middle}  .move-catalog-card .move-accord{height:calc(100vh - 350px);overflow-x:hidden;overflow-y:scroll}  .move-catalog-card .move-accord::-webkit-scrollbar{width:5px}  .move-catalog-card .move-accord::-webkit-scrollbar-track{background:#f1f1f1}  .move-catalog-card .move-accord::-webkit-scrollbar-thumb{background:#e4e9f2}.clog-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:16px;font-weight:700}@media only screen and (max-width:600px){.move-catalog-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.move-accord[_ngcontent-%COMP%]   nb-accordion-item-header[_ngcontent-%COMP%]{height:unset!important}}"]}),t})();function ii(t,e){1&t&&o.Wb(0,"img",21)}function ai(t,e){if(1&t){const t=o.cc();o.bc(0,"img",22),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.categoryData.thumbnail_img,o.Fc)}}function ni(t,e){if(1&t){const t=o.cc();o.bc(0,"mat-chip"),o.Nc(1),o.bc(2,"i",23),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().remove(i)})),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Jb(1),o.Pc(" ",t," ")}}let oi=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.utils=e,this.dataService=i,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.formData=new FormData,this.allSearchTag=[],this.searchINputControl=new u.d,this.selectedSearchTags=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.searchTagList=JSON.parse(localStorage.getItem("search_tag_list")),this.searchTagList&&this.searchTagList.forEach(t=>{this.allSearchTag.push(t.tag_name)}),this.options=this.allSearchTag,this.filteredOptions$=Object(Y.a)(this.options),this.filteredOptions$=this.searchINputControl.valueChanges.pipe(Object(st.a)(""),Object(ot.a)(t=>this.filter(t))),this.selectedSearchTags=void 0===this.categoryData.search_category||""==this.categoryData.search_category.trim()||null==this.categoryData.search_category?[]:this.categoryData.search_category.split(",")}filter(t){const e=t.toLowerCase();return this.options.filter(t=>t.toLowerCase().includes(e))}validateString(t){return/^[a-z0-9&,# ]+$/i.test(t)}add(t){if("object"==typeof t)if(""!=t.target.value.trim()){if(!this.validateString(t.target.value))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '& , #' is allowed in tag name.");var e=t.target.value.split(",");for(let t=0;t<e.length;t++)(e[t]||"").trim()&&this.selectedSearchTags.push(e[t].trim().toLowerCase());document.getElementById("tagInputError").innerHTML="",this.searchINputControl.setValue("")}else this.searchINputControl.setValue("");else if(""!=t){if(!this.validateString(t))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '&' is allowed in tag name.");document.getElementById("tagInputError").innerHTML="",this.selectedSearchTags.push(t),this.searchINputControl.setValue("")}const i=this.selectedSearchTags.filter((t,e,i)=>i.indexOf(t)===e);this.selectedSearchTags=i}remove(t){var e=this.selectedSearchTags.indexOf(t);this.selectedSearchTags.splice(e,1)}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.categoryData.compressed_img=t.target.result},e.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}closeDialog(){this.dialogRef.close({res:""})}updateCategory(){this.utils.showLoader(),this.formData.delete("request_data");let t=this.selectedSearchTags.join();this.formData.append("request_data",JSON.stringify({img_id:this.categoryData.img_id,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,search_category:t})),this.dataService.postData("updateCatalogImage",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(s.a),o.Vb(h.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-updatesubcategoryimagebyid"]],decls:23,vars:4,consts:[[1,"update-image-card"],[2,"position","relative"],[1,"text-center","header-text"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"pr-0","pl-0"],[1,"card-content","pr-2","pl-2"],[1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["type","file","id","fileInput","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"form-group","mt-3"],["nbInput","","type","text","placeholder","Select / Enter new tag",1,"mw-100","mb-1",3,"formControl","keyup.enter"],["id","tagInputError",2,"color","red","margin-bottom","3px"],[1,"tag-container"],["aria-label","Fruit selection"],["chipList",""],[4,"ngFor","ngForOf"],[1,"button-area","text-center"],[1,"btn","bg-primary","text-light","w-50",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["matChipRemove","",1,"fa","fa-times",2,"margin-top","5px","color","red","cursor","pointer",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"h5",2),o.Nc(3,"Update Image"),o.ac(),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body",4),o.bc(6,"div",5),o.bc(7,"div",6),o.Lc(8,ii,1,0,"img",7),o.Lc(9,ai,1,1,"img",8),o.bc(10,"label",9),o.Wb(11,"i",10),o.ac(),o.ac(),o.bc(12,"input",11),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.bc(13,"div",12),o.bc(14,"input",13),o.ic("keyup.enter",(function(t){return e.add(t)})),o.ac(),o.Wb(15,"p",14),o.bc(16,"div",15),o.bc(17,"mat-chip-list",16,17),o.Lc(19,ni,3,1,"mat-chip",18),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(20,"div",19),o.bc(21,"button",20),o.ic("click",(function(){return e.updateCategory()})),o.Nc(22,"Update"),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(8),o.sc("ngIf",e.categoryData.thumbnail_img),o.Jb(1),o.sc("ngIf",e.categoryData.thumbnail_img),o.Jb(5),o.sc("formControl",e.searchINputControl),o.Jb(5),o.sc("ngForOf",e.selectedSearchTags))},directives:[a.v,a.x,a.u,m.n,a.M,u.c,u.n,u.e,_e.b,m.m,_e.a,_e.c],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{right:19px;top:21px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}.close-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;font-size:23px}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:hidden;overflow-y:scroll}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.update-image-card[_ngcontent-%COMP%]   .tag-container[_ngcontent-%COMP%]{height:250px;overflow-x:hidden;overflow-y:scroll}.update-image-card[_ngcontent-%COMP%]   .tag-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media only screen and (max-width:600px){.update-image-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}@media only screen and (max-width:400px){.update-image-card[_ngcontent-%COMP%]{width:347px}}"]}),t})();var ri=i("aCrv");const ci=["header"],si=["container"],li=["content"],di=["invisiblePadding"],gi=["*"];function hi(){return{checkResizeInterval:1e3,modifyOverflowStyleOfParentScroll:!0,resizeBypassRefreshThreshold:5,scrollAnimationTime:750,scrollDebounceTime:0,scrollThrottlingTime:0,stripedTable:!1}}let pi=(()=>{let t=class{constructor(t,e,i,a,n,r){this.element=t,this.renderer=e,this.zone=i,this.changeDetectorRef=a,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.RTL=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._items=[],this.compareItems=(t,e)=>t===e,this.vsUpdate=new o.r,this.vsChange=new o.r,this.vsStart=new o.r,this.vsEnd=new o.r,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=Object(m.C)(n),this.checkResizeInterval=r.checkResizeInterval,this.modifyOverflowStyleOfParentScroll=r.modifyOverflowStyleOfParentScroll,this.resizeBypassRefreshThreshold=r.resizeBypassRefreshThreshold,this.scrollAnimationTime=r.scrollAnimationTime,this.scrollDebounceTime=r.scrollDebounceTime,this.scrollThrottlingTime=r.scrollThrottlingTime,this.scrollbarHeight=r.scrollbarHeight,this.scrollbarWidth=r.scrollbarWidth,this.stripedTable=r.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}get viewPortInfo(){let t=this.previousViewPort||{};return{startIndex:t.startIndex||0,endIndex:t.endIndex||0,scrollStartPosition:t.scrollStartPosition||0,scrollEndPosition:t.scrollEndPosition||0,maxScrollPosition:t.maxScrollPosition||0,startIndexWithBuffer:t.startIndexWithBuffer||0,endIndexWithBuffer:t.endIndexWithBuffer||0}}get enableUnequalChildrenSizes(){return this._enableUnequalChildrenSizes}set enableUnequalChildrenSizes(t){this._enableUnequalChildrenSizes!==t&&(this._enableUnequalChildrenSizes=t,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}get bufferAmount(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0}set bufferAmount(t){this._bufferAmount=t}get scrollThrottlingTime(){return this._scrollThrottlingTime}set scrollThrottlingTime(t){this._scrollThrottlingTime=t,this.updateOnScrollFunction()}get scrollDebounceTime(){return this._scrollDebounceTime}set scrollDebounceTime(t){this._scrollDebounceTime=t,this.updateOnScrollFunction()}updateOnScrollFunction(){this.onScroll=this.scrollDebounceTime?this.debounce(()=>{this.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing(()=>{this.refresh_internal(!1)},this.scrollThrottlingTime):()=>{this.refresh_internal(!1)}}get checkResizeInterval(){return this._checkResizeInterval}set checkResizeInterval(t){this._checkResizeInterval!==t&&(this._checkResizeInterval=t,this.addScrollEventHandlers())}get items(){return this._items}set items(t){t!==this._items&&(this._items=t||[],this.refresh_internal(!0))}get horizontal(){return this._horizontal}set horizontal(t){this._horizontal=t,this.updateDirection()}revertParentOverscroll(){const t=this.getScrollElement();t&&this.oldParentScrollOverflow&&(t.style["overflow-y"]=this.oldParentScrollOverflow.y,t.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}get parentScroll(){return this._parentScroll}set parentScroll(t){if(this._parentScroll===t)return;this.revertParentOverscroll(),this._parentScroll=t,this.addScrollEventHandlers();const e=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&e!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:e.style["overflow-x"],y:e.style["overflow-y"]},e.style["overflow-y"]=this.horizontal?"visible":"auto",e.style["overflow-x"]=this.horizontal?"auto":"visible")}ngOnInit(){this.addScrollEventHandlers()}ngOnDestroy(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}ngOnChanges(t){let e=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(e||!t.items||!t.items.previousValue||0===t.items.previousValue.length)}ngDoCheck(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){let t=!1;for(let e=0;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+e],this.viewPortItems[e])){t=!0;break}t&&this.refresh_internal(!0)}}refresh(){this.refresh_internal(!0)}invalidateAllCachedMeasurements(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}invalidateCachedMeasurementForItem(t){if(this.enableUnequalChildrenSizes){let e=this.items&&this.items.indexOf(t);e>=0&&this.invalidateCachedMeasurementAtIndex(e)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}invalidateCachedMeasurementAtIndex(t){if(this.enableUnequalChildrenSizes){let e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t];e&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}scrollInto(t,e=!0,i=0,a,n){let o=this.items.indexOf(t);-1!==o&&this.scrollToIndex(o,e,i,a,n)}scrollToIndex(t,e=!0,i=0,a,n){let o=5,r=()=>{if(--o,o<=0)return void(n&&n());let a=this.calculateDimensions(),c=Math.min(Math.max(t,0),a.itemCount-1);this.previousViewPort.startIndex!==c?this.scrollToIndex_internal(t,e,i,0,r):n&&n()};this.scrollToIndex_internal(t,e,i,a,r)}scrollToIndex_internal(t,e=!0,i=0,a,n){a=void 0===a?this.scrollAnimationTime:a;let o=this.calculateDimensions(),r=this.calculatePadding(t,o)+i;e||(r-=o.wrapGroupsPerPage*o[this._childScrollDim]),this.scrollToPosition(r,a,n)}scrollToPosition(t,e,i){t+=this.getElementsOffset(),e=void 0===e?this.scrollAnimationTime:e;let a,n=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!e)return this.renderer.setProperty(n,this._scrollType,t),void this.refresh_internal(!1,i);const o={scrollPosition:n[this._scrollType]};let r=new ri.Tween(o).to({scrollPosition:t},e).easing(ri.Easing.Quadratic.Out).onUpdate(t=>{isNaN(t.scrollPosition)||(this.renderer.setProperty(n,this._scrollType,t.scrollPosition),this.refresh_internal(!1))}).onStop(()=>{cancelAnimationFrame(a)}).start();const c=e=>{r.isPlaying()&&(r.update(e),o.scrollPosition!==t?this.zone.runOutsideAngular(()=>{a=requestAnimationFrame(c)}):this.refresh_internal(!1,i))};c(),this.currentTween=r}getElementSize(t){let e=t.getBoundingClientRect(),i=getComputedStyle(t),a=parseInt(i["margin-top"],10)||0,n=parseInt(i["margin-bottom"],10)||0,o=parseInt(i["margin-left"],10)||0,r=parseInt(i["margin-right"],10)||0;return{top:e.top+a,bottom:e.bottom+n,left:e.left+o,right:e.right+r,width:e.width+o+r,height:e.height+a+n}}checkScrollElementResized(){let t,e=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){let i=Math.abs(e.width-this.previousScrollBoundingRect.width),a=Math.abs(e.height-this.previousScrollBoundingRect.height);t=i>this.resizeBypassRefreshThreshold||a>this.resizeBypassRefreshThreshold}else t=!0;t&&(this.previousScrollBoundingRect=e,e.width>0&&e.height>0&&this.refresh_internal(!1))}updateDirection(){this.horizontal?(this._childScrollDim="childWidth",this._invisiblePaddingProperty="scaleX",this._marginDir="margin-left",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._scrollType="scrollLeft",this._translateDir="translateX"):(this._childScrollDim="childHeight",this._invisiblePaddingProperty="scaleY",this._marginDir="margin-top",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._scrollType="scrollTop",this._translateDir="translateY")}debounce(t,e){const i=this.throttleTrailing(t,e),a=function(){i.cancel(),i.apply(this,arguments)};return a.cancel=function(){i.cancel()},a}throttleTrailing(t,e){let i=void 0,a=arguments;const n=function(){const n=this;a=arguments,i||(e<=0?t.apply(n,a):i=setTimeout((function(){i=void 0,t.apply(n,a)}),e))};return n.cancel=function(){i&&(clearTimeout(i),i=void 0)},n}refresh_internal(t,e,i=2){if(t&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){let t=this.previousViewPort,i=this.viewPortItems,a=e;e=()=>{let e=this.previousViewPort.scrollLength-t.scrollLength;if(e>0&&this.viewPortItems){let t=i[0],n=this.items.findIndex(e=>this.compareItems(t,e));if(n>this.previousViewPort.startIndexWithBuffer){let t=!1;for(let e=1;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[n+e],i[e])){t=!0;break}if(!t)return void this.scrollToPosition(this.previousViewPort.scrollStartPosition+e,0,a)}}a&&a()}}this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t&&this.resetWrapGroupDimensions();let a=this.calculateViewport(),n=t||a.startIndex!==this.previousViewPort.startIndex,o=t||a.endIndex!==this.previousViewPort.endIndex,r=a.scrollLength!==this.previousViewPort.scrollLength,c=a.padding!==this.previousViewPort.padding,s=a.scrollStartPosition!==this.previousViewPort.scrollStartPosition||a.scrollEndPosition!==this.previousViewPort.scrollEndPosition||a.maxScrollPosition!==this.previousViewPort.maxScrollPosition;if(this.previousViewPort=a,r&&(this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,"transform",`${this._invisiblePaddingProperty}(${a.scrollLength})`),this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,"webkitTransform",`${this._invisiblePaddingProperty}(${a.scrollLength})`)),c&&(this.useMarginInsteadOfTranslate?this.renderer.setStyle(this.contentElementRef.nativeElement,this._marginDir,a.padding+"px"):(this.renderer.setStyle(this.contentElementRef.nativeElement,"transform",`${this._translateDir}(${a.padding}px)`),this.renderer.setStyle(this.contentElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${a.padding}px)`))),this.headerElementRef){let t=this.getScrollElement()[this._scrollType],e=this.getElementsOffset(),i=Math.max(t-a.padding-e+this.headerElementRef.nativeElement.clientHeight,0);this.renderer.setStyle(this.headerElementRef.nativeElement,"transform",`${this._translateDir}(${i}px)`),this.renderer.setStyle(this.headerElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${i}px)`)}const l=n||o?{startIndex:a.startIndex,endIndex:a.endIndex,scrollStartPosition:a.scrollStartPosition,scrollEndPosition:a.scrollEndPosition,startIndexWithBuffer:a.startIndexWithBuffer,endIndexWithBuffer:a.endIndexWithBuffer,maxScrollPosition:a.maxScrollPosition}:void 0;if(n||o||s){const t=()=>{this.viewPortItems=a.startIndexWithBuffer>=0&&a.endIndexWithBuffer>=0?this.items.slice(a.startIndexWithBuffer,a.endIndexWithBuffer+1):[],this.vsUpdate.emit(this.viewPortItems),n&&this.vsStart.emit(l),o&&this.vsEnd.emit(l),(n||o)&&(this.changeDetectorRef.markForCheck(),this.vsChange.emit(l)),i>0?this.refresh_internal(!1,e,i-1):e&&e()};this.executeRefreshOutsideAngularZone?t():this.zone.run(t)}else{if(i>0&&(r||c))return void this.refresh_internal(!1,e,i-1);e&&e()}})})}getScrollElement(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}addScrollEventHandlers(){if(this.isAngularUniversalSSR)return;let t=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(()=>{this.parentScroll instanceof Window?(this.disposeScrollHandler=this.renderer.listen("window","scroll",this.onScroll),this.disposeResizeHandler=this.renderer.listen("window","resize",this.onScroll)):(this.disposeScrollHandler=this.renderer.listen(t,"scroll",this.onScroll),this._checkResizeInterval>0&&(this.checkScrollElementResizedTimer=setInterval(()=>{this.checkScrollElementResized()},this._checkResizeInterval)))})}removeScrollEventHandlers(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}getElementsOffset(){if(this.isAngularUniversalSSR)return 0;let t=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){let e=this.getScrollElement(),i=this.getElementSize(this.element.nativeElement),a=this.getElementSize(e);t+=this.horizontal?i.left-a.left:i.top-a.top,this.parentScroll instanceof Window||(t+=e[this._scrollType])}return t}countItemsPerWrapGroup(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);let t=this.horizontal?"offsetLeft":"offsetTop",e=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,i=e?e.length:0;if(0===i)return 1;let a=e[0][t],n=1;for(;n<i&&a===e[n][t];)++n;return n}getScrollStartPosition(){let t=void 0;return this.parentScroll instanceof Window&&(t=window[this._pageOffsetType]),t||this.getScrollElement()[this._scrollType]||0}resetWrapGroupDimensions(){const t=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),!this.enableUnequalChildrenSizes||!t||0===t.numberOfKnownWrapGroupChildSizes)return;const e=this.countItemsPerWrapGroup();for(let i=0;i<t.maxChildSizePerWrapGroup.length;++i){const a=t.maxChildSizePerWrapGroup[i];if(!a||!a.items||!a.items.length)continue;if(a.items.length!==e)return;let n=!1,o=e*i;for(let t=0;t<e;++t)if(!this.compareItems(a.items[t],this.items[o+t])){n=!0;break}n||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=a.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=a.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[i]=a)}}calculateDimensions(){let t=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(t.offsetHeight-t.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(t.offsetWidth-t.clientWidth,25),this.calculatedScrollbarWidth);let e,i,a,n=t.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),o=t.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),r=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,c=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){n=this.ssrViewportWidth,o=this.ssrViewportHeight,i=this.ssrChildWidth,a=this.ssrChildHeight;let t=Math.max(Math.ceil(n/i),1),r=Math.max(Math.ceil(o/a),1);e=this.horizontal?t:r}else if(this.enableUnequalChildrenSizes){let s=t[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),l=this.previousViewPort.startIndexWithBuffer||0,d=Math.ceil(l/c),g=0,h=0,p=0,b=0;e=0;for(let t=0;t<r.children.length;++t){++l;let i=this.getElementSize(r.children[t]);if(g=Math.max(g,i.width),h=Math.max(h,i.height),l%c==0){let t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[d];t&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=t.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=t.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;const i=this.items.slice(l-c,l);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[d]={childWidth:g,childHeight:h,items:i},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=g,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=h,this.horizontal){let t=Math.min(g,Math.max(n-p,0));if(s>0){let e=Math.min(s,t);t-=e,s-=e}p+=t,t>0&&n>=p&&++e}else{let t=Math.min(h,Math.max(o-b,0));if(s>0){let e=Math.min(s,t);t-=e,s-=e}b+=t,t>0&&o>=b&&++e}++d,g=0,h=0}}let m=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,u=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;i=this.childWidth||m||n,a=this.childHeight||u||o,this.horizontal?n>p&&(e+=Math.ceil((n-p)/i)):o>b&&(e+=Math.ceil((o-b)/a))}else{if(r.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&n>0&&(this.minMeasuredChildWidth=n),!this.minMeasuredChildHeight&&o>0&&(this.minMeasuredChildHeight=o));let t=this.getElementSize(r.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,t.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,t.height)}i=this.childWidth||this.minMeasuredChildWidth||n,a=this.childHeight||this.minMeasuredChildHeight||o;let t=Math.max(Math.ceil(n/i),1),c=Math.max(Math.ceil(o/a),1);e=this.horizontal?t:c}let s=this.items.length,l=c*e,d=s/l,g=Math.ceil(s/c),h=0,p=this.horizontal?i:a;if(this.enableUnequalChildrenSizes){let t=0;for(let e=0;e<g;++e){let i=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[e][this._childScrollDim];i?h+=i:++t}h+=Math.round(t*p)}else h=g*p;this.headerElementRef&&(h+=this.headerElementRef.nativeElement.clientHeight);let b=this.horizontal?n:o;return{childHeight:a,childWidth:i,itemCount:s,itemsPerPage:l,itemsPerWrapGroup:c,maxScrollPosition:Math.max(h-b,0),pageCount_fractional:d,scrollLength:h,viewportLength:b,wrapGroupsPerPage:e}}calculatePadding(t,e){if(0===e.itemCount)return 0;let i=e[this._childScrollDim],a=Math.floor(t/e.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return i*a;let n=0,o=0;for(let r=0;r<a;++r){let t=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim];t?o+=t:++n}return o+=Math.round(n*i),o}calculatePageInfo(t,e){let i=0;if(this.enableUnequalChildrenSizes){const a=Math.ceil(e.itemCount/e.itemsPerWrapGroup);let n=0,o=e[this._childScrollDim];for(let e=0;e<a;++e)if(n+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[e]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[e][this._childScrollDim]||o,t<n){i=e/a;break}}else i=t/e.scrollLength;let a=Math.min(Math.max(i*e.pageCount_fractional,0),e.pageCount_fractional)*e.itemsPerPage,n=e.itemCount-e.itemsPerPage-1,o=Math.min(Math.floor(a),n);if(o-=o%e.itemsPerWrapGroup,this.stripedTable){let t=2*e.itemsPerWrapGroup;o%t!=0&&(o=Math.max(o-o%t,0))}let r=Math.ceil(a)+e.itemsPerPage-1,c=(r+1)%e.itemsPerWrapGroup;c>0&&(r+=e.itemsPerWrapGroup-c),isNaN(o)&&(o=0),isNaN(r)&&(r=0),o=Math.min(Math.max(o,0),e.itemCount-1),r=Math.min(Math.max(r,0),e.itemCount-1);let s=this.bufferAmount*e.itemsPerWrapGroup;return{startIndex:o,endIndex:r,startIndexWithBuffer:Math.min(Math.max(o-s,0),e.itemCount-1),endIndexWithBuffer:Math.min(Math.max(r+s,0),e.itemCount-1),scrollStartPosition:t,scrollEndPosition:t+e.viewportLength,maxScrollPosition:e.maxScrollPosition}}calculateViewport(){let t=this.calculateDimensions(),e=this.getElementsOffset(),i=this.getScrollStartPosition();i>t.scrollLength+e&&!(this.parentScroll instanceof Window)?i=t.scrollLength:i-=e,i=Math.max(0,i);let a=this.calculatePageInfo(i,t),n=this.calculatePadding(a.startIndexWithBuffer,t),o=t.scrollLength;return{startIndex:a.startIndex,endIndex:a.endIndex,startIndexWithBuffer:a.startIndexWithBuffer,endIndexWithBuffer:a.endIndexWithBuffer,padding:Math.round(n),scrollLength:Math.round(o),scrollStartPosition:a.scrollStartPosition,scrollEndPosition:a.scrollEndPosition,maxScrollPosition:a.maxScrollPosition}}};return t.\u0275fac=function(e){return new(e||t)(o.Vb(o.o),o.Vb(o.M),o.Vb(o.F),o.Vb(o.i),o.Vb(o.I),o.Vb("virtual-scroller-default-options",8))},t.\u0275cmp=o.Pb({type:t,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(t,e,i){var a;1&t&&(o.Ob(i,ci,!0,o.o),o.Ob(i,si,!0,o.o)),2&t&&(o.Ac(a=o.jc())&&(e.headerElementRef=a.first),o.Ac(a=o.jc())&&(e.containerElementRef=a.first))},viewQuery:function(t,e){var i;1&t&&(o.Ic(li,!0,o.o),o.Ic(di,!0,o.o)),2&t&&(o.Ac(i=o.jc())&&(e.contentElementRef=i.first),o.Ac(i=o.jc())&&(e.invisiblePaddingElementRef=i.first))},hostVars:8,hostBindings:function(t,e){2&t&&o.Nb("horizontal",e.horizontal)("vertical",!e.horizontal)("selfScroll",!e.parentScroll)("rtl",e.RTL)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",RTL:"RTL",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",checkResizeInterval:"checkResizeInterval",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",scrollAnimationTime:"scrollAnimationTime",scrollDebounceTime:"scrollDebounceTime",scrollThrottlingTime:"scrollThrottlingTime",scrollbarHeight:"scrollbarHeight",scrollbarWidth:"scrollbarWidth",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[o.Hb],ngContentSelectors:gi,decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(t,e){1&t&&(o.rc(),o.Wb(0,"div",0,1),o.bc(2,"div",2,3),o.qc(4),o.ac())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  \tdisplay: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\n\t\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t\t}\n\n\t\t.horizontal.selfScroll.rtl[_nghost-%COMP%] {\n\t\t\ttransform: scaleX(-1);\n\t\t}\n\n\t\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t\t}\n\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%] {\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\t\t\twhite-space: initial;\n\t\t}\n\n\t\t.horizontal.rtl[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\ttransform:scaleX(-1);\n\t\t}\n\n    .total-padding[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 1px;\n      width: 1px;\n      transform-origin: 0 0;\n      opacity: 0;\n    }\n\n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),t})(),bi=(()=>{let t=class{};return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},providers:[{provide:"virtual-scroller-default-options",useFactory:hi}],imports:[[m.c]]}),t})();function mi(t,e){if(1&t){const t=o.cc();o.bc(0,"div",17),o.bc(1,"button",18),o.ic("click",(function(){o.Dc(t);const e=o.mc();return e.templatesArr=[],e.multiselectFlag=!0})),o.Nc(2,"Select Templates"),o.ac(),o.bc(3,"button",18),o.ic("click",(function(){return o.Dc(t),o.mc().addJsonImages()})),o.Nc(4,"Add JSON Images"),o.ac(),o.bc(5,"button",18),o.ic("click",(function(){return o.Dc(t),o.mc().addJsonData()})),o.Nc(6,"Add JSON Data"),o.ac(),o.bc(7,"button",19),o.ic("click",(function(){return o.Dc(t),o.mc().addNormalImages()})),o.Nc(8,"Add Normal Images"),o.ac(),o.ac()}}function ui(t,e){if(1&t){const t=o.cc();o.bc(0,"div",17),o.bc(1,"button",20),o.ic("click",(function(){return o.Dc(t),o.mc().uploadTemplateRankArr()})),o.Nc(2,"Set Rank"),o.ac(),o.bc(3,"button",21),o.ic("click",(function(){return o.Dc(t),o.mc().moveMutipleTemplate()})),o.Nc(4,"Move Templates"),o.ac(),o.bc(5,"button",22),o.ic("click",(function(){o.Dc(t);const e=o.mc();return e.templatesArr=[],e.multiselectFlag=!1})),o.Nc(6,"Cancel"),o.ac(),o.ac()}}function fi(t,e){1&t&&(o.bc(0,"div",23),o.Wb(1,"img",24),o.bc(2,"h2"),o.Nc(3,"No data found"),o.ac(),o.ac())}function _i(t,e){1&t&&(o.bc(0,"div",48),o.bc(1,"div",49),o.Nc(2,"PRO"),o.ac(),o.ac())}function Ci(t,e){1&t&&o.Wb(0,"i",50)}function vi(t,e){if(1&t&&(o.bc(0,"span",51),o.Nc(1),o.ac()),2&t){const t=o.mc().$implicit,e=o.mc();o.Jb(1),o.Oc(e.templatesArr.indexOf(t.img_id)+1)}}function xi(t,e){1&t&&o.Wb(0,"img",52)}const yi=function(t){return{"d-block":t}};function wi(t,e){if(1&t){const t=o.cc();o.bc(0,"div",25),o.bc(1,"nb-card",26),o.bc(2,"div",27),o.ic("click",(function(i){o.Dc(t);const a=e.$implicit,n=o.mc();return n.multiselectFlag?n.addTemplateRank(i,a.img_id):n.viewImage(a.compressed_img)})),o.Wb(3,"img",28),o.bc(4,"img",29),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.Lc(5,_i,3,0,"div",30),o.Lc(6,Ci,1,0,"i",31),o.Lc(7,vi,2,1,"span",32),o.ac(),o.bc(8,"div",33),o.bc(9,"div"),o.Nc(10),o.ac(),o.ac(),o.bc(11,"nb-card-footer",34),o.bc(12,"div",35),o.bc(13,"a",36),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewImage(i.compressed_img)})),o.Nc(14,"View Image"),o.ac(),o.ac(),o.bc(15,"a",37),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().editSubCategory(i)})),o.Wb(16,"nb-icon",38),o.ac(),o.bc(17,"a",39),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().deleteTemplate(i)})),o.Wb(18,"nb-icon",40),o.ac(),o.bc(19,"a",41),o.ic("click",(function(){o.Dc(t);const i=e.$implicit,a=e.index;return o.mc().moveToFirst(i,a)})),o.Wb(20,"nb-icon",42),o.ac(),o.bc(21,"a",43),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().moveToCatalog(i)})),o.Wb(22,"nb-icon",44),o.ac(),o.bc(23,"a",45),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().setUrls(i.thumbnail_img,i.compressed_img,i.original_img)})),o.Wb(24,"nb-icon",46),o.ac(),o.ac(),o.ac(),o.Lc(25,xi,1,0,"img",47),o.ac()}if(2&t){const t=e.$implicit,i=e.index,a=o.mc();o.sc("id","div-"+i),o.Jb(4),o.uc("alt","",t.name," image"),o.sc("lazyLoad",t.webp_original_img?t.webp_original_img:t.thumbnail_img)("errorImage",a.utils.errorImg),o.Jb(1),o.sc("ngIf",0==t.is_free&&1==t.is_json_data),o.Jb(1),o.sc("ngIf",t.is_json_data&&!a.templatesArr.includes(t.img_id)),o.Jb(1),o.sc("ngIf",-1!=a.templatesArr.indexOf(t.img_id)),o.Jb(3),o.Pc("ID: ",t.img_id,""),o.Jb(2),o.sc("ngClass",o.xc(11,yi,a.multiselectFlag)),o.Jb(11),o.sc("nbContextMenu",a.copyURLS),o.Jb(2),o.sc("ngIf",1==t.is_featured)}}let Pi=(()=>{class t{constructor(t,e,i,a,n,o){this.menuService=t,this.dialog=e,this.route=i,this.actRoute=a,this.dataService=n,this.utils=o,this.searchTagList=[],this.templatesArr=[],this.multiselectFlag=!1,this.copyURLS=[{title:"Copy Thumbnail Image URL",img_url:"hello",img_type:"Thumbnail Image"},{title:"Copy Compressed Image URL",img_url:"hello",img_type:"Compressed Image"},{title:"Copy Original Image URL",img_url:"hello",img_type:"Original Image"}],this.token=localStorage.getItem("at"),this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.loadedImages=0,window.setInterval((function(){localStorage.removeItem("search_tag_list")}),72e4)}ngOnInit(){this.menuService.onItemClick().subscribe(t=>{this.copyUrl(t.item)}),this.getAllCategories()}gotoCategories(){this.route.navigate(["/admin/categories"])}gotoSubCategories(){this.route.navigate(["/admin/categories/",this.categoryId])}gotoCatalog(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}moveToFirst(t,e){this.utils.showLoader(),this.dataService.postData("setContentRankOnTheTopByAdmin",{img_id:t.img_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.showSuccess(t.message,4e3),this.utils.hideLoader(),this.getAllCategories()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}deleteTemplate(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteCatalogImage",{img_id:t.img_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.getAllCategories(),this.utils.showSuccess(t.message,4e3)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getAllCategories(){this.utils.showPageLoader(),this.dataService.postData("getDataByCatalogIdForAdmin",{catalog_id:this.catalogId},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.viewCatdata=t.data.image_list,this.totalRecords=this.viewCatdata.length,this.utils.hidePageLoader(),window.dispatchEvent(new Event("resize"))):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}moveToCatalog(t){this.openMove(!1,t,[])}moveMutipleTemplate(){0==this.templatesArr.length?this.utils.showError("Please select templates for move",6e3):this.openMove(!1,this.viewCatdata[0],this.templatesArr)}openMove(t,e,i){this.dialog.open(ei,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e,imgIds:i}}).onClose.subscribe(t=>{t&&"add"==t.res&&(this.multiselectFlag=!1,this.templatesArr=[],this.getAllCategories())})}addJsonImages(){this.openJsonImages(!1)}openJsonImages(t){this.dialog.open(Fe,{closeOnBackdropClick:t,closeOnEsc:!1})}addJsonData(){this.openJsonData(!1)}openJsonData(t){this.dialog.open(Ie,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogId:this.catalogId}}).onClose.subscribe(t=>{t&&"add"==t.res&&this.getAllCategories()})}editSubCategory(t){1==t.is_json_data||"1"==t.is_json_data?this.openUpdateJson(!1,t):this.openUpdateJsonImage(!1,t)}openUpdateJson(t,e){this.dialog.open(Ie,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{upJSonData:JSON.parse(JSON.stringify(e)),catalogId:this.categoryId}}).onClose.subscribe(t=>{t&&"add"==t.res&&this.getAllCategories()})}openUpdateJsonImage(t,e){this.dialog.open(oi,{closeOnBackdropClick:t,closeOnEsc:!1,context:{categoryData:JSON.parse(JSON.stringify(e))}}).onClose.subscribe(t=>{t&&"add"==t.res&&this.getAllCategories()})}addNormalImages(){this.openAddSubCategoryImage(!1)}openAddSubCategoryImage(t){this.dialog.open(Ge,{closeOnBackdropClick:t,closeOnEsc:!1,context:{catalogId:this.catalogId}}).onClose.subscribe(t=>{t&&"add"==t.res&&this.getAllCategories()})}viewImage(t,e){console.log(e),this.dialog.open(ne.a,{context:{imgSrc:t,typeImg:"cat"}})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}setUrls(t,e,i){this.copyURLS[0].img_url=t,this.copyURLS[1].img_url=e,this.copyURLS[2].img_url=i}copyUrl(t){if("Thumbnail Image"==t.img_type||"Compressed Image"==t.img_type||"Original Image"==t.img_type){let e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t.img_url,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.utils.showSuccess("Copied the URL for "+t.img_type,2e3)}}addTemplateRank(t,e){this.templatesArr.length>19?this.templatesArr.includes(e)?this.templatesArr.splice(this.templatesArr.indexOf(e),1):this.utils.showError("Maximum 20 templates are allow for select",6e3):this.templatesArr.includes(e)?this.templatesArr.splice(this.templatesArr.indexOf(e),1):this.templatesArr.push(e)}uploadTemplateRankArr(){0==this.templatesArr.length?this.utils.showError("Please select templates for set rank",6e3):(this.utils.showLoader(),this.dataService.postData("setMultipleContentRankByAdmin",{img_ids:this.templatesArr},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.showSuccess(t.message,4e3),this.utils.hideLoader(),this.templatesArr=[],this.multiselectFlag=!1,this.getAllCategories()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.Y),o.Vb(a.G),o.Vb(c.c),o.Vb(c.a),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-viewsubcategories"]],decls:25,vars:11,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary","pr-0","mt-2"],["class","col-md-12 text-right pr-0",4,"ngIf"],[1,"card-gallary-view","virtual-scroll-cat","row","mt-2"],["class","col-md-12 text-center mt-3",4,"ngIf"],["enableUnequalChildrenSizes","true",3,"items"],["scroll",""],["class","col-xl-2 col-md-3 col-sm-3 pr-0 pl-0",3,"id",4,"ngFor","ngForOf"],[1,"col-md-12","text-right","pr-0"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary","normal-img-btn",3,"click"],[1,"btn","btn-success","mr-2","w-10",3,"click"],[1,"btn","btn-success","mr-2",3,"click"],[1,"btn","btn-danger","mr-2","w-10",3,"click"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0",3,"id"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden","height","130px",3,"click"],[1,"placeholder-img"],[3,"lazyLoad","errorImage","alt","load"],["class","ribbon-wrapper-yellow",4,"ngIf"],["class","fa fa-code font-26 code-icon",4,"ngIf"],["class","rank-icon",4,"ngIf"],[1,"details",2,"height","30px","margin-top","0px"],[1,"mt-3","template-card-footer",2,"position","relative"],[1,"overlay-action",3,"ngClass"],[3,"click"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","upload","pack","eva"],["nbTooltip","Move to another catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","external-link","pack","eva"],["nbTooltip","More Actions","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbContextMenuPlacement","right",3,"nbContextMenu","click"],["icon","more-horizontal","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],[1,"ribbon-wrapper-yellow"],[1,"ribbon-yellow"],[1,"fa","fa-code","font-26","code-icon"],[1,"rank-icon"],["src","./assets/featured_img.png",1,"label-img"]],template:function(t,e){if(1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",0),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.ic("click",(function(){return e.gotoCategories()})),o.Nc(6,"Categories"),o.ac(),o.bc(7,"li",5),o.ic("click",(function(){return e.gotoSubCategories()})),o.Nc(8),o.ac(),o.bc(9,"li",5),o.ic("click",(function(){return e.gotoCatalog()})),o.Nc(10),o.ac(),o.bc(11,"li",6),o.Nc(12),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(13,"div",7),o.bc(14,"nb-card",8),o.bc(15,"nb-card-header",9),o.Nc(16),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(17,"div",10),o.Lc(18,mi,9,0,"div",11),o.Lc(19,ui,7,0,"div",11),o.ac(),o.bc(20,"div",12),o.Lc(21,fi,4,0,"div",13),o.bc(22,"virtual-scroller",14,15),o.Lc(24,wi,26,13,"div",16),o.ac(),o.ac()),2&t){const t=o.Bc(23);o.Jb(7),o.uc("nbTooltip","Go to ",e.broadHome,""),o.Jb(1),o.Oc(e.broadHome),o.Jb(1),o.uc("nbTooltip","Go to ",e.broadSubHome,""),o.Jb(1),o.Oc(e.broadSubHome),o.Jb(2),o.Oc(e.broadItem),o.Jb(4),o.Pc(" TOTAL RECORDS : ",e.totalRecords," "),o.Jb(2),o.sc("ngIf",!e.multiselectFlag),o.Jb(1),o.sc("ngIf",e.multiselectFlag),o.Jb(2),o.sc("ngIf",0==e.totalRecords),o.Jb(1),o.sc("items",e.viewCatdata),o.Jb(2),o.sc("ngForOf",t.viewPortItems)}},directives:[a.sb,a.v,a.x,m.n,pi,m.m,xt,a.w,m.l,a.J,a.B],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:6px 0 15px;left:-4px;top:32px;width:120px;background-color:#fbc913;color:#6a6340;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}.code-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:10px 8px;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.virtual-scroll-cat[_ngcontent-%COMP%]{overflow-y:hidden!important}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.w-10[_ngcontent-%COMP%]{width:10%}.template-card-footer[_ngcontent-%COMP%]{background:#e1e8f3;padding:10px;position:relative}.overlay-action[_ngcontent-%COMP%]{position:absolute;background:#e1e8f3;height:100%;width:100%;display:none}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:17px;font-weight:700;cursor:pointer}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}  virtual-scroller{max-height:calc(100vh - 228px)!important}  .scrollable-content{position:unset!important;display:flex;flex-wrap:wrap}  virtual-scroller{width:100vw}  virtual-scroller::-webkit-scrollbar{width:5px}  virtual-scroller::-webkit-scrollbar-track{background:#f1f1f1}  virtual-scroller::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.normal-img-btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:9px}}"]}),t})();function Mi(t,e){1&t&&(o.bc(0,"h5",5),o.Nc(1,"Update Font"),o.ac())}function Oi(t,e){1&t&&(o.bc(0,"h5",5),o.Nc(1,"Add New Font"),o.ac())}function ki(t,e){if(1&t){const t=o.cc();o.bc(0,"nb-card-body"),o.bc(1,"div",6),o.bc(2,"div",7),o.bc(3,"label",8),o.Nc(4,"Font Name(ios)"),o.ac(),o.ac(),o.bc(5,"div",9),o.bc(6,"div",10),o.bc(7,"input",11),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().iosFontName=e}))("keyup",(function(){return o.Dc(t),o.mc().checkValidation("editIosInput","","inputIosError","","","blank")}))("keyup.enter",(function(){o.Dc(t);const e=o.mc();return e.checkValidation("editIosInput","","inputIosError",e.errormsg.FONT_NAME_EMPTY,"","usual")})),o.ac(),o.Wb(8,"p",12),o.ac(),o.ac(),o.ac(),o.bc(9,"div",6),o.bc(10,"div",7),o.bc(11,"label",8),o.Nc(12,"Font Path(Android)"),o.ac(),o.ac(),o.bc(13,"div",9),o.bc(14,"div",10),o.bc(15,"input",13),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().androidFontName=e}))("keyup",(function(){return o.Dc(t),o.mc().checkValidation("editandroidInput","","inputAndroidError","","","blank")}))("keyup.enter",(function(){o.Dc(t);const e=o.mc();return e.checkValidation("editandroidInput","","inputAndroidError",e.errormsg.FONT_PATH_EMPTY,"","usual")})),o.ac(),o.Wb(16,"p",14),o.ac(),o.ac(),o.ac(),o.bc(17,"div",15),o.Wb(18,"p",16),o.bc(19,"button",17),o.ic("click",(function(){return o.Dc(t),o.mc().editCategory()})),o.Nc(20,"Update"),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.mc();o.Jb(7),o.sc("ngModel",t.iosFontName),o.Jb(8),o.sc("ngModel",t.androidFontName)}}function Ei(t,e){if(1&t){const t=o.cc();o.bc(0,"nb-card-body"),o.bc(1,"div",6),o.bc(2,"div",7),o.bc(3,"label",8),o.Nc(4,"Font File"),o.ac(),o.ac(),o.bc(5,"div",9),o.bc(6,"div",10),o.bc(7,"input",18),o.ic("change",(function(e){return o.Dc(t),o.mc().fileChange(e)})),o.ac(),o.Wb(8,"p",19),o.ac(),o.ac(),o.ac(),o.bc(9,"div",6),o.bc(10,"div",7),o.bc(11,"label",8),o.Nc(12,"Font Name"),o.ac(),o.ac(),o.bc(13,"div",9),o.bc(14,"div",10),o.bc(15,"input",20),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().fontDetails.font_name=e}))("keyup",(function(){return o.Dc(t),o.mc().checkValidation("addFontInput","","inputFontError","","","blank")}))("keyup.enter",(function(){o.Dc(t);const e=o.mc();return e.checkValidation("addFontInput","","inputFontError",e.errormsg.FONT_NAME_EMPTY,"","usual")})),o.ac(),o.Wb(16,"p",21),o.ac(),o.ac(),o.ac(),o.bc(17,"div",15),o.Wb(18,"p",22),o.bc(19,"button",17),o.ic("click",(function(){o.Dc(t);const e=o.mc();return e.addNewFont(e.fontDetails,"0")})),o.Nc(20,"Add"),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.mc();o.Jb(15),o.sc("ngModel",t.fontDetails.font_name)}}let Si=(()=>{class t{constructor(t,e,i,a){this.validService=t,this.utils=e,this.dataService=i,this.dialogRef=a,this.errormsg=b.b,this.formData=new FormData,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.fontDetails={},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.iosFontName=this.fontData.ios_font_name,this.androidFontName=this.fontData.android_font_name}closedialog(){this.dialogRef.close({res:""})}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.fontDetails.font_file=t.target.result,document.getElementById("fontFileError").innerHTML="",document.getElementById("fontAddError").innerHTML=""},e.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.formData.delete("file"),this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}checkValidation(t,e,i,a,n,o){document.getElementById("fontAddError").innerHTML="",this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"fontedit",successArr:["editIosInput","editandroidInput"]}}),"blank"!=o&&(this.fontData?this.editCategory():this.addNewFont(this.fontDetails,"0"))}editCategory(){this.validService.checkAllValid([{id:"editIosInput",errorId:"inputIosError",type:"",blank_msg:b.b.FONT_NAME_EMPTY,type_msg:""},{id:"editandroidInput",errorId:"inputAndroidError",type:"",blank_msg:b.b.FONT_PATH_EMPTY,type_msg:""}])&&this.dataService.postData("editFont",{font_id:this.fontData.font_id,ios_font_name:this.iosFontName,android_font_name:this.androidFontName},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("fontAddError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(document.getElementById("fontAddError").innerHTML=t.message,this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}checkfontfile(){return this.fontDetails.font_file?(document.getElementById("fontFileError").innerHTML="",!0):(document.getElementById("fontFileError").innerHTML=b.b.FONT_FILE_EMPTY,!1)}addNewFont(t,e){var i=this.validService.checkAllValid([{id:"addFontInput",errorId:"inputFontError",type:"",blank_msg:b.b.FONT_NAME_EMPTY,type_msg:""}]),a=this.checkfontfile();i&&a&&(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,catalog_id:this.catalogId,ios_font_name:this.fontDetails.font_name,android_font_name:t.android_font_name,is_replace:e})),this.dataService.postData("addFont",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("fontAddError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(document.getElementById("fontAddError").innerHTML=t.message,this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(s.a),o.Vb(h.a),o.Vb(a.F))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-editfont"]],decls:7,vars:4,consts:[[1,"edit-font-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter font name","id","editIosInput","valid-status","true",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputIosError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["type","text","autofocus","false","nbInput","","placeholder","Enter font path","id","editandroidInput","valid-status","true",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputAndroidError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"form-group","text-center"],["id","fontAddError",2,"color","red","margin-bottom","2px"],["id","fontedit",1,"btn","bg-primary","text-light","w-50","mr-2",3,"click"],["type","file","id","fontFile",1,"form-control","height-45",2,"overflow","hidden",3,"change"],["id","fontFileError",2,"color","red","margin-bottom","3px","margin-top","4px","height","14px"],["type","text","nbInput","","placeholder","Enter font name","valid-status","false","id","addFontInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputFontError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["id","fontAddError",2,"color","red","margin-bottom","3px"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.Lc(2,Mi,2,0,"h5",2),o.Lc(3,Oi,2,0,"h5",2),o.bc(4,"i",3),o.ic("click",(function(){return e.closedialog()})),o.ac(),o.ac(),o.Lc(5,ki,21,2,"nb-card-body",4),o.Lc(6,Ei,21,1,"nb-card-body",4),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",e.fontData),o.Jb(1),o.sc("ngIf",!e.fontData),o.Jb(2),o.sc("ngIf",e.fontData),o.Jb(1),o.sc("ngIf",!e.fontData))},directives:[a.v,a.x,m.n,a.u,a.M,u.c,u.n,u.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}  .edit-font-card{width:520px}.height-45[_ngcontent-%COMP%]{height:45px!important}@media only screen and (max-width:600px){.edit-font-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}"]}),t})();const Ii=["table"];let Li=(()=>{class t{constructor(t,e,i,a,n){this.dialog=t,this.route=e,this.actRoute=i,this.dataService=a,this.utils=n,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.totalRecords=24,this.fontIds=[],this.j=1,this.fontDetails={},this.input='<input type="checkbox"></input>',this.inputCheck='<input type="checkbox" checked></input>',this.formData=new FormData,this.settings={mode:"external",selectMode:"multi",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="fa fa-edit" title="Edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-trash-alt" title="Delete"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"text",width:"75px",editable:!1,filter:!1,hideHeader:!0,sort:!1},font_name:{title:"Font Name",type:"html",hideHeader:!0,filter:!1},ios_font_name:{title:"Font Name(ios)",type:"html",hideHeader:!0,filter:!1},android_font_name:{title:"Font Path(Android)",type:"html",hideHeader:!0,filter:!1},is_active:{title:"Status",type:"html",filter:!1,valuePrepareFunction:t=>0==t?"In-Active":"Active"}},actions:{add:!1,position:"right",delete:!0,edit:!0},pager:{display:!1,perPage:parseInt(this.selectedPageSize)},rowClassFunction:t=>"table-td-th"},this.token=localStorage.getItem("at")}setPageSize(t){this.selectedPageSize=t,this.settings.pager.perPage=parseInt(this.selectedPageSize),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!1)}ngOnInit(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllFontsByCatalogId(this.catalogId)}getRows(t){this.j=1}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.fontDetails.font_file=t.target.result,document.getElementById("fontError").innerHTML=""},e.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.formData.delete("file"),this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}gotoCategories(){this.route.navigate(["/admin/categories"])}gotoSubCategories(){this.route.navigate(["/admin/categories/",this.categoryId])}gotoCatalog(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}selectFonts(t){t.selected.length<this.totalRecords?this.table.isAllSelected=!1:t.selected.length==this.totalRecords&&(this.table.isAllSelected=!0),this.fontIds=[],t.selected.forEach(t=>{this.fontIds.push(t.font_id)})}moveToCorrupt(){0==this.fontIds.length?this.utils.showError(b.b.SEL_FONT,4e3):this.utils.getConfirm().then(t=>{this.utils.showLoader(),this.dataService.postData("removeInvalidFont",{catalog_id:parseInt(this.catalogId),font_ids:this.fontIds.join(",")},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.table.isAllSelected=!1,this.utils.hideLoader(),this.getAllFontsByCatalogId(this.catalogId),this.utils.showSuccess(t.message,4e3)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getAllFontsByCatalogId(t){this.utils.showPageLoader(),this.dataService.postData("getAllFontsByCatalogIdForAdmin",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){var e=1;t.data.result.forEach(t=>{t.id=e,e++}),this.totalRecords=t.data.total_count,this.FontData=t.data.result,this.dataSource=new y.a(this.FontData),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!1),this.utils.hidePageLoader()}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}addFont(){this.open(!1,"")}editFont(t){this.open(!1,t.data)}open(t,e){this.dialog.open(Si,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{fontData:e,catalogId:this.catalogId}}).onClose.subscribe(t=>{"add"==t.res&&(this.j=1,this.getAllFontsByCatalogId(this.catalogId))})}deleteFont(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteFont",{font_id:t.data.font_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.j=1,this.utils.showSuccess(t.message,4e3),this.getAllFontsByCatalogId(this.catalogId)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}addNewFont(t,e){if(!t.font_file)return document.getElementById("fontError").innerHTML=b.b.FONT_FILE_EMPTY,!1;this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,catalog_id:this.catalogId,ios_font_name:this.fontDetails.font_name,android_font_name:t.android_font_name,is_replace:e})),this.dataService.postData("addFont",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),Ke("#fontFile").val(""),this.fontDetails.font_name="",this.utils.showSuccess(t.message,4e3),this.getAllFontsByCatalogId(this.catalogId)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.G),o.Vb(c.c),o.Vb(c.a),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-fontlist"]],viewQuery:function(t,e){var i;1&t&&o.Rc(Ii,!0),2&t&&o.Ac(i=o.jc())&&(e.table=i.first)},decls:29,vars:8,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12"],[1,"breadcrumb","bg-none","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-20","fw-700","p-7"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","ml-2","mr-2","text-light",3,"click"],[1,"btn","bg-primary","text-light",3,"click"],[1,"row","mt-2"],[1,"table-card","table-card-font"],[1,"pt-0","pl-0","pr-0","pb-0"],[3,"settings","source","edit","delete","userRowSelect"],["table",""]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",0),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.ic("click",(function(){return e.gotoCategories()})),o.Nc(6,"Categories"),o.ac(),o.bc(7,"li",5),o.ic("click",(function(){return e.gotoSubCategories()})),o.Nc(8),o.ac(),o.bc(9,"li",5),o.ic("click",(function(){return e.gotoCatalog()})),o.Nc(10),o.ac(),o.bc(11,"li",6),o.Nc(12),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(13,"div",7),o.bc(14,"nb-card",8),o.bc(15,"nb-card-header",9),o.Nc(16),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(17,"div",0),o.bc(18,"div",10),o.bc(19,"button",11),o.ic("click",(function(){return e.addFont()})),o.Nc(20,"Add New Font"),o.ac(),o.bc(21,"button",12),o.ic("click",(function(){return e.moveToCorrupt()})),o.Nc(22,"Move to Corrupted"),o.ac(),o.ac(),o.ac(),o.bc(23,"div",13),o.bc(24,"div",2),o.bc(25,"nb-card",14),o.bc(26,"nb-card-body",15),o.bc(27,"ng2-smart-table",16,17),o.ic("edit",(function(t){return e.editFont(t)}))("delete",(function(t){return e.deleteFont(t)}))("userRowSelect",(function(t){return e.selectFonts(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(7),o.uc("nbTooltip","Go to ",e.broadHome,""),o.Jb(1),o.Oc(e.broadHome),o.Jb(1),o.uc("nbTooltip","Go to ",e.broadSubHome,""),o.Jb(1),o.Oc(e.broadSubHome),o.Jb(2),o.Oc(e.broadItem),o.Jb(4),o.Pc(" TOTAL FONTS : ",e.totalRecords," "),o.Jb(11),o.sc("settings",e.settings)("source",e.dataSource))},directives:[a.sb,a.v,a.x,a.u,y.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:6px 0 15px;left:-4px;top:32px;width:120px;background-color:#fbc913;color:#6a6340;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}.code-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:10px 8px;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.virtual-scroll-cat[_ngcontent-%COMP%]{overflow-y:hidden!important}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.w-10[_ngcontent-%COMP%]{width:10%}.template-card-footer[_ngcontent-%COMP%]{background:#e1e8f3;padding:10px;position:relative}.overlay-action[_ngcontent-%COMP%]{position:absolute;background:#e1e8f3;height:100%;width:100%;display:none}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:17px;font-weight:700;cursor:pointer}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}  virtual-scroller{max-height:calc(100vh - 228px)!important}  .scrollable-content{position:unset!important;display:flex;flex-wrap:wrap}  virtual-scroller{width:100vw}  virtual-scroller::-webkit-scrollbar{width:5px}  virtual-scroller::-webkit-scrollbar-track{background:#f1f1f1}  virtual-scroller::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.normal-img-btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:9px}}  ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}.w-272[_ngcontent-%COMP%]{width:272px}.height-45[_ngcontent-%COMP%]{height:45px!important}.w-280[_ngcontent-%COMP%]{width:280px}.w-98[_ngcontent-%COMP%]{width:98px}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}.bg-none[_ngcontent-%COMP%]{background:unset!important}.table-card-font[_ngcontent-%COMP%]{height:calc(100vh - 212px)}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .table-td-th td:first-child{width:75px!important}  .table-td-th td:nth-child(5){width:274px!important}  .table-card-font .ng2-smart-filters{display:none}[_nghost-%COMP%]     .ng2-smart-action-multiple-select>input, [_nghost-%COMP%]     .ng2-smart-titles th>input{width:25px;height:25px;display:unset}[_nghost-%COMP%]     .table-card-font .ng2-smart-titles th:first-child{text-align:center;width:75px!important}[_nghost-%COMP%]     .table-card-font .ng2-smart-titles th:nth-child(5){width:274px!important}  .table-card-font ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-card-font ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}"]}),t})();function Ri(t,e){1&t&&(o.bc(0,"h5",29),o.Nc(1,"Upload Images"),o.ac())}function Ti(t,e){1&t&&(o.bc(0,"h5",29),o.Nc(1,"Update Sub Category"),o.ac())}function Di(t,e){1&t&&o.Wb(0,"img",30)}function Ni(t,e){if(1&t){const t=o.cc();o.bc(0,"img",31),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.sampleImage,o.Fc)}}function zi(t,e){1&t&&o.Wb(0,"img",30)}function Vi(t,e){if(1&t){const t=o.cc();o.bc(0,"img",31),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.displayImage,o.Fc)}}function Ji(t,e){if(1&t){const t=o.cc();o.bc(0,"button",32),o.ic("click",(function(){return o.Dc(t),o.mc().addsampleImage()})),o.Nc(1,"Add"),o.ac()}}function Ai(t,e){if(1&t){const t=o.cc();o.bc(0,"button",32),o.ic("click",(function(){return o.Dc(t),o.mc().addsampleImage()})),o.Nc(1,"Update"),o.ac()}}let Fi=(()=>{class t{constructor(t,e,i,a){this.validService=t,this.utils=e,this.dialogRef=i,this.dataService=a,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.formData=new FormData,this.selectType="1",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.sampleData&&(this.sampleImage=this.sampleData.original_thumbnail_img,this.displayImage=this.sampleData.display_thumbnail_img,this.selectType=this.sampleData.image_type.toString())}fileChange1(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.sampleImage=t.target.result},e.readAsDataURL(t.target.files[0])}if(this.fileList1=t.target.files,this.fileList1.length>0){this.file1=this.fileList1[0];var i=Math.round(this.file1.size/1024);document.getElementById("imageErrorSample").innerHTML=i>100?"Maximum 100Kb file allow to upload":"",this.formData.append("original_img",this.file1,this.file1.name)}}fileChange2(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.displayImage=t.target.result},e.readAsDataURL(t.target.files[0])}if(this.fileList2=t.target.files,this.fileList2.length>0){this.file2=this.fileList2[0];var i=Math.round(this.file2.size/1024);document.getElementById("imageErrorDisplay").innerHTML=i>100?"Maximum 100Kb file allow to upload":"",this.formData.append("display_img",this.file2,this.file2.name)}}checkValidation(t,e,i,a,n){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"sampleAdd",successArr:["sampleImage","displayImage"]}})}closedialog(){this.dialogRef.close({res:""})}checkImageValidSample(){if(document.getElementById("sampleAddError").innerHTML="",null==this.sampleImage||"none"==this.sampleImage||""==this.sampleImage)document.getElementById("imageErrorSample").innerHTML=b.b.IMG_REQ;else{if(!this.file1)return document.getElementById("imageErrorSample").innerHTML="",!0;if(!(Math.round(this.file1.size/1024)>100))return document.getElementById("imageErrorSample").innerHTML="",!0;document.getElementById("imageErrorSample").innerHTML="Maximum 100Kb file allow to upload"}}checkImageValidDisplay(){if(document.getElementById("sampleAddError").innerHTML="",null==this.displayImage||"none"==this.displayImage||""==this.displayImage)document.getElementById("imageErrorDisplay").innerHTML=b.b.IMG_REQ;else{if(!this.file2)return document.getElementById("imageErrorDisplay").innerHTML="",!0;if(!(Math.round(this.file2.size/1024)>100))return document.getElementById("imageErrorDisplay").innerHTML="",!0;document.getElementById("imageErrorDisplay").innerHTML="Maximum 100Kb file allow to upload"}}addsampleImage(){var t,e,i=this.checkImageValidSample(),a=this.checkImageValidDisplay();i&&a&&(this.utils.showLoader(),this.sampleData?(t={category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,image_type:this.selectType,img_id:this.sampleData.img_id},e="updateFeaturedBackgroundCatalogImage"):(t={category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,image_type:this.selectType,catalog_id:this.catalogId},e="addFeaturedBackgroundCatalogImage"),this.formData.append("request_data",JSON.stringify(t)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("sampleAddError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(s.a),o.Vb(a.F),o.Vb(h.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-popularsampleadd"]],decls:43,vars:12,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-6","text-center"],[1,"form-label"],["id","sampleImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput1"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageErrorSample",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","27px"],["type","file","id","fileInput1","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","displayImage",1,"img-preview"],["for","fileInput2"],["id","imageErrorDisplay",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","27px"],["type","file","id","fileInput2","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"row","mt-3"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["id","radiosampleInput",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["id","radiosampleError",2,"color","red","margin-bottom","0px","margin-top","4px"],[1,"form-group","text-center"],["id","sampleAddError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["class","btn btn-primary w-50 mr-2","id","sampleAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["id","sampleAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card"),o.bc(1,"nb-card-header",0),o.Lc(2,Ri,2,0,"h5",1),o.Lc(3,Ti,2,0,"h5",1),o.bc(4,"i",2),o.ic("click",(function(){return e.closedialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",3),o.bc(7,"div",4),o.bc(8,"label",5),o.Nc(9,"Background Image"),o.ac(),o.bc(10,"div",6),o.Lc(11,Di,1,0,"img",7),o.Lc(12,Ni,1,1,"img",8),o.bc(13,"label",9),o.Wb(14,"i",10),o.ac(),o.ac(),o.Wb(15,"p",11),o.bc(16,"input",12),o.ic("change",(function(t){return e.fileChange1(t)})),o.ac(),o.ac(),o.bc(17,"div",4),o.bc(18,"label",5),o.Nc(19,"Display Image"),o.ac(),o.bc(20,"div",13),o.Lc(21,zi,1,0,"img",7),o.Lc(22,Vi,1,1,"img",8),o.bc(23,"label",14),o.Wb(24,"i",10),o.ac(),o.ac(),o.Wb(25,"p",15),o.bc(26,"input",16),o.ic("change",(function(t){return e.fileChange2(t)})),o.ac(),o.ac(),o.ac(),o.bc(27,"div",17),o.bc(28,"div",18),o.bc(29,"label",19),o.Nc(30,"Image Type"),o.ac(),o.ac(),o.bc(31,"div",20),o.bc(32,"div",21),o.bc(33,"nb-radio-group",22),o.ic("ngModelChange",(function(t){return e.selectType=t})),o.bc(34,"nb-radio",23),o.Nc(35,"Background"),o.ac(),o.bc(36,"nb-radio",24),o.Nc(37,"Frame "),o.ac(),o.ac(),o.Wb(38,"p",25),o.ac(),o.ac(),o.ac(),o.bc(39,"div",26),o.Wb(40,"p",27),o.Lc(41,Ji,2,0,"button",28),o.Lc(42,Ai,2,0,"button",28),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",!e.sampleData),o.Jb(1),o.sc("ngIf",e.sampleData),o.Jb(7),o.Kb("valid-status",!!e.sampleData),o.Jb(1),o.sc("ngIf",e.sampleImage),o.Jb(1),o.sc("ngIf",e.sampleImage),o.Jb(8),o.Kb("valid-status",!!e.sampleData),o.Jb(1),o.sc("ngIf",e.displayImage),o.Jb(1),o.sc("ngIf",e.displayImage),o.Jb(11),o.sc("ngModel",e.selectType),o.Kb("valid-status",!!e.sampleData),o.Jb(8),o.sc("ngIf",!e.sampleData),o.Jb(1),o.sc("ngIf",e.sampleData))},directives:[a.v,a.x,m.n,a.u,a.db,u.n,u.q,a.cb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),t})();function Bi(t,e){1&t&&(o.bc(0,"div",15),o.Wb(1,"img",16),o.bc(2,"h2"),o.Nc(3,"No data found"),o.ac(),o.ac())}function Wi(t,e){if(1&t){const t=o.cc();o.bc(0,"div",17),o.bc(1,"nb-card",18),o.bc(2,"div",19),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewImage(i.display_compressed_img)})),o.Wb(3,"img",20),o.bc(4,"img",21),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.ac(),o.bc(5,"nb-card-footer",22),o.bc(6,"a",23),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().uploadImages(i)})),o.Wb(7,"nb-icon",24),o.ac(),o.bc(8,"a",25),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().deleteSampleImage(i)})),o.Wb(9,"nb-icon",26),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=o.mc();o.Jb(4),o.sc("lazyLoad",t.display_thumbnail_img)("errorImage",i.utils.errorImg)}}let Hi=(()=>{class t{constructor(t,e,i,a,n){this.dialog=t,this.route=e,this.actRoute=i,this.dataService=a,this.utils=n,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.token=localStorage.getItem("at")}ngOnInit(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllBackgroundCatogory(this.catalogId)}gotoCategories(){this.route.navigate(["/admin/categories"])}gotoSubCategories(){this.route.navigate(["/admin/categories/",this.categoryId])}gotoCatalog(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}uploadImages(t){this.open(!1,t)}open(t,e){this.dialog.open(Fi,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{sampleData:e,catalogId:this.catalogId}}).onClose.subscribe(t=>{"add"==t.res&&this.getAllBackgroundCatogory(this.catalogId)})}deleteSampleImage(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteCatalogImage",{img_id:t.img_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getAllBackgroundCatogory(this.catalogId)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getAllBackgroundCatogory(t){this.utils.showPageLoader(),this.dataService.postData("getSampleImagesForAdmin",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.sampleData=t.data.image_list,this.totalRecords=this.sampleData.length,this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}viewImage(t){this.dialog.open(ne.a,{context:{imgSrc:t,typeImg:"cat"}})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.G),o.Vb(c.c),o.Vb(c.a),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-popularsamples"]],decls:24,vars:8,consts:[[1,"row"],[1,"col-md-6","pl-0"],[1,"col-md-12"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","pr-0","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"col-md-12","pr-0","text-right"],[1,"btn","btn-primary",3,"click"],[1,"card-gallary-view","row","mt-2"],["class","col-md-12 text-center mt-3",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3  pr-0 pl-0",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';","alt","Thumbnail image",3,"lazyLoad","errorImage","load"],[1,"mt-3",2,"background","#E1E8F3"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",0),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.ic("click",(function(){return e.gotoCategories()})),o.Nc(6,"Categories"),o.ac(),o.bc(7,"li",5),o.ic("click",(function(){return e.gotoSubCategories()})),o.Nc(8),o.ac(),o.bc(9,"li",5),o.ic("click",(function(){return e.gotoCatalog()})),o.Nc(10),o.ac(),o.bc(11,"li",6),o.Nc(12),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(13,"div",7),o.bc(14,"nb-card",8),o.bc(15,"nb-card-header",9),o.Nc(16),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(17,"div",0),o.bc(18,"div",10),o.bc(19,"button",11),o.ic("click",(function(){return e.uploadImages("")})),o.Nc(20,"Upload Images"),o.ac(),o.ac(),o.ac(),o.bc(21,"div",12),o.Lc(22,Bi,4,0,"div",13),o.Lc(23,Wi,10,2,"div",14),o.ac()),2&t&&(o.Jb(7),o.uc("nbTooltip","Go to ",e.broadHome,""),o.Jb(1),o.Oc(e.broadHome),o.Jb(1),o.uc("nbTooltip","Go to ",e.broadSubHome,""),o.Jb(1),o.Oc(e.broadSubHome),o.Jb(2),o.Oc(e.broadItem),o.Jb(4),o.Pc(" TOTAL IMAGES : ",e.totalRecords," "),o.Jb(6),o.sc("ngIf",0==e.totalRecords),o.Jb(1),o.sc("ngForOf",e.sampleData))},directives:[a.sb,a.v,a.x,m.n,m.m,xt,a.w,a.J],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}.va-middle[_ngcontent-%COMP%]{vertical-align:middle}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;max-height:calc(100vh - 216px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}"]}),t})();function ji(t,e){1&t&&(o.bc(0,"h5",46),o.Nc(1,"Add Blog Data"),o.ac())}function Ui(t,e){1&t&&(o.bc(0,"h5",46),o.Nc(1,"Update Blog Data"),o.ac())}function $i(t,e){if(1&t){const t=o.cc();o.bc(0,"button",47),o.ic("click",(function(){return o.Dc(t),o.mc().uploadBlog()})),o.Nc(1,"Upload"),o.ac()}}function Gi(t,e){if(1&t){const t=o.cc();o.bc(0,"button",47),o.ic("click",(function(){return o.Dc(t),o.mc().uploadBlog()})),o.Nc(1,"Update"),o.ac()}}function Ki(t,e){1&t&&o.Wb(0,"img",48)}function Yi(t,e){if(1&t){const t=o.cc();o.bc(0,"img",49),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac()}if(2&t){const t=o.mc();o.sc("src",t.blogImg,o.Fc)}}function qi(t,e){if(1&t&&o.Wb(0,"img",50),2&t){const t=o.mc();o.sc("src",t.blogImg,o.Fc)}}const Qi=function(t,e){return{color:t,"font-size.px":e}};let Zi=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.utils=e,this.dataService=i,this.formData=new FormData,this.selectDevice="1",this.globalStyle='<style>body{padding: 5px; text-indent: 0px !important; font-size: 16px !important; font-family: "verdana";} img{vertical-align: middle;} span{text-indent: 0px !important} p{margin: 0 !important; text-indent: 0px !important;} table { border: none;margin: 0 !important;width: 100%;} .sttc-button {font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 1rem; font-weight: 500; border: none; border-radius: 4px; box-shadow: none; color: #ffffff; cursor: pointer; display: inline-block; margin: 0px; padding: 8px 18px; text-decoration: none; background-color: #ffcd00; overflow-wrap: break-word; user-select:none !important;}.sttc-button:hover, .sttc-button:focus{ background-color: #d9ae00;}</style>',this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){let t=this;if($(document).ready((function(){$("#summernote").summernote({placeholder:"Your HTML content here...",height:300,disableResizeEditor:!0,blockquoteBreakingLevel:2,disableDragAndDrop:!0,prettifyHtml:!0,codemirror:{theme:"monokai",htmlMode:!0,lineNumbers:!0,mode:"text/html"},fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana","Azo Sans"],fontSizes:["8","9","10","11","12","14","15","16","17","18","24","36","48","64","82","150","152","154","156","158","160","162","164","166","168","170","172","174","176","178","180","182","184","186","188","190","192","194","196","198","200"],fontNamesIgnoreCheck:["Azo Sans"],toolbar:[["fontsize",["fontsize"]],["color",["color"]],["font",["bold","italic","underline","clear","strikethrough","superscript","subscript"]],["fontname",["fontname"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]],["mybutton",["ClearFormat","refreshStyle"]]],popover:{image:[["image",["resizeFull","resize85","resize75","resize60","resizeHalf","resize40","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]]},buttons:{ClearFormat:function(t){return $.summernote.ui.button({contents:'<i class="fa fa-retweet"/>  Clear Formating',click:function(){$("#summernote").summernote("removeFormat")}}).render()},refreshStyle:function(e){return $.summernote.ui.button({contents:'<i class="fa fa-sync-alt"/>  Refresh Style',click:function(){t.updateStyle()}}).render()}}}),t.upBlogData?$("#summernote").summernote("code",JSON.parse(t.upBlogData.blog_json).blog_data):"1"==t.selectDevice?$("#summernote").summernote("code",t.globalStyle+"<script>function OpenTemplate(templateID) { if(templateID){ Android.moveToNextScreen(templateID); } } function searchTemplate(searchTag) { Android.goToSearchScreen(searchTag);} <\/script>"):"2"==t.selectDevice?$("#summernote").summernote("code",t.globalStyle+'<script> function OpenTemplate(templateID) { if(templateID){ window.location = "videoadking://?templateID="+ templateID } } function searchTemplate(searchTag) { window.location = "videoadking://?searchTag="+ searchTag} <\/script>'):$("#summernote").summernote("code",t.globalStyle+"<script> function OpenTemplate(templateID) { } function searchTemplate(searchTag) { } <\/script>")})),this.openTmpltBtn='<br><button class="sttc-button" onclick="OpenTemplate(10)">Open Template</button><br><br>',this.srcTmpltBtn='<br><button class="sttc-button" onclick="searchTemplate(\'illustration\')">Search Template</button><br><br>',this.upBlogData){var e=JSON.parse(this.upBlogData.title),i=JSON.parse(this.upBlogData.subtitle);this.blogImg=this.upBlogData.compressed_img,this.selectDevice=this.upBlogData.platform.toString(),this.blogTitle=e.text_value,this.titleCol=e.text_color,this.titleSize=e.text_size,this.blogSubTitle=i.text_value,this.subTitleCol=i.text_color,this.subTitleSize=i.text_size}else this.titleCol=this.subTitleCol="#000000",this.subTitleSize=36,this.titleSize=16}updateStyle(){var t=$("#summernote").summernote("code").replace(/<style[^>]*>.*?<\/style>/gi,"");$("#summernote").summernote("code",t+this.globalStyle)}fileChange(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=t=>{this.blogImg=t.target.result,document.getElementById("blogimagError").innerHTML=""},e.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}changePlatform(t){var e=$("#summernote").summernote("code").replace(/<script[^>]*>.*?<\/script>/gi,"");"1"==t?$("#summernote").summernote("code",e+"<script>function OpenTemplate(templateID) { if(templateID){ Android.moveToNextScreen(templateID); } } function searchTemplate(searchTag) { Android.goToSearchScreen(searchTag);} <\/script>"):"2"==t?$("#summernote").summernote("code",e+'<script> function OpenTemplate(templateID) { if(templateID) { window.location = "videoadking://?templateID="+ templateID } } function searchTemplate(searchTag) { window.location = "videoadking://?searchTag="+ searchTag} <\/script>'):$("#summernote").summernote("code",e+"<script> function OpenTemplate(templateID) { } function searchTemplate(searchTag) { } <\/script>")}closeDialog(){this.dialogRef.close({res:""})}getCode(t){return $(t).summernote("isEmpty")?"":$(t).summernote("code")}blankTitle(){document.getElementById("blogTitleError").innerHTML=""}trim(t){return t.replace(/^\s+|\s+$/g,"")}removeTextMsg(t){document.getElementById(t).innerHTML=""}blogImgValid(){if(null!=this.blogImg&&""!=this.blogImg&&null!=this.blogImg)return document.getElementById("blogimagError").innerHTML="",!0;document.getElementById("blogimagError").innerHTML=b.b.IMG_REQ}blogTitleValid(){if(void 0!==this.blogTitle&&""!=this.blogTitle.trim()&&null!=this.blogTitle)return document.getElementById("blogTitleError").innerHTML="",!0;document.getElementById("blogTitleError").innerHTML=b.b.TITLE_EMPTY}blogCodeValid(){if(void 0!==this.getCode("#summernote")&&""!=this.trim(this.getCode("#summernote"))&&null!=this.getCode("#summernote"))return document.getElementById("blogContentError").innerHTML="",!0;document.getElementById("blogContentError").innerHTML=b.b.CONTENT_EMPTY}uploadBlog(){var t,e,i=this.blogImgValid(),a=this.blogTitleValid(),n=this.blogCodeValid();i&&a&&n&&(this.utils.showLoader(),this.upBlogData?(t={blog_id:this.upBlogData.blog_id,platform:this.selectDevice,catalog_id:this.catalogId,title:{text_value:this.blogTitle,text_color:this.titleCol,text_size:this.titleSize},subtitle:{text_value:this.blogSubTitle,text_color:this.subTitleCol,text_size:this.subTitleSize},blog_data:"<body><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1'/>"+this.getCode("#summernote")+"</body>",fg_image:this.blogImg},e="updateBlogContent"):(t={platform:this.selectDevice,catalog_id:this.catalogId,title:{text_value:this.blogTitle,text_color:this.titleCol,text_size:this.titleSize},subtitle:{text_value:this.blogSubTitle,text_color:this.subTitleCol,text_size:this.subTitleSize},blog_data:"<body><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1'/>"+this.getCode("#summernote")+"</body>"},e="addBlogContent"),this.formData.append("request_data",JSON.stringify(t)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(s.a),o.Vb(h.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addblogs"]],decls:80,vars:26,consts:[[1,"blog-form-card"],[2,"position","relative"],[1,"row"],[1,"col-md-7","col-6"],["class","header-text text-center",4,"ngIf"],[1,"col-md-5","col-6","text-right"],["class","btn btn-primary","id","subCatAdd",3,"click",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"col-md-2","col-12"],[1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["id","blogimagError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center"],["type","file","id","fileInput","accept","image/*","autofocus","true",2,"display","none",3,"change"],[1,"col-md-6","col-12"],[1,"form-group"],[1,"col-md-4","pr-1"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],["id","radioInput",3,"ngModel","ngModelChange"],["value","1",3,"valueChange"],["value","2",3,"valueChange"],[1,"col-md-2","col-12","pr-1"],[1,"col-md-10","col-12"],[1,"col-md-7","col-12"],["nbInput","","placeholder","Enter Title",2,"height","40px",3,"ngModel","ngModelChange","keyup"],[1,"col-md-2","col-4"],["type","color",2,"height","40px",3,"ngModel","ngModelChange"],[1,"col-md-3","col-8"],["type","number","nbInput","","min","0","max","100",1,"w-100",3,"ngModel","ngModelChange","keyup"],["id","blogTitleError",2,"color","red","margin-bottom","0px","margin-top","4px","margin-left","16px","height","16px"],["nbInput","","placeholder","Enter Sub Title",2,"height","40px",3,"ngModel","ngModelChange"],["type","number","nbInput","","min","0","max","100",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-4"],["nbInput","",1,"w-100",2,"resize","none",3,"ngModel","ngModelChange"],[1,"col-md-8"],["id","blogContentError",2,"color","red","margin-bottom","10px","height","16px"],["id","summernote"],[1,"col-md-4","mt-3"],[1,"content-block-blog"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"text-overlay"],[1,"m-0",2,"white-space","pre-line","line-height","1.1","word-break","break-word",3,"ngStyle"],[2,"white-space","pre-line","line-height","1.1","margin","0px","word-break","break-word",3,"ngStyle"],[1,"header-text","text-center"],["id","subCatAdd",1,"btn","btn-primary",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[2,"max-width","100%",3,"src"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.bc(2,"div",2),o.bc(3,"div",3),o.Lc(4,ji,2,0,"h5",4),o.Lc(5,Ui,2,0,"h5",4),o.ac(),o.bc(6,"div",5),o.Lc(7,$i,2,0,"button",6),o.Lc(8,Gi,2,0,"button",6),o.ac(),o.ac(),o.bc(9,"i",7),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(10,"nb-card-body"),o.bc(11,"div",2),o.bc(12,"div",8),o.bc(13,"div",9),o.Lc(14,Ki,1,0,"img",10),o.Lc(15,Yi,1,1,"img",11),o.bc(16,"label",12),o.Wb(17,"i",13),o.ac(),o.ac(),o.Wb(18,"p",14),o.bc(19,"input",15),o.ic("change",(function(t){return e.fileChange(t)})),o.ac(),o.ac(),o.bc(20,"div",16),o.bc(21,"div",17),o.bc(22,"div",2),o.bc(23,"div",18),o.bc(24,"label",19),o.Nc(25,"Blog Appear In"),o.ac(),o.ac(),o.bc(26,"div",20),o.bc(27,"nb-radio-group",21),o.ic("ngModelChange",(function(t){return e.selectDevice=t})),o.bc(28,"nb-radio",22),o.ic("valueChange",(function(){return e.changePlatform("1")})),o.Nc(29,"Android"),o.ac(),o.bc(30,"nb-radio",23),o.ic("valueChange",(function(){return e.changePlatform("2")})),o.Nc(31,"IOS"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(32,"div",17),o.bc(33,"div",2),o.bc(34,"div",24),o.bc(35,"label",19),o.Nc(36,"Title"),o.ac(),o.ac(),o.bc(37,"div",25),o.bc(38,"div",2),o.bc(39,"div",26),o.bc(40,"textarea",27),o.ic("ngModelChange",(function(t){return e.blogTitle=t}))("keyup",(function(){return e.removeTextMsg("blogTitleError")})),o.ac(),o.ac(),o.bc(41,"div",28),o.bc(42,"input",29),o.ic("ngModelChange",(function(t){return e.titleCol=t})),o.ac(),o.ac(),o.bc(43,"div",30),o.bc(44,"input",31),o.ic("ngModelChange",(function(t){return e.titleSize=t}))("keyup",(function(){return e.blankTitle()})),o.ac(),o.ac(),o.ac(),o.Wb(45,"p",32),o.ac(),o.ac(),o.ac(),o.bc(46,"div",17),o.bc(47,"div",2),o.bc(48,"div",24),o.bc(49,"label",19),o.Nc(50,"Sub Title"),o.ac(),o.ac(),o.bc(51,"div",25),o.bc(52,"div",2),o.bc(53,"div",26),o.bc(54,"textarea",33),o.ic("ngModelChange",(function(t){return e.blogSubTitle=t})),o.ac(),o.ac(),o.bc(55,"div",28),o.bc(56,"input",29),o.ic("ngModelChange",(function(t){return e.subTitleCol=t})),o.ac(),o.ac(),o.bc(57,"div",30),o.bc(58,"input",34),o.ic("ngModelChange",(function(t){return e.subTitleSize=t})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(59,"div",35),o.bc(60,"div",17),o.bc(61,"label",19),o.Nc(62,"Open Template Button"),o.ac(),o.bc(63,"textarea",36),o.ic("ngModelChange",(function(t){return e.openTmpltBtn=t})),o.ac(),o.ac(),o.bc(64,"div",17),o.bc(65,"label",19),o.Nc(66,"Search Template Button"),o.ac(),o.bc(67,"textarea",36),o.ic("ngModelChange",(function(t){return e.srcTmpltBtn=t})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(68,"div",2),o.bc(69,"div",37),o.Wb(70,"p",38),o.Wb(71,"div",39),o.ac(),o.bc(72,"div",40),o.bc(73,"div",41),o.Lc(74,qi,1,1,"img",42),o.bc(75,"div",43),o.bc(76,"p",44),o.Nc(77),o.ac(),o.bc(78,"p",45),o.Nc(79),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(4),o.sc("ngIf",!e.upBlogData),o.Jb(1),o.sc("ngIf",e.upBlogData),o.Jb(2),o.sc("ngIf",!e.upBlogData),o.Jb(1),o.sc("ngIf",e.upBlogData),o.Jb(6),o.sc("ngIf",e.blogImg),o.Jb(1),o.sc("ngIf",e.blogImg),o.Jb(12),o.sc("ngModel",e.selectDevice),o.Jb(13),o.sc("ngModel",e.blogTitle),o.Jb(2),o.sc("ngModel",e.titleCol),o.Jb(2),o.sc("ngModel",e.titleSize),o.Jb(10),o.sc("ngModel",e.blogSubTitle),o.Jb(2),o.sc("ngModel",e.subTitleCol),o.Jb(2),o.sc("ngModel",e.subTitleSize),o.Jb(5),o.sc("ngModel",e.openTmpltBtn),o.Jb(4),o.sc("ngModel",e.srcTmpltBtn),o.Jb(7),o.sc("ngIf",e.blogImg),o.Jb(2),o.sc("ngStyle",o.yc(20,Qi,e.titleCol,e.titleSize)),o.Jb(1),o.Pc(" ",e.blogTitle,""),o.Jb(1),o.sc("ngStyle",o.yc(23,Qi,e.subTitleCol,e.subTitleSize)),o.Jb(1),o.Pc(" ",e.blogSubTitle,""))},directives:[a.v,a.x,m.n,a.u,a.db,u.n,u.q,a.cb,a.M,u.c,u.s,m.o],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.blog-form-card[_ngcontent-%COMP%]{width:1107px;height:calc(100vh - 50px)}.blog-form-card[_ngcontent-%COMP%]   #subCatAdd[_ngcontent-%COMP%]{width:25%;margin-right:3rem}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.content-block-blog[_ngcontent-%COMP%]{position:relative}.content-block-blog[_ngcontent-%COMP%]   .text-overlay[_ngcontent-%COMP%]{position:absolute;top:0}  .note-modal-backdrop{display:none!important;background:rgba(0,0,0,.2)}  .note-editable{background:#fff!important}  .note-modal-footer{height:54px!important}  .note-editor .dropdown-toggle:after{display:none!important}  .note-dropdown-menu{min-width:234px!important}  .note-dropdown-menu .note-align{margin-right:4px!important}@media only screen and (max-width:600px){.blog-form-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.blog-form-card[_ngcontent-%COMP%]   #subCatAdd[_ngcontent-%COMP%]{width:75%}}"]}),t})();function Xi(t,e){if(1&t&&(o.bc(0,"nb-option",22),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t),o.Jb(1),o.Oc(t)}}function ta(t,e){1&t&&(o.bc(0,"div",23),o.Wb(1,"img",24),o.bc(2,"h2"),o.Nc(3,"No data found"),o.ac(),o.ac())}function ea(t,e){if(1&t){const t=o.cc();o.bc(0,"div",25),o.bc(1,"nb-card",26),o.bc(2,"div",27),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().viewImage(i.compressed_img)})),o.Wb(3,"img",28),o.bc(4,"img",29),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.ac(),o.bc(5,"nb-card-footer",30),o.bc(6,"a",31),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().uploadBlogs(i)})),o.Wb(7,"nb-icon",32),o.ac(),o.bc(8,"a",33),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc().deleteBlogContent(i)})),o.Wb(9,"nb-icon",34),o.ac(),o.bc(10,"a",35),o.ic("click",(function(){o.Dc(t);const i=e.$implicit,a=e.index;return o.mc().moveToFirst(i,a)})),o.Wb(11,"nb-icon",36),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=o.mc();o.Jb(4),o.sc("lazyLoad",t.webp_thumbnail_img?t.webp_thumbnail_img:t.thumbnail_img)("errorImage",i.utils.errorImg)}}const ia=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};let aa=(()=>{class t{constructor(t,e,i,a,n){this.dialog=t,this.route=e,this.actRoute=i,this.dataService=a,this.utils=n,this.previousLabel="<",this.nextLabel=">",this.currentPage=1,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.token=localStorage.getItem("at")}ngOnInit(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllBlogList()}gotoCategories(){this.route.navigate(["/admin/categories"])}gotoSubCategories(){this.route.navigate(["/admin/categories/",this.categoryId])}gotoCatalog(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}setPageSize(t){this.selectedPageSize=t,this.selectedPageSize>this.totalRecords&&(this.currentPage=1),this.getAllBlogList()}handlePageChange(t){this.currentPage=t,this.getAllBlogList()}uploadBlogs(t){this.open(!1,t)}open(t,e){this.dialog.open(Zi,{closeOnBackdropClick:t,closeOnEsc:!1,context:{upBlogData:e,catalogId:this.catalogId}}).onClose.subscribe(t=>{t.res&&"add"==t.res&&this.getAllBlogList()})}moveToFirst(t,e){this.utils.showLoader(),this.dataService.postData("setBlogRankOnTheTopByAdmin",{blog_id:t.blog_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3);var i=this.BlogData[e];this.BlogData.splice(e,1),this.BlogData.splice(0,0,i)}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}deleteBlogContent(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteBlogContent",{blog_id:t.blog_id,fg_image:t.fg_image},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getAllBlogList()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getAllBlogList(){this.utils.showPageLoader(),this.dataService.postData("getBlogContent",{catalog_id:this.catalogId,page:this.currentPage,item_count:this.selectedPageSize},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.BlogData=t.data.result,this.totalRecords=t.data.total_record,this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}viewImage(t){this.dialog.open(ne.a,{context:{imgSrc:t,typeImg:"cat"}})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.G),o.Vb(c.c),o.Vb(c.a),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-bloglist"]],decls:32,vars:19,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"col-md-12","text-right","pr-0"],[1,"va-middle","mr-2",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"card-gallary-content","row","mt-2"],[1,"col-md-12"],[1,"card-gallary","row"],["class","col-md-12 text-center mt-3",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3  pr-0 pl-0",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],["alt","{item.name}} image",3,"lazyLoad","errorImage","load"],[1,"mt-3"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","upload","pack","eva"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",0),o.bc(3,"div",2),o.bc(4,"ol",3),o.bc(5,"li",4),o.ic("click",(function(){return e.gotoCategories()})),o.Nc(6,"Categories"),o.ac(),o.bc(7,"li",5),o.ic("click",(function(){return e.gotoSubCategories()})),o.Nc(8),o.ac(),o.bc(9,"li",5),o.ic("click",(function(){return e.gotoCatalog()})),o.Nc(10),o.ac(),o.bc(11,"li",6),o.Nc(12),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(13,"div",7),o.bc(14,"nb-card",8),o.bc(15,"nb-card-header",9),o.Nc(16),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(17,"div",0),o.bc(18,"div",10),o.bc(19,"nb-select",11),o.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),o.Lc(20,Xi,2,2,"nb-option",12),o.ac(),o.bc(21,"button",13),o.ic("click",(function(){return e.uploadBlogs("")})),o.Nc(22,"Add Blog"),o.ac(),o.ac(),o.ac(),o.bc(23,"div",14),o.bc(24,"div",15),o.bc(25,"div",16),o.Lc(26,ta,4,0,"div",17),o.Lc(27,ea,12,2,"div",18),o.nc(28,"paginate"),o.ac(),o.bc(29,"div",19),o.bc(30,"div",20),o.bc(31,"pagination-controls",21),o.ic("pageChange",(function(t){return e.handlePageChange(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(7),o.uc("nbTooltip","Go to ",e.broadHome,""),o.Jb(1),o.Oc(e.broadHome),o.Jb(1),o.uc("nbTooltip","Go to ",e.broadSubHome,""),o.Jb(1),o.Oc(e.broadSubHome),o.Jb(2),o.Oc(e.broadItem),o.Jb(4),o.Pc(" TOTAL RECORDS : ",e.totalRecords," "),o.Jb(3),o.sc("selected",e.selectedPageSize),o.Jb(1),o.sc("ngForOf",e.pageSize),o.Jb(6),o.sc("ngIf",0==e.totalRecords),o.Jb(1),o.sc("ngForOf",o.pc(28,12,e.BlogData,o.zc(15,ia,e.selectedPageSize,e.currentPage,e.totalRecords))),o.Jb(4),o.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[a.sb,a.v,a.x,a.gb,m.m,m.n,w.c,a.Z,xt,a.w,a.J],pipes:[w.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}.va-middle[_ngcontent-%COMP%]{vertical-align:middle}"]}),t})();var na=i("wd/R"),oa=i("B01t");function ra(t,e){1&t&&o.Wb(0,"span")}function ca(t,e){if(1&t&&(o.bc(0,"nb-option",25),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t),o.Jb(1),o.Oc(t)}}function sa(t,e){if(1&t&&o.Wb(0,"ng2-smart-table",26),2&t){const t=o.mc();o.sc("settings",t.settings)("source",t.dataSource)}}function la(t,e){if(1&t&&(o.bc(0,"tr"),o.bc(1,"td"),o.Nc(2),o.ac(),o.bc(3,"td",31),o.Nc(4),o.ac(),o.bc(5,"td",31),o.Nc(6),o.ac(),o.ac()),2&t){const t=e.$implicit,i=e.index,a=o.mc(2);o.Jb(2),o.Oc(i+1+a.selectedPageSize*(a.currentPage-1)),o.Jb(2),o.Oc(t.uploaded_content_count),o.Jb(2),o.Oc(t.date)}}function da(t,e){1&t&&(o.bc(0,"tr"),o.bc(1,"td",32),o.bc(2,"p",33),o.Nc(3,"No data found"),o.ac(),o.ac(),o.ac())}const ga=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};function ha(t,e){if(1&t){const t=o.cc();o.bc(0,"div",27),o.bc(1,"table",28),o.bc(2,"thead"),o.bc(3,"tr"),o.bc(4,"th"),o.Nc(5,"#"),o.ac(),o.bc(6,"th",29),o.ic("click",(function(){o.Dc(t);const e=o.mc();return e.sortBy("uploaded_content_count",1==e.order_type?"ASC":"DESC")})),o.Nc(7,"Uploaded Content"),o.ac(),o.bc(8,"th",29),o.ic("click",(function(){o.Dc(t);const e=o.mc();return e.sortBy("date",1==e.order_type?"ASC":"DESC")})),o.Nc(9,"Last Uploaded on"),o.ac(),o.ac(),o.ac(),o.bc(10,"tbody"),o.Lc(11,la,7,3,"tr",0),o.nc(12,"paginate"),o.Lc(13,da,4,0,"tr",30),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.mc();o.Jb(11),o.sc("ngForOf",o.pc(12,2,t.contentDetails,o.zc(5,ga,t.selectedPageSize,t.currentPage,t.totalRecords))),o.Jb(2),o.sc("ngIf",0==t.totalRecords)}}function pa(t,e){if(1&t){const t=o.cc();o.bc(0,"div",34),o.bc(1,"pagination-controls",35),o.ic("pageChange",(function(e){return o.Dc(t),o.mc().handlePageChange(e)}))("pageBoundsCorrection",(function(e){return o.Dc(t),o.mc().pageChanged(e)})),o.ac(),o.ac()}if(2&t){const t=o.mc();o.Jb(1),o.sc("previousLabel",t.previousLabel)("nextLabel",t.nextLabel)}}let ba=(()=>{class t{constructor(t,e,i){this.dialogRef=t,this.dataService=e,this.utils=i,this.pickerOptions={startDate:na().subtract(6,"days"),endDate:na(),showDropdowns:!1,locale:{format:"YYYY-MM-DD"},opens:"left",minDate:"2015-01-01",ranges:{"This Week":[na().subtract(6,"days"),na()],"This Month":[na().startOf("month"),na().endOf("month")],"Last Month":[na().subtract(1,"month").startOf("month"),na().subtract(1,"month").endOf("month")],"This Year":[na().startOf("year"),na().endOf("year")],"Last Year":[na().subtract(1,"year").startOf("year"),na().subtract(1,"year").endOf("year")]}},this.contentDetails=[],this.totalRecords=0,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.currentPage=1,this.previousLabel="<",this.nextLabel=">",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.settings={mode:"external",columns:{id:{title:"#",filter:!1,width:"75px",type:"text",sort:!1},catalog_name:{title:"Catalog Name",filter:!0},content_count:{title:"Uploaded Templates",filter:!0},last_uploaded_date:{title:"Last Uploaded on",filter:!0}},actions:{add:!1,edit:!1,delete:!1},pager:{display:!0,perPage:parseInt(this.selectedPageSize)},hideSubHeader:!0},this.startDate=na().subtract(6,"days").format("YYYY-MM-DD"),this.endDate=na().format("YYYY-MM-DD"),this.getDataByRange()}handlePageChange(t){this.currentPage=t,this.getDataByRange()}setPageSize(t){this.selectedPageSize=t,this.settings.pager.perPage=parseInt(this.selectedPageSize),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!0),"date"==this.selectType&&this.getDataByRange()}pageChanged(t){this.currentPage=t,this.getDataByRange()}refreshPage(){this.selectedPageSize="50",this.getDataByRange()}updateRange(t){this.startDate=t.start.format("YYYY-MM-DD"),this.endDate=t.end.format("YYYY-MM-DD"),this.selectedRange=this.startDate+" to "+this.endDate}sortBy(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.getDataByRange()}getDataByRange(){"date"==this.selectType?(this.requestData={api_url:this.serverData.api_url,category_id:this.contentData.category_id,sub_category_id:this.contentData.sub_category_id,from_date:this.startDate,to_date:this.endDate,page:this.currentPage,item_count:this.selectedPageSize,order_by:this.sortByTagName,order_type:this.order_type_val},this.apiUrl="getSummaryDetailFromDiffServer"):(this.requestData={api_url:this.serverData.api_url,sub_category_id:this.contentData.sub_category_id,from_date:this.startDate,to_date:this.endDate},this.apiUrl="getSummaryOfCatalogsFromDiffServer"),this.getStatisticsData(this.requestData,this.apiUrl)}closeDialog(){this.dialogRef.close()}getStatisticsData(t,e){this.utils.showLoader(),this.dataService.postData(e,t,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){var e=1;t.data.data.result.forEach(t=>{t.id=e,e++}),this.contentDetails=t.data.data.result,this.totalRecords=t.data.data.total_record,this.dataSource=new y.a(this.contentDetails),this.utils.hideLoader()}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.F),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-statistics-details"]],viewQuery:function(t,e){var i;1&t&&o.Rc(oa.b,!0),2&t&&o.Ac(i=o.jc())&&(e.picker=i.first)},decls:29,vars:18,consts:[[4,"ngFor","ngForOf"],[1,"static-detail-card"],[2,"position","relative"],[1,"text-center","static-card-header"],[1,"fa","fa-times","close-icon",3,"click"],[1,"pb-0"],[1,"row"],[1,"col-md-6","col-xs-12"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default","nbTooltipTrigger","hint",1,"btn","btn-refresh","mr-2",3,"click"],[1,"fas","fa-sync-alt"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-xs-12","text-right"],[1,"text-total"],[1,"row","mt-2",2,"position","relative"],[1,"col-md-8"],["type","text","autofocus","false","name","daterangeInput","daterangepicker","",1,"form-control",3,"options","selected"],[1,"col-md-4"],[1,"btn","btn-success","w-100",3,"click"],[1,"row","mt-2"],[1,"col-md-12"],[1,"table-data"],[3,"settings","source",4,"ngIf"],["class","table-body-state",4,"ngIf"],["class","pegination-area text-center pt-2 pb-2",4,"ngIf"],[3,"value"],[3,"settings","source"],[1,"table-body-state"],[1,"table","mb-0"],[1,"text-center",3,"click"],[4,"ngIf"],[1,"text-center"],["colspan","3"],[1,"mb-0"],[1,"pegination-area","text-center","pt-2","pb-2"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange","pageBoundsCorrection"]],template:function(t,e){1&t&&(o.Lc(0,ra,1,0,"span",0),o.nc(1,"paginate"),o.bc(2,"nb-card",1),o.bc(3,"nb-card-header",2),o.bc(4,"h5",3),o.Nc(5),o.ac(),o.bc(6,"i",4),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(7,"nb-card-body",5),o.bc(8,"div",6),o.bc(9,"div",7),o.bc(10,"button",8),o.ic("click",(function(){return e.refreshPage()})),o.Wb(11,"i",9),o.ac(),o.bc(12,"nb-select",10),o.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),o.Lc(13,ca,2,2,"nb-option",11),o.ac(),o.ac(),o.bc(14,"div",12),o.bc(15,"p",13),o.Nc(16),o.ac(),o.ac(),o.ac(),o.bc(17,"div",14),o.bc(18,"div",15),o.bc(19,"input",16),o.ic("selected",(function(t){return e.updateRange(t)})),o.ac(),o.ac(),o.bc(20,"div",17),o.bc(21,"button",18),o.ic("click",(function(){return e.getDataByRange()})),o.Nc(22,"View Info"),o.ac(),o.ac(),o.ac(),o.bc(23,"div",19),o.bc(24,"div",20),o.bc(25,"div",21),o.Lc(26,sa,1,2,"ng2-smart-table",22),o.Lc(27,ha,14,9,"div",23),o.Lc(28,pa,2,2,"div",24),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.sc("ngForOf",o.pc(1,11,e.contentDetails,o.zc(14,ga,e.selectedPageSize,e.currentPage,e.totalRecords))),o.Jb(2),o.Lb("date"==e.selectType?"w-626":"w-822"),o.Jb(3),o.Oc(e.contentData.name),o.Jb(7),o.sc("selected",e.selectedPageSize),o.Jb(1),o.sc("ngForOf",e.pageSize),o.Jb(3),o.Pc(" Total Records : ",e.totalRecords," "),o.Jb(3),o.sc("options",e.pickerOptions),o.Jb(7),o.sc("ngIf","date"!=e.selectType),o.Jb(1),o.sc("ngIf","date"==e.selectType),o.Jb(1),o.sc("ngIf","date"==e.selectType))},directives:[m.m,a.v,a.x,a.u,a.sb,a.gb,oa.b,m.n,a.Z,y.b,w.c],pipes:[w.b],styles:[".static-detail-card ng2-smart-table tbody tr.selected{background:#fff!important}  .static-detail-card ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .static-detail-card ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .static-detail-card ng2-smart-table-pager nav{padding-bottom:6px!important}  .static-detail-card ng2-smart-table-pager ul{margin-bottom:0!important}  .static-detail-card ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   .static-detail-card ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}  .static-detail-card ng2-smart-table table thead tr th ng2-smart-table-title a,   .static-detail-card ng2-smart-table table thead tr th ng2-smart-table-title span.ng2-smart-sort{font-weight:700!important}  .static-detail-card ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-17px!important;background:#fff;z-index:1;font-weight:700!important}.btn-default[_ngcontent-%COMP%]{background:rgba(0,0,0,.12);vertical-align:baseline}.w-626[_ngcontent-%COMP%]{width:626px}.w-822[_ngcontent-%COMP%]{width:822px}.static-detail-card[_ngcontent-%COMP%]{height:calc(100vh - 123px)}.text-total[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:18px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}@media only screen and (max-width:600px){.static-detail-card[_ngcontent-%COMP%]{width:calc(100vw - 29px)}.static-detail-card[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{margin-top:10px}.static-detail-card[_ngcontent-%COMP%]   .text-total[_ngcontent-%COMP%]{text-align:center}.static-detail-card[_ngcontent-%COMP%]   .static-card-header[_ngcontent-%COMP%]{width:93%}[_nghost-%COMP%]     .static-detail-card ng2-smart-table table thead tr:first-child th{top:-38px!important}[_nghost-%COMP%]     .static-detail-card ng2-smart-table table thead tr:last-child th{top:44px!important}}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important;-webkit-padding-start:0!important;padding-inline-start:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.table-body-state[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky!important;position:sticky!important;top:-17px!important;background:#fff;z-index:1;font-weight:700!important}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dee2e6}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{cursor:default!important}.table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{cursor:pointer}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.table-body-state[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#edf1f7}"]}),t})();var ma=i("jhN1");function ua(t,e){if(1&t&&(o.bc(0,"div",20),o.bc(1,"p",21),o.Nc(2),o.ac(),o.ac()),2&t){const t=o.mc().$implicit;o.Jb(2),o.Pc(" Total count: ",t.result.length," ")}}function fa(t,e){if(1&t){const t=o.cc();o.bc(0,"nb-accordion-item",12),o.ic("collapsedChange",(function(i){o.Dc(t);const a=e.$implicit;return o.mc().viewServerDetails(i,a)})),o.bc(1,"nb-accordion-item-header"),o.bc(2,"div",13),o.bc(3,"div",14),o.bc(4,"p",15),o.Nc(5),o.ac(),o.ac(),o.Lc(6,ua,3,1,"div",16),o.ac(),o.ac(),o.bc(7,"nb-accordion-item-body",17),o.bc(8,"div",18),o.bc(9,"ng2-smart-table",19),o.ic("edit",(function(i){o.Dc(t);const a=e.$implicit;return o.mc().openDateRangePicker(i,a,"date")}))("delete",(function(i){o.Dc(t);const a=e.$implicit;return o.mc().openDateRangePicker(i,a,"catalog")})),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=e.index,a=o.mc();o.Jb(5),o.Qc(" ",i+1,".",t.server_url," "),o.Jb(1),o.sc("ngIf",t.result),o.Jb(3),o.sc("settings",a.settings)("source",t.result)}}let _a=(()=>{class t{constructor(t,e,i,a){this.dialog=t,this._sanitizer=e,this.dataService=i,this.utils=a,this.settings={mode:"external",edit:{editButtonContent:'<i class="fa fa-calendar-alt" title="View By Date"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-file-alt" title="View By Catalog"></i>',confirmDelete:!0},columns:{id:{title:"#",sort:"false",filter:!1,width:"75px",type:"text"},compressed_img:{title:"App Icon",filter:!1,sort:!1,type:"html",valuePrepareFunction:t=>this._sanitizer.bypassSecurityTrustHtml('<img src="'+t+'" style="height:50px;">')},name:{title:"Name"},no_of_catalogs:{title:"Total Catalogs"},content_count:{title:"Total Templates"},free_content:{title:"Free Templates"},paid_content:{title:"Paid Templates"},last_uploaded_count:{title:"Last Uploaded Count"},last_uploaded_date:{title:"Last Uploaded On"}},actions:{add:!1,position:"right",delete:!0,edit:!0,pager:!0}},this.token=localStorage.getItem("at")}ngOnInit(){this.getStatisticsData()}viewServerDetails(t,e){t||(this.utils.showPageLoader(),this.dataService.postData("getSummaryOfIndividualServerByAdmin",{api_url:e.api_url},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){var i=1;t.data.result.forEach(t=>{t.last_uploaded_date=this.dataService.formatDDMMMYYYYHHMMALOCAL(t.last_uploaded_date),t.id=i,i++}),e.result=t.data.result,this.serverDetails=t.data.result,this.utils.hidePageLoader()}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}getStatisticsData(){this.utils.showPageLoader(),this.dataService.postData("getAllServerUrls",{},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.serverData=t.data.result,this.totalRecord=t.data.total_record,this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}openDateRangePicker(t,e,i){this.open(!1,!1,t.data,e,i)}open(t,e,i,a,n){this.dialog.open(ba,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:e,context:{contentData:i,serverData:a,selectType:n}})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.G),o.Vb(ma.b),o.Vb(h.a),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-statistics"]],decls:16,vars:2,consts:[[1,"row","statistics-header","h-50"],[1,"col-md-6"],[1,"row"],[1,"col-md-12"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"server-data"],["multi",""],[3,"collapsedChange",4,"ngFor","ngForOf"],[3,"collapsedChange"],[1,"row","w-100","accord-header"],[1,"col-md-9","col-xs-12"],[1,"mb-0"],["class","col-md-3 col-xs-12 text-right",4,"ngIf"],[1,"statistics-body"],[1,"table-statistics"],[3,"settings","source","edit","delete"],[1,"col-md-3","col-xs-12","text-right"],[1,"total-static-cnt"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"div",3),o.bc(4,"ol",4),o.bc(5,"li",5),o.Nc(6,"Statistics"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(7,"div",6),o.bc(8,"nb-card",7),o.bc(9,"nb-card-header",8),o.Nc(10),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(11,"div",9),o.bc(12,"div",2),o.bc(13,"div",3),o.bc(14,"nb-accordion",10),o.Lc(15,fa,10,5,"nb-accordion-item",11),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(10),o.Pc(" NO. OF SERVERS : ",e.totalRecord," "),o.Jb(5),o.sc("ngForOf",e.serverData))},directives:[a.v,a.x,a.g,m.m,a.i,a.j,m.n,a.h,y.b],styles:["ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}"]}),t})(),Ca=(()=>{class t{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(t=0,e=2){if(isNaN(parseFloat(String(t)))||!isFinite(t))return"?";let i=0;for(;t>=1024;)t/=1024,i++;return t.toFixed(+e)+" "+this.units[i]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Ub({name:"size",type:t,pure:!0}),t})();function va(t,e){if(1&t&&(o.bc(0,"nb-option",23),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t),o.Jb(1),o.Oc(t)}}function xa(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td",16),o.Nc(2),o.ac(),o.bc(3,"td"),o.Wb(4,"img",24),o.bc(5,"img",25),o.ic("load",(function(e){return o.Dc(t),o.mc().imageLoad(e)})),o.ac(),o.ac(),o.bc(6,"td",26),o.Nc(7),o.ac(),o.bc(8,"td",26),o.Nc(9),o.ac(),o.bc(10,"td",26),o.Nc(11),o.nc(12,"size"),o.ac(),o.bc(13,"td",26),o.Nc(14),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=e.index,a=o.mc();o.Jb(2),o.Oc(i+1+a.selectedImageSize*(a.currentPage-1)),o.Jb(3),o.sc("lazyLoad",t.thumbnail_img)("errorImage",a.utils.errorImg),o.Jb(2),o.Oc(t.type),o.Jb(2),o.Qc("",t.width," * ",t.height,""),o.Jb(2),o.Oc(o.oc(12,8,t.size)),o.Jb(3),o.Oc(t.created_at)}}const ya=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};let wa=(()=>{class t{constructor(t,e,i){this.dataService=t,this._sanitizer=e,this.utils=i,this.totalRecord=0,this.token=0,this.j=1,this.currentPage=1,this.pageSize=[25,50,75,100],this.selectedImageSize="50",this.previousLabel="<",this.nextLabel=">",this.units=["bytes","KB","MB","GB","TB","PB"],this.token=localStorage.getItem("at")}ngOnInit(){this.getAllImageDetails()}setPageSize(t){this.selectedImageSize=t,this.getAllImageDetails()}handlePageChange(t){this.currentPage=t,this.getAllImageDetails()}sortBy(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.getAllImageDetails()}getAllImageDetails(){this.utils.showPageLoader(),this.dataService.postData("getImageDetails",{item_count:this.selectedImageSize,page:this.currentPage,order_by:this.sortByTagName,order_type:this.order_type_val},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){var e=1;t.data.image_details.forEach(t=>{t.resolution=t.width+" * "+t.height,t.id=e,e++}),this.imageDetails=t.data.image_details,this.totalRecord=t.data.total_record,this.dataSource=new y.a(this.imageDetails),this.utils.hidePageLoader()}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}imageLoad(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(h.a),o.Vb(ma.b),o.Vb(s.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-imagedetails"]],decls:41,vars:13,consts:[[1,"row","img-det-card","h-53"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","transparent"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row"],[1,"col-md-12","mb-2","text-right"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-data"],[1,"imgae-details-card","table-body-new","mb-0"],[1,"table-body-new","p-0"],[1,"table"],[1,"text-center","width-90"],[1,"text-center",3,"click"],[4,"ngFor","ngForOf"],[1,"table-footer-new"],[1,"row",2,"background","#fff"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],[1,"placeholder-img",2,"left","unset","height","50px","width","50px"],[2,"height","50px","width","50px",3,"lazyLoad","errorImage","load"],[1,"text-center"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"ol",2),o.bc(3,"li",3),o.Nc(4,"Image Details"),o.ac(),o.ac(),o.ac(),o.bc(5,"div",4),o.bc(6,"nb-card"),o.bc(7,"nb-card-header",5),o.bc(8,"div",6),o.Nc(9),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(10,"div",7),o.bc(11,"div",8),o.bc(12,"nb-select",9),o.ic("selectedChange",(function(t){return e.selectedImageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),o.Lc(13,va,2,2,"nb-option",10),o.ac(),o.ac(),o.ac(),o.bc(14,"div",7),o.bc(15,"div",11),o.bc(16,"div",12),o.bc(17,"nb-card",13),o.bc(18,"nb-card-body",14),o.bc(19,"table",15),o.bc(20,"thead"),o.bc(21,"tr"),o.bc(22,"th",16),o.Nc(23,"#"),o.ac(),o.bc(24,"th"),o.Nc(25,"Image"),o.ac(),o.bc(26,"th",17),o.ic("click",(function(){return e.sortBy("type",1==e.order_type?"ASC":"DESC")})),o.Nc(27,"Type"),o.ac(),o.bc(28,"th",17),o.ic("click",(function(){return e.sortBy("width",1==e.order_type?"ASC":"DESC")})),o.Nc(29,"Resolution"),o.ac(),o.bc(30,"th",17),o.ic("click",(function(){return e.sortBy("size",1==e.order_type?"ASC":"DESC")})),o.Nc(31,"Size"),o.ac(),o.bc(32,"th",17),o.ic("click",(function(){return e.sortBy("created_at",1==e.order_type?"ASC":"DESC")})),o.Nc(33,"Created Time"),o.ac(),o.ac(),o.ac(),o.bc(34,"tbody"),o.Lc(35,xa,15,10,"tr",18),o.nc(36,"paginate"),o.ac(),o.ac(),o.ac(),o.bc(37,"nb-card-footer",19),o.bc(38,"div",20),o.bc(39,"div",21),o.bc(40,"pagination-controls",22),o.ic("pageChange",(function(t){return e.handlePageChange(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(9),o.Pc(" IMAGES: ",e.totalRecord," "),o.Jb(3),o.sc("selected",e.selectedImageSize),o.Jb(1),o.sc("ngForOf",e.pageSize),o.Jb(22),o.sc("ngForOf",o.pc(36,6,e.imageDetails,o.zc(9,ya,e.selectedImageSize,e.currentPage,e.totalRecord))),o.Jb(5),o.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[a.v,a.x,a.gb,m.m,a.u,a.w,w.c,a.Z,xt],pipes:[w.b,Ca],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.imgae-details-card[_ngcontent-%COMP%]{height:calc(100vh - 210px)}.table-bordered[_ngcontent-%COMP%]{border:1px solid #edf1f7!important}  table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.h-53[_ngcontent-%COMP%]{height:49px}  .table-header-new{border:none!important;height:50px!important}  .table-header-new th{border-right:1px solid #dee2e6;border-left:1px solid #dee2e6}  .width-90{width:90px!important}  .table-body-new td,   .table-body-new th{border-right:1px solid #dee2e6;border-left:1px solid #dee2e6}  .table-body-new td:first-child,   .table-body-new th:first-child{border-left:none!important;cursor:default!important}  .table-body-new td:nth-child(2),   .table-body-new th:nth-child(2){cursor:default!important}  .table-body-new td:last-child,   .table-body-new th:last-child{border-right:none!important}  .table-body-new th{border-bottom:none!important;cursor:pointer}  .table-body-new td{vertical-align:middle!important}  .table-body-new tbody tr:hover{background:#edf1f7}@media only screen and (max-width:600px){.img-det-card[_ngcontent-%COMP%]{height:94px}[_nghost-%COMP%]     table thead tr:first-child th{top:-5px!important}}"]}),t})();const Pa=["table"];let Ma=(()=>{class t{constructor(t,e,i){this.dataService=t,this.utils=e,this._sanitizer=i,this.totalRecord=0,this.keyDetails=[],this.keys_list=[],this.j=1,this.settings={selectMode:"multi",columns:{id:{title:"#",filter:!1,width:"75px",type:"text",sort:!1},key:{title:"Cache Key",type:"string"}},actions:{add:!1,position:"right",delete:!1,edit:!1},pager:{display:!1}},this.token=localStorage.getItem("at")}ngOnInit(){this.getAllKeys()}getRows(t){this.j=1}keyupEvent(t){this.j=1}getAllKeys(){this.keyDetails=[],this.j=1,this.utils.showPageLoader(),this.dataService.postData("getRedisKeys",{},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){this.totalRecord=t.data.keys_list.length;var e=1;for(let i=0;i<this.totalRecord;i++)this.keyDetails.push({key:t.data.keys_list[i],id:e}),e++;this.keyDetails=JSON.parse(JSON.stringify(this.keyDetails)),this.dataSource=new y.a(this.keyDetails),this.utils.hidePageLoader()}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}selectKeys(t){var e=document.querySelectorAll("tbody .ng2-smart-row").length;t.selected.length<e?this.table.isAllSelected=!1:t.selected.length==e&&(this.table.isAllSelected=!0),this.keys_list=[],t.selected.forEach(t=>{this.keys_list.push(t)})}removeKeys(){0==this.keys_list.length?this.utils.showError(b.b.SEL_CACHE_KEYS,4e3):this.utils.getConfirm().then(t=>{this.utils.showLoader(),this.dataService.postData("deleteRedisKeys",{keys_list:this.keys_list},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.table.isAllSelected=!1,this.utils.hideLoader(),this.getAllKeys(),this.utils.showSuccess(t.message,4e3)):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(h.a),o.Vb(s.a),o.Vb(ma.b))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-rediscache"]],viewQuery:function(t,e){var i;1&t&&o.Rc(Pa,!0),2&t&&o.Ac(i=o.jc())&&(e.table=i.first)},decls:20,vars:3,consts:[[1,"row","h-53"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row"],[1,"col-md-12"],[1,"table-redis-data"],[1,"mb-0"],[3,"settings","source","click","userRowSelect","keydown"],["table",""],[1,"row","mt-2"],[1,"col-md-12","text-right"],[1,"btn","btn-delete",3,"click"],["icon","trash-2-outline"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"ol",2),o.bc(3,"li",3),o.Nc(4,"Redis Cache"),o.ac(),o.ac(),o.ac(),o.bc(5,"div",4),o.bc(6,"nb-card"),o.bc(7,"nb-card-header",5),o.bc(8,"div",6),o.Nc(9),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(10,"div",7),o.bc(11,"div",8),o.bc(12,"div",9),o.bc(13,"nb-card",10),o.bc(14,"ng2-smart-table",11,12),o.ic("click",(function(t){return e.getRows(t)}))("userRowSelect",(function(t){return e.selectKeys(t)}))("keydown",(function(t){return e.keyupEvent(t)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(16,"div",13),o.bc(17,"div",14),o.bc(18,"button",15),o.ic("click",(function(){return e.removeKeys()})),o.Wb(19,"nb-icon",16),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(9),o.Pc(" KEYS: ",e.totalRecord," "),o.Jb(5),o.sc("settings",e.settings)("source",e.dataSource))},directives:[a.v,a.x,y.b,a.J],styles:["ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}.table-redis-data[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-y:scroll}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}[_nghost-%COMP%]     .ng2-smart-action-multiple-select>input, [_nghost-%COMP%]     .ng2-smart-titles th>input{width:25px;height:25px;display:unset}[_nghost-%COMP%]     .ng2-smart-titles th:first-child{text-align:center}.btn-delete[_ngcontent-%COMP%]{background:red;border-radius:50%;color:#fff;padding:10px 12px}.btn-delete[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:27px!important}  .table-redis-data ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-redis-data ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-redis-data ng2-smart-table table thead tr:first-child th:first-child{width:89px!important}  .table-redis-data ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:55px!important;background:#fff;z-index:1}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.h-53[_ngcontent-%COMP%]{height:49px!important}@media only screen and (max-width:600px){.table-redis-data[_ngcontent-%COMP%]{margin-top:44px}}"]}),t})();function Oa(t,e){1&t&&(o.bc(0,"h5",13),o.Nc(1,"Update Server URL"),o.ac())}function ka(t,e){1&t&&(o.bc(0,"h5",13),o.Nc(1,"Add New Server URL"),o.ac())}function Ea(t,e){if(1&t){const t=o.cc();o.bc(0,"button",14),o.ic("click",(function(){return o.Dc(t),o.mc().addUrl()})),o.Nc(1,"Add"),o.ac()}}function Sa(t,e){if(1&t){const t=o.cc();o.bc(0,"button",14),o.ic("click",(function(){return o.Dc(t),o.mc().addUrl()})),o.Nc(1,"Update"),o.ac()}}let Ia=(()=>{class t{constructor(t,e,i,a){this.validService=t,this.utils=e,this.dataService=i,this.dialogRef=a,this.errormsg=b.b,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.serverData&&(this.urlName=this.serverData.server_url)}closedialog(){this.dialogRef.close({res:""})}checkValidation(t,e,i,a,n,o){this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"Catedit",successArr:["editUrlInput"]}}),"blank"!=o&&this.addUrl()}addUrl(){var t,e;this.validService.checkAllValid([{id:"editUrlInput",errorId:"inputUrlError",type:"",blank_msg:b.b.SERVER_URL_EMPTY,type_msg:""}])&&(this.serverData?(e={server_url_id:this.serverData.server_url_id,server_url:this.urlName},t="updateServerUrl"):(e={server_url:this.urlName},t="addServerUrl"),this.dataService.postData(t,e,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("inputUrlError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(p.a),o.Vb(s.a),o.Vb(h.a),o.Vb(a.F))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addserverurl"]],decls:17,vars:6,consts:[[1,"server-add-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter new server URL here","id","editUrlInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputUrlError",2,"color","red","margin-bottom","0px","margin-top","4px","height","30px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","Catedit",3,"click",4,"ngIf"],[1,"text-center"],["id","Catedit",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.Lc(2,Oa,2,0,"h5",2),o.Lc(3,ka,2,0,"h5",2),o.bc(4,"i",3),o.ic("click",(function(){return e.closedialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"label",6),o.Nc(9,"Server Url"),o.ac(),o.ac(),o.bc(10,"div",7),o.bc(11,"div",8),o.bc(12,"input",9),o.ic("ngModelChange",(function(t){return e.urlName=t}))("keyup",(function(){return e.checkValidation("editUrlInput","alpha","inputUrlError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("editUrlInput","alpha","inputUrlError",e.errormsg.SERVER_URL_EMPTY,"","usual")})),o.ac(),o.Wb(13,"p",10),o.ac(),o.ac(),o.ac(),o.bc(14,"div",11),o.Lc(15,Ea,2,0,"button",12),o.Lc(16,Sa,2,0,"button",12),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",e.serverData),o.Jb(1),o.sc("ngIf",!e.serverData),o.Jb(9),o.sc("ngModel",e.urlName),o.Kb("valid-status",!!e.serverData),o.Jb(3),o.sc("ngIf",!e.serverData),o.Jb(1),o.sc("ngIf",e.serverData))},directives:[a.v,a.x,m.n,a.u,a.M,u.c,u.n,u.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.server-add-card[_ngcontent-%COMP%]{width:413px!important}@media only screen and (max-width:600px){.server-add-card[_ngcontent-%COMP%]{width:100%!important}}"]}),t})();function La(t,e){1&t&&(o.bc(0,"h5",26),o.Nc(1,"Add Validation"),o.ac())}function Ra(t,e){1&t&&(o.bc(0,"h5",26),o.Nc(1,"Update Validation"),o.ac())}function Ta(t,e){if(1&t&&(o.bc(0,"nb-option",27),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t.category_id),o.Jb(1),o.Oc(t.name)}}function Da(t,e){if(1&t){const t=o.cc();o.bc(0,"button",28),o.ic("click",(function(){return o.Dc(t),o.mc().addValidation()})),o.Nc(1,"Add"),o.ac()}}function Na(t,e){if(1&t){const t=o.cc();o.bc(0,"button",28),o.ic("click",(function(){return o.Dc(t),o.mc().addValidation()})),o.Nc(1,"Update"),o.ac()}}let za=(()=>{class t{constructor(t,e,i,a){this.dataService=t,this.utils=e,this.validService=i,this.dialogRef=a,this.selectedCategory="none",this.errormsg=b.b,this.validSelectCatalog=0,this.validSelectCover=0,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}ngOnInit(){this.validationsData&&(this.selectedCategory=this.validationsData.category_id.toString(),this.validName=this.validationsData.validation_name,this.validValue=this.validationsData.max_value_of_validation,this.validSelectCatalog=this.validationsData.is_featured,this.validSelectCover=this.validationsData.is_catalog,this.validDescrip=this.validationsData.description)}closeDialog(){this.dialogRef.close({res:""})}checkCategValid(){if(null!=this.selectedCategory&&"none"!=this.selectedCategory)return document.getElementById("selectCategoryError").innerHTML="",!0;document.getElementById("selectCategoryError").innerHTML=b.b.VALIDATION_SEL_CAT}checkValidation(t,e,i,a,n,o){document.getElementById("valiaddError").innerHTML="",this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"validAdd",successArr:["validNameInput","ValueInput","descripText"]}}),"blank"!=o&&this.addValidation()}addValidation(){var t,e,i=this.validService.checkAllValid([{id:"validNameInput",errorId:"validInputError",type:"",blank_msg:b.b.VALIDATION_NAME_EMPTY,type_msg:""},{id:"ValueInput",errorId:"valueInputError",type:"",blank_msg:b.b.VALIDATION_VALUE_EMPTY,type_msg:""},{id:"descripText",errorId:"descipTextError",type:"",blank_msg:b.b.VALIDATION_DESCRIP_EMPTY,type_msg:""}]),a=this.checkCategValid();i&&a&&(this.utils.showLoader(),this.validationsData?(t={setting_id:this.validationsData.setting_id,category_id:this.selectedCategory,validation_name:this.validName,max_value_of_validation:this.validValue,is_featured:this.validSelectCatalog?1:0,is_catalog:this.validSelectCover?1:0,description:this.validDescrip},e="editValidation"):(t={category_id:this.selectedCategory,validation_name:this.validName,max_value_of_validation:this.validValue,is_featured:this.validSelectCatalog?1:0,is_catalog:this.validSelectCover?1:0,description:this.validDescrip},e="addValidation"),this.dataService.postData(e,t,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.utils.hideLoader(),this.dialogRef.close({res:"add"}),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("valiaddError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(h.a),o.Vb(s.a),o.Vb(p.a),o.Vb(a.F))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-addvalidations"]],decls:54,vars:14,consts:[[1,"validation-card","mb-0"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"pb-0"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["id","selectCategory",1,"mw-100",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["id","selectCategoryError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["type","text","nbInput","","placeholder","Enter validation name","id","validNameInput",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","validInputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["type","number","nbInput","","placeholder","E.g. 1024","id","ValueInput",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","valueInputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["nbInput","","placeholder","Enter description","id","descripText",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","descipTextError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"col-md-8","pr-0"],["type","checkbox","value","1",1,"option-input-valid",3,"ngModel","ngModelChange"],[1,"row","mb-2"],[1,"p-0"],[1,"form-group","text-center"],["id","valiaddError",2,"color","red","margin-bottom","2px","margin-top","4px","height","20px"],["class","btn btn-primary w-50 mr-2","id","validAdd",3,"click",4,"ngIf"],[1,"text-center"],[3,"value"],["id","validAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"nb-card",0),o.bc(1,"nb-card-header",1),o.Lc(2,La,2,0,"h5",2),o.Lc(3,Ra,2,0,"h5",2),o.bc(4,"i",3),o.ic("click",(function(){return e.closeDialog()})),o.ac(),o.ac(),o.bc(5,"nb-card-body",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"label",7),o.Nc(9,"Category Id"),o.ac(),o.ac(),o.bc(10,"div",8),o.bc(11,"div",9),o.bc(12,"nb-select",10),o.ic("selectedChange",(function(t){return e.selectedCategory=t}))("selectedChange",(function(){return e.checkCategValid()})),o.Lc(13,Ta,2,2,"nb-option",11),o.ac(),o.Wb(14,"p",12),o.ac(),o.ac(),o.ac(),o.bc(15,"div",5),o.bc(16,"div",6),o.bc(17,"label",7),o.Nc(18,"Validation Name"),o.ac(),o.ac(),o.bc(19,"div",8),o.bc(20,"div",9),o.bc(21,"input",13),o.ic("ngModelChange",(function(t){return e.validName=t}))("keyup",(function(){return e.checkValidation("validNameInput","","validInputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("validNameInput","","validInputError",e.errormsg.VALIDATION_NAME_EMPTY,"","usual")})),o.ac(),o.Wb(22,"p",14),o.ac(),o.ac(),o.ac(),o.bc(23,"div",5),o.bc(24,"div",6),o.bc(25,"label",7),o.Nc(26,"Validation Value"),o.ac(),o.ac(),o.bc(27,"div",8),o.bc(28,"div",9),o.bc(29,"input",15),o.ic("ngModelChange",(function(t){return e.validValue=t}))("keyup",(function(){return e.checkValidation("ValueInput","","valueInputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("ValueInput","","valueInputError",e.errormsg.VALIDATION_VALUE_EMPTY,"","usual")})),o.ac(),o.Wb(30,"p",16),o.ac(),o.ac(),o.ac(),o.bc(31,"div",5),o.bc(32,"div",6),o.bc(33,"label",7),o.Nc(34,"Description"),o.ac(),o.ac(),o.bc(35,"div",8),o.bc(36,"div",9),o.bc(37,"textarea",17),o.ic("ngModelChange",(function(t){return e.validDescrip=t}))("keyup",(function(){return e.checkValidation("descripText","","descipTextError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("descripText","","descipTextError",e.errormsg.VALIDATION_DESCRIP_EMPTY,"","usual")})),o.ac(),o.Wb(38,"p",18),o.ac(),o.ac(),o.ac(),o.bc(39,"div",5),o.bc(40,"div",19),o.bc(41,"label",7),o.bc(42,"input",20),o.ic("ngModelChange",(function(t){return e.validSelectCatalog=t})),o.ac(),o.Nc(43,"For Featured Catalog?"),o.ac(),o.ac(),o.ac(),o.bc(44,"div",21),o.bc(45,"div",19),o.bc(46,"label",7),o.bc(47,"input",20),o.ic("ngModelChange",(function(t){return e.validSelectCover=t})),o.ac(),o.Nc(48,"For Catalog Cover Image?"),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(49,"nb-card-footer",22),o.bc(50,"div",23),o.Wb(51,"p",24),o.Lc(52,Da,2,0,"button",25),o.Lc(53,Na,2,0,"button",25),o.ac(),o.ac(),o.ac()),2&t&&(o.Jb(2),o.sc("ngIf",!e.validationsData),o.Jb(1),o.sc("ngIf",e.validationsData),o.Jb(9),o.sc("selected",e.selectedCategory),o.Jb(1),o.sc("ngForOf",e.categoryData),o.Jb(8),o.sc("ngModel",e.validName),o.Kb("valid-status",!!e.validationsData),o.Jb(8),o.sc("ngModel",e.validValue),o.Kb("valid-status",!!e.validationsData),o.Jb(8),o.sc("ngModel",e.validDescrip),o.Kb("valid-status",!!e.validationsData),o.Jb(5),o.sc("ngModel",e.validSelectCatalog),o.Jb(5),o.sc("ngModel",e.validSelectCover),o.Jb(5),o.sc("ngIf",!e.validationsData),o.Jb(1),o.sc("ngIf",e.validationsData))},directives:[a.v,a.x,m.n,a.u,a.gb,m.m,a.M,u.c,u.n,u.q,u.s,u.a,a.w,a.Z],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.validation-card[_ngcontent-%COMP%]{width:515px;height:calc(100vh - 159px)}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.mw-100[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.option-input-valid[_ngcontent-%COMP%]{margin-right:5px;zoom:1.7;vertical-align:middle}@media only screen and (max-width:600px){.validation-card[_ngcontent-%COMP%]{width:100%}}"]}),t})();var Va=i("w9rV");function Ja(t,e){if(1&t&&(o.bc(0,"nb-option",57),o.Nc(1),o.ac()),2&t){const t=e.$implicit;o.tc("value",t),o.Jb(1),o.Oc(t)}}function Aa(t,e){1&t&&(o.bc(0,"div",58),o.bc(1,"p",59),o.Nc(2," if "),o.bc(3,"span",60),o.Nc(4,'"For Featured Catalog = false" & "For Catalog Cover Image" = false'),o.ac(),o.ac(),o.bc(5,"p",61),o.Nc(6,"\xa0-"),o.bc(7,"span",60),o.Nc(8,'"For Featured Catalog" = false'),o.ac(),o.Nc(9,": Will be applied on the content of the normal catalog of this category"),o.ac(),o.bc(10,"p",62),o.Nc(11,"\xa0-"),o.bc(12,"span",60),o.Nc(13,'"For Catalog Cover Image" = false'),o.ac(),o.Nc(14,": Will not apply on the cover image of the catalog."),o.ac(),o.ac(),o.bc(15,"div",58),o.bc(16,"p",59),o.Nc(17," if "),o.bc(18,"span",60),o.Nc(19,'"For Featured Catalog = false" & "For Catalog Cover Image" = true'),o.ac(),o.ac(),o.bc(20,"p",61),o.Nc(21,"\xa0-"),o.bc(22,"span",60),o.Nc(23,'"For Featured Catalog" = false'),o.ac(),o.Nc(24,": Will be applied on the cover image of the normal catalog of this category"),o.ac(),o.bc(25,"p",61),o.Nc(26,"\xa0-"),o.bc(27,"span",60),o.Nc(28,'"For Catalog Cover Image" = true'),o.ac(),o.Nc(29,": Will be applied on the cover image of the catalog"),o.ac(),o.ac(),o.bc(30,"div",58),o.bc(31,"p",59),o.Nc(32," if "),o.bc(33,"span",60),o.Nc(34,'"For Featured Catalog" = true & "For Catalog Cover Image" = false'),o.ac(),o.ac(),o.bc(35,"p",61),o.Nc(36,"\xa0-"),o.bc(37,"span",60),o.Nc(38,'"For Featured Catalog" = true'),o.ac(),o.Nc(39,": Will be applied on the content of the featured catalog of this category"),o.ac(),o.bc(40,"p",61),o.Nc(41,"\xa0-"),o.bc(42,"span",60),o.Nc(43,'"For Catalog Cover Image" = false'),o.ac(),o.Nc(44,": Will not apply on the cover image of the catalog "),o.ac(),o.ac(),o.bc(45,"div",58),o.bc(46,"p",59),o.Nc(47," if "),o.bc(48,"span",60),o.Nc(49,'"For Featured Catalog = true" & "For Catalog Cover Image = true"'),o.ac(),o.ac(),o.bc(50,"p",61),o.Nc(51,"\xa0-"),o.bc(52,"span",60),o.Nc(53,'"For Featured Catalog" = true'),o.ac(),o.Nc(54,": Will be applied on the cover image of the featured catalog of this category"),o.ac(),o.bc(55,"p",61),o.Nc(56,"\xa0-"),o.bc(57,"span",60),o.Nc(58,'"For Catalog Cover Image" = true'),o.ac(),o.Nc(59,": Will be applied on the cover image of the catalog "),o.ac(),o.ac())}function Fa(t,e){if(1&t){const t=o.cc();o.bc(0,"tr",63),o.bc(1,"td"),o.Nc(2),o.ac(),o.bc(3,"td"),o.Nc(4),o.ac(),o.bc(5,"td"),o.Nc(6),o.ac(),o.bc(7,"td"),o.Nc(8),o.ac(),o.bc(9,"td",54),o.bc(10,"input",64),o.ic("ngModelChange",(function(i){return o.Dc(t),e.$implicit.is_featured=i})),o.ac(),o.ac(),o.bc(11,"td",54),o.bc(12,"input",64),o.ic("ngModelChange",(function(i){return o.Dc(t),e.$implicit.is_catalog=i})),o.ac(),o.ac(),o.bc(13,"td"),o.Nc(14),o.ac(),o.bc(15,"td",65),o.bc(16,"i",66),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc(2).editValidation(i)})),o.ac(),o.bc(17,"i",67),o.ic("click",(function(){o.Dc(t);const i=e.$implicit;return o.mc(2).deleteValidation(i)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit,i=e.index;o.Jb(2),o.Oc(i+1),o.Jb(2),o.Oc(t.category_id),o.Jb(2),o.Oc(t.validation_name),o.Jb(2),o.Pc(" ",t.max_value_of_validation," KB "),o.Jb(2),o.sc("ngModel",t.is_featured),o.Jb(2),o.sc("ngModel",t.is_catalog),o.Jb(2),o.Pc("",t.description," ")}}function Ba(t,e){1&t&&(o.bc(0,"td",69),o.bc(1,"h6",70),o.Nc(2,"No data found"),o.ac(),o.ac())}function Wa(t,e){if(1&t&&(o.bc(0,"tr"),o.Lc(1,Ba,3,0,"td",68),o.ac()),2&t){const t=o.mc(2);o.Jb(1),o.sc("ngIf",0==t.validationsList.length)}}function Ha(t,e){if(1&t){const t=o.cc();o.bc(0,"div",5),o.bc(1,"nb-tabset"),o.bc(2,"nb-tab",6),o.bc(3,"div",7),o.bc(4,"div",8),o.bc(5,"nb-card"),o.bc(6,"nb-card-header",9),o.Nc(7,"Change Password"),o.ac(),o.bc(8,"nb-card-body"),o.bc(9,"div",10),o.bc(10,"nb-form-field",11),o.bc(11,"nb-icon",12),o.ic("click",(function(){return o.Dc(t),o.mc().passwordToggle(1)})),o.ac(),o.bc(12,"input",13),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().curPass=e}))("keyup",(function(){return o.Dc(t),o.mc().checkValidation("curInput","","curPassError","","","blank")}))("keyup.enter",(function(){o.Dc(t);const e=o.mc();return e.checkValidation("curInput","","curPassError",e.errormsg.CURR_PASSWORD,"","usual")})),o.ac(),o.ac(),o.Wb(13,"p",14),o.ac(),o.bc(14,"div",10),o.bc(15,"nb-form-field",11),o.bc(16,"nb-icon",12),o.ic("click",(function(){return o.Dc(t),o.mc().passwordToggle(2)})),o.ac(),o.bc(17,"input",15),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().newPass=e}))("keyup",(function(){return o.Dc(t),o.mc().checkValidation("newInput","password","newPassError","","","blank")}))("keyup.enter",(function(){o.Dc(t);const e=o.mc();return e.checkValidation("newInput","password","newPassError",e.errormsg.NEW_PASSWORD,e.errormsg.INVALIDCHANGE_PASS,"usual")})),o.ac(),o.ac(),o.Wb(18,"p",16),o.ac(),o.bc(19,"div",10),o.bc(20,"nb-form-field",11),o.bc(21,"nb-icon",12),o.ic("click",(function(){return o.Dc(t),o.mc().passwordToggle(3)})),o.ac(),o.bc(22,"input",17),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().cnewPass=e}))("keyup",(function(){return o.Dc(t),o.mc().checkValidation("cnewInput","password","cnewPassError","","","blank")}))("keyup.enter",(function(){o.Dc(t);const e=o.mc();return e.checkValidation("cnewInput","password","cnewPassError",e.errormsg.RE_PASSWORD,e.errormsg.INVALIDCHANGE_PASS,"usual")})),o.ac(),o.ac(),o.Wb(23,"p",18),o.ac(),o.bc(24,"div",19),o.Wb(25,"p",20),o.bc(26,"button",21),o.ic("click",(function(){return o.Dc(t),o.mc().changePassword()})),o.Nc(27,"Save"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(28,"nb-tab",22),o.bc(29,"div",7),o.bc(30,"div",8),o.bc(31,"nb-card"),o.bc(32,"nb-card-header",9),o.Nc(33,"2-Factor Authentication"),o.ac(),o.bc(34,"nb-card-body"),o.bc(35,"div",23),o.bc(36,"input",24),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().enableChecked=e}))("change",(function(){return o.Dc(t),o.mc().twoFaOPeration("yes")})),o.ac(),o.bc(37,"input",25),o.ic("ngModelChange",(function(e){return o.Dc(t),o.mc().enableChecked=e}))("change",(function(){return o.Dc(t),o.mc().twoFaOPeration("no")})),o.ac(),o.bc(38,"div",26),o.bc(39,"label",27),o.Nc(40,"Enabled"),o.ac(),o.bc(41,"label",28),o.Nc(42,"Disabled"),o.ac(),o.Wb(43,"span"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(44,"nb-tab",29),o.bc(45,"div",0),o.bc(46,"div",30),o.bc(47,"nb-select",31),o.ic("selectedChange",(function(e){return o.Dc(t),o.mc().serverSelectedPageSize=e}))("selectedChange",(function(e){return o.Dc(t),o.mc().setserverPageSize(e)})),o.Lc(48,Ja,2,2,"nb-option",32),o.ac(),o.bc(49,"button",33),o.ic("click",(function(){return o.Dc(t),o.mc().addServerUrl()})),o.Nc(50,"Add New Server URL"),o.ac(),o.ac(),o.bc(51,"div",34),o.bc(52,"nb-card",35),o.bc(53,"nb-card-header",9),o.Nc(54," Statistics Server List "),o.ac(),o.bc(55,"nb-card-body",36),o.bc(56,"ng2-smart-table",37),o.ic("edit",(function(e){return o.Dc(t),o.mc().editServerUrl(e)}))("delete",(function(e){return o.Dc(t),o.mc().deleteServerURl(e)}))("rowSelect",(function(e){return o.Dc(t),o.mc().getserverRows(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(57,"nb-tab",38),o.bc(58,"div",39),o.bc(59,"div",40),o.bc(60,"button",41),o.ic("click",(function(){return o.Dc(t),o.mc().addValidations()})),o.Nc(61,"Add Validation"),o.ac(),o.ac(),o.ac(),o.bc(62,"nb-card",42),o.bc(63,"nb-card-body",43),o.bc(64,"div",44),o.bc(65,"table",45),o.bc(66,"thead"),o.bc(67,"tr",46),o.bc(68,"th"),o.Nc(69,"#"),o.ac(),o.bc(70,"th"),o.bc(71,"span",47),o.Nc(72,"Category ID"),o.ac(),o.ac(),o.bc(73,"th"),o.bc(74,"span",48),o.Nc(75,"Validation Name"),o.ac(),o.ac(),o.bc(76,"th"),o.bc(77,"span",49),o.Nc(78,"Value(KB)"),o.ac(),o.ac(),o.Lc(79,Aa,60,0,"ng-template",null,50,o.Mc),o.bc(81,"th",51),o.Nc(82,"For Featured Catalog?"),o.ac(),o.bc(83,"th",52),o.Nc(84,"For Catalog Cover Image?"),o.ac(),o.bc(85,"th",53),o.Nc(86,"Description"),o.ac(),o.bc(87,"th",54),o.Nc(88,"Action"),o.ac(),o.ac(),o.ac(),o.bc(89,"tbody"),o.Lc(90,Fa,18,7,"tr",55),o.Lc(91,Wa,2,1,"tr",56),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.Bc(80),e=o.mc();o.Jb(11),o.sc("icon",e.curPassType?"eye-off-2-outline":"eye-outline"),o.Jb(1),o.sc("type",e.curPassType?"text":"password")("ngModel",e.curPass),o.Jb(4),o.sc("icon",e.newPassType?"eye-off-2-outline":"eye-outline"),o.Jb(1),o.sc("type",e.newPassType?"text":"password")("ngModel",e.newPass),o.Jb(4),o.sc("icon",e.cnewPassType?"eye-off-2-outline":"eye-outline"),o.Jb(1),o.sc("type",e.cnewPassType?"text":"password")("ngModel",e.cnewPass),o.Jb(14),o.sc("ngModel",e.enableChecked),o.Jb(1),o.sc("ngModel",e.enableChecked),o.Jb(10),o.sc("selected",e.serverSelectedPageSize),o.Jb(1),o.sc("ngForOf",e.serverPageSize),o.Jb(8),o.sc("settings",e.settings)("source",e.serverDataSource),o.Jb(25),o.sc("nbPopover",t),o.Jb(2),o.sc("nbPopover",t),o.Jb(7),o.sc("ngForOf",e.validationsList),o.Jb(1),o.sc("ngIf",e.validationsList)}}const ja=[{path:"",component:g,children:[{path:"",component:O},{path:"categories",component:O},{path:"categories/:categoryId",component:Tt},{path:"categories/:categoryId/:subCategoryName/:subCategoryId",component:fe},{path:"categories/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Pi},{path:"fonts/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Li},{path:"popular/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Hi},{path:"blog-list/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:aa},{path:"statistics",component:_a},{path:"image-details",component:wa},{path:"redis-cache",component:Ma},{path:"settings",component:(()=>{class t{constructor(t,e,i,a,n,o){this._sanitizer=t,this.dialog=e,this.validService=i,this.dataService=a,this.utils=n,this.route=o,this.j=1,this.cnt=1,this.errormsg=b.b,this.lgRep={},this.enableChecked="no",this.validPageSize=[25,50,75,100],this.serverPageSize=[25,50,75,100],this.validSelectedPageSize="50",this.serverSelectedPageSize="50",this.settings={mode:"external",edit:{editButtonContent:'<i class="nb-edit" title="Edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash" title="Delete"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number",width:"75px",editable:!1,filter:!1,hideHeader:!0,sort:!1,valuePrepareFunction:t=>this.j++},server_url:{title:"Server URL",type:"html",filter:!1,hideHeader:!0},api_url:{title:"API URL",type:"html",filter:!1,hideHeader:!0,editable:!1}},actions:{add:!1,position:"right",delete:!0,edit:!0,pager:!0,filter:!1},pager:{perPage:parseInt(this.serverSelectedPageSize)},hideSubHeader:!0},this.token=localStorage.getItem("at")}setserverPageSize(t){this.j=1,this.serverSelectedPageSize=t,this.settings.pager.perPage=parseInt(this.serverSelectedPageSize),this.serverDataSource.setPaging(this.serverDataSource.getPaging().page,parseInt(this.serverSelectedPageSize),!0)}getRows(t){this.cnt=1}getserverRows(t){this.j=1}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.lgRep=JSON.parse(localStorage.getItem("admin_detail")),this.lgRep.google2fa_enable&&0!=this.lgRep.google2fa_enable&&0!=this.lgRep.google2fa_enable?(this.showTabs=!1,this.enableChecked="yes",this.openOTPDialog(this.lgRep,"change-pwd")):(this.showTabs=!0,this.getServerStatistics(),this.getValidationList())})}passwordToggle(t){1==t?this.curPassType=!this.curPassType:2==t?this.newPassType=!this.newPassType:this.cnewPassType=!this.cnewPassType}twoFaOPeration(t){"yes"==t?this.dataService.postData("enable2faByAdmin",{},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{if(200==t.code){if(this.utils.hideLoader(),t.data&&t.data.google2fa_url){this.lgRep.google2fa_enable=1,this.lgRep.google2fa_secret=t.data.google2fa_secret,this.lgRep.shouldNavigate=!0;let e={admin_detail:this.lgRep,occuredFrom:"enable2fa"};this.utils.enable2FaStatus="enable",this.utils.otpdata=e,this.utils.qrcodeUrl=t.data.google2fa_url,this.route.navigate(["/"]),localStorage.removeItem("at"),localStorage.removeItem("admin_detail"),this.utils.showSuccess(t.message,4e3)}}else 201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}):this.openOTPDialog(this.lgRep,"disable2fa")}openOTPDialog(t,e){t.shouldNavigate=!1,this.dialog.open(Va.a,{closeOnBackdropClick:!1,closeOnEsc:!1,context:{adminData:{admin_detail:t,occuredFrom:e}}}).onClose.subscribe(t=>{"add"==t.res?(this.showTabs=!0,this.getServerStatistics(),this.getValidationList()):this.enableChecked="yes"})}checkValidation(t,e,i,a,n,o){document.getElementById("changePassError").innerHTML="",this.validService.checkValid({id:t,errorId:i,type:e,blank_msg:a,type_msg:n,button_check:{button_id:"btnChaPass",successArr:["curInput","newInput","cnewInput"]}}),"blank"!=o&&this.changePassword()}changePassword(){this.validService.checkAllValid([{id:"curInput",errorId:"curPassError",type:"",blank_msg:b.b.CURR_PASSWORD,type_msg:""},{id:"newInput",errorId:"newPassError",type:"password",blank_msg:b.b.NEW_PASSWORD,type_msg:b.b.INVALIDCHANGE_PASS},{id:"cnewInput",errorId:"cnewPassError",type:"",blank_msg:b.b.RE_PASSWORD,type_msg:""}])&&(this.newPass!=this.cnewPass?document.getElementById("changePassError").innerHTML=b.b.MISSMATCH_PASSWORD:(this.utils.showLoader(),this.dataService.postData("changePassword",{current_password:this.curPass,new_password:this.newPass},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(t.data&&t.data.token&&(this.token=t.data.token,localStorage.setItem("at",t.data.token)),this.curPass="",this.newPass="",this.cnewPass="",this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("changePassError").innerHTML=t.message,this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})))}getServerStatistics(){this.utils.showPageLoader(),this.dataService.postData("getAllServerUrls",{},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.statisticsList=t.data.result,this.serverDataSource=new y.a(this.statisticsList),this.utils.hidePageLoader(),this.serverSelectedPageSize="50"):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}editServerUrl(t){this.openServer(!1,t.data)}addServerUrl(){this.openServer(!1,"")}openServer(t,e){this.dialog.open(Ia,{closeOnBackdropClick:t,closeOnEsc:!1,context:{serverData:e}}).onClose.subscribe(t=>{"add"==t.res&&this.getServerStatistics()})}deleteServerURl(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteServerUrl",{server_url_id:t.data.server_url_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.j=1,this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getServerStatistics()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}getValidationList(){this.utils.showPageLoader(),this.dataService.postData("getAllValidationsForAdmin",{},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.validationsList=t.data.result,this.categoryList=t.data.category_list,this.categoryList.unshift({category_id:0,name:"Default"}),this.categoryList.unshift({category_id:"none",name:"Select Category"}),this.utils.hidePageLoader()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hidePageLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hidePageLoader()):(this.utils.showError(t.message,4e3),this.utils.hidePageLoader())},t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hidePageLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})}addValidations(){this.open(!1,"",this.categoryList)}editValidation(t){this.open(!1,t,this.categoryList)}open(t,e,i){this.dialog.open(za,{closeOnBackdropClick:t,closeOnEsc:!1,context:{validationsData:e,categoryData:i}}).onClose.subscribe(t=>{"add"==t.res&&(this.cnt=1,this.getValidationList())})}deleteValidation(t){this.utils.getConfirm().then(e=>{this.utils.showLoader(),this.dataService.postData("deleteValidation",{setting_id:t.setting_id},{headers:{Authorization:"Bearer "+this.token}}).then(t=>{200==t.code?(this.cnt=1,this.utils.hideLoader(),this.utils.showSuccess(t.message,4e3),this.getValidationList()):201==t.code?(this.utils.showError(t.message,4e3),this.utils.hideLoader()):t.status||0==t.status?(this.utils.showError(b.b.SERVER_ERR,4e3),this.utils.hideLoader()):(this.utils.showError(t.message,4e3),this.utils.hideLoader())},t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)}).catch(t=>{console.log(t),this.utils.hideLoader(),this.utils.showError(b.b.SERVER_ERR,4e3)})})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(ma.b),o.Vb(a.G),o.Vb(p.a),o.Vb(h.a),o.Vb(s.a),o.Vb(c.c))},t.\u0275cmp=o.Pb({type:t,selectors:[["ngx-settings"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],["class","tab-settings",4,"ngIf"],[1,"tab-settings"],["tabTitle","Change Password",2,"height","calc(100vh - 209px)","overflow","hidden"],[1,"row","change-card",2,"height","100vh"],[1,"col-md-6","change-card-content"],[1,"header-text"],[1,"form-group"],[1,"mw-100"],["nbSuffix","","pack","eva",3,"icon","click"],["id","curInput","valid-status","false","placeholder","Enter current password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","curPassError",1,"text-danger","mt-1",2,"height","14px"],["id","newInput","valid-status","false","placeholder","Enter New password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","newPassError",1,"text-danger","mt-1",2,"height","14px"],["id","cnewInput","valid-status","false","placeholder","Re-enter your new password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","cnewPassError",1,"text-danger","mt-1","mb-0",2,"height","14px"],[1,"form-group","mt-2"],["id","changePassError",1,"text-danger","mt-1","mb-1","text-center",2,"height","27px"],["id","btnChaPass",1,"btn","bg-primary","text-light","w-100",3,"click"],["tabTitle","2FA",2,"height","calc(100vh - 209px)","overflow","hidden"],[1,"toggle-radio"],["type","radio","name","rdo","id","yes","value","yes",3,"ngModel","ngModelChange","change"],["type","radio","name","rdo","id","no","value","no",3,"ngModel","ngModelChange","change"],[1,"switch"],["for","yes"],["for","no"],["tabTitle","Server List"],[1,"col-md-12","mb-2","text-right"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","bg-primary","ml-2","text-light",3,"click"],[1,"col-md-12"],[1,"server-card","mb-0"],[1,"server-table","p-0"],[3,"settings","source","edit","delete","rowSelect"],["tabTitle","Validation configs"],[1,"row","mb-2"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","text-light","ml-3",3,"click"],[1,"validation-config-card","mb-0"],[1,"pt-0","pl-0","pr-0"],[1,"table-header"],[1,"table","mb-0"],[1,"table-inverse","table-body-td"],["nbTooltip","The category on which the validation should be applied.","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["nbTooltip","Name of the validation(only for admin's knowledge)","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["nbTooltip","Maximum value for validation in KB","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["validationTooltip",""],["nbPopoverTrigger","hover","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"text-center",3,"nbPopover"],["nbPopoverTrigger","hover","nbTooltipStatus","primary",1,"text-center",3,"nbPopover"],["nbTooltip","Description of validation(only for admin's knowledge)","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],[1,"text-center"],["class","table-body-td",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"text-left",2,"background","#3366FF","padding","10px"],[1,"m-0",2,"border-bottom","1px solid #f7f7f7","color","#fff"],[2,"font-weight","500"],[1,"m-0",2,"color","#fff"],[1,"mb-1",2,"color","#fff"],[1,"table-body-td"],["type","checkbox","disabled","",2,"height","29px","width","66px",3,"ngModel","ngModelChange"],[1,"text-center","valid-action-icon","p-2"],["title","Edit",1,"nb-edit",3,"click"],["title","Delete",1,"nb-trash",3,"click"],["colspan","8",4,"ngIf"],["colspan","8"],[1,"m-0","font-weight-bold","text-center"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"ol",2),o.bc(3,"li",3),o.Nc(4,"Settings"),o.ac(),o.ac(),o.ac(),o.ac(),o.Lc(5,Ha,92,19,"div",4)),2&t&&(o.Jb(5),o.sc("ngIf",e.showTabs))},directives:[m.n,a.ob,a.nb,a.v,a.x,a.u,a.H,a.J,a.lb,a.M,u.c,u.n,u.q,u.u,a.gb,m.m,y.b,a.sb,a.ab,a.Z,u.a],styles:['ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}.server-card[_ngcontent-%COMP%], .validation-config-card[_ngcontent-%COMP%]{height:calc(100vh - 275px)}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important}  .change-card{position:relative;height:350px}  .change-card nb-icon{cursor:pointer;font-size:24px!important}.change-card-content[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-50%)}.toggle-radio[_ngcontent-%COMP%]{margin-top:84px}.switch[_ngcontent-%COMP%]{position:absolute;top:50%;left:40%;width:270px;height:50px;text-align:center;margin:-30px 0 0 -75px;background:#00bc9c;transition:all .2s ease;border-radius:25px}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;height:4px;top:50%;left:50%;margin:-2px 0 0 -4px;transform:rotate(-45deg)}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;background:#fff;display:block;transition:all .2s ease}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";width:4px;height:12px;margin-top:-8px}input[type=radio][_ngcontent-%COMP%]{display:none}.switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;color:rgba(0,0,0,.2);width:60px;line-height:50px;transition:all .2s ease}label[for=yes][_ngcontent-%COMP%]{left:20px;height:20px}label[for=no][_ngcontent-%COMP%], label[for=yes][_ngcontent-%COMP%]{position:absolute;font-size:19px;font-weight:700}label[for=no][_ngcontent-%COMP%]{right:39px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]{background:#eb4f37}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;margin-left:-8px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{background:#fff;height:20px;margin-top:-8px;margin-left:8px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   label[for=no][_ngcontent-%COMP%], #yes[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   label[for=yes][_ngcontent-%COMP%]{color:#fff}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;top:3.33333px;right:0;bottom:0;left:0;height:26px;width:26px;transition:all .15s ease-out 0s;background:#cbd1d8;border:1px solid grey;border-radius:4px;color:#fff;cursor:pointer;display:inline-block;margin-right:.5rem;outline:none;position:relative;z-index:10}.option-input[_ngcontent-%COMP%]:checked{background:red!important}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}  .server-table ng2-smart-table tbody tr.selected{background:#fff!important}  .server-table ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .validation-config-card ng2-smart-table tbody tr.selected{background:#fff!important}  .validation-config-card ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .server-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .server-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .validation-config-card ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .validation-config-card ng2-smart-table table thead tr:first-child th{height:109px}  .validation-config-card ng2-smart-table table thead tr:first-child th,   .validation-config-card table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}.valid-action-icon[_ngcontent-%COMP%]{height:100%;font-size:2rem}.valid-action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.valid-action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{margin-right:10px}.table-body-td[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{vertical-align:middle;padding:14px 20px;border-right:1px solid #edf1f7}  .table-body-td td:first-child,   .table-body-td th:first-child{width:65px}  .table-body-td td:nth-child(2),   .table-body-td td:nth-child(5),   .table-body-td th:nth-child(2),   .table-body-td th:nth-child(5){width:117px}  .table-body-td td:nth-child(3),   .table-body-td th:nth-child(3){width:280px}  .table-body-td td:nth-child(4),   .table-body-td th:nth-child(4){width:122px}  .table-body-td td:nth-child(6),   .table-body-td th:nth-child(6){width:107px}  .table-body-td td:nth-child(7),   .table-body-td th:nth-child(7){width:287px}  .table-body-td td:nth-child(8),   .table-body-td th:nth-child(8){width:105px}  .nb-theme-corporate nb-popover .arrow:after{border-bottom:.6875rem solid #36f!important}.width-75px[_ngcontent-%COMP%]{width:75px}@media only screen and (max-width:600px){nb-tab[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.switch[_ngcontent-%COMP%]{left:33%}[_nghost-%COMP%]     .table-body-td:first-child{width:65px}[_nghost-%COMP%]     .table-body-td:nth-child(2), [_nghost-%COMP%]     .table-body-td:nth-child(5){width:117px}[_nghost-%COMP%]     .table-body-td:nth-child(3){width:280px}[_nghost-%COMP%]     .table-body-td:nth-child(4){width:122px}[_nghost-%COMP%]     .table-body-td:nth-child(6){width:107px}[_nghost-%COMP%]     .table-body-td:nth-child(7){width:287px}[_nghost-%COMP%]     .table-body-td:nth-child(8){width:105px}}']}),t})()}]}];let Ua=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(ja)],c.g]}),t})(),$a=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,a.N,a.L,y.c,u.h,a.tb,a.hb,w.a]]}),t})(),Ga=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.hb,a.y,a.N,a.L,u.h,w.a,a.tb,Ot,a.k]]}),t})(),Ka=(()=>{let t=class{};return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c]]}),t})(),Ya=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.hb,a.y,a.L,a.N,u.h,a.tb,a.k,a.r,Ot]]}),t})(),qa=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,a.tb,a.L,Ot,a.C,bi]]}),t})(),Qa=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,a.tb,a.L,a.N,y.c,u.h,a.hb]]}),t})(),Za=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,a.tb,a.L,a.L,u.h,a.hb,Ot]]}),t})(),Xa=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,a.tb,a.L,a.L,u.h,a.hb,w.a,Ot]]}),t})(),tn=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,y.c,u.h,a.k]]}),t})(),en=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,a.N,y.c,u.h,a.hb,w.a,Ot]]}),t})(),an=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.y,y.c,u.h,a.k,a.L]]}),t})(),nn=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[m.c,a.pb,u.h,a.y,a.I,a.N,a.L,y.c,a.hb,a.tb,a.bb]]}),t})(),on=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[Ua,n.a,a.X,r,$a,a.E.forChild(),a.wb.forChild(),a.y,Ga,Ka,Ya,qa,Qa,Za,Xa,tn,en,an,nn]]}),t})()}}]);