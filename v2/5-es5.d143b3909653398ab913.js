!function(){function t(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a&&e(t,a)}function e(t,a){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,a)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,o=i(t);if(e){var r=i(this).constructor;a=Reflect.construct(o,arguments,r)}else a=o.apply(this,arguments);return n(this,a)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{aCrv:function(t,e,a){var n,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map((function(t){return this._tweens[t]}).bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var a=Object.keys(this._tweens);if(0===a.length)return!1;for(t=void 0!==t?t:r.now();a.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<a.length;n++){var i=this._tweens[a[n]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[a[n]])}a=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,r=new i;r.Group=i,r._nextId=0,r.nextId=function(){return r._nextId++},r.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?r.now()+parseFloat(t):t:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,a,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(t-this._startTime)/this._duration,n=this._easingFunction(a=0===this._duration||a>1?1:a),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,n):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=i+(o-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,a),1===a){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var r=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?t+this._repeatDelayTime:t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,s=this._chainedTweens.length;c<s;c++)this._chainedTweens[c].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var a=t.length-1,n=a*e,i=Math.floor(n),o=r.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],n):e>1?o(t[a],t[a-1],a-n):o(t[i],t[i+1>a?a:i+1],n-i)},Bezier:function(t,e){for(var a=0,n=t.length-1,i=Math.pow,o=r.Interpolation.Utils.Bernstein,c=0;c<=n;c++)a+=i(1-e,n-c)*i(e,c)*t[c]*o(n,c);return a},CatmullRom:function(t,e){var a=t.length-1,n=a*e,i=Math.floor(n),o=r.Interpolation.Utils.CatmullRom;return t[0]===t[a]?(e<0&&(i=Math.floor(n=a*(1+e))),o(t[(i-1+a)%a],t[i],t[(i+1)%a],t[(i+2)%a],n-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[a]-(o(t[a],t[a],t[a-1],t[a-1],n-a)-t[a]):o(t[i?i-1:0],t[i],t[a<i+1?a:i+1],t[a<i+2?a:i+2],n-i)},Utils:{Linear:function(t,e,a){return(e-t)*a+t},Bernstein:function(t,e){var a=r.Interpolation.Utils.Factorial;return a(t)/a(e)/a(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var a=t;a>1;a--)e*=a;return o[t]=e,e}),CatmullRom:function(t,e,a,n,i){var o=.5*(a-t),r=.5*(n-e),c=i*i;return(2*e-2*a+o+r)*(i*c)+(-3*e+3*a-2*o-r)*c+o*i+e}}},void 0===(n=(function(){return r}).apply(e,[]))||(t.exports=n)},dgmN:function(e,n,i){"use strict";i.r(n),i.d(n,"PagesModule",(function(){return ro}));var o,s,l=i("aceb"),d=i("vTDv"),g=i("fXoL"),h=((o=function t(){c(this,t)}).\u0275mod=g.Tb({type:o}),o.\u0275inj=g.Sb({factory:function(t){return new(t||o)},imports:[[l.y,d.a]]}),o),u=i("tyNb"),p=i("OaAi"),b=[{title:"Categories",icon:"image-outline",link:"/admin/categories"},{title:"Statistics",icon:"bar-chart-outline",link:"/admin/statistics"},{title:"Image Details",icon:"info-outline",link:"/admin/image-details"},{title:"Redis Cache",icon:"hard-drive-outline",link:"/admin/redis-cache"},{title:"Settings",icon:"settings-2-outline",link:"/admin/settings"}],m=i("mgFL"),f=((s=function t(e,a){c(this,t),this.route=e,this.utils=a,this.menu=b,localStorage.getItem("at")||this.route.navigate([""]);var n=this;window.onhashchange=function(){n.utils.hidePageDialog()}}).\u0275fac=function(t){return new(t||s)(g.Vb(u.c),g.Vb(p.a))},s.\u0275cmp=g.Pb({type:s,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(g.bc(0,"ngx-one-column-layout"),g.Wb(1,"nb-menu",0),g.Wb(2,"router-outlet"),g.ac()),2&t&&(g.Jb(1),g.sc("items",e.menu))},directives:[m.a,l.W,u.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}  .nb-theme-corporate nb-layout-header nav{height:3.75rem!important;box-shadow:0 .5rem 1rem 0 rgba(44,51,73,.1)}  .nb-theme-corporate nb-layout-header.fixed~.layout-container{padding-top:3.75px!important}  nb-theme-corporate .menu-sidebar .scrollable{padding-top:0!important}  nb-layout-column{margin-top:50px!important}  nb-sidebar .scrollable{padding-top:0!important}.nb-theme-corporate[_ngcontent-%COMP%]   nb-layout[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   nb-sidebar[_ngcontent-%COMP%]   .main-container-fixed[_ngcontent-%COMP%],   .nb-theme-corporate nb-layout .layout .layout-container nb-sidebar.fixed{top:3.75rem!important}"]}),s),v=i("R7Hv"),_=i("qUcv"),y=i("dkQB"),C=i("ofXK"),x=i("3Pt+");function w(t,e){1&t&&(g.bc(0,"h5",12),g.Nc(1,"Update Category"),g.ac())}function P(t,e){1&t&&(g.bc(0,"h5",12),g.Nc(1,"Add Category"),g.ac())}function k(t,e){if(1&t){var a=g.cc();g.bc(0,"button",13),g.ic("click",(function(){return g.Dc(a),g.mc().editCategory()})),g.Nc(1,"Add"),g.ac()}}function M(t,e){if(1&t){var a=g.cc();g.bc(0,"button",13),g.ic("click",(function(){return g.Dc(a),g.mc().editCategory()})),g.Nc(1,"Update"),g.ac()}}var O,E=((O=function(){function t(e,a,n,i){c(this,t),this.validService=e,this.utils=a,this.dataService=n,this.dialogRef=i,this.errormsg=y.b,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.categoryData&&(this.catName=this.categoryData.name)}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"Catedit",successArr:["editCatInput"]}}),"blank"!=o&&this.editCategory()}},{key:"editCategory",value:function(){var t,e,a=this;this.validService.checkAllValid([{id:"editCatInput",errorId:"inputCatError",type:"",blank_msg:y.b.CAT_NAME_EMPTY,type_msg:""}])&&(this.utils.showLoader(),this.categoryData?(e={category_id:this.categoryData.category_id,name:this.catName},t="updateCategory"):(e={name:this.catName},t="addCategory"),this.dataService.postData(t,e,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("inputCatError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||O)(g.Vb(_.a),g.Vb(p.a),g.Vb(v.a),g.Vb(l.F))},O.\u0275cmp=g.Pb({type:O,selectors:[["ngx-editcategory"]],decls:17,vars:6,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter category name","id","editCatInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputCatError",2,"color","red","margin-bottom","0px","margin-top","4px","height","30px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","Catedit",3,"click",4,"ngIf"],[1,"text-center"],["id","Catedit",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card"),g.bc(1,"nb-card-header",0),g.Lc(2,w,2,0,"h5",1),g.Lc(3,P,2,0,"h5",1),g.bc(4,"i",2),g.ic("click",(function(){return e.closedialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",3),g.bc(7,"div",4),g.bc(8,"label",5),g.Nc(9,"Category"),g.ac(),g.ac(),g.bc(10,"div",6),g.bc(11,"div",7),g.bc(12,"input",8),g.ic("ngModelChange",(function(t){return e.catName=t}))("keyup",(function(){return e.checkValidation("editCatInput","","inputCatError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("editCatInput","","inputCatError",e.errormsg.CAT_NAME_EMPTY,"","usual")})),g.ac(),g.Wb(13,"p",9),g.ac(),g.ac(),g.ac(),g.bc(14,"div",10),g.Lc(15,k,2,0,"button",11),g.Lc(16,M,2,0,"button",11),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",e.categoryData),g.Jb(1),g.sc("ngIf",!e.categoryData),g.Jb(9),g.sc("ngModel",e.catName),g.Kb("valid-status",!!e.categoryData),g.Jb(3),g.sc("ngIf",!e.categoryData),g.Jb(1),g.sc("ngIf",e.categoryData))},directives:[l.v,l.x,C.n,l.u,l.M,x.c,x.n,x.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),O),S=i("RS3s"),I=i("oOf3");function L(t,e){1&t&&g.Wb(0,"span")}var R,T=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},D=((R=function(){function t(e,a,n,i,o){c(this,t),this.validService=e,this.dialog=a,this.dataService=n,this.utils=i,this.router=o,this.categoryName="",this.errormsg=y.b,this.selectedPageSize=15,this.previousLabel="<",this.nextLabel=">",this.currentPage=1,this.settings={mode:"external",edit:{editButtonContent:'<i class="fa fa-edit" title="edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-folder-open" title="View"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number",width:"75px",editable:!1,filter:!1,hideHeader:!0},name:{title:"Category Name",type:"html",filter:!1,sort:!1}},actions:{add:!1,position:"right",delete:!0,edit:!0},pager:{perPage:this.selectedPageSize},hideSubHeader:!0},this.token=localStorage.getItem("at"),this.getAllBackgroundCatogory(this.currentPage)}return r(t,[{key:"ngOnInit",value:function(){}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllBackgroundCatogory(this.currentPage)}},{key:"getAllBackgroundCatogory",value:function(t){var e=this;this.utils.showPageLoader(),this.dataService.postData("getAllCategory",{page:t},{headers:{Authorization:"Bearer "+this.token}}).then((function(a){if(200==a.code){e.totalRecords=a.data.total_record;var n=0;a.data.category_list.forEach((function(e){e.id=n+1+15*(t-1),n++})),e.categoryData=a.data.category_list,e.datasource=new S.a(e.categoryData),e.utils.hidePageLoader()}else 201==a.code?(e.utils.showError(a.message,4e3),e.utils.hidePageLoader()):a.status||0==a.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hidePageLoader()):(e.utils.showError(a.message,4e3),e.utils.hidePageLoader())}),(function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"getRow",value:function(t){localStorage.setItem("selected_category",JSON.stringify(t.data)),this.router.navigate(["/admin/categories/",t.data.category_id])}},{key:"editCategory",value:function(t){this.open(!1,t.data)}},{key:"addCategory",value:function(){this.open(!1,"")}},{key:"open",value:function(t,e){var a=this;this.dialog.open(E,{closeOnBackdropClick:t,closeOnEsc:!1,context:{categoryData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllBackgroundCatogory(a.currentPage)}))}}]),t}()).\u0275fac=function(t){return new(t||R)(g.Vb(_.a),g.Vb(l.G),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},R.\u0275cmp=g.Pb({type:R,selectors:[["ngx-categories"]],decls:23,vars:13,consts:[[4,"ngFor","ngForOf"],[1,"row","card-summary"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","transparent"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row","mb-3"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","ml-2","text-light",3,"click"],[1,"row"],[1,"col-md-12"],[1,"table-card","categories-card-table","p-0"],[1,"p-0"],[3,"settings","source","edit","userRowSelect","delete"],[1,"pegination-area","text-center","p-2"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"]],template:function(t,e){1&t&&(g.Lc(0,L,1,0,"span",0),g.nc(1,"paginate"),g.bc(2,"div",1),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.Nc(6,"Categories"),g.ac(),g.ac(),g.ac(),g.bc(7,"div",5),g.bc(8,"nb-card"),g.bc(9,"nb-card-header",6),g.bc(10,"div",7),g.Nc(11),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(12,"div",8),g.bc(13,"div",9),g.bc(14,"button",10),g.ic("click",(function(){return e.addCategory()})),g.Nc(15,"Add Category"),g.ac(),g.ac(),g.ac(),g.bc(16,"div",11),g.bc(17,"div",12),g.bc(18,"nb-card",13),g.bc(19,"nb-card-body",14),g.bc(20,"ng2-smart-table",15),g.ic("edit",(function(t){return e.editCategory(t)}))("userRowSelect",(function(t){return e.getRow(t)}))("delete",(function(t){return e.getRow(t)})),g.ac(),g.bc(21,"div",16),g.bc(22,"pagination-controls",17),g.ic("pageChange",(function(t){return e.handlePageChange(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.sc("ngForOf",g.pc(1,6,e.categoryData,g.zc(9,T,e.selectedPageSize,e.currentPage,e.totalRecords))),g.Jb(11),g.Pc(" TOTAL CATEGORIES : ",e.totalRecords," "),g.Jb(9),g.sc("settings",e.settings)("source",e.datasource),g.Jb(2),g.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[C.m,l.v,l.x,l.u,S.b,I.c],pipes:[I.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}"]}),R);function N(t,e){if(1&t&&(g.bc(0,"td"),g.Nc(1),g.ac()),2&t){var a=g.mc().$implicit;g.Jb(1),g.Oc(a.tag_name)}}function z(t,e){if(1&t){var a=g.cc();g.bc(0,"td"),g.bc(1,"input",26),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().$implicit.tag_name=t}))("keyup.enter",(function(){g.Dc(a);var t=g.mc().$implicit;return g.mc().updateSearchTag(t)})),g.ac(),g.Wb(2,"p",27),g.ac()}if(2&t){var n=g.mc().$implicit;g.Jb(1),g.sc("ngModel",n.tag_name)}}function V(t,e){if(1&t){var a=g.cc();g.bc(0,"div",28),g.bc(1,"nb-icon",29),g.ic("click",(function(){g.Dc(a);var t=g.mc().$implicit;return g.mc().showUpdate(t)})),g.ac(),g.bc(2,"nb-icon",30),g.ic("click",(function(){g.Dc(a);var t=g.mc().$implicit;return g.mc().deleteSearchTag(t)})),g.ac(),g.bc(3,"nb-icon",31),g.ic("click",(function(){g.Dc(a);var t=g.mc(),e=t.$implicit,n=t.index;return g.mc().moveToFirst(e,n)})),g.ac(),g.ac()}}function J(t,e){if(1&t){var a=g.cc();g.bc(0,"div",32),g.bc(1,"button",33),g.ic("click",(function(){g.Dc(a);var t=g.mc().$implicit;return g.mc().updateSearchTag(t)})),g.Nc(2,"Save"),g.ac(),g.bc(3,"button",34),g.ic("click",(function(){g.Dc(a);var t=g.mc(),e=t.$implicit,n=t.index;return g.mc().resetRow(e,n)})),g.Nc(4,"Cancel"),g.ac(),g.ac()}}var A=function(t){return{color:t}};function F(t,e){if(1&t&&(g.bc(0,"tr",22),g.bc(1,"td",18),g.Nc(2),g.ac(),g.Lc(3,N,2,1,"td",21),g.Lc(4,z,3,1,"td",21),g.bc(5,"td",2),g.Nc(6),g.ac(),g.bc(7,"td",23),g.Lc(8,V,4,0,"div",24),g.Lc(9,J,5,0,"div",25),g.ac(),g.ac()),2&t){var a=e.$implicit,n=e.index;g.sc("ngStyle",g.xc(7,A,0==a.total_template?"red":"black")),g.Jb(2),g.Oc(n+1),g.Jb(1),g.sc("ngIf",0==a.is_update),g.Jb(1),g.sc("ngIf",1==a.is_update),g.Jb(2),g.Oc(a.total_template),g.Jb(2),g.sc("ngIf",0==a.is_update),g.Jb(1),g.sc("ngIf",1==a.is_update)}}function B(t,e){1&t&&(g.bc(0,"tr"),g.bc(1,"td",35),g.bc(2,"h6",36),g.Nc(3,"No data found"),g.ac(),g.ac(),g.ac())}var W,H=((W=function(){function t(e,a,n,i,o){c(this,t),this.dialogRef=e,this.validService=a,this.dataService=n,this.utils=i,this.route=o,this.searchTagList=[],this.tmpCategoryList=[],this.errormsg=y.b,this.is_template="1",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.titleHeader="Search tags of "+this.subCatData.name,this.getAllCategorySearchTags()}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"addTag",successArr:["tagInput"]}}),"blank"!=o&&this.addSearchTag()}},{key:"addSearchTag",value:function(){var t=this;this.validService.checkAllValid([{id:"tagInput",errorId:"tagError",type:"",blank_msg:y.b.TAG_EMPTY_NAME,type_msg:""}])&&(this.utils.showLoader(),this.dataService.postData("addSearchCategoryTag",{tag_name:this.tagName,sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.getAllCategorySearchTags(),t.tagName="",t.utils.dialogStatus="add"):201==e.code?(document.getElementById("tagError").innerHTML=e.message,t.tagName="",t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"resetRow",value:function(t,e){this.searchTagList[e].tag_name=this.tmpCategoryList[e].tag_name,t.is_update=!1,t.tag_name=this.tmpCategoryList[e].tag_name}},{key:"showUpdate",value:function(t){var e=this;this.searchTagList.forEach((function(t,a){e.resetRow(t,a)})),t.is_update=!0}},{key:"updateSearchTag",value:function(t){var e=this;if(void 0===t.tag_name||""==t.tag_name.trim()||null==t.tag_name)return document.getElementById("editInputTag").innerHTML=y.b.TAG_EMPTY_NAME,!1;this.dataService.postData("updateSearchCategoryTag",{tag_name:t.tag_name,sub_category_tag_id:t.sub_category_tag_id,sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllCategorySearchTags()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"moveToFirst",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData("setCategoryTagRankOnTheTopByAdmin",{sub_category_tag_id:t.sub_category_tag_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){a.utils.hideLoader(),a.utils.showSuccess(t.message,4e3);var n=a.searchTagList[e];a.searchTagList.splice(e,1),a.searchTagList.splice(0,0,n)}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"deleteSearchTag",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteSearchCategoryTag",{sub_category_tag_id:t.sub_category_tag_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllCategorySearchTags()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getAllCategorySearchTags",value:function(){var t=this;this.utils.showLoader(),this.dataService.postData("getCategoryTagBySubCategoryId",{sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.searchTagList=e.data.result,t.tmpCategoryList=JSON.parse(JSON.stringify(e.data.result)),t.searchTagList.forEach((function(t){t.is_update=!1})),t.totalRecord=e.data.total_record,t.utils.hideLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||W)(g.Vb(l.F),g.Vb(_.a),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},W.\u0275cmp=g.Pb({type:W,selectors:[["ngx-addsearchtags"]],decls:33,vars:5,consts:[[1,"searchtags-card"],[1,"header-text",2,"position","relative"],[1,"text-center"],["title","close",1,"fa","fa-times","close-icon",3,"click"],[1,"row","mb-9"],[1,"col-md-5","pr-0"],["type","text","nbInput","","id","tagInput","valid-status","false","placeholder","Enter new tag name here",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","tagError",2,"color","red","margin-bottom","0px","margin-top","2px","height","20px"],[1,"col-md-3"],["id","addTag",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-4","text-center"],["id","radioInput",1,"d-flex",3,"ngModel","ngModelChange"],["value","1",3,"click"],["value","0",3,"click"],[1,"table-data"],[1,"table-body"],[1,"table"],[2,"background","#edf1f7"],[1,"width-75"],[2,"width","309px"],[3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngStyle"],[1,"text-center","text-dark"],["class","ml-4",4,"ngIf"],["class","button-area text-center",4,"ngIf"],["type","text","nbInput","","placeholder","Enter tag name",1,"mw-100",3,"ngModel","ngModelChange","keyup.enter"],["id","editInputTag",2,"color","red","margin-bottom","0px","margin-top","2px","height","14px"],[1,"ml-4"],["icon","edit-2-outline","title","Edit",3,"click"],["icon","trash-2-outline","title","Delete",3,"click"],["icon","upload-outline","title","Move To First",3,"click"],[1,"button-area","text-center"],[1,"btn","bg-primary","text-light","mr-1",3,"click"],[1,"btn","bg-danger","text-light",3,"click"],["colspan","3"],[1,"mb-0"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"h5",2),g.Nc(3),g.ac(),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.bc(8,"input",6),g.ic("ngModelChange",(function(t){return e.tagName=t}))("keyup",(function(){return e.checkValidation("tagInput","","tagError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("tagInput","","tagError",e.errormsg.TAG_EMPTY_NAME,"","usual")})),g.ac(),g.Wb(9,"p",7),g.ac(),g.bc(10,"div",8),g.bc(11,"button",9),g.ic("click",(function(){return e.addSearchTag()})),g.Nc(12,"Add Tag"),g.ac(),g.ac(),g.bc(13,"div",10),g.bc(14,"nb-radio-group",11),g.ic("ngModelChange",(function(t){return e.is_template=t})),g.bc(15,"nb-radio",12),g.ic("click",(function(){return e.is_template="1",e.getAllCategorySearchTags()})),g.Nc(16,"Template"),g.ac(),g.bc(17,"nb-radio",13),g.ic("click",(function(){return e.is_template="0",e.getAllCategorySearchTags()})),g.Nc(18,"Sticker"),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(19,"div",14),g.bc(20,"div",15),g.bc(21,"table",16),g.bc(22,"tr",17),g.bc(23,"th",18),g.Nc(24,"#"),g.ac(),g.bc(25,"th",19),g.Nc(26,"Tag Name"),g.ac(),g.bc(27,"th",2),g.Nc(28,"Templates"),g.ac(),g.bc(29,"th",2),g.Nc(30,"Actions"),g.ac(),g.ac(),g.Lc(31,F,10,9,"tr",20),g.Lc(32,B,4,0,"tr",21),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(3),g.Oc(e.titleHeader),g.Jb(5),g.sc("ngModel",e.tagName),g.Jb(6),g.sc("ngModel",e.is_template),g.Jb(17),g.sc("ngForOf",e.searchTagList),g.Jb(1),g.sc("ngIf",0==e.totalRecord))},directives:[l.v,l.x,l.u,l.M,x.c,x.n,x.q,l.db,l.cb,C.m,C.n,C.o,l.J],styles:[".header-title[_ngcontent-%COMP%]{font-size:21px;font-weight:700;position:relative}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}.searchtags-card[_ngcontent-%COMP%]{width:750px;overflow:auto}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.mw-100[_ngcontent-%COMP%]{max-width:unset!important;width:100%}.w-100[_ngcontent-%COMP%]{width:100%!important}.width-75[_ngcontent-%COMP%]{width:75px}.w-194[_ngcontent-%COMP%]{width:194px}.w-260[_ngcontent-%COMP%]{width:260px}.w-163[_ngcontent-%COMP%]{width:163px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:23px;cursor:pointer;font-size:23px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-y:scroll}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf1f7;position:-webkit-sticky;position:sticky;top:-2px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px;vertical-align:middle!important}.table-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:23px!important;margin-right:10px;cursor:pointer}@media only screen and (max-width:600px){.searchtags-card[_ngcontent-%COMP%]{width:395px;margin-left:auto;margin-right:auto}.header-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:93%}}@media only screen and (max-width:400px){.searchtags-card[_ngcontent-%COMP%]{width:347px}}"]}),W);function j(t,e){1&t&&(g.bc(0,"h5",24),g.Nc(1,"Add Sub Category"),g.ac())}function U(t,e){1&t&&(g.bc(0,"h5",24),g.Nc(1,"Update Sub Category"),g.ac())}function G(t,e){1&t&&g.Wb(0,"img",25)}function K(t,e){if(1&t){var a=g.cc();g.bc(0,"img",26),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.subImage,g.Fc)}}function Y(t,e){if(1&t){var a=g.cc();g.bc(0,"button",27),g.ic("click",(function(){return g.Dc(a),g.mc().addSubCategory()})),g.Nc(1,"Add"),g.ac()}}function q(t,e){if(1&t){var a=g.cc();g.bc(0,"button",27),g.ic("click",(function(){return g.Dc(a),g.mc().addSubCategory()})),g.Nc(1,"Update"),g.ac()}}var Q,Z=((Q=function(){function t(e,a,n,i,o){c(this,t),this.validService=e,this.dialogref=a,this.dataService=n,this.utils=i,this.route=o,this.selectType="0",this.formData=new FormData,this.errormsg=y.b,this.utils.dialogref=this.dialogref}return r(t,[{key:"ngOnInit",value:function(){this.subCatData&&(this.subImage=this.subCatData.thumbnail_img,this.subName=this.subCatData.name,this.selectType=this.subCatData.is_featured.toString(),this.categoryId=this.subCatData.sub_category_id)}},{key:"closeLoading",value:function(){this.utils.hideLoader()}},{key:"closedialog",value:function(){this.dialogref.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.subImage=t.target.result},a.readAsDataURL(t.target.files[0])}if(this.fileList=t.target.files,this.fileList.length>0){this.file=this.fileList[0];var n=Math.round(this.file.size/1024);document.getElementById("imageError").innerHTML=n>100?"Maximum 100Kb file allow to upload":"",this.formData.append("file",this.file,this.file.name)}}},{key:"checkImageValid",value:function(){if(document.getElementById("subCatAddError").innerHTML="",null==this.subImage||"none"==this.subImage||""==this.subImage)document.getElementById("imageError").innerHTML=y.b.IMG_REQ;else{if(!this.file)return document.getElementById("imageError").innerHTML="",!0;if(!(Math.round(this.file.size/1024)>100))return document.getElementById("imageError").innerHTML="",!0;document.getElementById("imageError").innerHTML="Maximum 100Kb file allow to upload"}}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("subCatAddError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCatAdd",successArr:["addSubInput","subImage"]}}),"blank"!=o&&this.addSubCategory()}},{key:"addSubCategory",value:function(){var t,e=this,a=this.validService.checkAllValid([{id:"addSubInput",errorId:"inputError",type:"",blank_msg:y.b.SUB_CAT_NAME_EMPTY,type_msg:""}]),n=this.checkImageValid();a&&n&&(t=this.subCatData?"updateSubCategory":"addSubCategory",this.token=localStorage.getItem("at"),this.utils.showLoader(),this.formData.append("request_data",JSON.stringify(this.subCatData?{sub_category_id:this.categoryId,name:this.subName,is_featured:this.selectType}:{category_id:this.categoryId,name:this.subName,is_featured:this.selectType})),this.dataService.postData(t,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.dialogref.close({res:"add"}),e.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("subCatAddError").innerHTML=t.message,e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Q)(g.Vb(_.a),g.Vb(l.F),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},Q.\u0275cmp=g.Pb({type:Q,selectors:[["ngx-addsubcategory"]],decls:36,vars:11,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],["id","subImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput",1,"placeholder-img"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput","accept","image/*","autofocus","true",2,"display","none",3,"change"],[1,"row","mt-4"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","tabindex","-1","autofocus","false","nbInput","","placeholder","Enter sub category name","id","addSubInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],[1,"row","mt-1"],["id","radioInput",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","subCatAddError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","subCatAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["id","subCatAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card"),g.bc(1,"nb-card-header",0),g.Lc(2,j,2,0,"h5",1),g.Lc(3,U,2,0,"h5",1),g.bc(4,"i",2),g.ic("click",(function(){return e.closedialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",3),g.Lc(7,G,1,0,"img",4),g.Lc(8,K,1,1,"img",5),g.bc(9,"label",6),g.Wb(10,"i",7),g.ac(),g.ac(),g.Wb(11,"p",8),g.bc(12,"input",9),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.bc(13,"div",10),g.bc(14,"div",11),g.bc(15,"label",12),g.Nc(16,"Category"),g.ac(),g.ac(),g.bc(17,"div",13),g.bc(18,"div",14),g.bc(19,"input",15),g.ic("ngModelChange",(function(t){return e.subName=t}))("keyup",(function(){return e.checkValidation("addSubInput","","inputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("addSubInput","","inputError",e.errormsg.SUB_CAT_NAME_EMPTY,"","usual")})),g.ac(),g.Wb(20,"p",16),g.ac(),g.ac(),g.ac(),g.bc(21,"div",17),g.bc(22,"div",11),g.bc(23,"label",12),g.Nc(24,"Type"),g.ac(),g.ac(),g.bc(25,"div",13),g.bc(26,"div",14),g.bc(27,"nb-radio-group",18),g.ic("ngModelChange",(function(t){return e.selectType=t})),g.bc(28,"nb-radio",19),g.Nc(29,"Featured"),g.ac(),g.bc(30,"nb-radio",20),g.Nc(31,"Normal"),g.ac(),g.ac(),g.Wb(32,"p",21),g.ac(),g.ac(),g.ac(),g.bc(33,"div",22),g.Lc(34,Y,2,0,"button",23),g.Lc(35,q,2,0,"button",23),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",!e.subCatData),g.Jb(1),g.sc("ngIf",e.subCatData),g.Jb(3),g.Kb("valid-status",!!e.subCatData),g.Jb(1),g.sc("ngIf",e.subImage),g.Jb(1),g.sc("ngIf",e.subImage),g.Jb(11),g.sc("ngModel",e.subName),g.Kb("valid-status",!!e.subCatData),g.Jb(8),g.sc("ngModel",e.selectType),g.Kb("valid-status",!!e.subCatData),g.Jb(7),g.sc("ngIf",!e.subCatData),g.Jb(1),g.sc("ngIf",e.subCatData))},directives:[l.v,l.x,C.n,l.u,l.M,x.c,x.n,x.q,l.db,l.cb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),Q);function X(t,e){1&t&&(g.bc(0,"h6",13),g.Nc(1,"No data found"),g.ac())}function tt(t,e){1&t&&(g.bc(0,"span"),g.Nc(1,"In-Active"),g.ac())}function et(t,e){1&t&&(g.bc(0,"span"),g.Nc(1,"Active"),g.ac())}function at(t,e){if(1&t&&(g.bc(0,"tr",16),g.bc(1,"td",8),g.Nc(2),g.ac(),g.bc(3,"td",9),g.Nc(4),g.ac(),g.bc(5,"td",10),g.Nc(6),g.ac(),g.bc(7,"td",10),g.Nc(8),g.ac(),g.bc(9,"td",11),g.Lc(10,tt,2,0,"span",17),g.Lc(11,et,2,0,"span",17),g.ac(),g.ac()),2&t){var a=e.$implicit,n=e.index,i=g.mc().$implicit;g.Jb(2),g.Oc(n+1),g.Jb(2),g.Oc(a.font_name),g.Jb(2),g.Oc(a.ios_font_name),g.Jb(2),g.Oc(a.font_file),g.Jb(2),g.sc("ngIf",0==i.is_removed),g.Jb(1),g.sc("ngIf",1==i.is_removed)}}function nt(t,e){if(1&t&&(g.bc(0,"tbody"),g.bc(1,"tr"),g.bc(2,"td",14),g.Nc(3),g.ac(),g.ac(),g.Lc(4,at,12,6,"tr",15),g.ac()),2&t){var a=e.$implicit;g.Jb(3),g.Oc(a.name),g.Jb(1),g.sc("ngForOf",a.font_list)}}var it,ot=((it=function(){function t(e,a,n){c(this,t),this.dataService=e,this.utils=a,this.nbDialogRef=n,this.utils.dialogref=this.nbDialogRef}return r(t,[{key:"ngOnInit",value:function(){this.token=localStorage.getItem("at"),this.getFontList()}},{key:"closeDialog",value:function(){this.nbDialogRef.close()}},{key:"getFontList",value:function(){var t=this;this.utils.showLoader(),this.dataService.postData("getCorruptedFontList",{last_sync_time:0},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.fontList=e.data.result,t.totalRecord=t.fontList.length,t.utils.hideLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||it)(g.Vb(v.a),g.Vb(p.a),g.Vb(l.F))},it.\u0275cmp=g.Pb({type:it,selectors:[["ngx-viewcorruptedfonts"]],decls:23,vars:2,consts:[[1,"currupt-font-card"],[1,"header-text",2,"position","relative"],[1,"text-center"],["title","close",1,"fa","fa-times","close-icon",3,"click"],[1,"table-data"],[1,"table-body"],["class","mt-2 ml-3",4,"ngIf"],[1,"table","table-responsive"],[1,"width-75"],[1,"w-194"],[1,"w-260"],[1,"text-center","w-163"],[4,"ngFor","ngForOf"],[1,"mt-2","ml-3"],["colspan","5",1,"font-weight-bold",2,"background-color","rgb(252, 243, 240)","padding","5px","border-bottom","1px solid #c2c8ce"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%"],[4,"ngIf"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"h5",2),g.Nc(3,"Corrupted Fonts List"),g.ac(),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.Lc(8,X,2,0,"h6",6),g.bc(9,"table",7),g.bc(10,"thead"),g.bc(11,"tr"),g.bc(12,"th",8),g.Nc(13,"#"),g.ac(),g.bc(14,"th",9),g.Nc(15,"Font Name"),g.ac(),g.bc(16,"th",10),g.Nc(17,"Font Name(iOS)"),g.ac(),g.bc(18,"th",10),g.Nc(19,"Font Path(Android)"),g.ac(),g.bc(20,"th",11),g.Nc(21,"Status"),g.ac(),g.ac(),g.ac(),g.Lc(22,nt,5,2,"tbody",12),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(8),g.sc("ngIf",0==e.totalRecord),g.Jb(14),g.sc("ngForOf",e.fontList))},directives:[l.v,l.x,l.u,C.n,C.m],styles:[".header-title[_ngcontent-%COMP%]{font-size:21px;font-weight:700;position:relative}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}.searchtags-card[_ngcontent-%COMP%]{width:750px;overflow:auto}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.mw-100[_ngcontent-%COMP%]{max-width:unset!important;width:100%}.w-100[_ngcontent-%COMP%]{width:100%!important}.width-75[_ngcontent-%COMP%]{width:75px}.w-194[_ngcontent-%COMP%]{width:194px}.w-260[_ngcontent-%COMP%]{width:260px}.w-163[_ngcontent-%COMP%]{width:163px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:23px;cursor:pointer;font-size:23px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-y:scroll}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf1f7;position:-webkit-sticky;position:sticky;top:-2px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px;vertical-align:middle!important}.table-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:23px!important;margin-right:10px;cursor:pointer}@media only screen and (max-width:600px){.searchtags-card[_ngcontent-%COMP%]{width:395px;margin-left:auto;margin-right:auto}.header-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:93%}}@media only screen and (max-width:400px){.searchtags-card[_ngcontent-%COMP%]{width:347px}}@media only screen and (max-width:600px){.currupt-font-card[_ngcontent-%COMP%]{width:calc(100vh - 337px);margin-left:auto;margin-right:auto}}@media only screen and (max-width:400px){.currupt-font-card[_ngcontent-%COMP%]{width:347px}}"]}),it),rt=i("LRne"),ct=i("jtHE"),st=i("HDdC"),lt=i("KqfI"),dt=new st.a(lt.a),gt=i("XNiG"),ht=(i("EY2u"),i("vkgz")),ut=i("pLZG"),pt=i("IzEk"),bt=i("5+tZ"),mt=i("lJxs"),ft=i("JIr8"),vt=i("eIep"),_t=i("JX91");i("7o/Q"),i("D0XW"),i("w1tV");var yt=new g.u("LazyLoadImageHooks");function Ct(t){return Boolean(t.parentElement&&"picture"===t.parentElement.nodeName.toLowerCase())}function xt(t){return"img"===t.nodeName.toLowerCase()}function wt(t,e,a){return xt(t)?a&&"srcset"in t?t.srcset=e:t.src=e:t.style.backgroundImage="url('".concat(e,"')"),t}function Pt(t){return function(e){for(var a=e.parentElement.getElementsByTagName("source"),n=0;n<a.length;n++){var i=a[n].getAttribute(t);i&&("srcset"in a[n]?a[n].srcset=i:a[n].src=i)}}}var kt=Pt("defaultImage"),Mt=Pt("lazyLoad"),Ot=Pt("errorImage");function Et(t){return function(e,a,n){xt(e)&&Ct(e)&&t(e),a&&wt(e,a,n)}}var St,It=Et(kt),Lt=Et(Mt),Rt=Et(Ot),Tt=((St=function(){function t(e,a,n,i){c(this,t),this.onStateChange=new g.r,this.elementRef=e,this.ngZone=a,this.propertyChanges$=new ct.a,this.hooks=i,this.hooks.setPlatformId(n),this.uid=Math.random().toString(36).substr(2,9)}return r(t,[{key:"ngOnChanges",value:function(){!0!==this.debug||this.debugSubscription||(this.debugSubscription=this.onStateChange.subscribe((function(t){return console.log(t)}))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}},{key:"ngAfterContentInit",value:function(){var t=this;if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular((function(){t.loadSubscription=t.propertyChanges$.pipe(Object(ht.a)((function(e){return t.hooks.onAttributeChange(e)})),Object(ht.a)((function(t){return t.onStateChange.emit({reason:"setup"})})),Object(ht.a)((function(e){return t.hooks.setup(e)})),Object(vt.a)((function(e){return e.imagePath?t.hooks.getObservable(e).pipe(function(t,e){return function(a){return a.pipe(Object(ht.a)((function(t){return e.onStateChange.emit({reason:"observer-emit",data:t})})),Object(ut.a)((function(a){return t.isVisible(a,e)})),Object(pt.a)(1),Object(ht.a)((function(){return e.onStateChange.emit({reason:"start-loading"})})),Object(bt.a)((function(){return t.loadImage(e)})),Object(ht.a)((function(){return e.onStateChange.emit({reason:"mount-image"})})),Object(ht.a)((function(a){return t.setLoadedImage(a,e)})),Object(ht.a)((function(){return e.onStateChange.emit({reason:"loading-succeeded"})})),Object(mt.a)((function(){return!0})),Object(ft.a)((function(a){return e.onStateChange.emit({reason:"loading-failed",data:a}),t.setErrorImage(a,e),Object(rt.a)(!1)})),Object(ht.a)((function(){e.onStateChange.emit({reason:"finally"}),t.finally(e)})))}}(t.hooks,e)):dt}))).subscribe({next:function(){return null}})}))}},{key:"ngOnDestroy",value:function(){var t,e,a=this;this.propertyChanges$.pipe(Object(pt.a)(1)).subscribe({next:function(t){return a.hooks.onDestroy(t)}}).unsubscribe(),null===(t=this.loadSubscription)||void 0===t||t.unsubscribe(),null===(e=this.debugSubscription)||void 0===e||e.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||St)(g.Vb(g.o),g.Vb(g.F),g.Vb(g.I),g.Vb(yt))},St.\u0275dir=g.Qb({type:St,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[g.Hb]}),St);function Dt(t,e){t.className=t.className.replace(e,"")}function Nt(t,e){t.className.includes(e)||(t.className+=" "+e)}var zt,Vt,Jt=((zt=function(e){t(i,e);var n=a(i);function i(){var t;return c(this,i),(t=n.apply(this,arguments)).observers=new WeakMap,t.intersectionSubject=new gt.a,t.uniqKey={},t}return r(i,[{key:"getObservable",value:function(t){var e=this;if(this.skipLazyLoading())return Object(rt.a)({isIntersecting:!0});if(t.customObservable)return t.customObservable;var a=t.scrollContainer||this.uniqKey,n={root:t.scrollContainer||null};t.offset&&(n.rootMargin=t.offset+"px");var i=this.observers.get(a);return i||(i=new IntersectionObserver((function(t){return e.loadingCallback(t)}),n),this.observers.set(a,i)),i.observe(t.element),st.a.create((function(a){var n=e.intersectionSubject.pipe(Object(ut.a)((function(e){return e.target===t.element}))).subscribe(a);return function(){n.unsubscribe(),i.unobserve(t.element)}}))}},{key:"isVisible",value:function(t){return t.isIntersecting}},{key:"loadingCallback",value:function(t){var e=this;t.forEach((function(t){return e.intersectionSubject.next(t)}))}}]),i}(function(e){t(i,e);var n=a(i);function i(){return c(this,i),n.apply(this,arguments)}return r(i,[{key:"setup",value:function(t){var e;It(t.element,t.defaultImagePath,t.useSrcset),Nt(t.element,"ng-lazyloading"),(e=t.element).className&&e.className.includes("ng-lazyloaded")&&Dt(t.element,"ng-lazyloaded")}},{key:"finally",value:function(t){Nt(t.element,"ng-lazyloaded"),Dt(t.element,"ng-lazyloading")}},{key:"loadImage",value:function(t){if(this.skipLazyLoading())return[t.imagePath];var e,a=t.element,n=t.useSrcset,i=t.imagePath,o=t.decode;if(xt(a)&&Ct(a)){var r=a.parentNode.cloneNode(!0);e=r.getElementsByTagName("img")[0],Mt(e),wt(e,i,n)}else e=new Image,xt(a)&&a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),xt(a)&&a.sizes&&(e.sizes=a.sizes),n&&"srcset"in e?e.srcset=i:e.src=i;return o&&e.decode?e.decode().then((function(){return i})):new Promise((function(t,a){e.onload=function(){return t(i)},e.onerror=function(){return a(null)}}))}},{key:"setErrorImage",value:function(t,e){var a=e.element,n=e.useSrcset,i=e.errorImagePath;Rt(a,i,n),Nt(a,"ng-failed-lazyloaded")}},{key:"setLoadedImage",value:function(t,e){var a=e.element,n=e.useSrcset;Lt(a,t,n)}},{key:"isDisabled",value:function(){return Object(C.C)(this.platformId)&&!this.isBot()}},{key:"skipLazyLoading",value:function(){return this.isBot()}},{key:"isBot",value:function(){var t;return!!(null===(t=this.navigator)||void 0===t?void 0:t.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}]),i}(function(){function t(){c(this,t),this.navigator="undefined"!=typeof window?window.navigator:void 0}return r(t,[{key:"setPlatformId",value:function(t){this.platformId=t}},{key:"onDestroy",value:function(t){}},{key:"onAttributeChange",value:function(t){}}]),t}()))).\u0275fac=function(t){return At(t||zt)},zt.\u0275prov=g.Rb({token:zt,factory:zt.\u0275fac}),zt),At=g.dc(Jt),Ft=((Vt=function t(){c(this,t)}).\u0275mod=g.Tb({type:Vt}),Vt.\u0275inj=g.Sb({factory:function(t){return new(t||Vt)},providers:[{provide:yt,useClass:Jt}]}),Vt);function Bt(t,e){if(1&t&&(g.bc(0,"nb-option",34),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a),g.Jb(1),g.Oc(a)}}function Wt(t,e){if(1&t){var a=g.cc();g.bc(0,"button",35),g.ic("click",(function(){return g.Dc(a),g.mc().viewCorruptedFonts()})),g.Nc(1,"Corrupted Fonts"),g.ac()}}function Ht(t,e){1&t&&(g.bc(0,"div",36),g.Wb(1,"img",37),g.bc(2,"h2"),g.Nc(3,"No data found"),g.ac(),g.ac())}function jt(t,e){1&t&&g.Wb(0,"img",55)}function Ut(t,e){if(1&t){var a=g.cc();g.bc(0,"div",38),g.bc(1,"nb-card",39),g.bc(2,"div",40),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewCatalog(t)})),g.Wb(3,"img",41),g.bc(4,"img",42),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.ac(),g.bc(5,"div",43),g.bc(6,"div",44),g.Nc(7),g.ac(),g.ac(),g.bc(8,"nb-card-footer",45),g.bc(9,"a",46),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewCatalog(t)})),g.Wb(10,"nb-icon",47),g.ac(),g.bc(11,"a",48),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().updateCategory(t)})),g.Wb(12,"nb-icon",49),g.ac(),g.bc(13,"a",50),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().deleteCategory(t.sub_category_id)})),g.Wb(14,"nb-icon",51),g.ac(),g.bc(15,"a",52),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().addSearchtag(t)})),g.Wb(16,"nb-icon",53),g.ac(),g.ac(),g.ac(),g.Lc(17,jt,1,0,"img",54),g.ac()}if(2&t){var n=e.$implicit,i=g.mc();g.Jb(4),g.uc("alt","",n.name," thumbnail image"),g.sc("lazyLoad",n.thumbnail_img)("errorImage",i.utils.errorImg),g.Jb(2),g.sc("nbTooltip",n.sub_category_id+". "+n.name),g.Jb(1),g.Qc("",n.sub_category_id,". ",n.name,""),g.Jb(8),g.uc("nbTooltip","Add search tags to ",n.name,""),g.Jb(2),g.sc("ngIf",1==n.is_featured)}}var Gt,$t=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},Kt=((Gt=function(){function t(e,a,n,i,o,r){c(this,t),this.validService=e,this.actRoute=a,this.dialog=n,this.dataService=i,this.utils=o,this.route=r,this.previousLabel="<",this.nextLabel=">",this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.currentPage=1,this.errormsg=y.b,this.paginstatus="true",this.broadItem=JSON.parse(localStorage.getItem("selected_category")).name,this.categoryId=this.actRoute.snapshot.params.categoryId}return r(t,[{key:"ngOnInit",value:function(){this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCatButton",successArr:["subCatInput"]}}),"blank"!=o&&this.searchCategory()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.selectedPageSize>this.totalRecords&&(this.currentPage=1),this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"refreshPage",value:function(){this.paginstatus="true",this.searchQuery="",this.selectedPageSize="50",this.currentPage=1,document.getElementById("catError").innerHTML="",this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"searchCategory",value:function(){var t=this;this.validService.checkAllValid([{id:"subCatInput",errorId:"catError",type:"",blank_msg:y.b.SUB_CAT_NAME_SEARCH_EMPTY,type_msg:""}])&&(this.utils.showPageLoader(),this.dataService.postData("searchSubCategoryByName",{name:this.searchQuery,category_id:this.categoryId},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.paginstatus="false",t.totalRecords=e.data.category_list.length,t.selectedPageSize=t.totalRecords.toString(),t.categoryData=e.data.category_list,t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"deleteCategory",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteSubCategory",{sub_category_id:t},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess("Sub category deleted successfully",4e3),e.getAllCategories(e.categoryId,e.currentPage,e.selectedPageSize)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"addSubCategory",value:function(){this.open(!1,"","Add sub category")}},{key:"addSearchtag",value:function(t){this.openTags(!1,t)}},{key:"openTags",value:function(t,e){this.dialog.open(H,{closeOnBackdropClick:t,closeOnEsc:!1,context:{subCatData:e}})}},{key:"updateCategory",value:function(t){this.open(!1,t,"Update sub category")}},{key:"open",value:function(t,e,a){var n=this;this.dialog.open(Z,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{categoryId:this.categoryId,subCatData:e}}).onClose.subscribe((function(t){t&&"add"==t.res&&n.getAllCategories(n.categoryId,n.currentPage,n.selectedPageSize)}))}},{key:"viewCatalog",value:function(t){localStorage.setItem("selected_sub_category",JSON.stringify(t)),t.name=t.name.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,t.name,t.sub_category_id])}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"getAllCategories",value:function(t,e,a){var n=this;this.utils.showPageLoader(),this.token=localStorage.getItem("at"),this.dataService.postData("getSubCategoryByCategoryId",{category_id:t,page:e,item_count:a},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(n.totalRecords=t.data.total_record,n.categoryData=t.data.category_list,n.utils.hidePageLoader()):201==t.code?(n.utils.showError(t.message,4e3),n.utils.hidePageLoader()):t.status||0==t.status?(n.utils.showError(y.b.SERVER_ERR,4e3),n.utils.hidePageLoader()):(n.utils.showError(t.message,4e3),n.utils.hidePageLoader())}),(function(t){console.log(t),n.utils.hidePageLoader(),n.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),n.utils.hidePageLoader(),n.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}},{key:"viewCorruptedFonts",value:function(){this.dialog.open(ot,{closeOnBackdropClick:!0})}}]),t}()).\u0275fac=function(t){return new(t||Gt)(g.Vb(_.a),g.Vb(u.a),g.Vb(l.G),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},Gt.\u0275cmp=g.Pb({type:Gt,selectors:[["ngx-viewcategories"]],decls:43,vars:22,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"breadcrumb-item","main-home",3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pl-0","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary"],[1,"col-md-12","pr-0","pl-1"],[1,"row","mb-2"],[1,"col-md-5","col-12"],[1,"form-group"],["type","text","nbInput","","placeholder","Search category name here","valid-status","false","id","subCatInput",2,"background","#fff",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","catError",2,"color","red","margin-bottom","0px","height","14px"],[1,"col-md-2","col-12"],["id","subCatButton",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-1","col-sm-1","col-1"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default","nbTooltipTrigger","hint",1,"btn","btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"col-md-4","text-right","col-11","col-sm-11","pl-0"],[1,"pegin",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-primary ml-2","nbTooltip","Click here to view Corrupted Fonts","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click",4,"ngIf"],[1,"btn","btn-primary","ml-2",3,"click"],[1,"row","card-gallary-content"],[1,"col-md-12"],[1,"card-gallary","row"],["class","col-md-12 text-center",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3 pl-0 pr-0",4,"ngFor","ngForOf"],[1,"row","pt-3",2,"background","#fff"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],["nbTooltip","Click here to view Corrupted Fonts","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"btn","btn-primary","ml-2",3,"click"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pl-0","pr-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative",3,"click"],[1,"placeholder-img"],[1,"categImg",3,"lazyLoad","errorImage","alt","load"],[1,"details"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"nbTooltip"],[2,"background","#E1E8F3"],["target","_blank",3,"click"],["icon","folder","pack","eva","nbTooltip","View","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",3,"click"],["icon","trash-2","pack","eva"],["nbTooltipPlacement","bottom","nbTooltipTrigger","hint","nbTooltipStatus","primary",3,"nbTooltip","click"],["icon","pricetags","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],["src","./assets/featured_img.png",1,"label-img"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",0),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.ic("click",(function(){return e.gotoCategories()})),g.Nc(6,"Categories"),g.ac(),g.bc(7,"li",5),g.Nc(8),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(9,"div",6),g.bc(10,"nb-card",7),g.bc(11,"nb-card-header",8),g.Nc(12),g.nc(13,"uppercase"),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(14,"div",9),g.bc(15,"div",10),g.bc(16,"div",11),g.bc(17,"div",12),g.bc(18,"div",13),g.bc(19,"input",14),g.ic("ngModelChange",(function(t){return e.searchQuery=t}))("keyup",(function(){return e.checkValidation("subCatInput","","catError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("subCatInput","","catError","","","usual")})),g.ac(),g.Wb(20,"p",15),g.ac(),g.ac(),g.bc(21,"div",16),g.bc(22,"div",13),g.bc(23,"button",17),g.ic("click",(function(){return e.searchCategory()})),g.Nc(24,"Search"),g.ac(),g.ac(),g.ac(),g.bc(25,"div",18),g.bc(26,"button",19),g.ic("click",(function(){return e.refreshPage()})),g.Wb(27,"i",20),g.ac(),g.ac(),g.bc(28,"div",21),g.bc(29,"nb-select",22),g.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),g.Lc(30,Bt,2,2,"nb-option",23),g.ac(),g.Lc(31,Wt,2,0,"button",24),g.bc(32,"button",25),g.ic("click",(function(){return e.addSubCategory()})),g.Nc(33,"Add Sub Category"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(34,"div",26),g.bc(35,"div",27),g.bc(36,"div",28),g.Lc(37,Ht,4,0,"div",29),g.Lc(38,Ut,18,8,"div",30),g.nc(39,"paginate"),g.ac(),g.bc(40,"div",31),g.bc(41,"div",32),g.bc(42,"pagination-controls",33),g.ic("pageChange",(function(t){return e.handlePageChange(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(8),g.Oc(e.broadItem),g.Jb(4),g.Qc(" TOTAL ",g.oc(13,13,e.broadItem)," : ",e.totalRecords," "),g.Jb(7),g.sc("ngModel",e.searchQuery),g.Jb(10),g.sc("selected",e.selectedPageSize),g.Kb("pagin-status",e.paginstatus),g.Jb(1),g.sc("ngForOf",e.pageSize),g.Jb(1),g.sc("ngIf",4==e.categoryId),g.Jb(6),g.sc("ngIf",0==e.totalRecords),g.Jb(1),g.sc("ngForOf",g.pc(39,15,e.categoryData,g.zc(18,$t,e.selectedPageSize,e.currentPage,e.totalRecords))),g.Jb(3),g.Kb("pagin-status",e.paginstatus),g.Jb(1),g.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[l.sb,l.v,l.x,l.M,x.c,x.n,x.q,l.gb,C.m,C.n,I.c,l.Z,Tt,l.w,l.J],pipes:[C.w,I.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;height:58px;text-align:center;font-weight:600;font-size:16px;line-height:25px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}"]}),Gt);function Yt(t,e){1&t&&(g.bc(0,"h5",57),g.Nc(1,"Add Catalog"),g.ac())}function qt(t,e){1&t&&(g.bc(0,"h5",57),g.Nc(1,"Update Catalog"),g.ac())}function Qt(t,e){1&t&&g.Wb(0,"img",58)}function Zt(t,e){if(1&t){var a=g.cc();g.bc(0,"img",59),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.calogImage,g.Fc)}}function Xt(t,e){1&t&&g.Wb(0,"img",58)}function te(t,e){if(1&t){var a=g.cc();g.bc(0,"img",59),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.iconImage,g.Fc)}}function ee(t,e){1&t&&g.Wb(0,"img",58)}function ae(t,e){if(1&t){var a=g.cc();g.bc(0,"img",59),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.lanscapeImage,g.Fc)}}function ne(t,e){1&t&&g.Wb(0,"img",58)}function ie(t,e){if(1&t){var a=g.cc();g.bc(0,"img",59),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.portraitImage,g.Fc)}}function oe(t,e){if(1&t&&(g.bc(0,"nb-option",60),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a.value),g.Jb(1),g.Oc(a.name)}}function re(t,e){1&t&&(g.bc(0,"p",61),g.bc(1,"b"),g.Nc(2,"Note:"),g.ac(),g.Nc(3," For Non-Fix date catalog you have to update date every year starting"),g.ac())}function ce(t,e){1&t&&g.Wb(0,"nb-icon",62)}function se(t,e){1&t&&g.Wb(0,"nb-icon",63)}function le(t,e){1&t&&g.Wb(0,"nb-icon",64)}function de(t,e){if(1&t){var a=g.cc();g.bc(0,"div",4),g.bc(1,"div",28),g.bc(2,"label",29),g.Nc(3,"Event Date"),g.ac(),g.ac(),g.bc(4,"div",30),g.bc(5,"div",31),g.bc(6,"input",65),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().eventDate=t}))("change",(function(){return g.Dc(a),g.mc().checkOtherStatus()})),g.ac(),g.Wb(7,"p",66),g.ac(),g.ac(),g.ac()}if(2&t){var n=g.mc();g.Jb(6),g.sc("ngModel",n.eventDate)}}function ge(t,e){if(1&t){var a=g.cc();g.bc(0,"button",67),g.ic("click",(function(){return g.Dc(a),g.mc().addCatalog()})),g.Nc(1,"Add"),g.ac()}}function he(t,e){if(1&t){var a=g.cc();g.bc(0,"button",67),g.ic("click",(function(){return g.Dc(a),g.mc().addCatalog()})),g.Nc(1,"Update"),g.ac()}}var ue,pe=((ue=function(){function t(e,a,n,i,o){c(this,t),this.validService=e,this.dialogref=a,this.dataService=n,this.utils=i,this.route=o,this.formData=new FormData,this.errormsg=y.b,this.selectCalogType="0",this.selectCalogPrice="1",this.selectedCatalogType="1",this.catalogTypes=[{name:"Normal",value:"1"},{name:"Fix date",value:"2"},{name:"Non-fix date",value:"3"},{name:"Non date",value:"4"}],this.popularity="1",this.token=localStorage.getItem("at"),this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")).category_id,this.subCategoryId=JSON.parse(localStorage.getItem("selected_sub_category")).sub_category_id,this.utils.dialogref=this.dialogref}return r(t,[{key:"ngOnInit",value:function(){this.catalogData&&(this.calogImage=this.catalogData.webp_original_img?this.catalogData.webp_original_img:this.catalogData.thumbnail_img,this.CalogName=this.catalogData.name,this.selectCalogType=this.catalogData.is_featured.toString(),this.selectCalogPrice=this.catalogData.is_free.toString(),this.catalogId=this.catalogData.catalog_id,this.catalogData.catalog_type&&(this.selectedCatalogType=""+this.catalogData.catalog_type),this.catalogData.popularity_rate&&null!=this.catalogData.popularity_rate&&(this.popularity=""+this.catalogData.popularity_rate),this.catalogData.event_date&&null!=this.catalogData.event_date&&(this.eventDate=this.catalogData.event_date),this.catalogData.icon&&null!=this.catalogData.icon&&(this.iconImage=this.catalogData.icon),this.catalogData.compressed_landscape_img&&null!=this.catalogData.compressed_landscape_img&&(this.lanscapeImage=this.catalogData.compressed_landscape_img),this.catalogData.compressed_portrait_img&&null!=this.catalogData.compressed_portrait_img&&(this.portraitImage=this.catalogData.compressed_portrait_img))}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.calogImage=t.target.result,e.checkImageValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList=t.target.files,this.fileList.length>0){this.file=this.fileList[0];var n=Math.round(this.file.size/1024);document.getElementById("imageCalogError").innerHTML=n>100?"Maximum 100Kb file allow":"",this.formData.append("file",this.file,this.file.name)}}},{key:"fileChangeicon",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.iconImage=t.target.result,e.checkIconValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList1=t.target.files,this.fileList1.length>0){this.file1=this.fileList1[0];var n=Math.round(this.file1.size/1024);document.getElementById("iconCalogError").innerHTML=n>50?"Maximum 50Kb file allow":"",this.formData.append("icon",this.file1,this.file1.name)}}},{key:"fileChangeLandscape",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.lanscapeImage=t.target.result,e.checkLandscapeValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList2=t.target.files,this.fileList2.length>0){this.file2=this.fileList2[0];var n=Math.round(this.file2.size/1024);document.getElementById("lanscapeCalogError").innerHTML=n>100?"Maximum 100Kb file allow":"",this.formData.append("landscape",this.file2,this.file2.name)}}},{key:"fileChangePortrait",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.portraitImage=t.target.result,e.checkPortraitValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList3=t.target.files,this.fileList3.length>0){this.file3=this.fileList3[0];var n=Math.round(this.file3.size/1024);document.getElementById("portraitCalogError").innerHTML=n>100?"Maximum 100Kb file allow":"",this.formData.append("portrait",this.file3,this.file3.name)}}},{key:"closedialog",value:function(){this.dialogref.close({res:""})}},{key:"checkImageValid",value:function(){if(document.getElementById("CalogAddError").innerHTML="",null==this.calogImage||"none"==this.calogImage||""==this.calogImage)document.getElementById("imageCalogError").innerHTML=y.b.IMG_REQ;else{if(!this.file)return document.getElementById("imageCalogError").innerHTML="",!0;if(!(Math.round(this.file.size/1024)>100))return document.getElementById("imageCalogError").innerHTML="",!0;document.getElementById("imageCalogError").innerHTML="Maximum 100Kb file allow"}}},{key:"checkPortraitValid",value:function(){return document.getElementById("CalogAddError").innerHTML="",this.file3&&Math.round(this.file3.size/1024)>100?void(document.getElementById("portraitCalogError").innerHTML="Maximum 100Kb file allow"):(document.getElementById("portraitCalogError").innerHTML="",!0)}},{key:"checkLandscapeValid",value:function(){return document.getElementById("CalogAddError").innerHTML="",this.file2&&Math.round(this.file2.size/1024)>100?void(document.getElementById("lanscapeCalogError").innerHTML="Maximum 100Kb file allow"):(document.getElementById("lanscapeCalogError").innerHTML="",!0)}},{key:"checkIconValid",value:function(){return document.getElementById("CalogAddError").innerHTML="",this.file1&&Math.round(this.file1.size/1024)>50?void(document.getElementById("iconCalogError").innerHTML="Maximum 50Kb file allow"):(document.getElementById("iconCalogError").innerHTML="",!0)}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCalogAdd",successArr:["addCalogInput","calogImage"]}}),"blank"!=o&&this.addCatalog()}},{key:"checkOtherStatus",value:function(){return 2!=this.selectedCatalogType&&3!=this.selectedCatalogType||(null==this.eventDate||""==this.eventDate?(document.getElementById("inputdateError").innerHTML="Please enter event date",!1):(document.getElementById("inputdateError").innerHTML="",!0))}},{key:"addCatalog",value:function(){var t,e=this,a=this.validService.checkAllValid([{id:"addCalogInput",errorId:"inputCalogError",type:"",blank_msg:y.b.CAT_LOG_EMPTY,type_msg:""}]),n=this.checkImageValid(),i=this.checkIconValid(),o=this.checkPortraitValid(),r=this.checkLandscapeValid(),c=this.checkOtherStatus();a&&n&&i&&c&&o&&r&&(this.utils.showLoader(),t=this.catalogData?"updateCatalog":"addCatalog",this.formData.append("request_data",JSON.stringify(this.catalogData?{category_id:this.selectedCategory,sub_category_id:this.subCategoryId,is_free:this.selectCalogPrice,catalog_type:+this.selectedCatalogType,event_date:this.eventDate,popularity_rate:this.popularity,is_featured:this.selectCalogType,name:this.CalogName,catalog_id:this.catalogId}:{category_id:this.selectedCategory,sub_category_id:this.subCategoryId,is_free:this.selectCalogPrice,catalog_type:+this.selectedCatalogType,event_date:this.eventDate,popularity_rate:this.popularity,is_featured:this.selectCalogType,name:this.CalogName})),this.dataService.postData(t,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.dialogref.close({res:"add"}),e.utils.showSuccess(e.catalogData?"Catalog updated successfully":"Catalog added successfully",4e3)):201==t.code?(document.getElementById("CalogAddError").innerHTML=t.message,e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||ue)(g.Vb(_.a),g.Vb(l.F),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},ue.\u0275cmp=g.Pb({type:ue,selectors:[["ngx-addcatalog"]],decls:116,vars:30,consts:[[1,"catalog-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-12"],[1,"col-md-3"],[1,"d-block","form-label","text-center"],["id","calogImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput1"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput1","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","calogImage1",1,"img-preview"],["for","fileInput2"],["id","iconCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput2","autofocus","true","accept","image/png",2,"display","none",3,"change"],["id","calogImag2",1,"img-preview"],["for","fileInput3"],["id","lanscapeCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput3","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","calogImage3",1,"img-preview"],["for","fileInput4"],["id","portraitCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput4","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"row","mt-4"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","tabindex","-1","autofocus","false","nbInput","","placeholder","Enter catalog name","id","addCalogInput",1,"w-100","mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],[1,"col-md-8","pl-0"],[1,"w-100","mw-100",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-info",4,"ngIf"],[1,"col-md-1","pl-0"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have fix date in every year.Ex kites day,valentine's day,teacher's day etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have no fix date but it come in every year.Ex Diwali,Holi etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have no any date but it's come.Ex birthday,anniversary etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["id","radioCalogPriInput","name","my-radio-group4",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["class","row",4,"ngIf"],[1,"form-group","mb-0"],["id","radioCalogPriInput","name","my-radio-group1",3,"ngModel","ngModelChange"],["value","0"],["id","radioCalogInput","name","my-radio-group2",3,"ngModel","ngModelChange"],[1,"pb-0"],[1,"form-group","text-center"],["id","CalogAddError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center"],["class","btn bg-primary text-light w-50","id","subCalogAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[3,"value"],[1,"text-info"],["icon","info-outline","pack","eva","nbTooltip","Event which have fix date in every year.Ex kites day,valentine's day,teacher's day etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["icon","info-outline","pack","eva","nbTooltip","Event which have no fix date but it come in every year.Ex Diwali,Holi etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["icon","info-outline","pack","eva","nbTooltip","Event which have no any date but it's come.Ex birthday,anniversary etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["type","date","nbInput","",1,"w-100","mw-100",3,"ngModel","ngModelChange","change"],["id","inputdateError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],["id","subCalogAdd",1,"btn","bg-primary","text-light","w-50",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.Lc(2,Yt,2,0,"h5",2),g.Lc(3,qt,2,0,"h5",2),g.bc(4,"i",3),g.ic("click",(function(){return e.closedialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.bc(8,"div",4),g.bc(9,"div",6),g.bc(10,"label",7),g.Nc(11,"Default"),g.ac(),g.bc(12,"div",8),g.Lc(13,Qt,1,0,"img",9),g.Lc(14,Zt,1,1,"img",10),g.bc(15,"label",11),g.Wb(16,"i",12),g.ac(),g.ac(),g.Wb(17,"p",13),g.bc(18,"input",14),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.ac(),g.bc(19,"div",6),g.bc(20,"label",7),g.Nc(21,"Icon"),g.ac(),g.bc(22,"div",15),g.Lc(23,Xt,1,0,"img",9),g.Lc(24,te,1,1,"img",10),g.bc(25,"label",16),g.Wb(26,"i",12),g.ac(),g.ac(),g.Wb(27,"p",17),g.bc(28,"input",18),g.ic("change",(function(t){return e.fileChangeicon(t)})),g.ac(),g.ac(),g.bc(29,"div",6),g.bc(30,"label",7),g.Nc(31,"Landscape"),g.ac(),g.bc(32,"div",19),g.Lc(33,ee,1,0,"img",9),g.Lc(34,ae,1,1,"img",10),g.bc(35,"label",20),g.Wb(36,"i",12),g.ac(),g.ac(),g.Wb(37,"p",21),g.bc(38,"input",22),g.ic("change",(function(t){return e.fileChangeLandscape(t)})),g.ac(),g.ac(),g.bc(39,"div",6),g.bc(40,"label",7),g.Nc(41,"Portrait"),g.ac(),g.bc(42,"div",23),g.Lc(43,ne,1,0,"img",9),g.Lc(44,ie,1,1,"img",10),g.bc(45,"label",24),g.Wb(46,"i",12),g.ac(),g.ac(),g.Wb(47,"p",25),g.bc(48,"input",26),g.ic("change",(function(t){return e.fileChangePortrait(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(49,"div",5),g.bc(50,"div",27),g.bc(51,"div",28),g.bc(52,"label",29),g.Nc(53,"Catalog"),g.ac(),g.ac(),g.bc(54,"div",30),g.bc(55,"div",31),g.bc(56,"input",32),g.ic("ngModelChange",(function(t){return e.CalogName=t}))("keyup",(function(){return e.checkValidation("addCalogInput","","inputCalogError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("addCalogInput","","inputCalogError",e.errormsg.CAT_LOG_EMPTY,"","usual")})),g.ac(),g.Wb(57,"p",33),g.ac(),g.ac(),g.ac(),g.bc(58,"div",4),g.bc(59,"div",28),g.bc(60,"label",29),g.Nc(61,"Catalog Type 1"),g.ac(),g.ac(),g.bc(62,"div",34),g.bc(63,"div",31),g.bc(64,"nb-select",35),g.ic("selectedChange",(function(t){return e.selectedCatalogType=t})),g.Lc(65,oe,2,2,"nb-option",36),g.ac(),g.Lc(66,re,4,0,"p",37),g.ac(),g.ac(),g.bc(67,"div",38),g.Lc(68,ce,1,0,"nb-icon",39),g.Lc(69,se,1,0,"nb-icon",40),g.Lc(70,le,1,0,"nb-icon",41),g.ac(),g.ac(),g.bc(71,"div",4),g.bc(72,"div",28),g.bc(73,"label",29),g.Nc(74,"Popularity"),g.ac(),g.ac(),g.bc(75,"div",30),g.bc(76,"div",31),g.bc(77,"nb-radio-group",42),g.ic("ngModelChange",(function(t){return e.popularity=t})),g.bc(78,"nb-radio",43),g.Nc(79,"1 "),g.ac(),g.bc(80,"nb-radio",44),g.Nc(81,"2 "),g.ac(),g.bc(82,"nb-radio",45),g.Nc(83,"3 "),g.ac(),g.bc(84,"nb-radio",46),g.Nc(85,"4 "),g.ac(),g.bc(86,"nb-radio",47),g.Nc(87,"5 "),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.Lc(88,de,8,1,"div",48),g.bc(89,"div",4),g.bc(90,"div",28),g.bc(91,"label",29),g.Nc(92,"Pricing"),g.ac(),g.ac(),g.bc(93,"div",30),g.bc(94,"div",49),g.bc(95,"nb-radio-group",50),g.ic("ngModelChange",(function(t){return e.selectCalogPrice=t})),g.bc(96,"nb-radio",43),g.Nc(97,"Free "),g.ac(),g.bc(98,"nb-radio",51),g.Nc(99,"Paid "),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(100,"div",4),g.bc(101,"div",28),g.bc(102,"label",29),g.Nc(103,"Catalog Type 2"),g.ac(),g.ac(),g.bc(104,"div",30),g.bc(105,"div",49),g.bc(106,"nb-radio-group",52),g.ic("ngModelChange",(function(t){return e.selectCalogType=t})),g.bc(107,"nb-radio",43),g.Nc(108,"Featured "),g.ac(),g.bc(109,"nb-radio",51),g.Nc(110,"Normal "),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(111,"nb-card-footer",53),g.bc(112,"div",54),g.Wb(113,"p",55),g.Lc(114,ge,2,0,"button",56),g.Lc(115,he,2,0,"button",56),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",!e.catalogData),g.Jb(1),g.sc("ngIf",e.catalogData),g.Jb(9),g.Kb("valid-status",!!e.catalogData),g.Jb(1),g.sc("ngIf",e.calogImage),g.Jb(1),g.sc("ngIf",e.calogImage),g.Jb(8),g.Kb("valid-status",!!e.catalogData),g.Jb(1),g.sc("ngIf",e.iconImage),g.Jb(1),g.sc("ngIf",e.iconImage),g.Jb(8),g.Kb("valid-status",!!e.catalogData),g.Jb(1),g.sc("ngIf",e.lanscapeImage),g.Jb(1),g.sc("ngIf",e.lanscapeImage),g.Jb(8),g.Kb("valid-status",!!e.catalogData),g.Jb(1),g.sc("ngIf",e.portraitImage),g.Jb(1),g.sc("ngIf",e.portraitImage),g.Jb(12),g.sc("ngModel",e.CalogName),g.Kb("valid-status",!!e.catalogData),g.Jb(8),g.sc("selected",e.selectedCatalogType),g.Jb(1),g.sc("ngForOf",e.catalogTypes),g.Jb(1),g.sc("ngIf",3==e.selectedCatalogType),g.Jb(2),g.sc("ngIf",2==e.selectedCatalogType),g.Jb(1),g.sc("ngIf",3==e.selectedCatalogType),g.Jb(1),g.sc("ngIf",4==e.selectedCatalogType),g.Jb(7),g.sc("ngModel",e.popularity),g.Jb(11),g.sc("ngIf",2==e.selectedCatalogType||3==e.selectedCatalogType),g.Jb(7),g.sc("ngModel",e.selectCalogPrice),g.Kb("valid-status",!!e.catalogData),g.Jb(11),g.sc("ngModel",e.selectCalogType),g.Kb("valid-status",!!e.catalogData),g.Jb(8),g.sc("ngIf",!e.catalogData),g.Jb(1),g.sc("ngIf",e.catalogData))},directives:[l.v,l.x,C.n,l.u,l.M,x.c,x.n,x.q,l.gb,C.m,l.db,l.cb,l.w,l.Z,l.J,l.sb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.catalog-card[_ngcontent-%COMP%]{width:640px}  .catalog-card nb-card-body{max-height:calc(100vh - 191px)}"]}),ue);function be(t,e){1&t&&g.Wb(0,"i",10)}function me(t,e){if(1&t){var a=g.cc();g.bc(0,"button",11),g.ic("click",(function(){g.Dc(a);var t=g.mc(),e=t.$implicit,n=t.index;return g.mc().linkCatalogStatus(e,"linkCatalog",n)})),g.Wb(1,"i",12),g.ac()}}function fe(t,e){if(1&t){var a=g.cc();g.bc(0,"button",13),g.ic("click",(function(){g.Dc(a);var t=g.mc(),e=t.$implicit,n=t.index;return g.mc().linkCatalogStatus(e,"deleteLinkedCatalog",n)})),g.Wb(1,"i",14),g.ac()}}function ve(t,e){if(1&t&&(g.bc(0,"tr"),g.bc(1,"td"),g.Nc(2),g.ac(),g.bc(3,"td"),g.Nc(4),g.ac(),g.bc(5,"td",6),g.Lc(6,be,1,0,"i",7),g.ac(),g.bc(7,"td",6),g.Lc(8,me,2,0,"button",8),g.Lc(9,fe,2,0,"button",9),g.ac(),g.ac()),2&t){var a=e.$implicit,n=e.index;g.Jb(2),g.Oc(n+1),g.Jb(2),g.Oc(a.name),g.Jb(2),g.sc("ngIf",1==a.linked),g.Jb(2),g.sc("ngIf",0==a.linked),g.Jb(1),g.sc("ngIf",1==a.linked)}}var _e,ye=((_e=function(){function t(e,a,n){c(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.getAllSubCategoryWithLinkDetails(this.catalogData)}},{key:"closeDialog",value:function(){this.dialogRef.close({res:this.linkStatus})}},{key:"linkCatalogStatus",value:function(t,e,a){var n=this;this.utils.showLoader(),this.dataService.postData(e,{catalog_id:this.catalogData.catalog_id,sub_category_id:JSON.parse(JSON.stringify(t)).sub_category_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(n.utils.showSuccess(t.message,4e3),n.linkStatus="add",n.catalogList[a].linked="linkCatalog"==e?1:0,n.utils.hideLoader()):201==t.code?(n.utils.showError(t.message,4e3),n.utils.hideLoader()):t.status||0==t.status?(n.utils.showError(y.b.SERVER_ERR,4e3),n.utils.hideLoader()):(n.utils.showError(t.message,4e3),n.utils.hideLoader())}),(function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"getAllSubCategoryWithLinkDetails",value:function(t){var e=this;this.utils.showLoader(),this.dataService.postData("getAllSubCategoryForLinkCatalog",{catalog_id:t.catalog_id,category_id:t.category_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.catalogList=t.data.category_list):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||_e)(g.Vb(l.F),g.Vb(v.a),g.Vb(p.a))},_e.\u0275cmp=g.Pb({type:_e,selectors:[["ngx-linkcatalog"]],decls:10,vars:1,consts:[[1,"catalog-link"],[1,"row"],[1,"col-md-12","text-center","header-text"],["title","Close dialog",1,"fa","fa-times","icon-close","text-dark",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[1,"text-right"],["class","fa fa-check-circle fa-1x",4,"ngIf"],["class","btn btn-link","title","Click here to link",3,"click",4,"ngIf"],["class","btn btn-link bg-danger","title","Click here to unlink",3,"click",4,"ngIf"],[1,"fa","fa-check-circle","fa-1x"],["title","Click here to link",1,"btn","btn-link",3,"click"],[1,"fa","fa-link","text-light"],["title","Click here to unlink",1,"btn","btn-link","bg-danger",3,"click"],[1,"fa","fa-unlink","text-light"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header"),g.bc(2,"div",1),g.bc(3,"div",2),g.bc(4,"h5"),g.Nc(5,"Link Catalog"),g.ac(),g.bc(6,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(7,"nb-card-body"),g.bc(8,"table",4),g.Lc(9,ve,10,5,"tr",5),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(9),g.sc("ngForOf",e.catalogList))},directives:[l.v,l.x,l.u,C.m,C.n],styles:[".catalog-link{width:749px;height:calc(100vh - 200px)}  .catalog-link nb-card-body{padding:0 10px!important}  .catalog-link nb-card-header{position:relative}  .catalog-link .icon-close{position:absolute;right:10px;top:0;font-size:23px;cursor:pointer}  .catalog-link i{font-size:20px;color:green;vertical-align:middle}  .catalog-link td{vertical-align:middle!important}  .catalog-link .btn-link{background:green}  .catalog-link .btn-link i{font-size:16px!important}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}@media only screen and (max-width:600px){.catalog-link[_ngcontent-%COMP%]{width:100%}}"]}),_e),Ce=i("X1uw");function xe(t,e){1&t&&(g.bc(0,"div",55),g.bc(1,"div",56),g.Nc(2,"PRO"),g.ac(),g.ac())}function we(t,e){1&t&&(g.bc(0,"div",57),g.Wb(1,"img",58),g.ac())}function Pe(t,e){1&t&&(g.bc(0,"div",59),g.Wb(1,"img",60),g.ac())}function ke(t,e){1&t&&g.Wb(0,"img",61)}function Me(t,e){if(1&t){var a=g.cc();g.bc(0,"div",31),g.bc(1,"nb-card",32),g.bc(2,"div",33),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewCatalog(t)})),g.Wb(3,"img",34),g.bc(4,"img",35),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.Lc(5,xe,3,0,"div",36),g.Lc(6,we,2,0,"div",37),g.Lc(7,Pe,2,0,"div",38),g.ac(),g.bc(8,"div",39),g.bc(9,"div",40),g.Nc(10),g.ac(),g.ac(),g.bc(11,"nb-card-footer",41),g.bc(12,"a",42),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewCatalog(t)})),g.Wb(13,"nb-icon",43),g.ac(),g.bc(14,"a",44),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().editCatalog(t)})),g.Wb(15,"nb-icon",45),g.ac(),g.bc(16,"a",46),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().deleteCatalog(t.catalog_id)})),g.Wb(17,"nb-icon",47),g.ac(),g.bc(18,"a",48),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().linkCatalog(t)})),g.Wb(19,"nb-icon",49),g.ac(),g.bc(20,"a",50),g.ic("click",(function(){g.Dc(a);var t=e.$implicit,n=e.index;return g.mc().moveToFirst(t,"feature",n)})),g.Wb(21,"nb-icon",51),g.ac(),g.ac(),g.ac(),g.Lc(22,ke,1,0,"img",52),g.bc(23,"div",53),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewImage(t.compressed_img)})),g.Wb(24,"img",54),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=g.mc();g.Jb(4),g.uc("alt","",n.name," thumbnail image"),g.sc("lazyLoad",n.webp_original_img?n.webp_original_img:n.thumbnail_img)("errorImage",i.utils.errorImg),g.Jb(1),g.sc("ngIf",0==n.is_free),g.Jb(1),g.sc("ngIf",n.catalog_type&&n.popularity_rate&&1==n.catalog_type&&5==n.popularity_rate),g.Jb(1),g.sc("ngIf",n.catalog_type&&1!=n.catalog_type),g.Jb(2),g.sc("nbTooltip",n.catalog_id+". "+n.name),g.Jb(1),g.Qc("",n.catalog_id,". ",n.name,""),g.Jb(12),g.sc("ngIf",1==n.is_featured)}}function Oe(t,e){1&t&&(g.bc(0,"div",62),g.Wb(1,"img",63),g.bc(2,"h2"),g.Nc(3,"No data found"),g.ac(),g.ac())}function Ee(t,e){1&t&&(g.bc(0,"div",62),g.Wb(1,"img",63),g.bc(2,"h2"),g.Nc(3,"No data found"),g.ac(),g.ac())}function Se(t,e){1&t&&(g.bc(0,"div",55),g.bc(1,"div",56),g.Nc(2,"PRO"),g.ac(),g.ac())}function Ie(t,e){1&t&&(g.bc(0,"div",57),g.Wb(1,"img",58),g.ac())}function Le(t,e){1&t&&(g.bc(0,"div",59),g.Wb(1,"img",60),g.ac())}function Re(t,e){1&t&&g.Wb(0,"img",61)}function Te(t,e){if(1&t){var a=g.cc();g.bc(0,"div",31),g.bc(1,"nb-card",32),g.bc(2,"div",33),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewCatalog(t)})),g.Wb(3,"img",34),g.bc(4,"img",35),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.Lc(5,Se,3,0,"div",36),g.Lc(6,Ie,2,0,"div",37),g.Lc(7,Le,2,0,"div",38),g.ac(),g.bc(8,"div",39),g.bc(9,"div",40),g.Nc(10),g.ac(),g.ac(),g.bc(11,"nb-card-footer",41),g.bc(12,"a",42),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewCatalog(t)})),g.Wb(13,"nb-icon",43),g.ac(),g.bc(14,"a",44),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().editCatalog(t)})),g.Wb(15,"nb-icon",45),g.ac(),g.bc(16,"a",46),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().deleteCatalog(t.catalog_id)})),g.Wb(17,"nb-icon",47),g.ac(),g.bc(18,"a",64),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().linkCatalog(t)})),g.Wb(19,"nb-icon",49),g.ac(),g.bc(20,"a",50),g.ic("click",(function(){g.Dc(a);var t=e.$implicit,n=e.index;return g.mc().moveToFirst(t,"normal",n)})),g.Wb(21,"nb-icon",51),g.ac(),g.ac(),g.ac(),g.Lc(22,Re,1,0,"img",52),g.bc(23,"div",53),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewImage(t.compressed_img)})),g.Wb(24,"img",54),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=g.mc();g.Jb(4),g.uc("alt","",n.name," thumbnail image"),g.sc("lazyLoad",n.webp_original_img?n.webp_original_img:n.thumbnail_img)("errorImage",i.utils.errorImg),g.Jb(1),g.sc("ngIf",0==n.is_free),g.Jb(1),g.sc("ngIf",n.catalog_type&&n.popularity_rate&&1==n.catalog_type&&5==n.popularity_rate),g.Jb(1),g.sc("ngIf",n.catalog_type&&1!=n.catalog_type),g.Jb(2),g.sc("nbTooltip",n.catalog_id+". "+n.name),g.Jb(1),g.Qc("",n.catalog_id,". ",n.name,""),g.Jb(12),g.sc("ngIf",1==n.is_featured)}}var De,Ne=((De=function(){function t(e,a,n,i,o,r){c(this,t),this.actRoute=e,this.validService=a,this.dialog=n,this.dataService=i,this.utils=o,this.route=r,this.featuredCatalogList=[],this.normalCatalogList=[],this.errormsg=y.b,this.token=localStorage.getItem("at"),this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.subCategoryName=this.actRoute.snapshot.params.subCategoryName}return r(t,[{key:"ngOnInit",value:function(){this.getAllCatalogs()}},{key:"searchCategory",value:function(){var t=this;this.validService.checkAllValid([{id:"calogSearchInput",errorId:"catCalogError",type:"",blank_msg:y.b.CAT_LOG_SEARCH_EMPTY,type_msg:""}])&&(this.utils.showPageLoader(),this.dataService.postData("searchCatalogByName",{sub_category_id:this.subCategoryId,name:this.searchQuery},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.featuredCatalogList=[],t.normalCatalogList=[],t.catalogList=e.data.category_list,t.totalRecords=t.catalogList.length,t.catalogList.forEach((function(e){1==e.is_featured?t.featuredCatalogList.push(e):t.normalCatalogList.push(e)})),t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"viewImage",value:function(t){this.dialog.open(Ce.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCalogButton",successArr:["calogSearchInput"]}}),"blank"!=o&&this.searchCategory()}},{key:"setRank",value:function(t,e){if("feature"==t){var a=this.featuredCatalogList[e];this.featuredCatalogList.splice(e,1),this.featuredCatalogList.splice(0,0,a)}else a=this.normalCatalogList[e],this.normalCatalogList.splice(e,1),this.normalCatalogList.splice(0,0,a)}},{key:"refreshPage",value:function(){this.searchQuery="",this.getAllCatalogs()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategory",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"viewCatalog",value:function(t){localStorage.setItem("selected_catalog",JSON.stringify(t)),t.name=t.name.replace(/ /g,""),this.route.navigate(1==t.is_featured&&3==this.categoryId?["/admin/popular/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:4==this.categoryId?["/admin/fonts/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:7==this.categoryId?["/admin/blog-list/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:["/admin/categories/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id])}},{key:"addCatalog",value:function(){this.open(!1,"")}},{key:"editCatalog",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(pe,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllCatalogs()}))}},{key:"linkCatalog",value:function(t){var e=t;e.category_id=this.categoryId,this.openLinkTag(!1,e)}},{key:"openLinkTag",value:function(t,e){var a=this;this.dialog.open(ye,{closeOnBackdropClick:t,closeOnEsc:!1,context:{catalogData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllCatalogs()}))}},{key:"moveToFirst",value:function(t,e,a){var n=this;this.utils.showLoader(),this.dataService.postData("setCatalogRankOnTheTopByAdmin",{catalog_id:t.catalog_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(n.getAllCatalogs(),n.utils.showSuccess(t.message,4e3),n.utils.hideLoader()):201==t.code?(n.utils.showError(t.message,4e3),n.utils.hideLoader()):t.status||0==t.status?(n.utils.showError(y.b.SERVER_ERR,4e3),n.utils.hideLoader()):(n.utils.showError(t.message,4e3),n.utils.hideLoader())}),(function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"deleteCatalog",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteCatalog",{catalog_id:t},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllCatalogs()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getAllCatalogs",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getCatalogBySubCategoryId",{sub_category_id:this.subCategoryId},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.featuredCatalogList=[],t.normalCatalogList=[],t.catalogList=e.data.category_list,t.totalRecords=e.data.total_record,t.catalogList.forEach((function(e){1==e.is_featured?t.featuredCatalogList.push(e):t.normalCatalogList.push(e)})),t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}]),t}()).\u0275fac=function(t){return new(t||De)(g.Vb(u.a),g.Vb(_.a),g.Vb(l.G),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},De.\u0275cmp=g.Pb({type:De,selectors:[["ngx-catalogsget"]],decls:58,vars:11,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary","mb-2"],[1,"col-md-12"],[1,"col-md-5"],[1,"form-group"],["type","text","nbInput","","placeholder","Search catalog name here","valid-status","false","id","calogSearchInput",2,"background","#fff",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","catCalogError",2,"color","red","margin-bottom","0px","height","14px"],[1,"col-md-2"],["id","subCalogButton",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-2","col-3"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default",1,"btn","btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"col-md-3","col-9","text-right","pr-0"],[1,"btn","btn-primary","btn-add-cat","mr-3",3,"click"],[1,"catalog-data"],["multi",""],["expanded","true"],[1,"row","w-100"],[1,"col-md-9","col-6"],[1,"col-md-3","col-6","text-right"],["class","col-xl-2 col-md-3 col-sm-3 pr-0 pl-0",4,"ngFor","ngForOf"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],[3,"lazyLoad","errorImage","alt","load"],["class","ribbon-wrapper-yellow",4,"ngIf"],["class","catalog-icon","nbTooltip","Popular Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",4,"ngIf"],["class","catalog-icon","nbTooltip","Event Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",4,"ngIf"],[1,"details"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"nbTooltip"],[2,"background","#e1e8f3","padding","10px !important"],["nbTooltip","View","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","folder","pack","eva"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","LInk this catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","link-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","upload","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],[1,"fullscreen-icon",2,"background","lightgray","position","absolute","top","0","right","6px","cursor","pointer",3,"click"],["src","./assets/expand.png",2,"width","25px"],[1,"ribbon-wrapper-yellow"],[1,"ribbon-yellow"],["nbTooltip","Popular Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"catalog-icon"],["src","./assets/popular-icon.jpg"],["nbTooltip","Event Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"catalog-icon"],["src","./assets/event-icon.jpg"],["src","./assets/featured_img.png",1,"label-img"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],["nbTooltip","Link this catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",0),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.ic("click",(function(){return e.gotoCategories()})),g.Nc(6,"Categories"),g.ac(),g.bc(7,"li",5),g.ic("click",(function(){return e.gotoSubCategory()})),g.Nc(8),g.ac(),g.bc(9,"li",6),g.Nc(10),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(11,"div",7),g.bc(12,"nb-card",8),g.bc(13,"nb-card-header",9),g.Nc(14),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(15,"div",10),g.bc(16,"div",11),g.bc(17,"div",0),g.bc(18,"div",12),g.bc(19,"div",13),g.bc(20,"input",14),g.ic("ngModelChange",(function(t){return e.searchQuery=t}))("keyup",(function(){return e.checkValidation("calogSearchInput","","catCalogError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("calogSearchInput","","catCalogError",e.errormsg.SEARCH_QUERY_EMPTY,"","usual")})),g.ac(),g.Wb(21,"p",15),g.ac(),g.ac(),g.bc(22,"div",16),g.bc(23,"div",13),g.bc(24,"button",17),g.ic("click",(function(){return e.searchCategory()})),g.Nc(25,"Search"),g.ac(),g.ac(),g.ac(),g.bc(26,"div",18),g.bc(27,"button",19),g.ic("click",(function(){return e.refreshPage()})),g.Wb(28,"i",20),g.ac(),g.ac(),g.bc(29,"div",21),g.bc(30,"button",22),g.ic("click",(function(){return e.addCatalog()})),g.Nc(31,"Add Catalog"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(32,"div",23),g.bc(33,"div",0),g.bc(34,"div",11),g.bc(35,"nb-accordion",24),g.bc(36,"nb-accordion-item",25),g.bc(37,"nb-accordion-item-header"),g.bc(38,"div",26),g.bc(39,"div",27),g.Nc(40," Templates "),g.ac(),g.bc(41,"div",28),g.Nc(42),g.ac(),g.ac(),g.ac(),g.bc(43,"nb-accordion-item-body"),g.bc(44,"div",0),g.Lc(45,Me,25,10,"div",29),g.Lc(46,Oe,4,0,"div",30),g.ac(),g.ac(),g.ac(),g.bc(47,"nb-accordion-item"),g.bc(48,"nb-accordion-item-header"),g.bc(49,"div",26),g.bc(50,"div",27),g.Nc(51," Collections "),g.ac(),g.bc(52,"div",28),g.Nc(53),g.ac(),g.ac(),g.ac(),g.bc(54,"nb-accordion-item-body"),g.bc(55,"div",0),g.Lc(56,Ee,4,0,"div",30),g.Lc(57,Te,25,10,"div",29),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(7),g.uc("nbTooltip","Go to ",e.broadHome,""),g.Jb(1),g.Oc(e.broadHome),g.Jb(2),g.Oc(e.broadItem),g.Jb(4),g.Pc(" TOTAL CATALOGS : ",e.totalRecords," "),g.Jb(6),g.sc("ngModel",e.searchQuery),g.Jb(22),g.Pc(" Total count: ",e.featuredCatalogList.length," "),g.Jb(3),g.sc("ngForOf",e.featuredCatalogList),g.Jb(1),g.sc("ngIf",0==e.featuredCatalogList.length),g.Jb(7),g.Pc(" Total count: ",e.normalCatalogList.length," "),g.Jb(3),g.sc("ngIf",0==e.normalCatalogList.length),g.Jb(1),g.sc("ngForOf",e.normalCatalogList))},directives:[l.sb,l.v,l.x,l.M,x.c,x.n,x.q,l.g,l.i,l.j,l.h,C.m,C.n,Tt,l.w,l.J],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;height:58px;text-align:center;font-weight:600;font-size:16px;line-height:25px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:6px 0 15px;left:-4px;top:32px;width:120px;background-color:#fbc913;color:#6a6340;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}"]}),De),ze=i("A5z7");function Ve(t,e){1&t&&(g.bc(0,"h5",42),g.Nc(1,"Add JSON Data"),g.ac())}function Je(t,e){1&t&&(g.bc(0,"h5",42),g.Nc(1,"Update JSON Data"),g.ac())}function Ae(t,e){1&t&&g.Wb(0,"img",43)}function Fe(t,e){if(1&t){var a=g.cc();g.bc(0,"img",44),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.jsonImage,g.Fc)}}function Be(t,e){if(1&t){var a=g.cc();g.bc(0,"mat-chip"),g.Nc(1),g.bc(2,"i",45),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().remove(t)})),g.ac(),g.ac()}if(2&t){var n=e.$implicit;g.Jb(1),g.Pc(" ",n," ")}}function We(t,e){if(1&t&&(g.bc(0,"tr"),g.bc(1,"td",52),g.Nc(2),g.ac(),g.bc(3,"td"),g.Nc(4),g.ac(),g.bc(5,"td",52),g.Nc(6),g.ac(),g.bc(7,"td"),g.Nc(8),g.ac(),g.ac()),2&t){var a=e.$implicit;g.Jb(1),g.sc("ngClass",0==a.is_correct_name?"text-danger":"text-success"),g.Jb(1),g.Pc("",a.font_name," "),g.Jb(2),g.Oc(a.correct_font_name),g.Jb(1),g.sc("ngClass",0==a.is_correct_path?"text-danger":"text-success"),g.Jb(1),g.Pc("",a.font_path," "),g.Jb(2),g.Oc(a.correct_font_path)}}function He(t,e){if(1&t&&(g.bc(0,"div",46),g.bc(1,"table",47),g.bc(2,"thead",48),g.bc(3,"tr",49),g.bc(4,"th",50),g.Nc(5,"Incorrect fonts, Please update fonts in red color."),g.ac(),g.ac(),g.bc(6,"tr"),g.bc(7,"th",51),g.Nc(8,"Your font name"),g.ac(),g.bc(9,"th",51),g.Nc(10,"Correct font name"),g.ac(),g.bc(11,"th",51),g.Nc(12,"Your font path"),g.ac(),g.bc(13,"th",51),g.Nc(14,"Correct font path"),g.ac(),g.ac(),g.ac(),g.bc(15,"tbody"),g.Lc(16,We,9,6,"tr",30),g.ac(),g.ac(),g.ac()),2&t){var a=g.mc();g.Jb(16),g.sc("ngForOf",a.incorrect_fonts)}}function je(t,e){if(1&t&&(g.bc(0,"tr"),g.bc(1,"td"),g.Nc(2),g.ac(),g.bc(3,"td"),g.Nc(4),g.ac(),g.bc(5,"td"),g.Nc(6),g.ac(),g.bc(7,"td"),g.Nc(8),g.ac(),g.ac()),2&t){var a=e.$implicit;g.Jb(2),g.Oc(a.font_name),g.Jb(2),g.Oc(a.correct_font_path),g.Jb(2),g.Oc(a.font_path),g.Jb(2),g.Oc(a.correct_font_name)}}function Ue(t,e){if(1&t&&(g.bc(0,"div",46),g.bc(1,"table",47),g.bc(2,"thead",48),g.bc(3,"tr",49),g.bc(4,"th",50),g.Nc(5,"Mismatched fonts, please ask designer to make corrections in JSON."),g.ac(),g.ac(),g.bc(6,"tr"),g.bc(7,"th",51),g.Nc(8,"Your font name"),g.ac(),g.bc(9,"th",51),g.Nc(10,"Suggested font path"),g.ac(),g.bc(11,"th",51),g.Nc(12,"Your font path"),g.ac(),g.bc(13,"th",51),g.Nc(14,"Suggested font name"),g.ac(),g.ac(),g.ac(),g.bc(15,"tbody"),g.Lc(16,je,9,4,"tr",30),g.ac(),g.ac(),g.ac()),2&t){var a=g.mc();g.Jb(16),g.sc("ngForOf",a.mismatch_fonts)}}function Ge(t,e){if(1&t){var a=g.cc();g.bc(0,"button",53),g.ic("click",(function(){return g.Dc(a),g.mc().saveJson()})),g.Nc(1,"Save"),g.ac()}}function $e(t,e){if(1&t){var a=g.cc();g.bc(0,"button",53),g.ic("click",(function(){return g.Dc(a),g.mc().saveJson()})),g.Nc(1,"Update"),g.ac()}}var Ke,Ye=((Ke=function(){function t(e,a,n,i){c(this,t),this.validService=e,this.dialogRef=a,this.utils=n,this.dataService=i,this.allSearchTag=[],this.searchINputControl=new x.d,this.selectedSearchTags=[],this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCataLog=JSON.parse(localStorage.getItem("selected_catalog")),this.selectedType="0",this.selectedPrice="1",this.selectedStyle="1",this.formData=new FormData,this.incorrect_fonts=[],this.mismatch_fonts=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.searchTagList=JSON.parse(localStorage.getItem("search_tag_list")),this.selectedSearchTags=this.selectedCataLog.name.toLowerCase().replace(/[^a-zA-Z ]/g,"  ").replace(/\s\s+/g," ").trim().split(" "),this.searchTagList&&this.searchTagList.forEach((function(e){t.allSearchTag.push(e.tag_name)})),this.options=this.allSearchTag,this.filteredOptions$=Object(rt.a)(this.options),this.filteredOptions$=this.searchINputControl.valueChanges.pipe(Object(_t.a)(""),Object(mt.a)((function(e){return t.filter(e)}))),this.upJSonData&&(this.jsonImage=this.upJSonData.thumbnail_img,this.selectedType=this.upJSonData.is_featured,this.selectedStyle=this.upJSonData.is_portrait.toString(),this.selectedPrice=this.upJSonData.is_free.toString(),this.selectedSearchTags=void 0===this.upJSonData.search_category||""==this.upJSonData.search_category.trim()||null==this.upJSonData.search_category?[]:this.upJSonData.search_category.split(","),this.upJSonData.json_data=JSON.stringify(this.upJSonData.json_data,null,2),this.jsonData=this.upJSonData.json_data)}},{key:"filter",value:function(t){var e=t.toLowerCase();return this.options.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"validateString",value:function(t){return/^[a-z0-9&,# ]+$/i.test(t)}},{key:"add",value:function(t){if("object"==typeof t)if(""!=t.target.value.trim()){if(!this.validateString(t.target.value))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, ' & , #' is allowed in tag name.");for(var e=t.target.value.split(","),a=0;a<e.length;a++)(e[a]||"").trim()&&this.selectedSearchTags.push(e[a].trim().toLowerCase());document.getElementById("tagInputError").innerHTML="",this.searchINputControl.setValue("")}else this.searchINputControl.setValue("");else if(""!=t){if(!this.validateString(t))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '&' is allowed in tag name.");document.getElementById("tagInputError").innerHTML="",this.selectedSearchTags.push(t.toLowerCase()),this.searchINputControl.setValue("")}var n=this.selectedSearchTags.filter((function(t,e,a){return a.indexOf(t)===e}));this.selectedSearchTags=n}},{key:"remove",value:function(t){var e=this.selectedSearchTags.indexOf(t);this.selectedSearchTags.splice(e,1)}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.jsonImage=t.target.result,e.checkImageValid()},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"checkValidation",value:function(t,e,a,n,i){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"saveJson",successArr:["jsonImage","radioCalogPriInput","radioCalogtypeInput","radioCalogstyleInput"]}})}},{key:"checkImageValid",value:function(){if(document.getElementById("jsonAddError").innerHTML="",null!=this.jsonImage&&"none"!=this.jsonImage&&""!=this.jsonImage)return document.getElementById("imageError").innerHTML="",!0;document.getElementById("imageError").innerHTML=y.b.IMG_REQ}},{key:"checkJsonValid",value:function(){if(document.getElementById("jsonAddError").innerHTML="",void 0===this.jsonData||""==this.jsonData.trim()||null==this.jsonData)document.getElementById("jsonFileError").innerHTML=y.b.JSON_DATA_EMPTY;else{if(this.isJson(this.jsonData))return document.getElementById("jsonFileError").innerHTML="",!0;document.getElementById("jsonFileError").innerHTML="JSON data you enter is not valid"}}},{key:"removeError",value:function(){document.getElementById("jsonFileError").innerHTML=""}},{key:"isJson",value:function(t){try{JSON.parse(t)}catch(e){return!1}return!0}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"openFile",value:function(t){var e=this,a=t.target,n=new FileReader;n.onload=function(t){e.jsonData=t.target.result,e.checkJsonValid()},n.readAsText(a.files[0])}},{key:"saveJson",value:function(){var t=this,e=this.checkImageValid(),a=this.checkJsonValid();if(e&&a){var n,i;this.utils.showLoader();var o=JSON.parse(this.jsonData),r=this.selectedSearchTags.join();this.upJSonData?(i={category_id:this.selectedCategory.category_id,is_featured_catalog:this.selectedCataLog.is_featured,img_id:this.upJSonData.img_id,is_free:this.selectedPrice,is_featured:this.selectedType,is_portrait:this.selectedStyle,catalog_id:this.catalogId,json_data:o,search_category:r},n="editJsonData"):(i={category_id:this.selectedCategory.category_id,is_featured_catalog:this.selectedCataLog.is_featured,is_free:this.selectedPrice,is_featured:this.selectedType,is_portrait:this.selectedStyle,catalog_id:this.catalogId,json_data:o,search_category:r},n="addJson"),this.formData.append("request_data",JSON.stringify(i)),this.dataService.postData(n,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.incorrect_fonts=[],t.mismatch_fonts=[],t.utils.hideLoader(),t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3)):201==e.code?(document.getElementById("jsonAddError").innerHTML=e.message,t.utils.hideLoader()):433==e.code?(document.getElementById("jsonAddError").innerHTML=e.message,t.incorrect_fonts=e.data.incorrect_fonts,t.mismatch_fonts=e.data.mismatch_fonts,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(document.getElementById("jsonAddError").innerHTML=e.message,t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Ke)(g.Vb(_.a),g.Vb(l.F),g.Vb(p.a),g.Vb(v.a))},Ke.\u0275cmp=g.Pb({type:Ke,selectors:[["ngx-addjsondata"]],decls:74,vars:18,consts:[[1,"add-json-data-card"],[2,"position","relative"],["class","text-center header-text",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row","json-form-data"],[1,"col-md-5"],["id","jsonImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["type","file","id","fileInput","autofocus","true",2,"display","none",3,"change"],["id","imageError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],[1,"row","mt-4"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["id","radioCalogPriInput","name","my-radio-group1",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","radioPlaError",2,"color","red","margin-bottom","0px","margin-top","4px"],[1,"row"],["id","radioCalogtypeInput","name","my-radio-group2",3,"ngModel","ngModelChange"],["id","radioCalogstyleInput","name","my-radio-group3",3,"ngModel","ngModelChange"],[1,"col-md-12"],["nbInput","","type","text","placeholder","Select / Enter new tag",1,"mw-100","mb-1",3,"formControl","keyup.enter"],["id","tagInputError",2,"color","red","margin-bottom","3px"],["aria-label","Fruit selection"],["chipList",""],[4,"ngFor","ngForOf"],[1,"col-md-7"],[1,"form-group","mb-0"],["type","file","accept","text/plain","title","Choose JSON File",1,"form-control","height-45",3,"change"],["id","jsonFileError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"mb-3"],["nbInput","","placeholder","Enter JSON data",1,"mw-100",2,"height","418px",3,"ngModel","ngModelChange","keyup"],["class","col-md-12 post-table-div pr-0",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-12","text-center"],["id","jsonAddError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],["class","btn bg-primary w-25 text-light mr-1","id","saveJson",3,"click",4,"ngIf"],[1,"text-center","header-text"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["matChipRemove","",1,"fa","fa-times",2,"margin-top","5px","color","red","cursor","pointer",3,"click"],[1,"col-md-12","post-table-div","pr-0"],[1,"table"],[2,"background","#edf1f7"],[1,"table-inverse"],["colspan","4",1,"pt-1","pb-1","text-center"],[1,"pt-1","pb-1"],[3,"ngClass"],["id","saveJson",1,"btn","bg-primary","w-25","text-light","mr-1",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.Lc(2,Ve,2,0,"h5",2),g.Lc(3,Je,2,0,"h5",2),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.bc(8,"div",6),g.Lc(9,Ae,1,0,"img",7),g.Lc(10,Fe,1,1,"img",8),g.bc(11,"label",9),g.Wb(12,"i",10),g.ac(),g.ac(),g.bc(13,"input",11),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.Wb(14,"p",12),g.bc(15,"div",13),g.bc(16,"div",14),g.bc(17,"label",15),g.Nc(18,"Pricing"),g.ac(),g.ac(),g.bc(19,"div",16),g.bc(20,"div",17),g.bc(21,"nb-radio-group",18),g.ic("ngModelChange",(function(t){return e.selectedPrice=t})),g.bc(22,"nb-radio",19),g.Nc(23,"Free "),g.ac(),g.bc(24,"nb-radio",20),g.Nc(25,"Paid "),g.ac(),g.ac(),g.Wb(26,"p",21),g.ac(),g.ac(),g.ac(),g.bc(27,"div",22),g.bc(28,"div",14),g.bc(29,"label",15),g.Nc(30,"Type"),g.ac(),g.ac(),g.bc(31,"div",16),g.bc(32,"div",17),g.bc(33,"nb-radio-group",23),g.ic("ngModelChange",(function(t){return e.selectedType=t})),g.bc(34,"nb-radio",19),g.Nc(35," Featured"),g.ac(),g.bc(36,"nb-radio",20),g.Nc(37," Normal"),g.ac(),g.ac(),g.Wb(38,"p",21),g.ac(),g.ac(),g.ac(),g.bc(39,"div",22),g.bc(40,"div",14),g.bc(41,"label",15),g.Nc(42,"Orientation"),g.ac(),g.ac(),g.bc(43,"div",16),g.bc(44,"div",17),g.bc(45,"nb-radio-group",24),g.ic("ngModelChange",(function(t){return e.selectedStyle=t})),g.bc(46,"nb-radio",19),g.Nc(47," Portrait"),g.ac(),g.bc(48,"nb-radio",20),g.Nc(49," Landscape"),g.ac(),g.ac(),g.Wb(50,"p",21),g.ac(),g.ac(),g.ac(),g.bc(51,"div",22),g.bc(52,"div",25),g.bc(53,"div",17),g.bc(54,"input",26),g.ic("keyup.enter",(function(t){return e.add(t)})),g.ac(),g.Wb(55,"p",27),g.bc(56,"mat-chip-list",28,29),g.Lc(58,Be,3,1,"mat-chip",30),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(59,"div",31),g.bc(60,"div",32),g.bc(61,"input",33),g.ic("change",(function(t){return e.openFile(t)})),g.ac(),g.Wb(62,"p",34),g.ac(),g.bc(63,"h6",35),g.Nc(64,"-- OR --"),g.ac(),g.bc(65,"div",17),g.bc(66,"textarea",36),g.ic("ngModelChange",(function(t){return e.jsonData=t}))("keyup",(function(){return e.removeError()})),g.ac(),g.ac(),g.ac(),g.Lc(67,He,17,1,"div",37),g.Lc(68,Ue,17,1,"div",37),g.ac(),g.bc(69,"div",38),g.bc(70,"div",39),g.Wb(71,"p",40),g.Lc(72,Ge,2,0,"button",41),g.Lc(73,$e,2,0,"button",41),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",!e.upJSonData),g.Jb(1),g.sc("ngIf",e.upJSonData),g.Jb(5),g.Kb("valid-status",!!e.upJSonData),g.Jb(1),g.sc("ngIf",e.jsonImage),g.Jb(1),g.sc("ngIf",e.jsonImage),g.Jb(11),g.sc("ngModel",e.selectedPrice),g.Kb("valid-status",!!e.upJSonData),g.Jb(12),g.sc("ngModel",e.selectedType),g.Kb("valid-status",!!e.upJSonData),g.Jb(12),g.sc("ngModel",e.selectedStyle),g.Kb("valid-status",!!e.upJSonData),g.Jb(9),g.sc("formControl",e.searchINputControl),g.Jb(4),g.sc("ngForOf",e.selectedSearchTags),g.Jb(8),g.sc("ngModel",e.jsonData),g.Jb(1),g.sc("ngIf",e.incorrect_fonts.length>0),g.Jb(1),g.sc("ngIf",e.mismatch_fonts.length>0),g.Jb(4),g.sc("ngIf",!e.upJSonData),g.Jb(1),g.sc("ngIf",e.upJSonData))},directives:[l.v,l.x,C.n,l.u,l.db,x.n,x.q,l.cb,l.M,x.c,x.e,ze.b,C.m,ze.a,ze.c,C.l],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.add-json-data-card[_ngcontent-%COMP%]{width:calc(100vw - 500px);height:calc(100vh - 87px)}.add-json-data-card[_ngcontent-%COMP%]   .json-form-data[_ngcontent-%COMP%]{height:calc(100vh - 267px);overflow-x:hidden;overflow-y:scroll}.add-json-data-card[_ngcontent-%COMP%]   .json-form-data[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.height-45[_ngcontent-%COMP%]{height:45px!important}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}@media only screen and (max-width:600px){.add-json-data-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}"]}),Ke);function qe(t,e){if(1&t){var a=g.cc();g.bc(0,"tr"),g.bc(1,"td",6),g.Nc(2),g.ac(),g.bc(3,"td",7),g.Nc(4),g.ac(),g.bc(5,"td",17),g.Wb(6,"img",18),g.bc(7,"img",19),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.ac(),g.bc(8,"td",17),g.Wb(9,"img",18),g.bc(10,"img",19),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.ac(),g.bc(11,"td",9),g.bc(12,"input",20),g.ic("ngModelChange",(function(t){return g.Dc(a),e.$implicit.is_checked=t}))("change",(function(){g.Dc(a);var t=e.$implicit;return g.mc().valueChanged(t)})),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=e.index;g.Jb(2),g.Oc(i+1),g.Jb(2),g.Oc(n.name),g.Jb(3),g.sc("src",n.url,g.Fc),g.Jb(3),g.sc("src",n.new_image.compressed_img,g.Fc),g.Jb(2),g.sc("ngModel",n.is_checked)}}var Qe,Ze=((Qe=function(){function t(e,a,n){c(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.formData=new FormData,this.requestData={is_replace:0,category_id:JSON.parse(localStorage.getItem("selected_category")).category_id},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.imageFiles.forEach((function(t){t.is_checked=!1}))}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"selectAll",value:function(t){if(document.getElementById("imageExtError").innerHTML="",1==t)for(var e=0;e<this.imageFiles.length;e++)this.imageFiles[e].is_checked=!0;else for(var a=0;a<this.imageFiles.length;a++)this.imageFiles[a].is_checked=!1}},{key:"valueChanged",value:function(){document.getElementById("imageExtError").innerHTML="";for(var t=0;t<this.imageFiles.length;t++)0==this.imageFiles[t].is_checked&&(this.isAllChecked=!1)}},{key:"replaceImages",value:function(t){var e=this,a=0;this.formData=new FormData;for(var n=0;n<t.length;n++)1==t[n].is_checked&&(a++,this.formData.append("file[]",t[n].new_image.compressed_img));if(a<=0)return document.getElementById("imageExtError").innerHTML=y.b.IMG_REP_EMPTY,!1;this.formData.append("request_data",JSON.stringify(this.requestData)),this.utils.showLoader(),this.dataService.postData("addCatalogImagesForJson",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.dialogRef.close({res:"add"})):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Qe)(g.Vb(l.F),g.Vb(v.a),g.Vb(p.a))},Qe.\u0275cmp=g.Pb({type:Qe,selectors:[["ngx-existingimageslist"]],decls:28,vars:2,consts:[[1,"existing-image-card"],[2,"position","relative"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"table-body"],[1,"table-header-content",2,"background","#80808026"],[1,"table","mb-0"],[1,"w-45"],[1,"w-226"],[1,"text-center","w-220"],[1,"text-center"],["type","checkbox",2,"vertical-align","middle","margin-left","5px",3,"ngModel","ngModelChange","change"],[1,"table-body-content"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-area","text-center"],["id","imageExtError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],[1,"text-center","w-220",2,"position","relative"],[1,"placeholder-img",2,"left","unset"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"h5"),g.Nc(3,"Existing Images List"),g.ac(),g.bc(4,"i",2),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",3),g.bc(7,"div",4),g.bc(8,"table",5),g.bc(9,"tr"),g.bc(10,"th",6),g.Nc(11,"#"),g.ac(),g.bc(12,"th",7),g.Nc(13,"Image Name"),g.ac(),g.bc(14,"th",8),g.Nc(15,"Existing Image"),g.ac(),g.bc(16,"th",8),g.Nc(17,"New Image"),g.ac(),g.bc(18,"th",9),g.Nc(19,"Replace"),g.bc(20,"input",10),g.ic("ngModelChange",(function(t){return e.isAllChecked=t}))("change",(function(){return e.selectAll(e.isAllChecked)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(21,"div",11),g.bc(22,"table",12),g.Lc(23,qe,13,5,"tr",13),g.ac(),g.ac(),g.bc(24,"div",14),g.Wb(25,"p",15),g.bc(26,"button",16),g.ic("click",(function(){return e.replaceImages(e.imageFiles)})),g.Nc(27,"Replace"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(20),g.sc("ngModel",e.isAllChecked),g.Jb(3),g.sc("ngForOf",e.imageFiles))},directives:[l.v,l.x,l.u,x.a,x.n,x.q,C.m],styles:[".existing-image-card[_ngcontent-%COMP%]{width:900px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:20px;cursor:pointer;font-size:23px}.table-body-content[_ngcontent-%COMP%]{max-height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-body-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.table-body-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.table-body-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{zoom:1.4}.w-45[_ngcontent-%COMP%]{width:45px}.w-226[_ngcontent-%COMP%]{width:226px}.w-220[_ngcontent-%COMP%]{width:220px}"]}),Qe);function Xe(t,e){if(1&t){var a=g.cc();g.bc(0,"div",16),g.bc(1,"div",17),g.Wb(2,"img",18),g.bc(3,"i",19),g.ic("click",(function(){g.Dc(a);var t=e.index;return g.mc().deleteImage(t)})),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit;g.Jb(2),g.sc("src",n.compressed_img,g.Fc)}}function ta(t,e){if(1&t){var a=g.cc();g.bc(0,"img",35),g.ic("load",(function(t){return g.Dc(a),g.mc(4).imageLoad(t)})),g.ac()}if(2&t){var n=g.mc().$implicit;g.sc("src",n.compressed_img,g.Fc)}}function ea(t,e){if(1&t&&(g.bc(0,"div",32),g.Wb(1,"img",33),g.Lc(2,ta,1,1,"img",34),g.ac()),2&t){var a=e.$implicit,n=g.mc().$implicit;g.Jb(2),g.sc("ngIf",a.name==n.file_name)}}function aa(t,e){if(1&t&&(g.bc(0,"tr"),g.bc(1,"td",30),g.Lc(2,ea,3,1,"div",31),g.ac(),g.bc(3,"td",27),g.Nc(4),g.ac(),g.bc(5,"td",28),g.Nc(6),g.ac(),g.ac()),2&t){var a=e.$implicit,n=g.mc(2);g.Jb(2),g.sc("ngForOf",n.fileList),g.Jb(2),g.Oc(a.file_name),g.Jb(2),g.Oc(a.error_message)}}function na(t,e){if(1&t&&(g.bc(0,"div",20),g.bc(1,"div",9),g.bc(2,"div",21),g.bc(3,"div",22),g.bc(4,"p"),g.Nc(5,"Invalid files, Please update files correct."),g.ac(),g.ac(),g.bc(6,"div",23),g.bc(7,"table",24),g.bc(8,"thead"),g.bc(9,"tr",25),g.bc(10,"th",26),g.Nc(11,"Image"),g.ac(),g.bc(12,"th",27),g.Nc(13,"File Name"),g.ac(),g.bc(14,"th",28),g.Nc(15,"Error"),g.ac(),g.ac(),g.ac(),g.Lc(16,aa,7,3,"tr",29),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t){var a=g.mc();g.Jb(16),g.sc("ngForOf",a.errorList)}}function ia(t,e){if(1&t){var a=g.cc();g.bc(0,"button",36),g.ic("click",(function(){g.Dc(a);var t=g.mc();return t.viewExistingImages(t.existingFiles)})),g.Nc(1,"View Existing Images"),g.ac()}}var oa,ra=function(t){return{"height-img-card":t}},ca=((oa=function(){function t(e,a,n,i){c(this,t),this.dialog=e,this.dialogRef=a,this.dataService=n,this.utils=i,this.totalFiles=0,this.formData=new FormData,this.existingFiles=[],this.errorList=[],this.files=[],this.requestData={is_replace:0,category_id:JSON.parse(localStorage.getItem("selected_category")).category_id},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(this.files=[],this.errorList=[],this.existingFiles=[],this.fileList=t.target.files,this.fileList&&this.fileList.length>0)for(var a=function(t){(i=new FileReader).onload=function(a){e.fileList[t].compressed_img=a.target.result},i.readAsDataURL(e.fileList[t]),e.files.push(e.fileList[t]),e.totalFiles=e.files.length,document.getElementById("imageFileError").innerHTML=e.totalFiles>20?"Max 20 files allow to upload":""},n=0;n<this.fileList.length;n++){var i;a(n)}else this.fileList=[],this.existingFiles=[]}},{key:"deleteImage",value:function(t){document.getElementById("imageFileError").innerHTML="",this.files.splice(t,1),this.totalFiles=this.files.length,0==this.totalFiles&&(this.existingFiles=[])}},{key:"getFileFormData",value:function(){this.formData=new FormData;for(var t=0;t<this.files.length;t++)this.formData.append("file[]",this.files[t])}},{key:"viewExistingImages",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(Ze,{closeOnBackdropClick:t,closeOnEsc:!1,context:{imageFiles:e}}).onClose.subscribe((function(t){if("add"==t.res){for(var n=function(t){e.forEach((function(e){e.name==a.files[t].name&&a.files.splice(t,1)}))},i=0;i<a.files.length;i++)n(i);a.files.length>0?a.addImages():a.dialogRef.close()}}))}},{key:"addImages",value:function(){var t=this;if(this.getFileFormData(),this.errorList=[],void 0===this.files||""==this.files||null==this.files||this.files.length<=0)return document.getElementById("imageFileError").innerHTML=y.b.IMG_UP_EMPTY,!1;this.totalFiles>20?document.getElementById("imageFileError").innerHTML="Max 20 files allow to upload":(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify(this.requestData)),this.dataService.postData("addCatalogImagesForJson",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code)t.dialogRef.close(),t.utils.showSuccess(e.message,4e3),t.utils.hideLoader();else if(201==e.code)document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader();else if(e.status||0==e.status)document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader();else if(420==e.code){t.utils.hideLoader(),document.getElementById("imageFileError").innerHTML=e.message,t.existingFiles=e.data.existing_files;for(var a,n=0;a=t.files[n];n++)t.existingFiles.forEach((function(t){a.name==t.name&&(t.new_image=a)}))}else 432==e.code?(document.getElementById("imageFileError").innerHTML=e.message,t.errorList=e.data.error_list,t.utils.hideLoader()):(document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||oa)(g.Vb(l.G),g.Vb(l.F),g.Vb(v.a),g.Vb(p.a))},oa.\u0275cmp=g.Pb({type:oa,selectors:[["ngx-addjsonimages"]],decls:21,vars:7,consts:[[1,"json-img-card"],[1,"header-text",2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"img-card-content",3,"ngClass"],[1,"add-images-label"],["for","multipleFiles"],["type","file","accept","image/*","onclick","this.value = null;","multiple","","id","multipleFiles",2,"display","none",3,"change"],[1,"upload-card-gallary","height-multi-image","mt-2"],[1,"row"],["class","col-md-2 col-4 col-sm-3 up-card-item",4,"ngFor","ngForOf"],["class","files-error-list",4,"ngIf"],[1,"button-area","text-center"],["id","imageFileError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","27px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],["class","btn bg-success text-light",3,"click",4,"ngIf"],[1,"col-md-2","col-4","col-sm-3","up-card-item"],[1,"up-card-content"],[3,"src"],[1,"fa","fa-times",3,"click"],[1,"files-error-list"],[1,"col-md-12"],[1,"table-header-error"],[1,"table-body"],[1,"table","table-responsive"],[2,"background","#80808026"],[1,"w-105"],[1,"w-325"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"img-td"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"placeholder-img",2,"left","unset","height","100%"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[1,"btn","bg-success","text-light",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"p",2),g.Nc(3,"Add JSON Images"),g.ac(),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.bc(8,"label",6),g.bc(9,"p"),g.Nc(10),g.ac(),g.ac(),g.ac(),g.bc(11,"input",7),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.bc(12,"div",8),g.bc(13,"div",9),g.Lc(14,Xe,4,1,"div",10),g.ac(),g.ac(),g.Lc(15,na,17,1,"div",11),g.ac(),g.bc(16,"div",12),g.Wb(17,"p",13),g.bc(18,"button",14),g.ic("click",(function(){return e.addImages()})),g.Nc(19,"Save"),g.ac(),g.Lc(20,ia,2,0,"button",15),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(6),g.sc("ngClass",g.xc(5,ra,e.errorList.length>0)),g.Jb(4),g.Pc("Choose JSON Images - ",e.totalFiles," Files Selected"),g.Jb(4),g.sc("ngForOf",e.files),g.Jb(1),g.sc("ngIf",e.errorList.length>0),g.Jb(5),g.sc("ngIf",e.existingFiles.length>0))},directives:[l.v,l.x,l.u,C.l,C.m,C.n],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}  .json-img-card{width:700px}.height-img-card[_ngcontent-%COMP%]{height:calc(100vh - 218px);overflow-x:hidden;overflow-y:scroll}.height-img-card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]{border:2px dashed #0273ff;width:100%}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0!important;position:relative;cursor:pointer;padding:15px 10px}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;width:100%;margin-bottom:0!important}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.upload-card-gallary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:100%;height:40px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-item[_ngcontent-%COMP%]{background:#fff;padding:10px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]{border:2px dotted #000;position:relative;text-align:center;padding:4px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;background:#0273ff;color:#fff;padding:5px 7px;border-radius:50%;right:-10px;top:-10px;cursor:pointer}.files-error-list[_ngcontent-%COMP%]   .table-header-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:red;color:#fff;font-size:18px;font-weight:700;text-align:center;padding:10px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:55px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;color:red}.w-105[_ngcontent-%COMP%]{width:105px}.w-325[_ngcontent-%COMP%]{width:325px}.height-multi-image[_ngcontent-%COMP%]{height:130px;padding:10px 18px 10px 10px;overflow-x:hidden;overflow-y:auto}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.json-img-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.files-error-list[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset!important}}@media only screen and (max-width:400px){.json-img-card[_ngcontent-%COMP%]{width:347px}}"]}),oa);function sa(t,e){if(1&t){var a=g.cc();g.bc(0,"div",15),g.bc(1,"div",16),g.Wb(2,"img",17),g.bc(3,"i",18),g.ic("click",(function(){g.Dc(a);var t=e.index;return g.mc().deleteImage(t)})),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit;g.Jb(2),g.sc("src",n.compressed_img,g.Fc)}}function la(t,e){if(1&t){var a=g.cc();g.bc(0,"img",34),g.ic("load",(function(t){return g.Dc(a),g.mc(4).imageLoad(t)})),g.ac()}if(2&t){var n=g.mc().$implicit;g.sc("src",n.compressed_img,g.Fc)}}function da(t,e){if(1&t&&(g.bc(0,"div",31),g.Wb(1,"img",32),g.Lc(2,la,1,1,"img",33),g.ac()),2&t){var a=e.$implicit,n=g.mc().$implicit;g.Jb(2),g.sc("ngIf",a.name==n.file_name)}}function ga(t,e){if(1&t&&(g.bc(0,"tr"),g.bc(1,"td",29),g.Lc(2,da,3,1,"div",30),g.ac(),g.bc(3,"td",26),g.Nc(4),g.ac(),g.bc(5,"td",27),g.Nc(6),g.ac(),g.ac()),2&t){var a=e.$implicit,n=g.mc(2);g.Jb(2),g.sc("ngForOf",n.fileList),g.Jb(2),g.Oc(a.file_name),g.Jb(2),g.Oc(a.error_message)}}function ha(t,e){if(1&t&&(g.bc(0,"div",19),g.bc(1,"div",9),g.bc(2,"div",20),g.bc(3,"div",21),g.bc(4,"p"),g.Nc(5,"Invalid files, Please update files correct."),g.ac(),g.ac(),g.bc(6,"div",22),g.bc(7,"table",23),g.bc(8,"thead"),g.bc(9,"tr",24),g.bc(10,"th",25),g.Nc(11,"Image"),g.ac(),g.bc(12,"th",26),g.Nc(13,"File Name"),g.ac(),g.bc(14,"th",27),g.Nc(15,"Error"),g.ac(),g.ac(),g.ac(),g.Lc(16,ga,7,3,"tr",28),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t){var a=g.mc();g.Jb(16),g.sc("ngForOf",a.errorList)}}var ua,pa=function(t){return{"height-img-card":t}},ba=((ua=function(){function t(e,a,n){c(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.totalFiles=0,this.formData=new FormData,this.errorList=[],this.files=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(this.files=[],this.errorList=[],this.fileList=t.target.files,this.fileList&&this.fileList.length>0)for(var a=function(t){(i=new FileReader).onload=function(a){e.fileList[t].compressed_img=a.target.result},i.readAsDataURL(e.fileList[t]),e.files.push(e.fileList[t]),e.totalFiles=e.files.length,document.getElementById("imageFileError").innerHTML=e.totalFiles>20?"Max 20 files allow to upload":""},n=0;n<this.fileList.length;n++){var i;a(n)}else this.fileList=[]}},{key:"deleteImage",value:function(t){document.getElementById("imageFileError").innerHTML="",this.files.splice(t,1),this.totalFiles=this.files.length}},{key:"getFileFormData",value:function(){this.formData=new FormData;for(var t=0;t<this.files.length;t++)this.formData.append("file[]",this.files[t])}},{key:"addImages",value:function(){var t=this;if(this.getFileFormData(),this.errorList=[],void 0===this.files||""==this.files||null==this.files||this.files.length<=0)return document.getElementById("imageFileError").innerHTML=y.b.IMG_UP_EMPTY,!1;this.totalFiles>20?document.getElementById("imageFileError").innerHTML="Max 20 files allow to upload":(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({catalog_id:this.catalogId,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured})),this.dataService.postData("addCatalogImages",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3),t.utils.hideLoader()):201==e.code?(document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):432==e.code?(document.getElementById("imageFileError").innerHTML=e.message,t.errorList=e.data.error_list,t.utils.hideLoader()):(document.getElementById("imageFileError").innerHTML=e.message,t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||ua)(g.Vb(l.F),g.Vb(v.a),g.Vb(p.a))},ua.\u0275cmp=g.Pb({type:ua,selectors:[["ngx-addsubcategoryimagesbyid"]],decls:20,vars:6,consts:[[1,"json-img-card"],[1,"header-text",2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"img-card-content",3,"ngClass"],[1,"add-images-label"],["for","multipleFiles"],["type","file","accept","image/*","onclick","this.value = null;","multiple","","id","multipleFiles",2,"display","none",3,"change"],[1,"upload-card-gallary","height-multi-image","mt-2"],[1,"row"],["class","col-md-2 up-card-item",4,"ngFor","ngForOf"],["class","files-error-list",4,"ngIf"],[1,"button-area","text-center"],["id","imageFileError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],[1,"col-md-2","up-card-item"],[1,"up-card-content"],[3,"src"],[1,"fa","fa-times",3,"click"],[1,"files-error-list"],[1,"col-md-12"],[1,"table-header-error"],[1,"table-body"],[1,"table","table-responsive"],[2,"background","#80808026"],[1,"w-105"],[1,"w-325"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"img-td"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"placeholder-img",2,"left","unset","height","100%"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"p",2),g.Nc(3,"Add Normal Images"),g.ac(),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.bc(8,"label",6),g.bc(9,"p"),g.Nc(10),g.ac(),g.ac(),g.ac(),g.bc(11,"input",7),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.bc(12,"div",8),g.bc(13,"div",9),g.Lc(14,sa,4,1,"div",10),g.ac(),g.ac(),g.Lc(15,ha,17,1,"div",11),g.ac(),g.bc(16,"div",12),g.Wb(17,"p",13),g.bc(18,"button",14),g.ic("click",(function(){return e.addImages()})),g.Nc(19,"Save"),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(6),g.sc("ngClass",g.xc(4,pa,e.errorList.length>0)),g.Jb(4),g.Pc("Choose Normal Images - ",e.totalFiles," Files Selected"),g.Jb(4),g.sc("ngForOf",e.files),g.Jb(1),g.sc("ngIf",e.errorList.length>0))},directives:[l.v,l.x,l.u,C.l,C.m,C.n],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}  .json-img-card{width:700px}.height-img-card[_ngcontent-%COMP%]{height:calc(100vh - 218px);overflow-x:hidden;overflow-y:scroll}.height-img-card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]{border:2px dashed #0273ff;width:100%}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0!important;position:relative;cursor:pointer;padding:15px 10px}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;width:100%;margin-bottom:0!important}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.upload-card-gallary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:100%;height:40px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-item[_ngcontent-%COMP%]{background:#fff;padding:10px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]{border:2px dotted #000;position:relative;text-align:center;padding:4px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;background:#0273ff;color:#fff;padding:5px 7px;border-radius:50%;right:-10px;top:-10px;cursor:pointer}.files-error-list[_ngcontent-%COMP%]   .table-header-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:red;color:#fff;font-size:18px;font-weight:700;text-align:center;padding:10px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:55px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;color:red}.w-105[_ngcontent-%COMP%]{width:105px}.w-325[_ngcontent-%COMP%]{width:325px}.height-multi-image[_ngcontent-%COMP%]{height:130px;padding:10px 18px 10px 10px;overflow-x:hidden;overflow-y:auto}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.json-img-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.files-error-list[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset!important}}@media only screen and (max-width:400px){.json-img-card[_ngcontent-%COMP%]{width:347px}}"]}),ua),ma=i("EVdn");function fa(t,e){1&t&&(g.bc(0,"div",9),g.bc(1,"div",10),g.Wb(2,"img",11),g.bc(3,"h2"),g.Nc(4,"No data found"),g.ac(),g.ac(),g.ac())}function va(t,e){if(1&t){var a=g.cc();g.bc(0,"tr"),g.bc(1,"td",21),g.Nc(2),g.ac(),g.bc(3,"td"),g.Nc(4),g.ac(),g.bc(5,"td",22),g.bc(6,"input",23),g.ic("ngModelChange",(function(t){return g.Dc(a),e.$implicit.is_linked=t}))("change",(function(t){g.Dc(a);var n=e.$implicit;return g.mc(3).checkboxSelect(n,t)})),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=e.index;g.Jb(2),g.Pc("",i+1,"."),g.Jb(2),g.Oc(n.catalog_name),g.Jb(2),g.sc("ngModel",n.is_linked)}}function _a(t,e){1&t&&(g.bc(0,"p",24),g.Nc(1,"No Data Found"),g.ac())}function ya(t,e){if(1&t&&(g.bc(0,"nb-accordion-item"),g.bc(1,"nb-accordion-item-header",14),g.bc(2,"div",15),g.bc(3,"div",16),g.Nc(4),g.ac(),g.bc(5,"div",17),g.Nc(6),g.ac(),g.ac(),g.ac(),g.bc(7,"nb-accordion-item-body"),g.bc(8,"div",18),g.bc(9,"table",19),g.bc(10,"tbody"),g.Lc(11,va,7,3,"tr",13),g.ac(),g.ac(),g.Lc(12,_a,2,0,"p",20),g.ac(),g.ac(),g.ac()),2&t){var a=e.$implicit,n=e.index;g.Jb(1),g.Jc("background",1==a.has_tplt?"#b1efb1":"#d2cccc61"),g.Jb(3),g.Qc(" ",n+1,". ",a.sub_category_name," "),g.Jb(2),g.Pc(" Total Catalogs: ",a.catalog_list.length," "),g.Jb(5),g.sc("ngForOf",a.catalog_list),g.Jb(1),g.sc("ngIf",0==a.catalog_list.length)}}function Ca(t,e){if(1&t&&(g.bc(0,"div",12),g.bc(1,"nb-accordion"),g.Lc(2,ya,13,7,"nb-accordion-item",13),g.ac(),g.ac()),2&t){var a=g.mc();g.Jb(2),g.sc("ngForOf",a.subCategoryList)}}function xa(t,e){if(1&t){var a=g.cc();g.bc(0,"button",25),g.ic("click",(function(){return g.Dc(a),g.mc().moveTemplate()})),g.Nc(1,"Move"),g.ac()}}var wa,Pa=((wa=function(){function t(e,a,n){c(this,t),this.dialog=e,this.dataService=a,this.utils=n,this.totalRecords=0,this.imgIds=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialog}return r(t,[{key:"ngOnInit",value:function(){this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.getSubList(this.catalogData)}},{key:"closeDialog",value:function(){this.dialog.close({res:""})}},{key:"checkboxSelect",value:function(t,e){var a=this;this.errormsg="",this.selectedCatalog=t,ma('input[name="'+e.target.name+'"]').not(e.target).prop("checked",!1),this.subCategoryList.forEach((function(t){t.has_tplt=!1,t.catalog_list.forEach((function(n){a.selectedCatalog.catalog_id==n.catalog_id?(n.is_linked=1==e.target.checked?1:0,a.selectedCatalog=n,t.has_tplt=!0):n.is_linked=0}))}))}},{key:"getSubList",value:function(t){var e=this;this.utils.showLoader(),this.dataService.postData("getAllSubCategoryToMoveTemplate",{img_id:t.img_id,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.subCategoryList=t.data.sub_category_list,e.subCategoryList&&(e.totalRecords=e.subCategoryList.length),e.subCategoryList.forEach((function(t){t.has_tplt=!1,t.catalog_list.forEach((function(a){1!=a.is_linked&&1!=a.is_linked||(e.selectedCatalog=a,t.has_tplt=!0)}))})),e.utils.hideLoader()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"moveTemplate",value:function(){var t=this;if(0==this.selectedCatalog.is_linked||0==this.selectedCatalog.is_linked)return this.errormsg=y.b.SEL_TMPLT_MV,!1;this.utils.showLoader(),this.errormsg="",this.dataService.postData("moveTemplate",{catalog_id:this.selectedCatalog.catalog_id,template_list:0==this.imgIds.length?[this.catalogData.img_id]:this.imgIds},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.utils.showSuccess(e.message,4e3),t.dialog.close({res:"add"})):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||wa)(g.Vb(l.F),g.Vb(v.a),g.Vb(p.a))},wa.\u0275cmp=g.Pb({type:wa,selectors:[["ngx-movetocatalog"]],decls:12,vars:4,consts:[[1,"move-catalog-card"],[2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],["class","row",4,"ngIf"],["class","move-accord",4,"ngIf"],[1,"move-buttons","text-center","mt-2"],[2,"height","17px","color","red"],["class","btn bg-primary text-light mr-2 w-50",3,"click",4,"ngIf"],[1,"row"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"move-accord"],[4,"ngFor","ngForOf"],[2,"background","#d2cccc61","height","51px"],[1,"row","w-100","clog-header"],[1,"col-md-8","col-7"],[1,"col-md-4","text-right","col-5"],[1,"clog-table"],[1,"table","table-hover","mb-1"],["class","ml-3","style","font-weight: 700;text-align: center;",4,"ngIf"],[1,"text-right"],[1,"text-right","pr-5"],["type","checkbox","name","group1",3,"ngModel","ngModelChange","change"],[1,"ml-3",2,"font-weight","700","text-align","center"],[1,"btn","bg-primary","text-light","mr-2","w-50",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"h5",2),g.Nc(3,"Move Template To Catalog"),g.ac(),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.Lc(6,fa,5,0,"div",4),g.Lc(7,Ca,3,1,"div",5),g.bc(8,"div",6),g.bc(9,"p",7),g.Nc(10),g.ac(),g.Lc(11,xa,2,0,"button",8),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(6),g.sc("ngIf",0==e.totalRecords),g.Jb(1),g.sc("ngIf",e.totalRecords>0),g.Jb(3),g.Oc(e.errormsg),g.Jb(1),g.sc("ngIf",e.totalRecords>0))},directives:[l.v,l.x,l.u,C.n,l.g,C.m,l.i,l.j,l.h,x.a,x.n,x.q],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}  .move-catalog-card{width:700px}  .move-catalog-card .item-body{padding:0!important}  .move-catalog-card td{font-size:17px;font-weight:600}  .move-catalog-card input{zoom:1.9;vertical-align:middle}  .move-catalog-card .move-accord{height:calc(100vh - 350px);overflow-x:hidden;overflow-y:scroll}  .move-catalog-card .move-accord::-webkit-scrollbar{width:5px}  .move-catalog-card .move-accord::-webkit-scrollbar-track{background:#f1f1f1}  .move-catalog-card .move-accord::-webkit-scrollbar-thumb{background:#e4e9f2}.clog-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:16px;font-weight:700}@media only screen and (max-width:600px){.move-catalog-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.move-accord[_ngcontent-%COMP%]   nb-accordion-item-header[_ngcontent-%COMP%]{height:unset!important}}"]}),wa);function ka(t,e){1&t&&g.Wb(0,"img",21)}function Ma(t,e){if(1&t){var a=g.cc();g.bc(0,"img",22),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.categoryData.thumbnail_img,g.Fc)}}function Oa(t,e){if(1&t){var a=g.cc();g.bc(0,"mat-chip"),g.Nc(1),g.bc(2,"i",23),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().remove(t)})),g.ac(),g.ac()}if(2&t){var n=e.$implicit;g.Jb(1),g.Pc(" ",n," ")}}var Ea,Sa=((Ea=function(){function t(e,a,n){c(this,t),this.dialogRef=e,this.utils=a,this.dataService=n,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.formData=new FormData,this.allSearchTag=[],this.searchINputControl=new x.d,this.selectedSearchTags=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.searchTagList=JSON.parse(localStorage.getItem("search_tag_list")),this.searchTagList&&this.searchTagList.forEach((function(e){t.allSearchTag.push(e.tag_name)})),this.options=this.allSearchTag,this.filteredOptions$=Object(rt.a)(this.options),this.filteredOptions$=this.searchINputControl.valueChanges.pipe(Object(_t.a)(""),Object(mt.a)((function(e){return t.filter(e)}))),this.selectedSearchTags=void 0===this.categoryData.search_category||""==this.categoryData.search_category.trim()||null==this.categoryData.search_category?[]:this.categoryData.search_category.split(",")}},{key:"filter",value:function(t){var e=t.toLowerCase();return this.options.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"validateString",value:function(t){return/^[a-z0-9&,# ]+$/i.test(t)}},{key:"add",value:function(t){if("object"==typeof t)if(""!=t.target.value.trim()){if(!this.validateString(t.target.value))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '& , #' is allowed in tag name.");for(var e=t.target.value.split(","),a=0;a<e.length;a++)(e[a]||"").trim()&&this.selectedSearchTags.push(e[a].trim().toLowerCase());document.getElementById("tagInputError").innerHTML="",this.searchINputControl.setValue("")}else this.searchINputControl.setValue("");else if(""!=t){if(!this.validateString(t))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '&' is allowed in tag name.");document.getElementById("tagInputError").innerHTML="",this.selectedSearchTags.push(t),this.searchINputControl.setValue("")}var n=this.selectedSearchTags.filter((function(t,e,a){return a.indexOf(t)===e}));this.selectedSearchTags=n}},{key:"remove",value:function(t){var e=this.selectedSearchTags.indexOf(t);this.selectedSearchTags.splice(e,1)}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.categoryData.compressed_img=t.target.result},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"updateCategory",value:function(){var t=this;this.utils.showLoader(),this.formData.delete("request_data");var e=this.selectedSearchTags.join();this.formData.append("request_data",JSON.stringify({img_id:this.categoryData.img_id,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,search_category:e})),this.dataService.postData("updateCatalogImage",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3)):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Ea)(g.Vb(l.F),g.Vb(p.a),g.Vb(v.a))},Ea.\u0275cmp=g.Pb({type:Ea,selectors:[["ngx-updatesubcategoryimagebyid"]],decls:23,vars:4,consts:[[1,"update-image-card"],[2,"position","relative"],[1,"text-center","header-text"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"pr-0","pl-0"],[1,"card-content","pr-2","pl-2"],[1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["type","file","id","fileInput","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"form-group","mt-3"],["nbInput","","type","text","placeholder","Select / Enter new tag",1,"mw-100","mb-1",3,"formControl","keyup.enter"],["id","tagInputError",2,"color","red","margin-bottom","3px"],[1,"tag-container"],["aria-label","Fruit selection"],["chipList",""],[4,"ngFor","ngForOf"],[1,"button-area","text-center"],[1,"btn","bg-primary","text-light","w-50",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["matChipRemove","",1,"fa","fa-times",2,"margin-top","5px","color","red","cursor","pointer",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"h5",2),g.Nc(3,"Update Image"),g.ac(),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body",4),g.bc(6,"div",5),g.bc(7,"div",6),g.Lc(8,ka,1,0,"img",7),g.Lc(9,Ma,1,1,"img",8),g.bc(10,"label",9),g.Wb(11,"i",10),g.ac(),g.ac(),g.bc(12,"input",11),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.bc(13,"div",12),g.bc(14,"input",13),g.ic("keyup.enter",(function(t){return e.add(t)})),g.ac(),g.Wb(15,"p",14),g.bc(16,"div",15),g.bc(17,"mat-chip-list",16,17),g.Lc(19,Oa,3,1,"mat-chip",18),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(20,"div",19),g.bc(21,"button",20),g.ic("click",(function(){return e.updateCategory()})),g.Nc(22,"Update"),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(8),g.sc("ngIf",e.categoryData.thumbnail_img),g.Jb(1),g.sc("ngIf",e.categoryData.thumbnail_img),g.Jb(5),g.sc("formControl",e.searchINputControl),g.Jb(5),g.sc("ngForOf",e.selectedSearchTags))},directives:[l.v,l.x,l.u,C.n,l.M,x.c,x.n,x.e,ze.b,C.m,ze.a,ze.c],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{right:19px;top:21px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}.close-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;font-size:23px}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:hidden;overflow-y:scroll}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.update-image-card[_ngcontent-%COMP%]   .tag-container[_ngcontent-%COMP%]{height:250px;overflow-x:hidden;overflow-y:scroll}.update-image-card[_ngcontent-%COMP%]   .tag-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media only screen and (max-width:600px){.update-image-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}@media only screen and (max-width:400px){.update-image-card[_ngcontent-%COMP%]{width:347px}}"]}),Ea),Ia=i("aCrv"),La=["header"],Ra=["container"],Ta=["content"],Da=["invisiblePadding"],Na=["*"];function za(){return{checkResizeInterval:1e3,modifyOverflowStyleOfParentScroll:!0,resizeBypassRefreshThreshold:5,scrollAnimationTime:750,scrollDebounceTime:0,scrollThrottlingTime:0,stripedTable:!1}}var Va,Ja,Aa=((Ja=function(){function t(e,a,n,i,o,r){c(this,t),this.element=e,this.renderer=a,this.zone=n,this.changeDetectorRef=i,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.RTL=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._items=[],this.compareItems=function(t,e){return t===e},this.vsUpdate=new g.r,this.vsChange=new g.r,this.vsStart=new g.r,this.vsEnd=new g.r,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=Object(C.C)(o),this.checkResizeInterval=r.checkResizeInterval,this.modifyOverflowStyleOfParentScroll=r.modifyOverflowStyleOfParentScroll,this.resizeBypassRefreshThreshold=r.resizeBypassRefreshThreshold,this.scrollAnimationTime=r.scrollAnimationTime,this.scrollDebounceTime=r.scrollDebounceTime,this.scrollThrottlingTime=r.scrollThrottlingTime,this.scrollbarHeight=r.scrollbarHeight,this.scrollbarWidth=r.scrollbarWidth,this.stripedTable=r.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}return r(t,[{key:"updateOnScrollFunction",value:function(){var t=this;this.onScroll=this.scrollDebounceTime?this.debounce((function(){t.refresh_internal(!1)}),this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing((function(){t.refresh_internal(!1)}),this.scrollThrottlingTime):function(){t.refresh_internal(!1)}}},{key:"revertParentOverscroll",value:function(){var t=this.getScrollElement();t&&this.oldParentScrollOverflow&&(t.style["overflow-y"]=this.oldParentScrollOverflow.y,t.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}},{key:"ngOnInit",value:function(){this.addScrollEventHandlers()}},{key:"ngOnDestroy",value:function(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}},{key:"ngOnChanges",value:function(t){var e=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(e||!t.items||!t.items.previousValue||0===t.items.previousValue.length)}},{key:"ngDoCheck",value:function(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){for(var t=!1,e=0;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+e],this.viewPortItems[e])){t=!0;break}t&&this.refresh_internal(!0)}}},{key:"refresh",value:function(){this.refresh_internal(!0)}},{key:"invalidateAllCachedMeasurements",value:function(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}},{key:"invalidateCachedMeasurementForItem",value:function(t){if(this.enableUnequalChildrenSizes){var e=this.items&&this.items.indexOf(t);e>=0&&this.invalidateCachedMeasurementAtIndex(e)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}},{key:"invalidateCachedMeasurementAtIndex",value:function(t){if(this.enableUnequalChildrenSizes){var e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t];e&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}},{key:"scrollInto",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=this.items.indexOf(t);-1!==o&&this.scrollToIndex(o,e,a,n,i)}},{key:"scrollToIndex",value:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=5,c=function i(){if(--r<=0)o&&o();else{var c=e.calculateDimensions(),s=Math.min(Math.max(t,0),c.itemCount-1);e.previousViewPort.startIndex!==s?e.scrollToIndex_internal(t,a,n,0,i):o&&o()}};this.scrollToIndex_internal(t,a,n,i,c)}},{key:"scrollToIndex_internal",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;n=void 0===n?this.scrollAnimationTime:n;var o=this.calculateDimensions(),r=this.calculatePadding(t,o)+a;e||(r-=o.wrapGroupsPerPage*o[this._childScrollDim]),this.scrollToPosition(r,n,i)}},{key:"scrollToPosition",value:function(t,e,a){var n=this;t+=this.getElementsOffset(),e=void 0===e?this.scrollAnimationTime:e;var i,o=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!e)return this.renderer.setProperty(o,this._scrollType,t),void this.refresh_internal(!1,a);var r={scrollPosition:o[this._scrollType]},c=new Ia.Tween(r).to({scrollPosition:t},e).easing(Ia.Easing.Quadratic.Out).onUpdate((function(t){isNaN(t.scrollPosition)||(n.renderer.setProperty(o,n._scrollType,t.scrollPosition),n.refresh_internal(!1))})).onStop((function(){cancelAnimationFrame(i)})).start();(function e(o){c.isPlaying()&&(c.update(o),r.scrollPosition!==t?n.zone.runOutsideAngular((function(){i=requestAnimationFrame(e)})):n.refresh_internal(!1,a))})(),this.currentTween=c}},{key:"getElementSize",value:function(t){var e=t.getBoundingClientRect(),a=getComputedStyle(t),n=parseInt(a["margin-top"],10)||0,i=parseInt(a["margin-bottom"],10)||0,o=parseInt(a["margin-left"],10)||0,r=parseInt(a["margin-right"],10)||0;return{top:e.top+n,bottom:e.bottom+i,left:e.left+o,right:e.right+r,width:e.width+o+r,height:e.height+n+i}}},{key:"checkScrollElementResized",value:function(){var t,e=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){var a=Math.abs(e.width-this.previousScrollBoundingRect.width),n=Math.abs(e.height-this.previousScrollBoundingRect.height);t=a>this.resizeBypassRefreshThreshold||n>this.resizeBypassRefreshThreshold}else t=!0;t&&(this.previousScrollBoundingRect=e,e.width>0&&e.height>0&&this.refresh_internal(!1))}},{key:"updateDirection",value:function(){this.horizontal?(this._childScrollDim="childWidth",this._invisiblePaddingProperty="scaleX",this._marginDir="margin-left",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._scrollType="scrollLeft",this._translateDir="translateX"):(this._childScrollDim="childHeight",this._invisiblePaddingProperty="scaleY",this._marginDir="margin-top",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._scrollType="scrollTop",this._translateDir="translateY")}},{key:"debounce",value:function(t,e){var a=this.throttleTrailing(t,e),n=function(){a.cancel(),a.apply(this,arguments)};return n.cancel=function(){a.cancel()},n}},{key:"throttleTrailing",value:function(t,e){var a=void 0,n=arguments,i=function(){var i=this;n=arguments,a||(e<=0?t.apply(i,n):a=setTimeout((function(){a=void 0,t.apply(i,n)}),e))};return i.cancel=function(){a&&(clearTimeout(a),a=void 0)},i}},{key:"refresh_internal",value:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){var i=this.previousViewPort,o=this.viewPortItems,r=e;e=function(){var t=a.previousViewPort.scrollLength-i.scrollLength;if(t>0&&a.viewPortItems){var e=o[0],n=a.items.findIndex((function(t){return a.compareItems(e,t)}));if(n>a.previousViewPort.startIndexWithBuffer){for(var c=!1,s=1;s<a.viewPortItems.length;++s)if(!a.compareItems(a.items[n+s],o[s])){c=!0;break}if(!c)return void a.scrollToPosition(a.previousViewPort.scrollStartPosition+t,0,r)}}r&&r()}}this.zone.runOutsideAngular((function(){requestAnimationFrame((function(){t&&a.resetWrapGroupDimensions();var i=a.calculateViewport(),o=t||i.startIndex!==a.previousViewPort.startIndex,r=t||i.endIndex!==a.previousViewPort.endIndex,c=i.scrollLength!==a.previousViewPort.scrollLength,s=i.padding!==a.previousViewPort.padding,l=i.scrollStartPosition!==a.previousViewPort.scrollStartPosition||i.scrollEndPosition!==a.previousViewPort.scrollEndPosition||i.maxScrollPosition!==a.previousViewPort.maxScrollPosition;if(a.previousViewPort=i,c&&(a.renderer.setStyle(a.invisiblePaddingElementRef.nativeElement,"transform","".concat(a._invisiblePaddingProperty,"(").concat(i.scrollLength,")")),a.renderer.setStyle(a.invisiblePaddingElementRef.nativeElement,"webkitTransform","".concat(a._invisiblePaddingProperty,"(").concat(i.scrollLength,")"))),s&&(a.useMarginInsteadOfTranslate?a.renderer.setStyle(a.contentElementRef.nativeElement,a._marginDir,i.padding+"px"):(a.renderer.setStyle(a.contentElementRef.nativeElement,"transform","".concat(a._translateDir,"(").concat(i.padding,"px)")),a.renderer.setStyle(a.contentElementRef.nativeElement,"webkitTransform","".concat(a._translateDir,"(").concat(i.padding,"px)")))),a.headerElementRef){var d=a.getScrollElement()[a._scrollType],g=a.getElementsOffset(),h=Math.max(d-i.padding-g+a.headerElementRef.nativeElement.clientHeight,0);a.renderer.setStyle(a.headerElementRef.nativeElement,"transform","".concat(a._translateDir,"(").concat(h,"px)")),a.renderer.setStyle(a.headerElementRef.nativeElement,"webkitTransform","".concat(a._translateDir,"(").concat(h,"px)"))}var u=o||r?{startIndex:i.startIndex,endIndex:i.endIndex,scrollStartPosition:i.scrollStartPosition,scrollEndPosition:i.scrollEndPosition,startIndexWithBuffer:i.startIndexWithBuffer,endIndexWithBuffer:i.endIndexWithBuffer,maxScrollPosition:i.maxScrollPosition}:void 0;if(o||r||l){var p=function(){a.viewPortItems=i.startIndexWithBuffer>=0&&i.endIndexWithBuffer>=0?a.items.slice(i.startIndexWithBuffer,i.endIndexWithBuffer+1):[],a.vsUpdate.emit(a.viewPortItems),o&&a.vsStart.emit(u),r&&a.vsEnd.emit(u),(o||r)&&(a.changeDetectorRef.markForCheck(),a.vsChange.emit(u)),n>0?a.refresh_internal(!1,e,n-1):e&&e()};a.executeRefreshOutsideAngularZone?p():a.zone.run(p)}else{if(n>0&&(c||s))return void a.refresh_internal(!1,e,n-1);e&&e()}}))}))}},{key:"getScrollElement",value:function(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}},{key:"addScrollEventHandlers",value:function(){var t=this;if(!this.isAngularUniversalSSR){var e=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular((function(){t.parentScroll instanceof Window?(t.disposeScrollHandler=t.renderer.listen("window","scroll",t.onScroll),t.disposeResizeHandler=t.renderer.listen("window","resize",t.onScroll)):(t.disposeScrollHandler=t.renderer.listen(e,"scroll",t.onScroll),t._checkResizeInterval>0&&(t.checkScrollElementResizedTimer=setInterval((function(){t.checkScrollElementResized()}),t._checkResizeInterval)))}))}}},{key:"removeScrollEventHandlers",value:function(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}},{key:"getElementsOffset",value:function(){if(this.isAngularUniversalSSR)return 0;var t=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){var e=this.getScrollElement(),a=this.getElementSize(this.element.nativeElement),n=this.getElementSize(e);t+=this.horizontal?a.left-n.left:a.top-n.top,this.parentScroll instanceof Window||(t+=e[this._scrollType])}return t}},{key:"countItemsPerWrapGroup",value:function(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);var t=this.horizontal?"offsetLeft":"offsetTop",e=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,a=e?e.length:0;if(0===a)return 1;for(var n=e[0][t],i=1;i<a&&n===e[i][t];)++i;return i}},{key:"getScrollStartPosition",value:function(){var t=void 0;return this.parentScroll instanceof Window&&(t=window[this._pageOffsetType]),t||this.getScrollElement()[this._scrollType]||0}},{key:"resetWrapGroupDimensions",value:function(){var t=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),this.enableUnequalChildrenSizes&&t&&0!==t.numberOfKnownWrapGroupChildSizes)for(var e=this.countItemsPerWrapGroup(),a=0;a<t.maxChildSizePerWrapGroup.length;++a){var n=t.maxChildSizePerWrapGroup[a];if(n&&n.items&&n.items.length){if(n.items.length!==e)return;for(var i=!1,o=e*a,r=0;r<e;++r)if(!this.compareItems(n.items[r],this.items[o+r])){i=!0;break}i||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=n.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=n.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[a]=n)}}}},{key:"calculateDimensions",value:function(){var t=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(t.offsetHeight-t.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(t.offsetWidth-t.clientWidth,25),this.calculatedScrollbarWidth);var e,a,n,i=t.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),o=t.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),r=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,c=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){i=this.ssrViewportWidth,o=this.ssrViewportHeight,a=this.ssrChildWidth,n=this.ssrChildHeight;var s=Math.max(Math.ceil(i/a),1),l=Math.max(Math.ceil(o/n),1);e=this.horizontal?s:l}else if(this.enableUnequalChildrenSizes){var d=t[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),g=this.previousViewPort.startIndexWithBuffer||0,h=Math.ceil(g/c),u=0,p=0,b=0,m=0;e=0;for(var f=0;f<r.children.length;++f){++g;var v=this.getElementSize(r.children[f]);if(u=Math.max(u,v.width),p=Math.max(p,v.height),g%c==0){var _=this.wrapGroupDimensions.maxChildSizePerWrapGroup[h];_&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=_.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=_.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;var y=this.items.slice(g-c,g);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[h]={childWidth:u,childHeight:p,items:y},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=u,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=p,this.horizontal){var C=Math.min(u,Math.max(i-b,0));if(d>0){var x=Math.min(d,C);C-=x,d-=x}b+=C,C>0&&i>=b&&++e}else{var w=Math.min(p,Math.max(o-m,0));if(d>0){var P=Math.min(d,w);w-=P,d-=P}m+=w,w>0&&o>=m&&++e}++h,u=0,p=0}}var k=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,M=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;a=this.childWidth||k||i,n=this.childHeight||M||o,this.horizontal?i>b&&(e+=Math.ceil((i-b)/a)):o>m&&(e+=Math.ceil((o-m)/n))}else{if(r.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&i>0&&(this.minMeasuredChildWidth=i),!this.minMeasuredChildHeight&&o>0&&(this.minMeasuredChildHeight=o));var O=this.getElementSize(r.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,O.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,O.height)}a=this.childWidth||this.minMeasuredChildWidth||i,n=this.childHeight||this.minMeasuredChildHeight||o;var E=Math.max(Math.ceil(i/a),1),S=Math.max(Math.ceil(o/n),1);e=this.horizontal?E:S}var I=this.items.length,L=c*e,R=I/L,T=Math.ceil(I/c),D=0,N=this.horizontal?a:n;if(this.enableUnequalChildrenSizes){for(var z=0,V=0;V<T;++V){var J=this.wrapGroupDimensions.maxChildSizePerWrapGroup[V]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[V][this._childScrollDim];J?D+=J:++z}D+=Math.round(z*N)}else D=T*N;this.headerElementRef&&(D+=this.headerElementRef.nativeElement.clientHeight);var A=this.horizontal?i:o;return{childHeight:n,childWidth:a,itemCount:I,itemsPerPage:L,itemsPerWrapGroup:c,maxScrollPosition:Math.max(D-A,0),pageCount_fractional:R,scrollLength:D,viewportLength:A,wrapGroupsPerPage:e}}},{key:"calculatePadding",value:function(t,e){if(0===e.itemCount)return 0;var a=e[this._childScrollDim],n=Math.floor(t/e.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return a*n;for(var i=0,o=0,r=0;r<n;++r){var c=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim];c?o+=c:++i}return o+=Math.round(i*a)}},{key:"calculatePageInfo",value:function(t,e){var a=0;if(this.enableUnequalChildrenSizes){for(var n=Math.ceil(e.itemCount/e.itemsPerWrapGroup),i=0,o=e[this._childScrollDim],r=0;r<n;++r)if(t<(i+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim]||o)){a=r/n;break}}else a=t/e.scrollLength;var c=Math.min(Math.max(a*e.pageCount_fractional,0),e.pageCount_fractional)*e.itemsPerPage,s=e.itemCount-e.itemsPerPage-1,l=Math.min(Math.floor(c),s);if(l-=l%e.itemsPerWrapGroup,this.stripedTable){var d=2*e.itemsPerWrapGroup;l%d!=0&&(l=Math.max(l-l%d,0))}var g=Math.ceil(c)+e.itemsPerPage-1,h=(g+1)%e.itemsPerWrapGroup;h>0&&(g+=e.itemsPerWrapGroup-h),isNaN(l)&&(l=0),isNaN(g)&&(g=0),l=Math.min(Math.max(l,0),e.itemCount-1),g=Math.min(Math.max(g,0),e.itemCount-1);var u=this.bufferAmount*e.itemsPerWrapGroup;return{startIndex:l,endIndex:g,startIndexWithBuffer:Math.min(Math.max(l-u,0),e.itemCount-1),endIndexWithBuffer:Math.min(Math.max(g+u,0),e.itemCount-1),scrollStartPosition:t,scrollEndPosition:t+e.viewportLength,maxScrollPosition:e.maxScrollPosition}}},{key:"calculateViewport",value:function(){var t=this.calculateDimensions(),e=this.getElementsOffset(),a=this.getScrollStartPosition();a>t.scrollLength+e&&!(this.parentScroll instanceof Window)?a=t.scrollLength:a-=e,a=Math.max(0,a);var n=this.calculatePageInfo(a,t),i=this.calculatePadding(n.startIndexWithBuffer,t),o=t.scrollLength;return{startIndex:n.startIndex,endIndex:n.endIndex,startIndexWithBuffer:n.startIndexWithBuffer,endIndexWithBuffer:n.endIndexWithBuffer,padding:Math.round(i),scrollLength:Math.round(o),scrollStartPosition:n.scrollStartPosition,scrollEndPosition:n.scrollEndPosition,maxScrollPosition:n.maxScrollPosition}}},{key:"viewPortInfo",get:function(){var t=this.previousViewPort||{};return{startIndex:t.startIndex||0,endIndex:t.endIndex||0,scrollStartPosition:t.scrollStartPosition||0,scrollEndPosition:t.scrollEndPosition||0,maxScrollPosition:t.maxScrollPosition||0,startIndexWithBuffer:t.startIndexWithBuffer||0,endIndexWithBuffer:t.endIndexWithBuffer||0}}},{key:"enableUnequalChildrenSizes",get:function(){return this._enableUnequalChildrenSizes},set:function(t){this._enableUnequalChildrenSizes!==t&&(this._enableUnequalChildrenSizes=t,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}},{key:"bufferAmount",get:function(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0},set:function(t){this._bufferAmount=t}},{key:"scrollThrottlingTime",get:function(){return this._scrollThrottlingTime},set:function(t){this._scrollThrottlingTime=t,this.updateOnScrollFunction()}},{key:"scrollDebounceTime",get:function(){return this._scrollDebounceTime},set:function(t){this._scrollDebounceTime=t,this.updateOnScrollFunction()}},{key:"checkResizeInterval",get:function(){return this._checkResizeInterval},set:function(t){this._checkResizeInterval!==t&&(this._checkResizeInterval=t,this.addScrollEventHandlers())}},{key:"items",get:function(){return this._items},set:function(t){t!==this._items&&(this._items=t||[],this.refresh_internal(!0))}},{key:"horizontal",get:function(){return this._horizontal},set:function(t){this._horizontal=t,this.updateDirection()}},{key:"parentScroll",get:function(){return this._parentScroll},set:function(t){if(this._parentScroll!==t){this.revertParentOverscroll(),this._parentScroll=t,this.addScrollEventHandlers();var e=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&e!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:e.style["overflow-x"],y:e.style["overflow-y"]},e.style["overflow-y"]=this.horizontal?"visible":"auto",e.style["overflow-x"]=this.horizontal?"auto":"visible")}}}]),t}()).\u0275fac=function(t){return new(t||Ja)(g.Vb(g.o),g.Vb(g.M),g.Vb(g.F),g.Vb(g.i),g.Vb(g.I),g.Vb("virtual-scroller-default-options",8))},Ja.\u0275cmp=g.Pb({type:Ja,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(t,e,a){var n;1&t&&(g.Ob(a,La,!0,g.o),g.Ob(a,Ra,!0,g.o)),2&t&&(g.Ac(n=g.jc())&&(e.headerElementRef=n.first),g.Ac(n=g.jc())&&(e.containerElementRef=n.first))},viewQuery:function(t,e){var a;1&t&&(g.Ic(Ta,!0,g.o),g.Ic(Da,!0,g.o)),2&t&&(g.Ac(a=g.jc())&&(e.contentElementRef=a.first),g.Ac(a=g.jc())&&(e.invisiblePaddingElementRef=a.first))},hostVars:8,hostBindings:function(t,e){2&t&&g.Nb("horizontal",e.horizontal)("vertical",!e.horizontal)("selfScroll",!e.parentScroll)("rtl",e.RTL)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",RTL:"RTL",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",checkResizeInterval:"checkResizeInterval",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",scrollAnimationTime:"scrollAnimationTime",scrollDebounceTime:"scrollDebounceTime",scrollThrottlingTime:"scrollThrottlingTime",scrollbarHeight:"scrollbarHeight",scrollbarWidth:"scrollbarWidth",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[g.Hb],ngContentSelectors:Na,decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(t,e){1&t&&(g.rc(),g.Wb(0,"div",0,1),g.bc(2,"div",2,3),g.qc(4),g.ac())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  \tdisplay: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\n\t\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t\t}\n\n\t\t.horizontal.selfScroll.rtl[_nghost-%COMP%] {\n\t\t\ttransform: scaleX(-1);\n\t\t}\n\n\t\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t\t}\n\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%] {\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\t\t\twhite-space: initial;\n\t\t}\n\n\t\t.horizontal.rtl[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\ttransform:scaleX(-1);\n\t\t}\n\n    .total-padding[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 1px;\n      width: 1px;\n      transform-origin: 0 0;\n      opacity: 0;\n    }\n\n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),Ja),Fa=((Va=function t(){c(this,t)}).\u0275mod=g.Tb({type:Va}),Va.\u0275inj=g.Sb({factory:function(t){return new(t||Va)},providers:[{provide:"virtual-scroller-default-options",useFactory:za}],imports:[[C.c]]}),Va);function Ba(t,e){if(1&t){var a=g.cc();g.bc(0,"div",17),g.bc(1,"button",18),g.ic("click",(function(){g.Dc(a);var t=g.mc();return t.templatesArr=[],t.multiselectFlag=!0})),g.Nc(2,"Select Templates"),g.ac(),g.bc(3,"button",18),g.ic("click",(function(){return g.Dc(a),g.mc().addJsonImages()})),g.Nc(4,"Add JSON Images"),g.ac(),g.bc(5,"button",18),g.ic("click",(function(){return g.Dc(a),g.mc().addJsonData()})),g.Nc(6,"Add JSON Data"),g.ac(),g.bc(7,"button",19),g.ic("click",(function(){return g.Dc(a),g.mc().addNormalImages()})),g.Nc(8,"Add Normal Images"),g.ac(),g.ac()}}function Wa(t,e){if(1&t){var a=g.cc();g.bc(0,"div",17),g.bc(1,"button",20),g.ic("click",(function(){return g.Dc(a),g.mc().uploadTemplateRankArr()})),g.Nc(2,"Set Rank"),g.ac(),g.bc(3,"button",21),g.ic("click",(function(){return g.Dc(a),g.mc().moveMutipleTemplate()})),g.Nc(4,"Move Templates"),g.ac(),g.bc(5,"button",22),g.ic("click",(function(){g.Dc(a);var t=g.mc();return t.templatesArr=[],t.multiselectFlag=!1})),g.Nc(6,"Cancel"),g.ac(),g.ac()}}function Ha(t,e){1&t&&(g.bc(0,"div",23),g.Wb(1,"img",24),g.bc(2,"h2"),g.Nc(3,"No data found"),g.ac(),g.ac())}function ja(t,e){1&t&&(g.bc(0,"div",48),g.bc(1,"div",49),g.Nc(2,"PRO"),g.ac(),g.ac())}function Ua(t,e){1&t&&g.Wb(0,"i",50)}function Ga(t,e){if(1&t&&(g.bc(0,"span",51),g.Nc(1),g.ac()),2&t){var a=g.mc().$implicit,n=g.mc();g.Jb(1),g.Oc(n.templatesArr.indexOf(a.img_id)+1)}}function $a(t,e){1&t&&g.Wb(0,"img",52)}var Ka=function(t){return{"d-block":t}};function Ya(t,e){if(1&t){var a=g.cc();g.bc(0,"div",25),g.bc(1,"nb-card",26),g.bc(2,"div",27),g.ic("click",(function(t){g.Dc(a);var n=e.$implicit,i=g.mc();return i.multiselectFlag?i.addTemplateRank(t,n.img_id):i.viewImage(n.compressed_img)})),g.Wb(3,"img",28),g.bc(4,"img",29),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.Lc(5,ja,3,0,"div",30),g.Lc(6,Ua,1,0,"i",31),g.Lc(7,Ga,2,1,"span",32),g.ac(),g.bc(8,"div",33),g.bc(9,"div"),g.Nc(10),g.ac(),g.ac(),g.bc(11,"nb-card-footer",34),g.bc(12,"div",35),g.bc(13,"a",36),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewImage(t.compressed_img)})),g.Nc(14,"View Image"),g.ac(),g.ac(),g.bc(15,"a",37),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().editSubCategory(t)})),g.Wb(16,"nb-icon",38),g.ac(),g.bc(17,"a",39),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().deleteTemplate(t)})),g.Wb(18,"nb-icon",40),g.ac(),g.bc(19,"a",41),g.ic("click",(function(){g.Dc(a);var t=e.$implicit,n=e.index;return g.mc().moveToFirst(t,n)})),g.Wb(20,"nb-icon",42),g.ac(),g.bc(21,"a",43),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().moveToCatalog(t)})),g.Wb(22,"nb-icon",44),g.ac(),g.bc(23,"a",45),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().setUrls(t.thumbnail_img,t.compressed_img,t.original_img)})),g.Wb(24,"nb-icon",46),g.ac(),g.ac(),g.ac(),g.Lc(25,$a,1,0,"img",47),g.ac()}if(2&t){var n=e.$implicit,i=e.index,o=g.mc();g.sc("id","div-"+i),g.Jb(4),g.uc("alt","",n.name," image"),g.sc("lazyLoad",n.webp_original_img?n.webp_original_img:n.thumbnail_img)("errorImage",o.utils.errorImg),g.Jb(1),g.sc("ngIf",0==n.is_free&&1==n.is_json_data),g.Jb(1),g.sc("ngIf",n.is_json_data&&!o.templatesArr.includes(n.img_id)),g.Jb(1),g.sc("ngIf",-1!=o.templatesArr.indexOf(n.img_id)),g.Jb(3),g.Pc("ID: ",n.img_id,""),g.Jb(2),g.sc("ngClass",g.xc(11,Ka,o.multiselectFlag)),g.Jb(11),g.sc("nbContextMenu",o.copyURLS),g.Jb(2),g.sc("ngIf",1==n.is_featured)}}var qa,Qa=((qa=function(){function t(e,a,n,i,o,r){c(this,t),this.menuService=e,this.dialog=a,this.route=n,this.actRoute=i,this.dataService=o,this.utils=r,this.searchTagList=[],this.templatesArr=[],this.multiselectFlag=!1,this.copyURLS=[{title:"Copy Thumbnail Image URL",img_url:"hello",img_type:"Thumbnail Image"},{title:"Copy Compressed Image URL",img_url:"hello",img_type:"Compressed Image"},{title:"Copy Original Image URL",img_url:"hello",img_type:"Original Image"}],this.token=localStorage.getItem("at"),this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.loadedImages=0,window.setInterval((function(){localStorage.removeItem("search_tag_list")}),72e4)}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.menuService.onItemClick().subscribe((function(e){t.copyUrl(e.item)})),this.getAllCategories()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"moveToFirst",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData("setContentRankOnTheTopByAdmin",{img_id:t.img_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.showSuccess(t.message,4e3),a.utils.hideLoader(),a.getAllCategories()):201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"deleteTemplate",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteCatalogImage",{img_id:t.img_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.getAllCategories(),e.utils.showSuccess(t.message,4e3)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getAllCategories",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getDataByCatalogIdForAdmin",{catalog_id:this.catalogId},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.viewCatdata=e.data.image_list,t.totalRecords=t.viewCatdata.length,t.utils.hidePageLoader(),window.dispatchEvent(new Event("resize"))):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"moveToCatalog",value:function(t){this.openMove(!1,t,[])}},{key:"moveMutipleTemplate",value:function(){0==this.templatesArr.length?this.utils.showError("Please select templates for move",6e3):this.openMove(!1,this.viewCatdata[0],this.templatesArr)}},{key:"openMove",value:function(t,e,a){var n=this;this.dialog.open(Pa,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e,imgIds:a}}).onClose.subscribe((function(t){t&&"add"==t.res&&(n.multiselectFlag=!1,n.templatesArr=[],n.getAllCategories())}))}},{key:"addJsonImages",value:function(){this.openJsonImages(!1)}},{key:"openJsonImages",value:function(t){this.dialog.open(ca,{closeOnBackdropClick:t,closeOnEsc:!1})}},{key:"addJsonData",value:function(){this.openJsonData(!1)}},{key:"openJsonData",value:function(t){var e=this;this.dialog.open(Ye,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogId:this.catalogId}}).onClose.subscribe((function(t){t&&"add"==t.res&&e.getAllCategories()}))}},{key:"editSubCategory",value:function(t){1==t.is_json_data||"1"==t.is_json_data?this.openUpdateJson(!1,t):this.openUpdateJsonImage(!1,t)}},{key:"openUpdateJson",value:function(t,e){var a=this;this.dialog.open(Ye,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{upJSonData:JSON.parse(JSON.stringify(e)),catalogId:this.categoryId}}).onClose.subscribe((function(t){t&&"add"==t.res&&a.getAllCategories()}))}},{key:"openUpdateJsonImage",value:function(t,e){var a=this;this.dialog.open(Sa,{closeOnBackdropClick:t,closeOnEsc:!1,context:{categoryData:JSON.parse(JSON.stringify(e))}}).onClose.subscribe((function(t){t&&"add"==t.res&&a.getAllCategories()}))}},{key:"addNormalImages",value:function(){this.openAddSubCategoryImage(!1)}},{key:"openAddSubCategoryImage",value:function(t){var e=this;this.dialog.open(ba,{closeOnBackdropClick:t,closeOnEsc:!1,context:{catalogId:this.catalogId}}).onClose.subscribe((function(t){t&&"add"==t.res&&e.getAllCategories()}))}},{key:"viewImage",value:function(t,e){console.log(e),this.dialog.open(Ce.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}},{key:"setUrls",value:function(t,e,a){this.copyURLS[0].img_url=t,this.copyURLS[1].img_url=e,this.copyURLS[2].img_url=a}},{key:"copyUrl",value:function(t){if("Thumbnail Image"==t.img_type||"Compressed Image"==t.img_type||"Original Image"==t.img_type){var e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t.img_url,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.utils.showSuccess("Copied the URL for "+t.img_type,2e3)}}},{key:"addTemplateRank",value:function(t,e){this.templatesArr.length>19?this.templatesArr.includes(e)?this.templatesArr.splice(this.templatesArr.indexOf(e),1):this.utils.showError("Maximum 20 templates are allow for select",6e3):this.templatesArr.includes(e)?this.templatesArr.splice(this.templatesArr.indexOf(e),1):this.templatesArr.push(e)}},{key:"uploadTemplateRankArr",value:function(){var t=this;0==this.templatesArr.length?this.utils.showError("Please select templates for set rank",6e3):(this.utils.showLoader(),this.dataService.postData("setMultipleContentRankByAdmin",{img_ids:this.templatesArr},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.showSuccess(e.message,4e3),t.utils.hideLoader(),t.templatesArr=[],t.multiselectFlag=!1,t.getAllCategories()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||qa)(g.Vb(l.Y),g.Vb(l.G),g.Vb(u.c),g.Vb(u.a),g.Vb(v.a),g.Vb(p.a))},qa.\u0275cmp=g.Pb({type:qa,selectors:[["ngx-viewsubcategories"]],decls:25,vars:11,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary","pr-0","mt-2"],["class","col-md-12 text-right pr-0",4,"ngIf"],[1,"card-gallary-view","virtual-scroll-cat","row","mt-2"],["class","col-md-12 text-center mt-3",4,"ngIf"],["enableUnequalChildrenSizes","true",3,"items"],["scroll",""],["class","col-xl-2 col-md-3 col-sm-3 pr-0 pl-0",3,"id",4,"ngFor","ngForOf"],[1,"col-md-12","text-right","pr-0"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary","normal-img-btn",3,"click"],[1,"btn","btn-success","mr-2","w-10",3,"click"],[1,"btn","btn-success","mr-2",3,"click"],[1,"btn","btn-danger","mr-2","w-10",3,"click"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0",3,"id"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden","height","130px",3,"click"],[1,"placeholder-img"],[3,"lazyLoad","errorImage","alt","load"],["class","ribbon-wrapper-yellow",4,"ngIf"],["class","fa fa-code font-26 code-icon",4,"ngIf"],["class","rank-icon",4,"ngIf"],[1,"details",2,"height","30px","margin-top","0px"],[1,"mt-3","template-card-footer",2,"position","relative"],[1,"overlay-action",3,"ngClass"],[3,"click"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","upload","pack","eva"],["nbTooltip","Move to another catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","external-link","pack","eva"],["nbTooltip","More Actions","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbContextMenuPlacement","right",3,"nbContextMenu","click"],["icon","more-horizontal","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],[1,"ribbon-wrapper-yellow"],[1,"ribbon-yellow"],[1,"fa","fa-code","font-26","code-icon"],[1,"rank-icon"],["src","./assets/featured_img.png",1,"label-img"]],template:function(t,e){if(1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",0),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.ic("click",(function(){return e.gotoCategories()})),g.Nc(6,"Categories"),g.ac(),g.bc(7,"li",5),g.ic("click",(function(){return e.gotoSubCategories()})),g.Nc(8),g.ac(),g.bc(9,"li",5),g.ic("click",(function(){return e.gotoCatalog()})),g.Nc(10),g.ac(),g.bc(11,"li",6),g.Nc(12),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(13,"div",7),g.bc(14,"nb-card",8),g.bc(15,"nb-card-header",9),g.Nc(16),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(17,"div",10),g.Lc(18,Ba,9,0,"div",11),g.Lc(19,Wa,7,0,"div",11),g.ac(),g.bc(20,"div",12),g.Lc(21,Ha,4,0,"div",13),g.bc(22,"virtual-scroller",14,15),g.Lc(24,Ya,26,13,"div",16),g.ac(),g.ac()),2&t){var a=g.Bc(23);g.Jb(7),g.uc("nbTooltip","Go to ",e.broadHome,""),g.Jb(1),g.Oc(e.broadHome),g.Jb(1),g.uc("nbTooltip","Go to ",e.broadSubHome,""),g.Jb(1),g.Oc(e.broadSubHome),g.Jb(2),g.Oc(e.broadItem),g.Jb(4),g.Pc(" TOTAL RECORDS : ",e.totalRecords," "),g.Jb(2),g.sc("ngIf",!e.multiselectFlag),g.Jb(1),g.sc("ngIf",e.multiselectFlag),g.Jb(2),g.sc("ngIf",0==e.totalRecords),g.Jb(1),g.sc("items",e.viewCatdata),g.Jb(2),g.sc("ngForOf",a.viewPortItems)}},directives:[l.sb,l.v,l.x,C.n,Aa,C.m,Tt,l.w,C.l,l.J,l.B],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;height:58px;text-align:center;font-weight:600;font-size:16px;line-height:25px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:6px 0 15px;left:-4px;top:32px;width:120px;background-color:#fbc913;color:#6a6340;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}.code-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:10px 8px;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.virtual-scroll-cat[_ngcontent-%COMP%]{overflow-y:hidden!important}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.w-10[_ngcontent-%COMP%]{width:10%}.template-card-footer[_ngcontent-%COMP%]{background:#e1e8f3;padding:10px;position:relative}.overlay-action[_ngcontent-%COMP%]{position:absolute;background:#e1e8f3;height:100%;width:100%;display:none}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:17px;font-weight:700;cursor:pointer}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}  virtual-scroller{max-height:calc(100vh - 228px)!important}  .scrollable-content{position:unset!important;display:flex;flex-wrap:wrap}  virtual-scroller{width:100vw}  virtual-scroller::-webkit-scrollbar{width:5px}  virtual-scroller::-webkit-scrollbar-track{background:#f1f1f1}  virtual-scroller::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.normal-img-btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:9px}}"]}),qa);function Za(t,e){1&t&&(g.bc(0,"h5",5),g.Nc(1,"Update Font"),g.ac())}function Xa(t,e){1&t&&(g.bc(0,"h5",5),g.Nc(1,"Add New Font"),g.ac())}function tn(t,e){if(1&t){var a=g.cc();g.bc(0,"nb-card-body"),g.bc(1,"div",6),g.bc(2,"div",7),g.bc(3,"label",8),g.Nc(4,"Font Name(ios)"),g.ac(),g.ac(),g.bc(5,"div",9),g.bc(6,"div",10),g.bc(7,"input",11),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().iosFontName=t}))("keyup",(function(){return g.Dc(a),g.mc().checkValidation("editIosInput","","inputIosError","","","blank")}))("keyup.enter",(function(){g.Dc(a);var t=g.mc();return t.checkValidation("editIosInput","","inputIosError",t.errormsg.FONT_NAME_EMPTY,"","usual")})),g.ac(),g.Wb(8,"p",12),g.ac(),g.ac(),g.ac(),g.bc(9,"div",6),g.bc(10,"div",7),g.bc(11,"label",8),g.Nc(12,"Font Path(Android)"),g.ac(),g.ac(),g.bc(13,"div",9),g.bc(14,"div",10),g.bc(15,"input",13),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().androidFontName=t}))("keyup",(function(){return g.Dc(a),g.mc().checkValidation("editandroidInput","","inputAndroidError","","","blank")}))("keyup.enter",(function(){g.Dc(a);var t=g.mc();return t.checkValidation("editandroidInput","","inputAndroidError",t.errormsg.FONT_PATH_EMPTY,"","usual")})),g.ac(),g.Wb(16,"p",14),g.ac(),g.ac(),g.ac(),g.bc(17,"div",15),g.Wb(18,"p",16),g.bc(19,"button",17),g.ic("click",(function(){return g.Dc(a),g.mc().editCategory()})),g.Nc(20,"Update"),g.ac(),g.ac(),g.ac()}if(2&t){var n=g.mc();g.Jb(7),g.sc("ngModel",n.iosFontName),g.Jb(8),g.sc("ngModel",n.androidFontName)}}function en(t,e){if(1&t){var a=g.cc();g.bc(0,"nb-card-body"),g.bc(1,"div",6),g.bc(2,"div",7),g.bc(3,"label",8),g.Nc(4,"Font File"),g.ac(),g.ac(),g.bc(5,"div",9),g.bc(6,"div",10),g.bc(7,"input",18),g.ic("change",(function(t){return g.Dc(a),g.mc().fileChange(t)})),g.ac(),g.Wb(8,"p",19),g.ac(),g.ac(),g.ac(),g.bc(9,"div",6),g.bc(10,"div",7),g.bc(11,"label",8),g.Nc(12,"Font Name"),g.ac(),g.ac(),g.bc(13,"div",9),g.bc(14,"div",10),g.bc(15,"input",20),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().fontDetails.font_name=t}))("keyup",(function(){return g.Dc(a),g.mc().checkValidation("addFontInput","","inputFontError","","","blank")}))("keyup.enter",(function(){g.Dc(a);var t=g.mc();return t.checkValidation("addFontInput","","inputFontError",t.errormsg.FONT_NAME_EMPTY,"","usual")})),g.ac(),g.Wb(16,"p",21),g.ac(),g.ac(),g.ac(),g.bc(17,"div",15),g.Wb(18,"p",22),g.bc(19,"button",17),g.ic("click",(function(){g.Dc(a);var t=g.mc();return t.addNewFont(t.fontDetails,"0")})),g.Nc(20,"Add"),g.ac(),g.ac(),g.ac()}if(2&t){var n=g.mc();g.Jb(15),g.sc("ngModel",n.fontDetails.font_name)}}var an,nn,on=((an=function(){function t(e,a,n,i){c(this,t),this.validService=e,this.utils=a,this.dataService=n,this.dialogRef=i,this.errormsg=y.b,this.formData=new FormData,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.fontDetails={},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.iosFontName=this.fontData.ios_font_name,this.androidFontName=this.fontData.android_font_name}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.fontDetails.font_file=t.target.result,document.getElementById("fontFileError").innerHTML="",document.getElementById("fontAddError").innerHTML=""},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.formData.delete("file"),this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("fontAddError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"fontedit",successArr:["editIosInput","editandroidInput"]}}),"blank"!=o&&(this.fontData?this.editCategory():this.addNewFont(this.fontDetails,"0"))}},{key:"editCategory",value:function(){var t=this;this.validService.checkAllValid([{id:"editIosInput",errorId:"inputIosError",type:"",blank_msg:y.b.FONT_NAME_EMPTY,type_msg:""},{id:"editandroidInput",errorId:"inputAndroidError",type:"",blank_msg:y.b.FONT_PATH_EMPTY,type_msg:""}])&&this.dataService.postData("editFont",{font_id:this.fontData.font_id,ios_font_name:this.iosFontName,android_font_name:this.androidFontName},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3)):201==e.code?(document.getElementById("fontAddError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(document.getElementById("fontAddError").innerHTML=e.message,t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"checkfontfile",value:function(){return this.fontDetails.font_file?(document.getElementById("fontFileError").innerHTML="",!0):(document.getElementById("fontFileError").innerHTML=y.b.FONT_FILE_EMPTY,!1)}},{key:"addNewFont",value:function(t,e){var a=this,n=this.validService.checkAllValid([{id:"addFontInput",errorId:"inputFontError",type:"",blank_msg:y.b.FONT_NAME_EMPTY,type_msg:""}]),i=this.checkfontfile();n&&i&&(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,catalog_id:this.catalogId,ios_font_name:this.fontDetails.font_name,android_font_name:t.android_font_name,is_replace:e})),this.dataService.postData("addFont",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("fontAddError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(document.getElementById("fontAddError").innerHTML=t.message,a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||an)(g.Vb(_.a),g.Vb(p.a),g.Vb(v.a),g.Vb(l.F))},an.\u0275cmp=g.Pb({type:an,selectors:[["ngx-editfont"]],decls:7,vars:4,consts:[[1,"edit-font-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter font name","id","editIosInput","valid-status","true",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputIosError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["type","text","autofocus","false","nbInput","","placeholder","Enter font path","id","editandroidInput","valid-status","true",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputAndroidError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"form-group","text-center"],["id","fontAddError",2,"color","red","margin-bottom","2px"],["id","fontedit",1,"btn","bg-primary","text-light","w-50","mr-2",3,"click"],["type","file","id","fontFile",1,"form-control","height-45",2,"overflow","hidden",3,"change"],["id","fontFileError",2,"color","red","margin-bottom","3px","margin-top","4px","height","14px"],["type","text","nbInput","","placeholder","Enter font name","valid-status","false","id","addFontInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputFontError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["id","fontAddError",2,"color","red","margin-bottom","3px"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.Lc(2,Za,2,0,"h5",2),g.Lc(3,Xa,2,0,"h5",2),g.bc(4,"i",3),g.ic("click",(function(){return e.closedialog()})),g.ac(),g.ac(),g.Lc(5,tn,21,2,"nb-card-body",4),g.Lc(6,en,21,1,"nb-card-body",4),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",e.fontData),g.Jb(1),g.sc("ngIf",!e.fontData),g.Jb(2),g.sc("ngIf",e.fontData),g.Jb(1),g.sc("ngIf",!e.fontData))},directives:[l.v,l.x,C.n,l.u,l.M,x.c,x.n,x.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}  .edit-font-card{width:520px}.height-45[_ngcontent-%COMP%]{height:45px!important}@media only screen and (max-width:600px){.edit-font-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}"]}),an),rn=["table"],cn=((nn=function(){function t(e,a,n,i,o){c(this,t),this.dialog=e,this.route=a,this.actRoute=n,this.dataService=i,this.utils=o,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.totalRecords=24,this.fontIds=[],this.j=1,this.fontDetails={},this.input='<input type="checkbox"></input>',this.inputCheck='<input type="checkbox" checked></input>',this.formData=new FormData,this.settings={mode:"external",selectMode:"multi",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="fa fa-edit" title="Edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-trash-alt" title="Delete"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"text",width:"75px",editable:!1,filter:!1,hideHeader:!0,sort:!1},font_name:{title:"Font Name",type:"html",hideHeader:!0,filter:!1},ios_font_name:{title:"Font Name(ios)",type:"html",hideHeader:!0,filter:!1},android_font_name:{title:"Font Path(Android)",type:"html",hideHeader:!0,filter:!1},is_active:{title:"Status",type:"html",filter:!1,valuePrepareFunction:function(t){return 0==t?"In-Active":"Active"}}},actions:{add:!1,position:"right",delete:!0,edit:!0},pager:{display:!1,perPage:parseInt(this.selectedPageSize)},rowClassFunction:function(t){return"table-td-th"}},this.token=localStorage.getItem("at")}return r(t,[{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.settings.pager.perPage=parseInt(this.selectedPageSize),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!1)}},{key:"ngOnInit",value:function(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllFontsByCatalogId(this.catalogId)}},{key:"getRows",value:function(t){this.j=1}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.fontDetails.font_file=t.target.result,document.getElementById("fontError").innerHTML=""},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.formData.delete("file"),this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"selectFonts",value:function(t){var e=this;t.selected.length<this.totalRecords?this.table.isAllSelected=!1:t.selected.length==this.totalRecords&&(this.table.isAllSelected=!0),this.fontIds=[],t.selected.forEach((function(t){e.fontIds.push(t.font_id)}))}},{key:"moveToCorrupt",value:function(){var t=this;0==this.fontIds.length?this.utils.showError(y.b.SEL_FONT,4e3):this.utils.getConfirm().then((function(e){t.utils.showLoader(),t.dataService.postData("removeInvalidFont",{catalog_id:parseInt(t.catalogId),font_ids:t.fontIds.join(",")},{headers:{Authorization:"Bearer "+t.token}}).then((function(e){200==e.code?(t.table.isAllSelected=!1,t.utils.hideLoader(),t.getAllFontsByCatalogId(t.catalogId),t.utils.showSuccess(e.message,4e3)):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getAllFontsByCatalogId",value:function(t){var e=this;this.utils.showPageLoader(),this.dataService.postData("getAllFontsByCatalogIdForAdmin",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var a=1;t.data.result.forEach((function(t){t.id=a,a++})),e.totalRecords=t.data.total_count,e.FontData=t.data.result,e.dataSource=new S.a(e.FontData),e.dataSource.setPaging(e.dataSource.getPaging().page,parseInt(e.selectedPageSize),!1),e.utils.hidePageLoader()}else 201==t.code?(e.utils.showError(t.message,4e3),e.utils.hidePageLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hidePageLoader()):(e.utils.showError(t.message,4e3),e.utils.hidePageLoader())}),(function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"addFont",value:function(){this.open(!1,"")}},{key:"editFont",value:function(t){this.open(!1,t.data)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(on,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{fontData:e,catalogId:this.catalogId}}).onClose.subscribe((function(t){"add"==t.res&&(a.j=1,a.getAllFontsByCatalogId(a.catalogId))}))}},{key:"deleteFont",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteFont",{font_id:t.data.font_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.j=1,e.utils.showSuccess(t.message,4e3),e.getAllFontsByCatalogId(e.catalogId)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"addNewFont",value:function(t,e){var a=this;if(!t.font_file)return document.getElementById("fontError").innerHTML=y.b.FONT_FILE_EMPTY,!1;this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,catalog_id:this.catalogId,ios_font_name:this.fontDetails.font_name,android_font_name:t.android_font_name,is_replace:e})),this.dataService.postData("addFont",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),ma("#fontFile").val(""),a.fontDetails.font_name="",a.utils.showSuccess(t.message,4e3),a.getAllFontsByCatalogId(a.catalogId)):201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||nn)(g.Vb(l.G),g.Vb(u.c),g.Vb(u.a),g.Vb(v.a),g.Vb(p.a))},nn.\u0275cmp=g.Pb({type:nn,selectors:[["ngx-fontlist"]],viewQuery:function(t,e){var a;1&t&&g.Rc(rn,!0),2&t&&g.Ac(a=g.jc())&&(e.table=a.first)},decls:29,vars:8,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12"],[1,"breadcrumb","bg-none","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-20","fw-700","p-7"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","ml-2","mr-2","text-light",3,"click"],[1,"btn","bg-primary","text-light",3,"click"],[1,"row","mt-2"],[1,"table-card","table-card-font"],[1,"pt-0","pl-0","pr-0","pb-0"],[3,"settings","source","edit","delete","userRowSelect"],["table",""]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",0),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.ic("click",(function(){return e.gotoCategories()})),g.Nc(6,"Categories"),g.ac(),g.bc(7,"li",5),g.ic("click",(function(){return e.gotoSubCategories()})),g.Nc(8),g.ac(),g.bc(9,"li",5),g.ic("click",(function(){return e.gotoCatalog()})),g.Nc(10),g.ac(),g.bc(11,"li",6),g.Nc(12),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(13,"div",7),g.bc(14,"nb-card",8),g.bc(15,"nb-card-header",9),g.Nc(16),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(17,"div",0),g.bc(18,"div",10),g.bc(19,"button",11),g.ic("click",(function(){return e.addFont()})),g.Nc(20,"Add New Font"),g.ac(),g.bc(21,"button",12),g.ic("click",(function(){return e.moveToCorrupt()})),g.Nc(22,"Move to Corrupted"),g.ac(),g.ac(),g.ac(),g.bc(23,"div",13),g.bc(24,"div",2),g.bc(25,"nb-card",14),g.bc(26,"nb-card-body",15),g.bc(27,"ng2-smart-table",16,17),g.ic("edit",(function(t){return e.editFont(t)}))("delete",(function(t){return e.deleteFont(t)}))("userRowSelect",(function(t){return e.selectFonts(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(7),g.uc("nbTooltip","Go to ",e.broadHome,""),g.Jb(1),g.Oc(e.broadHome),g.Jb(1),g.uc("nbTooltip","Go to ",e.broadSubHome,""),g.Jb(1),g.Oc(e.broadSubHome),g.Jb(2),g.Oc(e.broadItem),g.Jb(4),g.Pc(" TOTAL FONTS : ",e.totalRecords," "),g.Jb(11),g.sc("settings",e.settings)("source",e.dataSource))},directives:[l.sb,l.v,l.x,l.u,S.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;height:58px;text-align:center;font-weight:600;font-size:16px;line-height:25px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:6px 0 15px;left:-4px;top:32px;width:120px;background-color:#fbc913;color:#6a6340;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}.code-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:10px 8px;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.virtual-scroll-cat[_ngcontent-%COMP%]{overflow-y:hidden!important}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.w-10[_ngcontent-%COMP%]{width:10%}.template-card-footer[_ngcontent-%COMP%]{background:#e1e8f3;padding:10px;position:relative}.overlay-action[_ngcontent-%COMP%]{position:absolute;background:#e1e8f3;height:100%;width:100%;display:none}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:17px;font-weight:700;cursor:pointer}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}  virtual-scroller{max-height:calc(100vh - 228px)!important}  .scrollable-content{position:unset!important;display:flex;flex-wrap:wrap}  virtual-scroller{width:100vw}  virtual-scroller::-webkit-scrollbar{width:5px}  virtual-scroller::-webkit-scrollbar-track{background:#f1f1f1}  virtual-scroller::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.normal-img-btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:9px}}  ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}.w-272[_ngcontent-%COMP%]{width:272px}.height-45[_ngcontent-%COMP%]{height:45px!important}.w-280[_ngcontent-%COMP%]{width:280px}.w-98[_ngcontent-%COMP%]{width:98px}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}.bg-none[_ngcontent-%COMP%]{background:unset!important}.table-card-font[_ngcontent-%COMP%]{height:calc(100vh - 212px)}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .table-td-th td:first-child{width:75px!important}  .table-td-th td:nth-child(5){width:274px!important}  .table-card-font .ng2-smart-filters{display:none}[_nghost-%COMP%]     .ng2-smart-action-multiple-select>input, [_nghost-%COMP%]     .ng2-smart-titles th>input{width:25px;height:25px;display:unset}[_nghost-%COMP%]     .table-card-font .ng2-smart-titles th:first-child{text-align:center;width:75px!important}[_nghost-%COMP%]     .table-card-font .ng2-smart-titles th:nth-child(5){width:274px!important}  .table-card-font ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-card-font ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}"]}),nn);function sn(t,e){1&t&&(g.bc(0,"h5",29),g.Nc(1,"Upload Images"),g.ac())}function ln(t,e){1&t&&(g.bc(0,"h5",29),g.Nc(1,"Update Sub Category"),g.ac())}function dn(t,e){1&t&&g.Wb(0,"img",30)}function gn(t,e){if(1&t){var a=g.cc();g.bc(0,"img",31),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.sampleImage,g.Fc)}}function hn(t,e){1&t&&g.Wb(0,"img",30)}function un(t,e){if(1&t){var a=g.cc();g.bc(0,"img",31),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.displayImage,g.Fc)}}function pn(t,e){if(1&t){var a=g.cc();g.bc(0,"button",32),g.ic("click",(function(){return g.Dc(a),g.mc().addsampleImage()})),g.Nc(1,"Add"),g.ac()}}function bn(t,e){if(1&t){var a=g.cc();g.bc(0,"button",32),g.ic("click",(function(){return g.Dc(a),g.mc().addsampleImage()})),g.Nc(1,"Update"),g.ac()}}var mn,fn=((mn=function(){function t(e,a,n,i){c(this,t),this.validService=e,this.utils=a,this.dialogRef=n,this.dataService=i,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.formData=new FormData,this.selectType="1",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.sampleData&&(this.sampleImage=this.sampleData.original_thumbnail_img,this.displayImage=this.sampleData.display_thumbnail_img,this.selectType=this.sampleData.image_type.toString())}},{key:"fileChange1",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.sampleImage=t.target.result},a.readAsDataURL(t.target.files[0])}if(this.fileList1=t.target.files,this.fileList1.length>0){this.file1=this.fileList1[0];var n=Math.round(this.file1.size/1024);document.getElementById("imageErrorSample").innerHTML=n>100?"Maximum 100Kb file allow to upload":"",this.formData.append("original_img",this.file1,this.file1.name)}}},{key:"fileChange2",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.displayImage=t.target.result},a.readAsDataURL(t.target.files[0])}if(this.fileList2=t.target.files,this.fileList2.length>0){this.file2=this.fileList2[0];var n=Math.round(this.file2.size/1024);document.getElementById("imageErrorDisplay").innerHTML=n>100?"Maximum 100Kb file allow to upload":"",this.formData.append("display_img",this.file2,this.file2.name)}}},{key:"checkValidation",value:function(t,e,a,n,i){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"sampleAdd",successArr:["sampleImage","displayImage"]}})}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkImageValidSample",value:function(){if(document.getElementById("sampleAddError").innerHTML="",null==this.sampleImage||"none"==this.sampleImage||""==this.sampleImage)document.getElementById("imageErrorSample").innerHTML=y.b.IMG_REQ;else{if(!this.file1)return document.getElementById("imageErrorSample").innerHTML="",!0;if(!(Math.round(this.file1.size/1024)>100))return document.getElementById("imageErrorSample").innerHTML="",!0;document.getElementById("imageErrorSample").innerHTML="Maximum 100Kb file allow to upload"}}},{key:"checkImageValidDisplay",value:function(){if(document.getElementById("sampleAddError").innerHTML="",null==this.displayImage||"none"==this.displayImage||""==this.displayImage)document.getElementById("imageErrorDisplay").innerHTML=y.b.IMG_REQ;else{if(!this.file2)return document.getElementById("imageErrorDisplay").innerHTML="",!0;if(!(Math.round(this.file2.size/1024)>100))return document.getElementById("imageErrorDisplay").innerHTML="",!0;document.getElementById("imageErrorDisplay").innerHTML="Maximum 100Kb file allow to upload"}}},{key:"addsampleImage",value:function(){var t,e,a=this,n=this.checkImageValidSample(),i=this.checkImageValidDisplay();n&&i&&(this.utils.showLoader(),this.sampleData?(t={category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,image_type:this.selectType,img_id:this.sampleData.img_id},e="updateFeaturedBackgroundCatalogImage"):(t={category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,image_type:this.selectType,catalog_id:this.catalogId},e="addFeaturedBackgroundCatalogImage"),this.formData.append("request_data",JSON.stringify(t)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("sampleAddError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||mn)(g.Vb(_.a),g.Vb(p.a),g.Vb(l.F),g.Vb(v.a))},mn.\u0275cmp=g.Pb({type:mn,selectors:[["ngx-popularsampleadd"]],decls:43,vars:12,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-6","text-center"],[1,"form-label"],["id","sampleImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput1"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageErrorSample",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","27px"],["type","file","id","fileInput1","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","displayImage",1,"img-preview"],["for","fileInput2"],["id","imageErrorDisplay",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","27px"],["type","file","id","fileInput2","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"row","mt-3"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["id","radiosampleInput",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["id","radiosampleError",2,"color","red","margin-bottom","0px","margin-top","4px"],[1,"form-group","text-center"],["id","sampleAddError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["class","btn btn-primary w-50 mr-2","id","sampleAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["id","sampleAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card"),g.bc(1,"nb-card-header",0),g.Lc(2,sn,2,0,"h5",1),g.Lc(3,ln,2,0,"h5",1),g.bc(4,"i",2),g.ic("click",(function(){return e.closedialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",3),g.bc(7,"div",4),g.bc(8,"label",5),g.Nc(9,"Background Image"),g.ac(),g.bc(10,"div",6),g.Lc(11,dn,1,0,"img",7),g.Lc(12,gn,1,1,"img",8),g.bc(13,"label",9),g.Wb(14,"i",10),g.ac(),g.ac(),g.Wb(15,"p",11),g.bc(16,"input",12),g.ic("change",(function(t){return e.fileChange1(t)})),g.ac(),g.ac(),g.bc(17,"div",4),g.bc(18,"label",5),g.Nc(19,"Display Image"),g.ac(),g.bc(20,"div",13),g.Lc(21,hn,1,0,"img",7),g.Lc(22,un,1,1,"img",8),g.bc(23,"label",14),g.Wb(24,"i",10),g.ac(),g.ac(),g.Wb(25,"p",15),g.bc(26,"input",16),g.ic("change",(function(t){return e.fileChange2(t)})),g.ac(),g.ac(),g.ac(),g.bc(27,"div",17),g.bc(28,"div",18),g.bc(29,"label",19),g.Nc(30,"Image Type"),g.ac(),g.ac(),g.bc(31,"div",20),g.bc(32,"div",21),g.bc(33,"nb-radio-group",22),g.ic("ngModelChange",(function(t){return e.selectType=t})),g.bc(34,"nb-radio",23),g.Nc(35,"Background"),g.ac(),g.bc(36,"nb-radio",24),g.Nc(37,"Frame "),g.ac(),g.ac(),g.Wb(38,"p",25),g.ac(),g.ac(),g.ac(),g.bc(39,"div",26),g.Wb(40,"p",27),g.Lc(41,pn,2,0,"button",28),g.Lc(42,bn,2,0,"button",28),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",!e.sampleData),g.Jb(1),g.sc("ngIf",e.sampleData),g.Jb(7),g.Kb("valid-status",!!e.sampleData),g.Jb(1),g.sc("ngIf",e.sampleImage),g.Jb(1),g.sc("ngIf",e.sampleImage),g.Jb(8),g.Kb("valid-status",!!e.sampleData),g.Jb(1),g.sc("ngIf",e.displayImage),g.Jb(1),g.sc("ngIf",e.displayImage),g.Jb(11),g.sc("ngModel",e.selectType),g.Kb("valid-status",!!e.sampleData),g.Jb(8),g.sc("ngIf",!e.sampleData),g.Jb(1),g.sc("ngIf",e.sampleData))},directives:[l.v,l.x,C.n,l.u,l.db,x.n,x.q,l.cb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),mn);function vn(t,e){1&t&&(g.bc(0,"div",15),g.Wb(1,"img",16),g.bc(2,"h2"),g.Nc(3,"No data found"),g.ac(),g.ac())}function _n(t,e){if(1&t){var a=g.cc();g.bc(0,"div",17),g.bc(1,"nb-card",18),g.bc(2,"div",19),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewImage(t.display_compressed_img)})),g.Wb(3,"img",20),g.bc(4,"img",21),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.ac(),g.bc(5,"nb-card-footer",22),g.bc(6,"a",23),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().uploadImages(t)})),g.Wb(7,"nb-icon",24),g.ac(),g.bc(8,"a",25),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().deleteSampleImage(t)})),g.Wb(9,"nb-icon",26),g.ac(),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=g.mc();g.Jb(4),g.sc("lazyLoad",n.display_thumbnail_img)("errorImage",i.utils.errorImg)}}var yn,Cn=((yn=function(){function t(e,a,n,i,o){c(this,t),this.dialog=e,this.route=a,this.actRoute=n,this.dataService=i,this.utils=o,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.token=localStorage.getItem("at")}return r(t,[{key:"ngOnInit",value:function(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllBackgroundCatogory(this.catalogId)}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"uploadImages",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(fn,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{sampleData:e,catalogId:this.catalogId}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllBackgroundCatogory(a.catalogId)}))}},{key:"deleteSampleImage",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteCatalogImage",{img_id:t.img_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllBackgroundCatogory(e.catalogId)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getAllBackgroundCatogory",value:function(t){var e=this;this.utils.showPageLoader(),this.dataService.postData("getSampleImagesForAdmin",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.sampleData=t.data.image_list,e.totalRecords=e.sampleData.length,e.utils.hidePageLoader()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hidePageLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hidePageLoader()):(e.utils.showError(t.message,4e3),e.utils.hidePageLoader())}),(function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"viewImage",value:function(t){this.dialog.open(Ce.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}]),t}()).\u0275fac=function(t){return new(t||yn)(g.Vb(l.G),g.Vb(u.c),g.Vb(u.a),g.Vb(v.a),g.Vb(p.a))},yn.\u0275cmp=g.Pb({type:yn,selectors:[["ngx-popularsamples"]],decls:24,vars:8,consts:[[1,"row"],[1,"col-md-6","pl-0"],[1,"col-md-12"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","pr-0","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"col-md-12","pr-0","text-right"],[1,"btn","btn-primary",3,"click"],[1,"card-gallary-view","row","mt-2"],["class","col-md-12 text-center mt-3",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3  pr-0 pl-0",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';","alt","Thumbnail image",3,"lazyLoad","errorImage","load"],[1,"mt-3",2,"background","#E1E8F3"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",0),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.ic("click",(function(){return e.gotoCategories()})),g.Nc(6,"Categories"),g.ac(),g.bc(7,"li",5),g.ic("click",(function(){return e.gotoSubCategories()})),g.Nc(8),g.ac(),g.bc(9,"li",5),g.ic("click",(function(){return e.gotoCatalog()})),g.Nc(10),g.ac(),g.bc(11,"li",6),g.Nc(12),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(13,"div",7),g.bc(14,"nb-card",8),g.bc(15,"nb-card-header",9),g.Nc(16),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(17,"div",0),g.bc(18,"div",10),g.bc(19,"button",11),g.ic("click",(function(){return e.uploadImages("")})),g.Nc(20,"Upload Images"),g.ac(),g.ac(),g.ac(),g.bc(21,"div",12),g.Lc(22,vn,4,0,"div",13),g.Lc(23,_n,10,2,"div",14),g.ac()),2&t&&(g.Jb(7),g.uc("nbTooltip","Go to ",e.broadHome,""),g.Jb(1),g.Oc(e.broadHome),g.Jb(1),g.uc("nbTooltip","Go to ",e.broadSubHome,""),g.Jb(1),g.Oc(e.broadSubHome),g.Jb(2),g.Oc(e.broadItem),g.Jb(4),g.Pc(" TOTAL IMAGES : ",e.totalRecords," "),g.Jb(6),g.sc("ngIf",0==e.totalRecords),g.Jb(1),g.sc("ngForOf",e.sampleData))},directives:[l.sb,l.v,l.x,C.n,C.m,Tt,l.w,l.J],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;height:58px;text-align:center;font-weight:600;font-size:16px;line-height:25px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}.va-middle[_ngcontent-%COMP%]{vertical-align:middle}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;max-height:calc(100vh - 216px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}"]}),yn);function xn(t,e){1&t&&(g.bc(0,"h5",46),g.Nc(1,"Add Blog Data"),g.ac())}function wn(t,e){1&t&&(g.bc(0,"h5",46),g.Nc(1,"Update Blog Data"),g.ac())}function Pn(t,e){if(1&t){var a=g.cc();g.bc(0,"button",47),g.ic("click",(function(){return g.Dc(a),g.mc().uploadBlog()})),g.Nc(1,"Upload"),g.ac()}}function kn(t,e){if(1&t){var a=g.cc();g.bc(0,"button",47),g.ic("click",(function(){return g.Dc(a),g.mc().uploadBlog()})),g.Nc(1,"Update"),g.ac()}}function Mn(t,e){1&t&&g.Wb(0,"img",48)}function On(t,e){if(1&t){var a=g.cc();g.bc(0,"img",49),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac()}if(2&t){var n=g.mc();g.sc("src",n.blogImg,g.Fc)}}function En(t,e){if(1&t&&g.Wb(0,"img",50),2&t){var a=g.mc();g.sc("src",a.blogImg,g.Fc)}}var Sn,In=function(t,e){return{color:t,"font-size.px":e}},Ln=((Sn=function(){function t(e,a,n){c(this,t),this.dialogRef=e,this.utils=a,this.dataService=n,this.formData=new FormData,this.selectDevice="1",this.globalStyle='<style>body{padding: 5px; text-indent: 0px !important; font-size: 16px !important; font-family: "verdana";} img{vertical-align: middle;} span{text-indent: 0px !important} p{margin: 0 !important; text-indent: 0px !important;} table { border: none;margin: 0 !important;width: 100%;} .sttc-button {font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 1rem; font-weight: 500; border: none; border-radius: 4px; box-shadow: none; color: #ffffff; cursor: pointer; display: inline-block; margin: 0px; padding: 8px 18px; text-decoration: none; background-color: #ffcd00; overflow-wrap: break-word; user-select:none !important;}.sttc-button:hover, .sttc-button:focus{ background-color: #d9ae00;}</style>',this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){var t=this;if($(document).ready((function(){$("#summernote").summernote({placeholder:"Your HTML content here...",height:300,disableResizeEditor:!0,blockquoteBreakingLevel:2,disableDragAndDrop:!0,prettifyHtml:!0,codemirror:{theme:"monokai",htmlMode:!0,lineNumbers:!0,mode:"text/html"},fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana","Azo Sans"],fontSizes:["8","9","10","11","12","14","15","16","17","18","24","36","48","64","82","150","152","154","156","158","160","162","164","166","168","170","172","174","176","178","180","182","184","186","188","190","192","194","196","198","200"],fontNamesIgnoreCheck:["Azo Sans"],toolbar:[["fontsize",["fontsize"]],["color",["color"]],["font",["bold","italic","underline","clear","strikethrough","superscript","subscript"]],["fontname",["fontname"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]],["mybutton",["ClearFormat","refreshStyle"]]],popover:{image:[["image",["resizeFull","resize85","resize75","resize60","resizeHalf","resize40","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]]},buttons:{ClearFormat:function(t){return $.summernote.ui.button({contents:'<i class="fa fa-retweet"/>  Clear Formating',click:function(){$("#summernote").summernote("removeFormat")}}).render()},refreshStyle:function(e){return $.summernote.ui.button({contents:'<i class="fa fa-sync-alt"/>  Refresh Style',click:function(){t.updateStyle()}}).render()}}}),t.upBlogData?$("#summernote").summernote("code",JSON.parse(t.upBlogData.blog_json).blog_data):"1"==t.selectDevice?$("#summernote").summernote("code",t.globalStyle+"<script>function OpenTemplate(templateID) { if(templateID){ Android.moveToNextScreen(templateID); } } function searchTemplate(searchTag) { Android.goToSearchScreen(searchTag);} <\/script>"):"2"==t.selectDevice?$("#summernote").summernote("code",t.globalStyle+'<script> function OpenTemplate(templateID) { if(templateID){ window.location = "videoadking://?templateID="+ templateID } } function searchTemplate(searchTag) { window.location = "videoadking://?searchTag="+ searchTag} <\/script>'):$("#summernote").summernote("code",t.globalStyle+"<script> function OpenTemplate(templateID) { } function searchTemplate(searchTag) { } <\/script>")})),this.openTmpltBtn='<br><button class="sttc-button" onclick="OpenTemplate(10)">Open Template</button><br><br>',this.srcTmpltBtn='<br><button class="sttc-button" onclick="searchTemplate(\'illustration\')">Search Template</button><br><br>',this.upBlogData){var e=JSON.parse(this.upBlogData.title),a=JSON.parse(this.upBlogData.subtitle);this.blogImg=this.upBlogData.compressed_img,this.selectDevice=this.upBlogData.platform.toString(),this.blogTitle=e.text_value,this.titleCol=e.text_color,this.titleSize=e.text_size,this.blogSubTitle=a.text_value,this.subTitleCol=a.text_color,this.subTitleSize=a.text_size}else this.titleCol=this.subTitleCol="#000000",this.subTitleSize=36,this.titleSize=16}},{key:"updateStyle",value:function(){var t=$("#summernote").summernote("code").replace(/<style[^>]*>.*?<\/style>/gi,"");$("#summernote").summernote("code",t+this.globalStyle)}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.blogImg=t.target.result,document.getElementById("blogimagError").innerHTML=""},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"changePlatform",value:function(t){var e=$("#summernote").summernote("code").replace(/<script[^>]*>.*?<\/script>/gi,"");"1"==t?$("#summernote").summernote("code",e+"<script>function OpenTemplate(templateID) { if(templateID){ Android.moveToNextScreen(templateID); } } function searchTemplate(searchTag) { Android.goToSearchScreen(searchTag);} <\/script>"):"2"==t?$("#summernote").summernote("code",e+'<script> function OpenTemplate(templateID) { if(templateID) { window.location = "videoadking://?templateID="+ templateID } } function searchTemplate(searchTag) { window.location = "videoadking://?searchTag="+ searchTag} <\/script>'):$("#summernote").summernote("code",e+"<script> function OpenTemplate(templateID) { } function searchTemplate(searchTag) { } <\/script>")}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"getCode",value:function(t){return $(t).summernote("isEmpty")?"":$(t).summernote("code")}},{key:"blankTitle",value:function(){document.getElementById("blogTitleError").innerHTML=""}},{key:"trim",value:function(t){return t.replace(/^\s+|\s+$/g,"")}},{key:"removeTextMsg",value:function(t){document.getElementById(t).innerHTML=""}},{key:"blogImgValid",value:function(){if(null!=this.blogImg&&""!=this.blogImg&&null!=this.blogImg)return document.getElementById("blogimagError").innerHTML="",!0;document.getElementById("blogimagError").innerHTML=y.b.IMG_REQ}},{key:"blogTitleValid",value:function(){if(void 0!==this.blogTitle&&""!=this.blogTitle.trim()&&null!=this.blogTitle)return document.getElementById("blogTitleError").innerHTML="",!0;document.getElementById("blogTitleError").innerHTML=y.b.TITLE_EMPTY}},{key:"blogCodeValid",value:function(){if(void 0!==this.getCode("#summernote")&&""!=this.trim(this.getCode("#summernote"))&&null!=this.getCode("#summernote"))return document.getElementById("blogContentError").innerHTML="",!0;document.getElementById("blogContentError").innerHTML=y.b.CONTENT_EMPTY}},{key:"uploadBlog",value:function(){var t,e,a=this,n=this.blogImgValid(),i=this.blogTitleValid(),o=this.blogCodeValid();n&&i&&o&&(this.utils.showLoader(),this.upBlogData?(t={blog_id:this.upBlogData.blog_id,platform:this.selectDevice,catalog_id:this.catalogId,title:{text_value:this.blogTitle,text_color:this.titleCol,text_size:this.titleSize},subtitle:{text_value:this.blogSubTitle,text_color:this.subTitleCol,text_size:this.subTitleSize},blog_data:"<body><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1'/>"+this.getCode("#summernote")+"</body>",fg_image:this.blogImg},e="updateBlogContent"):(t={platform:this.selectDevice,catalog_id:this.catalogId,title:{text_value:this.blogTitle,text_color:this.titleCol,text_size:this.titleSize},subtitle:{text_value:this.blogSubTitle,text_color:this.subTitleCol,text_size:this.subTitleSize},blog_data:"<body><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1'/>"+this.getCode("#summernote")+"</body>"},e="addBlogContent"),this.formData.append("request_data",JSON.stringify(t)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Sn)(g.Vb(l.F),g.Vb(p.a),g.Vb(v.a))},Sn.\u0275cmp=g.Pb({type:Sn,selectors:[["ngx-addblogs"]],decls:80,vars:26,consts:[[1,"blog-form-card"],[2,"position","relative"],[1,"row"],[1,"col-md-7","col-6"],["class","header-text text-center",4,"ngIf"],[1,"col-md-5","col-6","text-right"],["class","btn btn-primary","id","subCatAdd",3,"click",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"col-md-2","col-12"],[1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["id","blogimagError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center"],["type","file","id","fileInput","accept","image/*","autofocus","true",2,"display","none",3,"change"],[1,"col-md-6","col-12"],[1,"form-group"],[1,"col-md-4","pr-1"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],["id","radioInput",3,"ngModel","ngModelChange"],["value","1",3,"valueChange"],["value","2",3,"valueChange"],[1,"col-md-2","col-12","pr-1"],[1,"col-md-10","col-12"],[1,"col-md-7","col-12"],["nbInput","","placeholder","Enter Title",2,"height","40px",3,"ngModel","ngModelChange","keyup"],[1,"col-md-2","col-4"],["type","color",2,"height","40px",3,"ngModel","ngModelChange"],[1,"col-md-3","col-8"],["type","number","nbInput","","min","0","max","100",1,"w-100",3,"ngModel","ngModelChange","keyup"],["id","blogTitleError",2,"color","red","margin-bottom","0px","margin-top","4px","margin-left","16px","height","16px"],["nbInput","","placeholder","Enter Sub Title",2,"height","40px",3,"ngModel","ngModelChange"],["type","number","nbInput","","min","0","max","100",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-4"],["nbInput","",1,"w-100",2,"resize","none",3,"ngModel","ngModelChange"],[1,"col-md-8"],["id","blogContentError",2,"color","red","margin-bottom","10px","height","16px"],["id","summernote"],[1,"col-md-4","mt-3"],[1,"content-block-blog"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"text-overlay"],[1,"m-0",2,"white-space","pre-line","line-height","1.1","word-break","break-word",3,"ngStyle"],[2,"white-space","pre-line","line-height","1.1","margin","0px","word-break","break-word",3,"ngStyle"],[1,"header-text","text-center"],["id","subCatAdd",1,"btn","btn-primary",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[2,"max-width","100%",3,"src"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.bc(2,"div",2),g.bc(3,"div",3),g.Lc(4,xn,2,0,"h5",4),g.Lc(5,wn,2,0,"h5",4),g.ac(),g.bc(6,"div",5),g.Lc(7,Pn,2,0,"button",6),g.Lc(8,kn,2,0,"button",6),g.ac(),g.ac(),g.bc(9,"i",7),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(10,"nb-card-body"),g.bc(11,"div",2),g.bc(12,"div",8),g.bc(13,"div",9),g.Lc(14,Mn,1,0,"img",10),g.Lc(15,On,1,1,"img",11),g.bc(16,"label",12),g.Wb(17,"i",13),g.ac(),g.ac(),g.Wb(18,"p",14),g.bc(19,"input",15),g.ic("change",(function(t){return e.fileChange(t)})),g.ac(),g.ac(),g.bc(20,"div",16),g.bc(21,"div",17),g.bc(22,"div",2),g.bc(23,"div",18),g.bc(24,"label",19),g.Nc(25,"Blog Appear In"),g.ac(),g.ac(),g.bc(26,"div",20),g.bc(27,"nb-radio-group",21),g.ic("ngModelChange",(function(t){return e.selectDevice=t})),g.bc(28,"nb-radio",22),g.ic("valueChange",(function(){return e.changePlatform("1")})),g.Nc(29,"Android"),g.ac(),g.bc(30,"nb-radio",23),g.ic("valueChange",(function(){return e.changePlatform("2")})),g.Nc(31,"IOS"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(32,"div",17),g.bc(33,"div",2),g.bc(34,"div",24),g.bc(35,"label",19),g.Nc(36,"Title"),g.ac(),g.ac(),g.bc(37,"div",25),g.bc(38,"div",2),g.bc(39,"div",26),g.bc(40,"textarea",27),g.ic("ngModelChange",(function(t){return e.blogTitle=t}))("keyup",(function(){return e.removeTextMsg("blogTitleError")})),g.ac(),g.ac(),g.bc(41,"div",28),g.bc(42,"input",29),g.ic("ngModelChange",(function(t){return e.titleCol=t})),g.ac(),g.ac(),g.bc(43,"div",30),g.bc(44,"input",31),g.ic("ngModelChange",(function(t){return e.titleSize=t}))("keyup",(function(){return e.blankTitle()})),g.ac(),g.ac(),g.ac(),g.Wb(45,"p",32),g.ac(),g.ac(),g.ac(),g.bc(46,"div",17),g.bc(47,"div",2),g.bc(48,"div",24),g.bc(49,"label",19),g.Nc(50,"Sub Title"),g.ac(),g.ac(),g.bc(51,"div",25),g.bc(52,"div",2),g.bc(53,"div",26),g.bc(54,"textarea",33),g.ic("ngModelChange",(function(t){return e.blogSubTitle=t})),g.ac(),g.ac(),g.bc(55,"div",28),g.bc(56,"input",29),g.ic("ngModelChange",(function(t){return e.subTitleCol=t})),g.ac(),g.ac(),g.bc(57,"div",30),g.bc(58,"input",34),g.ic("ngModelChange",(function(t){return e.subTitleSize=t})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(59,"div",35),g.bc(60,"div",17),g.bc(61,"label",19),g.Nc(62,"Open Template Button"),g.ac(),g.bc(63,"textarea",36),g.ic("ngModelChange",(function(t){return e.openTmpltBtn=t})),g.ac(),g.ac(),g.bc(64,"div",17),g.bc(65,"label",19),g.Nc(66,"Search Template Button"),g.ac(),g.bc(67,"textarea",36),g.ic("ngModelChange",(function(t){return e.srcTmpltBtn=t})),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(68,"div",2),g.bc(69,"div",37),g.Wb(70,"p",38),g.Wb(71,"div",39),g.ac(),g.bc(72,"div",40),g.bc(73,"div",41),g.Lc(74,En,1,1,"img",42),g.bc(75,"div",43),g.bc(76,"p",44),g.Nc(77),g.ac(),g.bc(78,"p",45),g.Nc(79),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(4),g.sc("ngIf",!e.upBlogData),g.Jb(1),g.sc("ngIf",e.upBlogData),g.Jb(2),g.sc("ngIf",!e.upBlogData),g.Jb(1),g.sc("ngIf",e.upBlogData),g.Jb(6),g.sc("ngIf",e.blogImg),g.Jb(1),g.sc("ngIf",e.blogImg),g.Jb(12),g.sc("ngModel",e.selectDevice),g.Jb(13),g.sc("ngModel",e.blogTitle),g.Jb(2),g.sc("ngModel",e.titleCol),g.Jb(2),g.sc("ngModel",e.titleSize),g.Jb(10),g.sc("ngModel",e.blogSubTitle),g.Jb(2),g.sc("ngModel",e.subTitleCol),g.Jb(2),g.sc("ngModel",e.subTitleSize),g.Jb(5),g.sc("ngModel",e.openTmpltBtn),g.Jb(4),g.sc("ngModel",e.srcTmpltBtn),g.Jb(7),g.sc("ngIf",e.blogImg),g.Jb(2),g.sc("ngStyle",g.yc(20,In,e.titleCol,e.titleSize)),g.Jb(1),g.Pc(" ",e.blogTitle,""),g.Jb(1),g.sc("ngStyle",g.yc(23,In,e.subTitleCol,e.subTitleSize)),g.Jb(1),g.Pc(" ",e.blogSubTitle,""))},directives:[l.v,l.x,C.n,l.u,l.db,x.n,x.q,l.cb,l.M,x.c,x.s,C.o],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.blog-form-card[_ngcontent-%COMP%]{width:1107px;height:calc(100vh - 50px)}.blog-form-card[_ngcontent-%COMP%]   #subCatAdd[_ngcontent-%COMP%]{width:25%;margin-right:3rem}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.content-block-blog[_ngcontent-%COMP%]{position:relative}.content-block-blog[_ngcontent-%COMP%]   .text-overlay[_ngcontent-%COMP%]{position:absolute;top:0}  .note-modal-backdrop{display:none!important;background:rgba(0,0,0,.2)}  .note-editable{background:#fff!important}  .note-modal-footer{height:54px!important}  .note-editor .dropdown-toggle:after{display:none!important}  .note-dropdown-menu{min-width:234px!important}  .note-dropdown-menu .note-align{margin-right:4px!important}@media only screen and (max-width:600px){.blog-form-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.blog-form-card[_ngcontent-%COMP%]   #subCatAdd[_ngcontent-%COMP%]{width:75%}}"]}),Sn);function Rn(t,e){if(1&t&&(g.bc(0,"nb-option",22),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a),g.Jb(1),g.Oc(a)}}function Tn(t,e){1&t&&(g.bc(0,"div",23),g.Wb(1,"img",24),g.bc(2,"h2"),g.Nc(3,"No data found"),g.ac(),g.ac())}function Dn(t,e){if(1&t){var a=g.cc();g.bc(0,"div",25),g.bc(1,"nb-card",26),g.bc(2,"div",27),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().viewImage(t.compressed_img)})),g.Wb(3,"img",28),g.bc(4,"img",29),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.ac(),g.bc(5,"nb-card-footer",30),g.bc(6,"a",31),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().uploadBlogs(t)})),g.Wb(7,"nb-icon",32),g.ac(),g.bc(8,"a",33),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc().deleteBlogContent(t)})),g.Wb(9,"nb-icon",34),g.ac(),g.bc(10,"a",35),g.ic("click",(function(){g.Dc(a);var t=e.$implicit,n=e.index;return g.mc().moveToFirst(t,n)})),g.Wb(11,"nb-icon",36),g.ac(),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=g.mc();g.Jb(4),g.sc("lazyLoad",n.webp_thumbnail_img?n.webp_thumbnail_img:n.thumbnail_img)("errorImage",i.utils.errorImg)}}var Nn,zn=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},Vn=((Nn=function(){function t(e,a,n,i,o){c(this,t),this.dialog=e,this.route=a,this.actRoute=n,this.dataService=i,this.utils=o,this.previousLabel="<",this.nextLabel=">",this.currentPage=1,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.token=localStorage.getItem("at")}return r(t,[{key:"ngOnInit",value:function(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllBlogList()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.selectedPageSize>this.totalRecords&&(this.currentPage=1),this.getAllBlogList()}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllBlogList()}},{key:"uploadBlogs",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(Ln,{closeOnBackdropClick:t,closeOnEsc:!1,context:{upBlogData:e,catalogId:this.catalogId}}).onClose.subscribe((function(t){t.res&&"add"==t.res&&a.getAllBlogList()}))}},{key:"moveToFirst",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData("setBlogRankOnTheTopByAdmin",{blog_id:t.blog_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){a.utils.hideLoader(),a.utils.showSuccess(t.message,4e3);var n=a.BlogData[e];a.BlogData.splice(e,1),a.BlogData.splice(0,0,n)}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"deleteBlogContent",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteBlogContent",{blog_id:t.blog_id,fg_image:t.fg_image},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllBlogList()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getAllBlogList",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getBlogContent",{catalog_id:this.catalogId,page:this.currentPage,item_count:this.selectedPageSize},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.BlogData=e.data.result,t.totalRecords=e.data.total_record,t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"viewImage",value:function(t){this.dialog.open(Ce.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}]),t}()).\u0275fac=function(t){return new(t||Nn)(g.Vb(l.G),g.Vb(u.c),g.Vb(u.a),g.Vb(v.a),g.Vb(p.a))},Nn.\u0275cmp=g.Pb({type:Nn,selectors:[["ngx-bloglist"]],decls:32,vars:19,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"col-md-12","text-right","pr-0"],[1,"va-middle","mr-2",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"card-gallary-content","row","mt-2"],[1,"col-md-12"],[1,"card-gallary","row"],["class","col-md-12 text-center mt-3",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3  pr-0 pl-0",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],["alt","{item.name}} image",3,"lazyLoad","errorImage","load"],[1,"mt-3"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","upload","pack","eva"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",0),g.bc(3,"div",2),g.bc(4,"ol",3),g.bc(5,"li",4),g.ic("click",(function(){return e.gotoCategories()})),g.Nc(6,"Categories"),g.ac(),g.bc(7,"li",5),g.ic("click",(function(){return e.gotoSubCategories()})),g.Nc(8),g.ac(),g.bc(9,"li",5),g.ic("click",(function(){return e.gotoCatalog()})),g.Nc(10),g.ac(),g.bc(11,"li",6),g.Nc(12),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(13,"div",7),g.bc(14,"nb-card",8),g.bc(15,"nb-card-header",9),g.Nc(16),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(17,"div",0),g.bc(18,"div",10),g.bc(19,"nb-select",11),g.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),g.Lc(20,Rn,2,2,"nb-option",12),g.ac(),g.bc(21,"button",13),g.ic("click",(function(){return e.uploadBlogs("")})),g.Nc(22,"Add Blog"),g.ac(),g.ac(),g.ac(),g.bc(23,"div",14),g.bc(24,"div",15),g.bc(25,"div",16),g.Lc(26,Tn,4,0,"div",17),g.Lc(27,Dn,12,2,"div",18),g.nc(28,"paginate"),g.ac(),g.bc(29,"div",19),g.bc(30,"div",20),g.bc(31,"pagination-controls",21),g.ic("pageChange",(function(t){return e.handlePageChange(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(7),g.uc("nbTooltip","Go to ",e.broadHome,""),g.Jb(1),g.Oc(e.broadHome),g.Jb(1),g.uc("nbTooltip","Go to ",e.broadSubHome,""),g.Jb(1),g.Oc(e.broadSubHome),g.Jb(2),g.Oc(e.broadItem),g.Jb(4),g.Pc(" TOTAL RECORDS : ",e.totalRecords," "),g.Jb(3),g.sc("selected",e.selectedPageSize),g.Jb(1),g.sc("ngForOf",e.pageSize),g.Jb(6),g.sc("ngIf",0==e.totalRecords),g.Jb(1),g.sc("ngForOf",g.pc(28,12,e.BlogData,g.zc(15,zn,e.selectedPageSize,e.currentPage,e.totalRecords))),g.Jb(4),g.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[l.sb,l.v,l.x,l.gb,C.m,C.n,I.c,l.Z,Tt,l.w,l.J],pipes:[I.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;height:58px;text-align:center;font-weight:600;font-size:16px;line-height:25px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:85px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}.va-middle[_ngcontent-%COMP%]{vertical-align:middle}"]}),Nn),Jn=i("wd/R"),An=i("B01t");function Fn(t,e){1&t&&g.Wb(0,"span")}function Bn(t,e){if(1&t&&(g.bc(0,"nb-option",25),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a),g.Jb(1),g.Oc(a)}}function Wn(t,e){if(1&t&&g.Wb(0,"ng2-smart-table",26),2&t){var a=g.mc();g.sc("settings",a.settings)("source",a.dataSource)}}function Hn(t,e){if(1&t&&(g.bc(0,"tr"),g.bc(1,"td"),g.Nc(2),g.ac(),g.bc(3,"td",31),g.Nc(4),g.ac(),g.bc(5,"td",31),g.Nc(6),g.ac(),g.ac()),2&t){var a=e.$implicit,n=e.index,i=g.mc(2);g.Jb(2),g.Oc(n+1+i.selectedPageSize*(i.currentPage-1)),g.Jb(2),g.Oc(a.uploaded_content_count),g.Jb(2),g.Oc(a.date)}}function jn(t,e){1&t&&(g.bc(0,"tr"),g.bc(1,"td",32),g.bc(2,"p",33),g.Nc(3,"No data found"),g.ac(),g.ac(),g.ac())}var Un=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}};function Gn(t,e){if(1&t){var a=g.cc();g.bc(0,"div",27),g.bc(1,"table",28),g.bc(2,"thead"),g.bc(3,"tr"),g.bc(4,"th"),g.Nc(5,"#"),g.ac(),g.bc(6,"th",29),g.ic("click",(function(){g.Dc(a);var t=g.mc();return t.sortBy("uploaded_content_count",1==t.order_type?"ASC":"DESC")})),g.Nc(7,"Uploaded Content"),g.ac(),g.bc(8,"th",29),g.ic("click",(function(){g.Dc(a);var t=g.mc();return t.sortBy("date",1==t.order_type?"ASC":"DESC")})),g.Nc(9,"Last Uploaded on"),g.ac(),g.ac(),g.ac(),g.bc(10,"tbody"),g.Lc(11,Hn,7,3,"tr",0),g.nc(12,"paginate"),g.Lc(13,jn,4,0,"tr",30),g.ac(),g.ac(),g.ac()}if(2&t){var n=g.mc();g.Jb(11),g.sc("ngForOf",g.pc(12,2,n.contentDetails,g.zc(5,Un,n.selectedPageSize,n.currentPage,n.totalRecords))),g.Jb(2),g.sc("ngIf",0==n.totalRecords)}}function $n(t,e){if(1&t){var a=g.cc();g.bc(0,"div",34),g.bc(1,"pagination-controls",35),g.ic("pageChange",(function(t){return g.Dc(a),g.mc().handlePageChange(t)}))("pageBoundsCorrection",(function(t){return g.Dc(a),g.mc().pageChanged(t)})),g.ac(),g.ac()}if(2&t){var n=g.mc();g.Jb(1),g.sc("previousLabel",n.previousLabel)("nextLabel",n.nextLabel)}}var Kn,Yn=((Kn=function(){function t(e,a,n){c(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.pickerOptions={startDate:Jn().subtract(6,"days"),endDate:Jn(),showDropdowns:!1,locale:{format:"YYYY-MM-DD"},opens:"left",minDate:"2015-01-01",ranges:{"This Week":[Jn().subtract(6,"days"),Jn()],"This Month":[Jn().startOf("month"),Jn().endOf("month")],"Last Month":[Jn().subtract(1,"month").startOf("month"),Jn().subtract(1,"month").endOf("month")],"This Year":[Jn().startOf("year"),Jn().endOf("year")],"Last Year":[Jn().subtract(1,"year").startOf("year"),Jn().subtract(1,"year").endOf("year")]}},this.contentDetails=[],this.totalRecords=0,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.currentPage=1,this.previousLabel="<",this.nextLabel=">",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.settings={mode:"external",columns:{id:{title:"#",filter:!1,width:"75px",type:"text",sort:!1},catalog_name:{title:"Catalog Name",filter:!0},content_count:{title:"Uploaded Templates",filter:!0},last_uploaded_date:{title:"Last Uploaded on",filter:!0}},actions:{add:!1,edit:!1,delete:!1},pager:{display:!0,perPage:parseInt(this.selectedPageSize)},hideSubHeader:!0},this.startDate=Jn().subtract(6,"days").format("YYYY-MM-DD"),this.endDate=Jn().format("YYYY-MM-DD"),this.getDataByRange()}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getDataByRange()}},{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.settings.pager.perPage=parseInt(this.selectedPageSize),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!0),"date"==this.selectType&&this.getDataByRange()}},{key:"pageChanged",value:function(t){this.currentPage=t,this.getDataByRange()}},{key:"refreshPage",value:function(){this.selectedPageSize="50",this.getDataByRange()}},{key:"updateRange",value:function(t){this.startDate=t.start.format("YYYY-MM-DD"),this.endDate=t.end.format("YYYY-MM-DD"),this.selectedRange=this.startDate+" to "+this.endDate}},{key:"sortBy",value:function(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.getDataByRange()}},{key:"getDataByRange",value:function(){"date"==this.selectType?(this.requestData={api_url:this.serverData.api_url,category_id:this.contentData.category_id,sub_category_id:this.contentData.sub_category_id,from_date:this.startDate,to_date:this.endDate,page:this.currentPage,item_count:this.selectedPageSize,order_by:this.sortByTagName,order_type:this.order_type_val},this.apiUrl="getSummaryDetailFromDiffServer"):(this.requestData={api_url:this.serverData.api_url,sub_category_id:this.contentData.sub_category_id,from_date:this.startDate,to_date:this.endDate},this.apiUrl="getSummaryOfCatalogsFromDiffServer"),this.getStatisticsData(this.requestData,this.apiUrl)}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"getStatisticsData",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData(e,t,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var e=1;t.data.data.result.forEach((function(t){t.id=e,e++})),a.contentDetails=t.data.data.result,a.totalRecords=t.data.data.total_record,a.dataSource=new S.a(a.contentDetails),a.utils.hideLoader()}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||Kn)(g.Vb(l.F),g.Vb(v.a),g.Vb(p.a))},Kn.\u0275cmp=g.Pb({type:Kn,selectors:[["ngx-statistics-details"]],viewQuery:function(t,e){var a;1&t&&g.Rc(An.b,!0),2&t&&g.Ac(a=g.jc())&&(e.picker=a.first)},decls:29,vars:18,consts:[[4,"ngFor","ngForOf"],[1,"static-detail-card"],[2,"position","relative"],[1,"text-center","static-card-header"],[1,"fa","fa-times","close-icon",3,"click"],[1,"pb-0"],[1,"row"],[1,"col-md-6","col-xs-12"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default","nbTooltipTrigger","hint",1,"btn","btn-refresh","mr-2",3,"click"],[1,"fas","fa-sync-alt"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-xs-12","text-right"],[1,"text-total"],[1,"row","mt-2",2,"position","relative"],[1,"col-md-8"],["type","text","autofocus","false","name","daterangeInput","daterangepicker","",1,"form-control",3,"options","selected"],[1,"col-md-4"],[1,"btn","btn-success","w-100",3,"click"],[1,"row","mt-2"],[1,"col-md-12"],[1,"table-data"],[3,"settings","source",4,"ngIf"],["class","table-body-state",4,"ngIf"],["class","pegination-area text-center pt-2 pb-2",4,"ngIf"],[3,"value"],[3,"settings","source"],[1,"table-body-state"],[1,"table","mb-0"],[1,"text-center",3,"click"],[4,"ngIf"],[1,"text-center"],["colspan","3"],[1,"mb-0"],[1,"pegination-area","text-center","pt-2","pb-2"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange","pageBoundsCorrection"]],template:function(t,e){1&t&&(g.Lc(0,Fn,1,0,"span",0),g.nc(1,"paginate"),g.bc(2,"nb-card",1),g.bc(3,"nb-card-header",2),g.bc(4,"h5",3),g.Nc(5),g.ac(),g.bc(6,"i",4),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(7,"nb-card-body",5),g.bc(8,"div",6),g.bc(9,"div",7),g.bc(10,"button",8),g.ic("click",(function(){return e.refreshPage()})),g.Wb(11,"i",9),g.ac(),g.bc(12,"nb-select",10),g.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),g.Lc(13,Bn,2,2,"nb-option",11),g.ac(),g.ac(),g.bc(14,"div",12),g.bc(15,"p",13),g.Nc(16),g.ac(),g.ac(),g.ac(),g.bc(17,"div",14),g.bc(18,"div",15),g.bc(19,"input",16),g.ic("selected",(function(t){return e.updateRange(t)})),g.ac(),g.ac(),g.bc(20,"div",17),g.bc(21,"button",18),g.ic("click",(function(){return e.getDataByRange()})),g.Nc(22,"View Info"),g.ac(),g.ac(),g.ac(),g.bc(23,"div",19),g.bc(24,"div",20),g.bc(25,"div",21),g.Lc(26,Wn,1,2,"ng2-smart-table",22),g.Lc(27,Gn,14,9,"div",23),g.Lc(28,$n,2,2,"div",24),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.sc("ngForOf",g.pc(1,11,e.contentDetails,g.zc(14,Un,e.selectedPageSize,e.currentPage,e.totalRecords))),g.Jb(2),g.Lb("date"==e.selectType?"w-626":"w-822"),g.Jb(3),g.Oc(e.contentData.name),g.Jb(7),g.sc("selected",e.selectedPageSize),g.Jb(1),g.sc("ngForOf",e.pageSize),g.Jb(3),g.Pc(" Total Records : ",e.totalRecords," "),g.Jb(3),g.sc("options",e.pickerOptions),g.Jb(7),g.sc("ngIf","date"!=e.selectType),g.Jb(1),g.sc("ngIf","date"==e.selectType),g.Jb(1),g.sc("ngIf","date"==e.selectType))},directives:[C.m,l.v,l.x,l.u,l.sb,l.gb,An.b,C.n,l.Z,S.b,I.c],pipes:[I.b],styles:[".static-detail-card ng2-smart-table tbody tr.selected{background:#fff!important}  .static-detail-card ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .static-detail-card ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .static-detail-card ng2-smart-table-pager nav{padding-bottom:6px!important}  .static-detail-card ng2-smart-table-pager ul{margin-bottom:0!important}  .static-detail-card ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   .static-detail-card ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}  .static-detail-card ng2-smart-table table thead tr th ng2-smart-table-title a,   .static-detail-card ng2-smart-table table thead tr th ng2-smart-table-title span.ng2-smart-sort{font-weight:700!important}  .static-detail-card ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-17px!important;background:#fff;z-index:1;font-weight:700!important}.btn-default[_ngcontent-%COMP%]{background:rgba(0,0,0,.12);vertical-align:baseline}.w-626[_ngcontent-%COMP%]{width:626px}.w-822[_ngcontent-%COMP%]{width:822px}.static-detail-card[_ngcontent-%COMP%]{height:calc(100vh - 123px)}.text-total[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:18px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}@media only screen and (max-width:600px){.static-detail-card[_ngcontent-%COMP%]{width:calc(100vw - 29px)}.static-detail-card[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{margin-top:10px}.static-detail-card[_ngcontent-%COMP%]   .text-total[_ngcontent-%COMP%]{text-align:center}.static-detail-card[_ngcontent-%COMP%]   .static-card-header[_ngcontent-%COMP%]{width:93%}[_nghost-%COMP%]     .static-detail-card ng2-smart-table table thead tr:first-child th{top:-38px!important}[_nghost-%COMP%]     .static-detail-card ng2-smart-table table thead tr:last-child th{top:44px!important}}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important;-webkit-padding-start:0!important;padding-inline-start:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.table-body-state[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky!important;position:sticky!important;top:-17px!important;background:#fff;z-index:1;font-weight:700!important}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dee2e6}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{cursor:default!important}.table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{cursor:pointer}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.table-body-state[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#edf1f7}"]}),Kn),qn=i("jhN1");function Qn(t,e){if(1&t&&(g.bc(0,"div",20),g.bc(1,"p",21),g.Nc(2),g.ac(),g.ac()),2&t){var a=g.mc().$implicit;g.Jb(2),g.Pc(" Total count: ",a.result.length," ")}}function Zn(t,e){if(1&t){var a=g.cc();g.bc(0,"nb-accordion-item",12),g.ic("collapsedChange",(function(t){g.Dc(a);var n=e.$implicit;return g.mc().viewServerDetails(t,n)})),g.bc(1,"nb-accordion-item-header"),g.bc(2,"div",13),g.bc(3,"div",14),g.bc(4,"p",15),g.Nc(5),g.ac(),g.ac(),g.Lc(6,Qn,3,1,"div",16),g.ac(),g.ac(),g.bc(7,"nb-accordion-item-body",17),g.bc(8,"div",18),g.bc(9,"ng2-smart-table",19),g.ic("edit",(function(t){g.Dc(a);var n=e.$implicit;return g.mc().openDateRangePicker(t,n,"date")}))("delete",(function(t){g.Dc(a);var n=e.$implicit;return g.mc().openDateRangePicker(t,n,"catalog")})),g.ac(),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=e.index,o=g.mc();g.Jb(5),g.Qc(" ",i+1,".",n.server_url," "),g.Jb(1),g.sc("ngIf",n.result),g.Jb(3),g.sc("settings",o.settings)("source",n.result)}}var Xn,ti,ei=((ti=function(){function t(e,a,n,i){var o=this;c(this,t),this.dialog=e,this._sanitizer=a,this.dataService=n,this.utils=i,this.settings={mode:"external",edit:{editButtonContent:'<i class="fa fa-calendar-alt" title="View By Date"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-file-alt" title="View By Catalog"></i>',confirmDelete:!0},columns:{id:{title:"#",sort:"false",filter:!1,width:"75px",type:"text"},compressed_img:{title:"App Icon",filter:!1,sort:!1,type:"html",valuePrepareFunction:function(t){return o._sanitizer.bypassSecurityTrustHtml('<img src="'+t+'" style="height:50px;">')}},name:{title:"Name"},no_of_catalogs:{title:"Total Catalogs"},content_count:{title:"Total Templates"},free_content:{title:"Free Templates"},paid_content:{title:"Paid Templates"},last_uploaded_count:{title:"Last Uploaded Count"},last_uploaded_date:{title:"Last Uploaded On"}},actions:{add:!1,position:"right",delete:!0,edit:!0,pager:!0}},this.token=localStorage.getItem("at")}return r(t,[{key:"ngOnInit",value:function(){this.getStatisticsData()}},{key:"viewServerDetails",value:function(t,e){var a=this;t||(this.utils.showPageLoader(),this.dataService.postData("getSummaryOfIndividualServerByAdmin",{api_url:e.api_url},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var n=1;t.data.result.forEach((function(t){t.last_uploaded_date=a.dataService.formatDDMMMYYYYHHMMALOCAL(t.last_uploaded_date),t.id=n,n++})),e.result=t.data.result,a.serverDetails=t.data.result,a.utils.hidePageLoader()}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hidePageLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hidePageLoader()):(a.utils.showError(t.message,4e3),a.utils.hidePageLoader())}),(function(t){console.log(t),a.utils.hidePageLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hidePageLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}},{key:"getStatisticsData",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getAllServerUrls",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.serverData=e.data.result,t.totalRecord=e.data.total_record,t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"openDateRangePicker",value:function(t,e,a){this.open(!1,!1,t.data,e,a)}},{key:"open",value:function(t,e,a,n,i){this.dialog.open(Yn,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:e,context:{contentData:a,serverData:n,selectType:i}})}}]),t}()).\u0275fac=function(t){return new(t||ti)(g.Vb(l.G),g.Vb(qn.b),g.Vb(v.a),g.Vb(p.a))},ti.\u0275cmp=g.Pb({type:ti,selectors:[["ngx-statistics"]],decls:16,vars:2,consts:[[1,"row","statistics-header","h-50"],[1,"col-md-6"],[1,"row"],[1,"col-md-12"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"server-data"],["multi",""],[3,"collapsedChange",4,"ngFor","ngForOf"],[3,"collapsedChange"],[1,"row","w-100","accord-header"],[1,"col-md-9","col-xs-12"],[1,"mb-0"],["class","col-md-3 col-xs-12 text-right",4,"ngIf"],[1,"statistics-body"],[1,"table-statistics"],[3,"settings","source","edit","delete"],[1,"col-md-3","col-xs-12","text-right"],[1,"total-static-cnt"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"div",2),g.bc(3,"div",3),g.bc(4,"ol",4),g.bc(5,"li",5),g.Nc(6,"Statistics"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(7,"div",6),g.bc(8,"nb-card",7),g.bc(9,"nb-card-header",8),g.Nc(10),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(11,"div",9),g.bc(12,"div",2),g.bc(13,"div",3),g.bc(14,"nb-accordion",10),g.Lc(15,Zn,10,5,"nb-accordion-item",11),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(10),g.Pc(" NO. OF SERVERS : ",e.totalRecord," "),g.Jb(5),g.sc("ngForOf",e.serverData))},directives:[l.v,l.x,l.g,C.m,l.i,l.j,C.n,l.h,S.b],styles:["ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}"]}),ti),ai=((Xn=function(){function t(){c(this,t),this.units=["bytes","KB","MB","GB","TB","PB"]}return r(t,[{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(parseFloat(String(t)))||!isFinite(t))return"?";for(var a=0;t>=1024;)t/=1024,a++;return t.toFixed(+e)+" "+this.units[a]}}]),t}()).\u0275fac=function(t){return new(t||Xn)},Xn.\u0275pipe=g.Ub({name:"size",type:Xn,pure:!0}),Xn);function ni(t,e){if(1&t&&(g.bc(0,"nb-option",23),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a),g.Jb(1),g.Oc(a)}}function ii(t,e){if(1&t){var a=g.cc();g.bc(0,"tr"),g.bc(1,"td",16),g.Nc(2),g.ac(),g.bc(3,"td"),g.Wb(4,"img",24),g.bc(5,"img",25),g.ic("load",(function(t){return g.Dc(a),g.mc().imageLoad(t)})),g.ac(),g.ac(),g.bc(6,"td",26),g.Nc(7),g.ac(),g.bc(8,"td",26),g.Nc(9),g.ac(),g.bc(10,"td",26),g.Nc(11),g.nc(12,"size"),g.ac(),g.bc(13,"td",26),g.Nc(14),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=e.index,o=g.mc();g.Jb(2),g.Oc(i+1+o.selectedImageSize*(o.currentPage-1)),g.Jb(3),g.sc("lazyLoad",n.thumbnail_img)("errorImage",o.utils.errorImg),g.Jb(2),g.Oc(n.type),g.Jb(2),g.Qc("",n.width," * ",n.height,""),g.Jb(2),g.Oc(g.oc(12,8,n.size)),g.Jb(3),g.Oc(n.created_at)}}var oi,ri,ci=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},si=((oi=function(){function t(e,a,n){c(this,t),this.dataService=e,this._sanitizer=a,this.utils=n,this.totalRecord=0,this.token=0,this.j=1,this.currentPage=1,this.pageSize=[25,50,75,100],this.selectedImageSize="50",this.previousLabel="<",this.nextLabel=">",this.units=["bytes","KB","MB","GB","TB","PB"],this.token=localStorage.getItem("at")}return r(t,[{key:"ngOnInit",value:function(){this.getAllImageDetails()}},{key:"setPageSize",value:function(t){this.selectedImageSize=t,this.getAllImageDetails()}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllImageDetails()}},{key:"sortBy",value:function(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.getAllImageDetails()}},{key:"getAllImageDetails",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getImageDetails",{item_count:this.selectedImageSize,page:this.currentPage,order_by:this.sortByTagName,order_type:this.order_type_val},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code){var a=1;e.data.image_details.forEach((function(t){t.resolution=t.width+" * "+t.height,t.id=a,a++})),t.imageDetails=e.data.image_details,t.totalRecord=e.data.total_record,t.dataSource=new S.a(t.imageDetails),t.utils.hidePageLoader()}else 201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||oi)(g.Vb(v.a),g.Vb(qn.b),g.Vb(p.a))},oi.\u0275cmp=g.Pb({type:oi,selectors:[["ngx-imagedetails"]],decls:41,vars:13,consts:[[1,"row","img-det-card","h-53"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","transparent"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row"],[1,"col-md-12","mb-2","text-right"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-data"],[1,"imgae-details-card","table-body-new","mb-0"],[1,"table-body-new","p-0"],[1,"table"],[1,"text-center","width-90"],[1,"text-center",3,"click"],[4,"ngFor","ngForOf"],[1,"table-footer-new"],[1,"row",2,"background","#fff"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],[1,"placeholder-img",2,"left","unset","height","50px","width","50px"],[2,"height","50px","width","50px",3,"lazyLoad","errorImage","load"],[1,"text-center"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"ol",2),g.bc(3,"li",3),g.Nc(4,"Image Details"),g.ac(),g.ac(),g.ac(),g.bc(5,"div",4),g.bc(6,"nb-card"),g.bc(7,"nb-card-header",5),g.bc(8,"div",6),g.Nc(9),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(10,"div",7),g.bc(11,"div",8),g.bc(12,"nb-select",9),g.ic("selectedChange",(function(t){return e.selectedImageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),g.Lc(13,ni,2,2,"nb-option",10),g.ac(),g.ac(),g.ac(),g.bc(14,"div",7),g.bc(15,"div",11),g.bc(16,"div",12),g.bc(17,"nb-card",13),g.bc(18,"nb-card-body",14),g.bc(19,"table",15),g.bc(20,"thead"),g.bc(21,"tr"),g.bc(22,"th",16),g.Nc(23,"#"),g.ac(),g.bc(24,"th"),g.Nc(25,"Image"),g.ac(),g.bc(26,"th",17),g.ic("click",(function(){return e.sortBy("type",1==e.order_type?"ASC":"DESC")})),g.Nc(27,"Type"),g.ac(),g.bc(28,"th",17),g.ic("click",(function(){return e.sortBy("width",1==e.order_type?"ASC":"DESC")})),g.Nc(29,"Resolution"),g.ac(),g.bc(30,"th",17),g.ic("click",(function(){return e.sortBy("size",1==e.order_type?"ASC":"DESC")})),g.Nc(31,"Size"),g.ac(),g.bc(32,"th",17),g.ic("click",(function(){return e.sortBy("created_at",1==e.order_type?"ASC":"DESC")})),g.Nc(33,"Created Time"),g.ac(),g.ac(),g.ac(),g.bc(34,"tbody"),g.Lc(35,ii,15,10,"tr",18),g.nc(36,"paginate"),g.ac(),g.ac(),g.ac(),g.bc(37,"nb-card-footer",19),g.bc(38,"div",20),g.bc(39,"div",21),g.bc(40,"pagination-controls",22),g.ic("pageChange",(function(t){return e.handlePageChange(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(9),g.Pc(" IMAGES: ",e.totalRecord," "),g.Jb(3),g.sc("selected",e.selectedImageSize),g.Jb(1),g.sc("ngForOf",e.pageSize),g.Jb(22),g.sc("ngForOf",g.pc(36,6,e.imageDetails,g.zc(9,ci,e.selectedImageSize,e.currentPage,e.totalRecord))),g.Jb(5),g.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[l.v,l.x,l.gb,C.m,l.u,l.w,I.c,l.Z,Tt],pipes:[I.b,ai],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.imgae-details-card[_ngcontent-%COMP%]{height:calc(100vh - 210px)}.table-bordered[_ngcontent-%COMP%]{border:1px solid #edf1f7!important}  table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.h-53[_ngcontent-%COMP%]{height:49px}  .table-header-new{border:none!important;height:50px!important}  .table-header-new th{border-right:1px solid #dee2e6;border-left:1px solid #dee2e6}  .width-90{width:90px!important}  .table-body-new td,   .table-body-new th{border-right:1px solid #dee2e6;border-left:1px solid #dee2e6}  .table-body-new td:first-child,   .table-body-new th:first-child{border-left:none!important;cursor:default!important}  .table-body-new td:nth-child(2),   .table-body-new th:nth-child(2){cursor:default!important}  .table-body-new td:last-child,   .table-body-new th:last-child{border-right:none!important}  .table-body-new th{border-bottom:none!important;cursor:pointer}  .table-body-new td{vertical-align:middle!important}  .table-body-new tbody tr:hover{background:#edf1f7}@media only screen and (max-width:600px){.img-det-card[_ngcontent-%COMP%]{height:94px}[_nghost-%COMP%]     table thead tr:first-child th{top:-5px!important}}"]}),oi),li=["table"],di=((ri=function(){function t(e,a,n){c(this,t),this.dataService=e,this.utils=a,this._sanitizer=n,this.totalRecord=0,this.keyDetails=[],this.keys_list=[],this.j=1,this.settings={selectMode:"multi",columns:{id:{title:"#",filter:!1,width:"75px",type:"text",sort:!1},key:{title:"Cache Key",type:"string"}},actions:{add:!1,position:"right",delete:!1,edit:!1},pager:{display:!1}},this.token=localStorage.getItem("at")}return r(t,[{key:"ngOnInit",value:function(){this.getAllKeys()}},{key:"getRows",value:function(t){this.j=1}},{key:"keyupEvent",value:function(t){this.j=1}},{key:"getAllKeys",value:function(){var t=this;this.keyDetails=[],this.j=1,this.utils.showPageLoader(),this.dataService.postData("getRedisKeys",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code){t.totalRecord=e.data.keys_list.length;for(var a=1,n=0;n<t.totalRecord;n++)t.keyDetails.push({key:e.data.keys_list[n],id:a}),a++;t.keyDetails=JSON.parse(JSON.stringify(t.keyDetails)),t.dataSource=new S.a(t.keyDetails),t.utils.hidePageLoader()}else 201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"selectKeys",value:function(t){var e=this,a=document.querySelectorAll("tbody .ng2-smart-row").length;t.selected.length<a?this.table.isAllSelected=!1:t.selected.length==a&&(this.table.isAllSelected=!0),this.keys_list=[],t.selected.forEach((function(t){e.keys_list.push(t)}))}},{key:"removeKeys",value:function(){var t=this;0==this.keys_list.length?this.utils.showError(y.b.SEL_CACHE_KEYS,4e3):this.utils.getConfirm().then((function(e){t.utils.showLoader(),t.dataService.postData("deleteRedisKeys",{keys_list:t.keys_list},{headers:{Authorization:"Bearer "+t.token}}).then((function(e){200==e.code?(t.table.isAllSelected=!1,t.utils.hideLoader(),t.getAllKeys(),t.utils.showSuccess(e.message,4e3)):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}))}}]),t}()).\u0275fac=function(t){return new(t||ri)(g.Vb(v.a),g.Vb(p.a),g.Vb(qn.b))},ri.\u0275cmp=g.Pb({type:ri,selectors:[["ngx-rediscache"]],viewQuery:function(t,e){var a;1&t&&g.Rc(li,!0),2&t&&g.Ac(a=g.jc())&&(e.table=a.first)},decls:20,vars:3,consts:[[1,"row","h-53"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row"],[1,"col-md-12"],[1,"table-redis-data"],[1,"mb-0"],[3,"settings","source","click","userRowSelect","keydown"],["table",""],[1,"row","mt-2"],[1,"col-md-12","text-right"],[1,"btn","btn-delete",3,"click"],["icon","trash-2-outline"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"ol",2),g.bc(3,"li",3),g.Nc(4,"Redis Cache"),g.ac(),g.ac(),g.ac(),g.bc(5,"div",4),g.bc(6,"nb-card"),g.bc(7,"nb-card-header",5),g.bc(8,"div",6),g.Nc(9),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(10,"div",7),g.bc(11,"div",8),g.bc(12,"div",9),g.bc(13,"nb-card",10),g.bc(14,"ng2-smart-table",11,12),g.ic("click",(function(t){return e.getRows(t)}))("userRowSelect",(function(t){return e.selectKeys(t)}))("keydown",(function(t){return e.keyupEvent(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(16,"div",13),g.bc(17,"div",14),g.bc(18,"button",15),g.ic("click",(function(){return e.removeKeys()})),g.Wb(19,"nb-icon",16),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(9),g.Pc(" KEYS: ",e.totalRecord," "),g.Jb(5),g.sc("settings",e.settings)("source",e.dataSource))},directives:[l.v,l.x,S.b,l.J],styles:["ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}.table-redis-data[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-y:scroll}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}[_nghost-%COMP%]     .ng2-smart-action-multiple-select>input, [_nghost-%COMP%]     .ng2-smart-titles th>input{width:25px;height:25px;display:unset}[_nghost-%COMP%]     .ng2-smart-titles th:first-child{text-align:center}.btn-delete[_ngcontent-%COMP%]{background:red;border-radius:50%;color:#fff;padding:10px 12px}.btn-delete[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:27px!important}  .table-redis-data ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-redis-data ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-redis-data ng2-smart-table table thead tr:first-child th:first-child{width:89px!important}  .table-redis-data ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:55px!important;background:#fff;z-index:1}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.h-53[_ngcontent-%COMP%]{height:49px!important}@media only screen and (max-width:600px){.table-redis-data[_ngcontent-%COMP%]{margin-top:44px}}"]}),ri);function gi(t,e){1&t&&(g.bc(0,"h5",13),g.Nc(1,"Update Server URL"),g.ac())}function hi(t,e){1&t&&(g.bc(0,"h5",13),g.Nc(1,"Add New Server URL"),g.ac())}function ui(t,e){if(1&t){var a=g.cc();g.bc(0,"button",14),g.ic("click",(function(){return g.Dc(a),g.mc().addUrl()})),g.Nc(1,"Add"),g.ac()}}function pi(t,e){if(1&t){var a=g.cc();g.bc(0,"button",14),g.ic("click",(function(){return g.Dc(a),g.mc().addUrl()})),g.Nc(1,"Update"),g.ac()}}var bi,mi=((bi=function(){function t(e,a,n,i){c(this,t),this.validService=e,this.utils=a,this.dataService=n,this.dialogRef=i,this.errormsg=y.b,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.serverData&&(this.urlName=this.serverData.server_url)}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"Catedit",successArr:["editUrlInput"]}}),"blank"!=o&&this.addUrl()}},{key:"addUrl",value:function(){var t,e,a=this;this.validService.checkAllValid([{id:"editUrlInput",errorId:"inputUrlError",type:"",blank_msg:y.b.SERVER_URL_EMPTY,type_msg:""}])&&(this.serverData?(e={server_url_id:this.serverData.server_url_id,server_url:this.urlName},t="updateServerUrl"):(e={server_url:this.urlName},t="addServerUrl"),this.dataService.postData(t,e,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("inputUrlError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||bi)(g.Vb(_.a),g.Vb(p.a),g.Vb(v.a),g.Vb(l.F))},bi.\u0275cmp=g.Pb({type:bi,selectors:[["ngx-addserverurl"]],decls:17,vars:6,consts:[[1,"server-add-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter new server URL here","id","editUrlInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputUrlError",2,"color","red","margin-bottom","0px","margin-top","4px","height","30px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","Catedit",3,"click",4,"ngIf"],[1,"text-center"],["id","Catedit",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.Lc(2,gi,2,0,"h5",2),g.Lc(3,hi,2,0,"h5",2),g.bc(4,"i",3),g.ic("click",(function(){return e.closedialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body"),g.bc(6,"div",4),g.bc(7,"div",5),g.bc(8,"label",6),g.Nc(9,"Server Url"),g.ac(),g.ac(),g.bc(10,"div",7),g.bc(11,"div",8),g.bc(12,"input",9),g.ic("ngModelChange",(function(t){return e.urlName=t}))("keyup",(function(){return e.checkValidation("editUrlInput","alpha","inputUrlError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("editUrlInput","alpha","inputUrlError",e.errormsg.SERVER_URL_EMPTY,"","usual")})),g.ac(),g.Wb(13,"p",10),g.ac(),g.ac(),g.ac(),g.bc(14,"div",11),g.Lc(15,ui,2,0,"button",12),g.Lc(16,pi,2,0,"button",12),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",e.serverData),g.Jb(1),g.sc("ngIf",!e.serverData),g.Jb(9),g.sc("ngModel",e.urlName),g.Kb("valid-status",!!e.serverData),g.Jb(3),g.sc("ngIf",!e.serverData),g.Jb(1),g.sc("ngIf",e.serverData))},directives:[l.v,l.x,C.n,l.u,l.M,x.c,x.n,x.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.server-add-card[_ngcontent-%COMP%]{width:413px!important}@media only screen and (max-width:600px){.server-add-card[_ngcontent-%COMP%]{width:100%!important}}"]}),bi);function fi(t,e){1&t&&(g.bc(0,"h5",26),g.Nc(1,"Add Validation"),g.ac())}function vi(t,e){1&t&&(g.bc(0,"h5",26),g.Nc(1,"Update Validation"),g.ac())}function _i(t,e){if(1&t&&(g.bc(0,"nb-option",27),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a.category_id),g.Jb(1),g.Oc(a.name)}}function yi(t,e){if(1&t){var a=g.cc();g.bc(0,"button",28),g.ic("click",(function(){return g.Dc(a),g.mc().addValidation()})),g.Nc(1,"Add"),g.ac()}}function Ci(t,e){if(1&t){var a=g.cc();g.bc(0,"button",28),g.ic("click",(function(){return g.Dc(a),g.mc().addValidation()})),g.Nc(1,"Update"),g.ac()}}var xi,wi=((xi=function(){function t(e,a,n,i){c(this,t),this.dataService=e,this.utils=a,this.validService=n,this.dialogRef=i,this.selectedCategory="none",this.errormsg=y.b,this.validSelectCatalog=0,this.validSelectCover=0,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return r(t,[{key:"ngOnInit",value:function(){this.validationsData&&(this.selectedCategory=this.validationsData.category_id.toString(),this.validName=this.validationsData.validation_name,this.validValue=this.validationsData.max_value_of_validation,this.validSelectCatalog=this.validationsData.is_featured,this.validSelectCover=this.validationsData.is_catalog,this.validDescrip=this.validationsData.description)}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkCategValid",value:function(){if(null!=this.selectedCategory&&"none"!=this.selectedCategory)return document.getElementById("selectCategoryError").innerHTML="",!0;document.getElementById("selectCategoryError").innerHTML=y.b.VALIDATION_SEL_CAT}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("valiaddError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"validAdd",successArr:["validNameInput","ValueInput","descripText"]}}),"blank"!=o&&this.addValidation()}},{key:"addValidation",value:function(){var t,e,a=this,n=this.validService.checkAllValid([{id:"validNameInput",errorId:"validInputError",type:"",blank_msg:y.b.VALIDATION_NAME_EMPTY,type_msg:""},{id:"ValueInput",errorId:"valueInputError",type:"",blank_msg:y.b.VALIDATION_VALUE_EMPTY,type_msg:""},{id:"descripText",errorId:"descipTextError",type:"",blank_msg:y.b.VALIDATION_DESCRIP_EMPTY,type_msg:""}]),i=this.checkCategValid();n&&i&&(this.utils.showLoader(),this.validationsData?(t={setting_id:this.validationsData.setting_id,category_id:this.selectedCategory,validation_name:this.validName,max_value_of_validation:this.validValue,is_featured:this.validSelectCatalog?1:0,is_catalog:this.validSelectCover?1:0,description:this.validDescrip},e="editValidation"):(t={category_id:this.selectedCategory,validation_name:this.validName,max_value_of_validation:this.validValue,is_featured:this.validSelectCatalog?1:0,is_catalog:this.validSelectCover?1:0,description:this.validDescrip},e="addValidation"),this.dataService.postData(e,t,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("valiaddError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(y.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(y.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||xi)(g.Vb(v.a),g.Vb(p.a),g.Vb(_.a),g.Vb(l.F))},xi.\u0275cmp=g.Pb({type:xi,selectors:[["ngx-addvalidations"]],decls:54,vars:14,consts:[[1,"validation-card","mb-0"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"pb-0"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["id","selectCategory",1,"mw-100",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["id","selectCategoryError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["type","text","nbInput","","placeholder","Enter validation name","id","validNameInput",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","validInputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["type","number","nbInput","","placeholder","E.g. 1024","id","ValueInput",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","valueInputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["nbInput","","placeholder","Enter description","id","descripText",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","descipTextError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"col-md-8","pr-0"],["type","checkbox","value","1",1,"option-input-valid",3,"ngModel","ngModelChange"],[1,"row","mb-2"],[1,"p-0"],[1,"form-group","text-center"],["id","valiaddError",2,"color","red","margin-bottom","2px","margin-top","4px","height","20px"],["class","btn btn-primary w-50 mr-2","id","validAdd",3,"click",4,"ngIf"],[1,"text-center"],[3,"value"],["id","validAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(g.bc(0,"nb-card",0),g.bc(1,"nb-card-header",1),g.Lc(2,fi,2,0,"h5",2),g.Lc(3,vi,2,0,"h5",2),g.bc(4,"i",3),g.ic("click",(function(){return e.closeDialog()})),g.ac(),g.ac(),g.bc(5,"nb-card-body",4),g.bc(6,"div",5),g.bc(7,"div",6),g.bc(8,"label",7),g.Nc(9,"Category Id"),g.ac(),g.ac(),g.bc(10,"div",8),g.bc(11,"div",9),g.bc(12,"nb-select",10),g.ic("selectedChange",(function(t){return e.selectedCategory=t}))("selectedChange",(function(){return e.checkCategValid()})),g.Lc(13,_i,2,2,"nb-option",11),g.ac(),g.Wb(14,"p",12),g.ac(),g.ac(),g.ac(),g.bc(15,"div",5),g.bc(16,"div",6),g.bc(17,"label",7),g.Nc(18,"Validation Name"),g.ac(),g.ac(),g.bc(19,"div",8),g.bc(20,"div",9),g.bc(21,"input",13),g.ic("ngModelChange",(function(t){return e.validName=t}))("keyup",(function(){return e.checkValidation("validNameInput","","validInputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("validNameInput","","validInputError",e.errormsg.VALIDATION_NAME_EMPTY,"","usual")})),g.ac(),g.Wb(22,"p",14),g.ac(),g.ac(),g.ac(),g.bc(23,"div",5),g.bc(24,"div",6),g.bc(25,"label",7),g.Nc(26,"Validation Value"),g.ac(),g.ac(),g.bc(27,"div",8),g.bc(28,"div",9),g.bc(29,"input",15),g.ic("ngModelChange",(function(t){return e.validValue=t}))("keyup",(function(){return e.checkValidation("ValueInput","","valueInputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("ValueInput","","valueInputError",e.errormsg.VALIDATION_VALUE_EMPTY,"","usual")})),g.ac(),g.Wb(30,"p",16),g.ac(),g.ac(),g.ac(),g.bc(31,"div",5),g.bc(32,"div",6),g.bc(33,"label",7),g.Nc(34,"Description"),g.ac(),g.ac(),g.bc(35,"div",8),g.bc(36,"div",9),g.bc(37,"textarea",17),g.ic("ngModelChange",(function(t){return e.validDescrip=t}))("keyup",(function(){return e.checkValidation("descripText","","descipTextError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("descripText","","descipTextError",e.errormsg.VALIDATION_DESCRIP_EMPTY,"","usual")})),g.ac(),g.Wb(38,"p",18),g.ac(),g.ac(),g.ac(),g.bc(39,"div",5),g.bc(40,"div",19),g.bc(41,"label",7),g.bc(42,"input",20),g.ic("ngModelChange",(function(t){return e.validSelectCatalog=t})),g.ac(),g.Nc(43,"For Featured Catalog?"),g.ac(),g.ac(),g.ac(),g.bc(44,"div",21),g.bc(45,"div",19),g.bc(46,"label",7),g.bc(47,"input",20),g.ic("ngModelChange",(function(t){return e.validSelectCover=t})),g.ac(),g.Nc(48,"For Catalog Cover Image?"),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(49,"nb-card-footer",22),g.bc(50,"div",23),g.Wb(51,"p",24),g.Lc(52,yi,2,0,"button",25),g.Lc(53,Ci,2,0,"button",25),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(2),g.sc("ngIf",!e.validationsData),g.Jb(1),g.sc("ngIf",e.validationsData),g.Jb(9),g.sc("selected",e.selectedCategory),g.Jb(1),g.sc("ngForOf",e.categoryData),g.Jb(8),g.sc("ngModel",e.validName),g.Kb("valid-status",!!e.validationsData),g.Jb(8),g.sc("ngModel",e.validValue),g.Kb("valid-status",!!e.validationsData),g.Jb(8),g.sc("ngModel",e.validDescrip),g.Kb("valid-status",!!e.validationsData),g.Jb(5),g.sc("ngModel",e.validSelectCatalog),g.Jb(5),g.sc("ngModel",e.validSelectCover),g.Jb(5),g.sc("ngIf",!e.validationsData),g.Jb(1),g.sc("ngIf",e.validationsData))},directives:[l.v,l.x,C.n,l.u,l.gb,C.m,l.M,x.c,x.n,x.q,x.s,x.a,l.w,l.Z],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.validation-card[_ngcontent-%COMP%]{width:515px;height:calc(100vh - 159px)}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.mw-100[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.option-input-valid[_ngcontent-%COMP%]{margin-right:5px;zoom:1.7;vertical-align:middle}@media only screen and (max-width:600px){.validation-card[_ngcontent-%COMP%]{width:100%}}"]}),xi),Pi=i("w9rV");function ki(t,e){if(1&t&&(g.bc(0,"nb-option",57),g.Nc(1),g.ac()),2&t){var a=e.$implicit;g.tc("value",a),g.Jb(1),g.Oc(a)}}function Mi(t,e){1&t&&(g.bc(0,"div",58),g.bc(1,"p",59),g.Nc(2," if "),g.bc(3,"span",60),g.Nc(4,'"For Featured Catalog = false" & "For Catalog Cover Image" = false'),g.ac(),g.ac(),g.bc(5,"p",61),g.Nc(6,"\xa0-"),g.bc(7,"span",60),g.Nc(8,'"For Featured Catalog" = false'),g.ac(),g.Nc(9,": Will be applied on the content of the normal catalog of this category"),g.ac(),g.bc(10,"p",62),g.Nc(11,"\xa0-"),g.bc(12,"span",60),g.Nc(13,'"For Catalog Cover Image" = false'),g.ac(),g.Nc(14,": Will not apply on the cover image of the catalog."),g.ac(),g.ac(),g.bc(15,"div",58),g.bc(16,"p",59),g.Nc(17," if "),g.bc(18,"span",60),g.Nc(19,'"For Featured Catalog = false" & "For Catalog Cover Image" = true'),g.ac(),g.ac(),g.bc(20,"p",61),g.Nc(21,"\xa0-"),g.bc(22,"span",60),g.Nc(23,'"For Featured Catalog" = false'),g.ac(),g.Nc(24,": Will be applied on the cover image of the normal catalog of this category"),g.ac(),g.bc(25,"p",61),g.Nc(26,"\xa0-"),g.bc(27,"span",60),g.Nc(28,'"For Catalog Cover Image" = true'),g.ac(),g.Nc(29,": Will be applied on the cover image of the catalog"),g.ac(),g.ac(),g.bc(30,"div",58),g.bc(31,"p",59),g.Nc(32," if "),g.bc(33,"span",60),g.Nc(34,'"For Featured Catalog" = true & "For Catalog Cover Image" = false'),g.ac(),g.ac(),g.bc(35,"p",61),g.Nc(36,"\xa0-"),g.bc(37,"span",60),g.Nc(38,'"For Featured Catalog" = true'),g.ac(),g.Nc(39,": Will be applied on the content of the featured catalog of this category"),g.ac(),g.bc(40,"p",61),g.Nc(41,"\xa0-"),g.bc(42,"span",60),g.Nc(43,'"For Catalog Cover Image" = false'),g.ac(),g.Nc(44,": Will not apply on the cover image of the catalog "),g.ac(),g.ac(),g.bc(45,"div",58),g.bc(46,"p",59),g.Nc(47," if "),g.bc(48,"span",60),g.Nc(49,'"For Featured Catalog = true" & "For Catalog Cover Image = true"'),g.ac(),g.ac(),g.bc(50,"p",61),g.Nc(51,"\xa0-"),g.bc(52,"span",60),g.Nc(53,'"For Featured Catalog" = true'),g.ac(),g.Nc(54,": Will be applied on the cover image of the featured catalog of this category"),g.ac(),g.bc(55,"p",61),g.Nc(56,"\xa0-"),g.bc(57,"span",60),g.Nc(58,'"For Catalog Cover Image" = true'),g.ac(),g.Nc(59,": Will be applied on the cover image of the catalog "),g.ac(),g.ac())}function Oi(t,e){if(1&t){var a=g.cc();g.bc(0,"tr",63),g.bc(1,"td"),g.Nc(2),g.ac(),g.bc(3,"td"),g.Nc(4),g.ac(),g.bc(5,"td"),g.Nc(6),g.ac(),g.bc(7,"td"),g.Nc(8),g.ac(),g.bc(9,"td",54),g.bc(10,"input",64),g.ic("ngModelChange",(function(t){return g.Dc(a),e.$implicit.is_featured=t})),g.ac(),g.ac(),g.bc(11,"td",54),g.bc(12,"input",64),g.ic("ngModelChange",(function(t){return g.Dc(a),e.$implicit.is_catalog=t})),g.ac(),g.ac(),g.bc(13,"td"),g.Nc(14),g.ac(),g.bc(15,"td",65),g.bc(16,"i",66),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc(2).editValidation(t)})),g.ac(),g.bc(17,"i",67),g.ic("click",(function(){g.Dc(a);var t=e.$implicit;return g.mc(2).deleteValidation(t)})),g.ac(),g.ac(),g.ac()}if(2&t){var n=e.$implicit,i=e.index;g.Jb(2),g.Oc(i+1),g.Jb(2),g.Oc(n.category_id),g.Jb(2),g.Oc(n.validation_name),g.Jb(2),g.Pc(" ",n.max_value_of_validation," KB "),g.Jb(2),g.sc("ngModel",n.is_featured),g.Jb(2),g.sc("ngModel",n.is_catalog),g.Jb(2),g.Pc("",n.description," ")}}function Ei(t,e){1&t&&(g.bc(0,"td",69),g.bc(1,"h6",70),g.Nc(2,"No data found"),g.ac(),g.ac())}function Si(t,e){if(1&t&&(g.bc(0,"tr"),g.Lc(1,Ei,3,0,"td",68),g.ac()),2&t){var a=g.mc(2);g.Jb(1),g.sc("ngIf",0==a.validationsList.length)}}function Ii(t,e){if(1&t){var a=g.cc();g.bc(0,"div",5),g.bc(1,"nb-tabset"),g.bc(2,"nb-tab",6),g.bc(3,"div",7),g.bc(4,"div",8),g.bc(5,"nb-card"),g.bc(6,"nb-card-header",9),g.Nc(7,"Change Password"),g.ac(),g.bc(8,"nb-card-body"),g.bc(9,"div",10),g.bc(10,"nb-form-field",11),g.bc(11,"nb-icon",12),g.ic("click",(function(){return g.Dc(a),g.mc().passwordToggle(1)})),g.ac(),g.bc(12,"input",13),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().curPass=t}))("keyup",(function(){return g.Dc(a),g.mc().checkValidation("curInput","","curPassError","","","blank")}))("keyup.enter",(function(){g.Dc(a);var t=g.mc();return t.checkValidation("curInput","","curPassError",t.errormsg.CURR_PASSWORD,"","usual")})),g.ac(),g.ac(),g.Wb(13,"p",14),g.ac(),g.bc(14,"div",10),g.bc(15,"nb-form-field",11),g.bc(16,"nb-icon",12),g.ic("click",(function(){return g.Dc(a),g.mc().passwordToggle(2)})),g.ac(),g.bc(17,"input",15),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().newPass=t}))("keyup",(function(){return g.Dc(a),g.mc().checkValidation("newInput","password","newPassError","","","blank")}))("keyup.enter",(function(){g.Dc(a);var t=g.mc();return t.checkValidation("newInput","password","newPassError",t.errormsg.NEW_PASSWORD,t.errormsg.INVALIDCHANGE_PASS,"usual")})),g.ac(),g.ac(),g.Wb(18,"p",16),g.ac(),g.bc(19,"div",10),g.bc(20,"nb-form-field",11),g.bc(21,"nb-icon",12),g.ic("click",(function(){return g.Dc(a),g.mc().passwordToggle(3)})),g.ac(),g.bc(22,"input",17),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().cnewPass=t}))("keyup",(function(){return g.Dc(a),g.mc().checkValidation("cnewInput","password","cnewPassError","","","blank")}))("keyup.enter",(function(){g.Dc(a);var t=g.mc();return t.checkValidation("cnewInput","password","cnewPassError",t.errormsg.RE_PASSWORD,t.errormsg.INVALIDCHANGE_PASS,"usual")})),g.ac(),g.ac(),g.Wb(23,"p",18),g.ac(),g.bc(24,"div",19),g.Wb(25,"p",20),g.bc(26,"button",21),g.ic("click",(function(){return g.Dc(a),g.mc().changePassword()})),g.Nc(27,"Save"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(28,"nb-tab",22),g.bc(29,"div",7),g.bc(30,"div",8),g.bc(31,"nb-card"),g.bc(32,"nb-card-header",9),g.Nc(33,"2-Factor Authentication"),g.ac(),g.bc(34,"nb-card-body"),g.bc(35,"div",23),g.bc(36,"input",24),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().enableChecked=t}))("change",(function(){return g.Dc(a),g.mc().twoFaOPeration("yes")})),g.ac(),g.bc(37,"input",25),g.ic("ngModelChange",(function(t){return g.Dc(a),g.mc().enableChecked=t}))("change",(function(){return g.Dc(a),g.mc().twoFaOPeration("no")})),g.ac(),g.bc(38,"div",26),g.bc(39,"label",27),g.Nc(40,"Enabled"),g.ac(),g.bc(41,"label",28),g.Nc(42,"Disabled"),g.ac(),g.Wb(43,"span"),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(44,"nb-tab",29),g.bc(45,"div",0),g.bc(46,"div",30),g.bc(47,"nb-select",31),g.ic("selectedChange",(function(t){return g.Dc(a),g.mc().serverSelectedPageSize=t}))("selectedChange",(function(t){return g.Dc(a),g.mc().setserverPageSize(t)})),g.Lc(48,ki,2,2,"nb-option",32),g.ac(),g.bc(49,"button",33),g.ic("click",(function(){return g.Dc(a),g.mc().addServerUrl()})),g.Nc(50,"Add New Server URL"),g.ac(),g.ac(),g.bc(51,"div",34),g.bc(52,"nb-card",35),g.bc(53,"nb-card-header",9),g.Nc(54," Statistics Server List "),g.ac(),g.bc(55,"nb-card-body",36),g.bc(56,"ng2-smart-table",37),g.ic("edit",(function(t){return g.Dc(a),g.mc().editServerUrl(t)}))("delete",(function(t){return g.Dc(a),g.mc().deleteServerURl(t)}))("rowSelect",(function(t){return g.Dc(a),g.mc().getserverRows(t)})),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.bc(57,"nb-tab",38),g.bc(58,"div",39),g.bc(59,"div",40),g.bc(60,"button",41),g.ic("click",(function(){return g.Dc(a),g.mc().addValidations()})),g.Nc(61,"Add Validation"),g.ac(),g.ac(),g.ac(),g.bc(62,"nb-card",42),g.bc(63,"nb-card-body",43),g.bc(64,"div",44),g.bc(65,"table",45),g.bc(66,"thead"),g.bc(67,"tr",46),g.bc(68,"th"),g.Nc(69,"#"),g.ac(),g.bc(70,"th"),g.bc(71,"span",47),g.Nc(72,"Category ID"),g.ac(),g.ac(),g.bc(73,"th"),g.bc(74,"span",48),g.Nc(75,"Validation Name"),g.ac(),g.ac(),g.bc(76,"th"),g.bc(77,"span",49),g.Nc(78,"Value(KB)"),g.ac(),g.ac(),g.Lc(79,Mi,60,0,"ng-template",null,50,g.Mc),g.bc(81,"th",51),g.Nc(82,"For Featured Catalog?"),g.ac(),g.bc(83,"th",52),g.Nc(84,"For Catalog Cover Image?"),g.ac(),g.bc(85,"th",53),g.Nc(86,"Description"),g.ac(),g.bc(87,"th",54),g.Nc(88,"Action"),g.ac(),g.ac(),g.ac(),g.bc(89,"tbody"),g.Lc(90,Oi,18,7,"tr",55),g.Lc(91,Si,2,1,"tr",56),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()}if(2&t){var n=g.Bc(80),i=g.mc();g.Jb(11),g.sc("icon",i.curPassType?"eye-off-2-outline":"eye-outline"),g.Jb(1),g.sc("type",i.curPassType?"text":"password")("ngModel",i.curPass),g.Jb(4),g.sc("icon",i.newPassType?"eye-off-2-outline":"eye-outline"),g.Jb(1),g.sc("type",i.newPassType?"text":"password")("ngModel",i.newPass),g.Jb(4),g.sc("icon",i.cnewPassType?"eye-off-2-outline":"eye-outline"),g.Jb(1),g.sc("type",i.cnewPassType?"text":"password")("ngModel",i.cnewPass),g.Jb(14),g.sc("ngModel",i.enableChecked),g.Jb(1),g.sc("ngModel",i.enableChecked),g.Jb(10),g.sc("selected",i.serverSelectedPageSize),g.Jb(1),g.sc("ngForOf",i.serverPageSize),g.Jb(8),g.sc("settings",i.settings)("source",i.serverDataSource),g.Jb(25),g.sc("nbPopover",n),g.Jb(2),g.sc("nbPopover",n),g.Jb(7),g.sc("ngForOf",i.validationsList),g.Jb(1),g.sc("ngIf",i.validationsList)}}var Li,Ri,Ti,Di,Ni,zi,Vi,Ji,Ai,Fi,Bi,Wi,Hi,ji,Ui,Gi=[{path:"",component:f,children:[{path:"",component:D},{path:"categories",component:D},{path:"categories/:categoryId",component:Kt},{path:"categories/:categoryId/:subCategoryName/:subCategoryId",component:Ne},{path:"categories/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Qa},{path:"fonts/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:cn},{path:"popular/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Cn},{path:"blog-list/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Vn},{path:"statistics",component:ei},{path:"image-details",component:si},{path:"redis-cache",component:di},{path:"settings",component:(Li=function(){function t(e,a,n,i,o,r){var s=this;c(this,t),this._sanitizer=e,this.dialog=a,this.validService=n,this.dataService=i,this.utils=o,this.route=r,this.j=1,this.cnt=1,this.errormsg=y.b,this.lgRep={},this.enableChecked="no",this.validPageSize=[25,50,75,100],this.serverPageSize=[25,50,75,100],this.validSelectedPageSize="50",this.serverSelectedPageSize="50",this.settings={mode:"external",edit:{editButtonContent:'<i class="nb-edit" title="Edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash" title="Delete"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number",width:"75px",editable:!1,filter:!1,hideHeader:!0,sort:!1,valuePrepareFunction:function(t){return s.j++}},server_url:{title:"Server URL",type:"html",filter:!1,hideHeader:!0},api_url:{title:"API URL",type:"html",filter:!1,hideHeader:!0,editable:!1}},actions:{add:!1,position:"right",delete:!0,edit:!0,pager:!0,filter:!1},pager:{perPage:parseInt(this.serverSelectedPageSize)},hideSubHeader:!0},this.token=localStorage.getItem("at")}return r(t,[{key:"setserverPageSize",value:function(t){this.j=1,this.serverSelectedPageSize=t,this.settings.pager.perPage=parseInt(this.serverSelectedPageSize),this.serverDataSource.setPaging(this.serverDataSource.getPaging().page,parseInt(this.serverSelectedPageSize),!0)}},{key:"getRows",value:function(t){this.cnt=1}},{key:"getserverRows",value:function(t){this.j=1}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){t.lgRep=JSON.parse(localStorage.getItem("admin_detail")),t.lgRep.google2fa_enable&&0!=t.lgRep.google2fa_enable&&0!=t.lgRep.google2fa_enable?(t.showTabs=!1,t.enableChecked="yes",t.openOTPDialog(t.lgRep,"change-pwd")):(t.showTabs=!0,t.getServerStatistics(),t.getValidationList())}))}},{key:"passwordToggle",value:function(t){1==t?this.curPassType=!this.curPassType:2==t?this.newPassType=!this.newPassType:this.cnewPassType=!this.cnewPassType}},{key:"twoFaOPeration",value:function(t){var e=this;"yes"==t?this.dataService.postData("enable2faByAdmin",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){if(e.utils.hideLoader(),t.data&&t.data.google2fa_url){e.lgRep.google2fa_enable=1,e.lgRep.google2fa_secret=t.data.google2fa_secret,e.lgRep.shouldNavigate=!0;var a={admin_detail:e.lgRep,occuredFrom:"enable2fa"};e.utils.enable2FaStatus="enable",e.utils.otpdata=a,e.utils.qrcodeUrl=t.data.google2fa_url,e.route.navigate(["/"]),localStorage.removeItem("at"),localStorage.removeItem("admin_detail"),e.utils.showSuccess(t.message,4e3)}}else 201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})):this.openOTPDialog(this.lgRep,"disable2fa")}},{key:"openOTPDialog",value:function(t,e){var a=this;t.shouldNavigate=!1,this.dialog.open(Pi.a,{closeOnBackdropClick:!1,closeOnEsc:!1,context:{adminData:{admin_detail:t,occuredFrom:e}}}).onClose.subscribe((function(t){"add"==t.res?(a.showTabs=!0,a.getServerStatistics(),a.getValidationList()):a.enableChecked="yes"}))}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("changePassError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"btnChaPass",successArr:["curInput","newInput","cnewInput"]}}),"blank"!=o&&this.changePassword()}},{key:"changePassword",value:function(){var t=this;this.validService.checkAllValid([{id:"curInput",errorId:"curPassError",type:"",blank_msg:y.b.CURR_PASSWORD,type_msg:""},{id:"newInput",errorId:"newPassError",type:"password",blank_msg:y.b.NEW_PASSWORD,type_msg:y.b.INVALIDCHANGE_PASS},{id:"cnewInput",errorId:"cnewPassError",type:"",blank_msg:y.b.RE_PASSWORD,type_msg:""}])&&(this.newPass!=this.cnewPass?document.getElementById("changePassError").innerHTML=y.b.MISSMATCH_PASSWORD:(this.utils.showLoader(),this.dataService.postData("changePassword",{current_password:this.curPass,new_password:this.newPass},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(e.data&&e.data.token&&(t.token=e.data.token,localStorage.setItem("at",e.data.token)),t.curPass="",t.newPass="",t.cnewPass="",t.utils.hideLoader(),t.utils.showSuccess(e.message,4e3)):201==e.code?(document.getElementById("changePassError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))))}},{key:"getServerStatistics",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getAllServerUrls",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.statisticsList=e.data.result,t.serverDataSource=new S.a(t.statisticsList),t.utils.hidePageLoader(),t.serverSelectedPageSize="50"):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"editServerUrl",value:function(t){this.openServer(!1,t.data)}},{key:"addServerUrl",value:function(){this.openServer(!1,"")}},{key:"openServer",value:function(t,e){var a=this;this.dialog.open(mi,{closeOnBackdropClick:t,closeOnEsc:!1,context:{serverData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getServerStatistics()}))}},{key:"deleteServerURl",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteServerUrl",{server_url_id:t.data.server_url_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.j=1,e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getServerStatistics()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}},{key:"getValidationList",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getAllValidationsForAdmin",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.validationsList=e.data.result,t.categoryList=e.data.category_list,t.categoryList.unshift({category_id:0,name:"Default"}),t.categoryList.unshift({category_id:"none",name:"Select Category"}),t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(y.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(y.b.SERVER_ERR,4e3)}))}},{key:"addValidations",value:function(){this.open(!1,"",this.categoryList)}},{key:"editValidation",value:function(t){this.open(!1,t,this.categoryList)}},{key:"open",value:function(t,e,a){var n=this;this.dialog.open(wi,{closeOnBackdropClick:t,closeOnEsc:!1,context:{validationsData:e,categoryData:a}}).onClose.subscribe((function(t){"add"==t.res&&(n.cnt=1,n.getValidationList())}))}},{key:"deleteValidation",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteValidation",{setting_id:t.setting_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.cnt=1,e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getValidationList()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(y.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(y.b.SERVER_ERR,4e3)}))}))}}]),t}(),Li.\u0275fac=function(t){return new(t||Li)(g.Vb(qn.b),g.Vb(l.G),g.Vb(_.a),g.Vb(v.a),g.Vb(p.a),g.Vb(u.c))},Li.\u0275cmp=g.Pb({type:Li,selectors:[["ngx-settings"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],["class","tab-settings",4,"ngIf"],[1,"tab-settings"],["tabTitle","Change Password",2,"height","calc(100vh - 209px)","overflow","hidden"],[1,"row","change-card",2,"height","100vh"],[1,"col-md-6","change-card-content"],[1,"header-text"],[1,"form-group"],[1,"mw-100"],["nbSuffix","","pack","eva",3,"icon","click"],["id","curInput","valid-status","false","placeholder","Enter current password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","curPassError",1,"text-danger","mt-1",2,"height","14px"],["id","newInput","valid-status","false","placeholder","Enter New password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","newPassError",1,"text-danger","mt-1",2,"height","14px"],["id","cnewInput","valid-status","false","placeholder","Re-enter your new password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","cnewPassError",1,"text-danger","mt-1","mb-0",2,"height","14px"],[1,"form-group","mt-2"],["id","changePassError",1,"text-danger","mt-1","mb-1","text-center",2,"height","27px"],["id","btnChaPass",1,"btn","bg-primary","text-light","w-100",3,"click"],["tabTitle","2FA",2,"height","calc(100vh - 209px)","overflow","hidden"],[1,"toggle-radio"],["type","radio","name","rdo","id","yes","value","yes",3,"ngModel","ngModelChange","change"],["type","radio","name","rdo","id","no","value","no",3,"ngModel","ngModelChange","change"],[1,"switch"],["for","yes"],["for","no"],["tabTitle","Server List"],[1,"col-md-12","mb-2","text-right"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","bg-primary","ml-2","text-light",3,"click"],[1,"col-md-12"],[1,"server-card","mb-0"],[1,"server-table","p-0"],[3,"settings","source","edit","delete","rowSelect"],["tabTitle","Validation configs"],[1,"row","mb-2"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","text-light","ml-3",3,"click"],[1,"validation-config-card","mb-0"],[1,"pt-0","pl-0","pr-0"],[1,"table-header"],[1,"table","mb-0"],[1,"table-inverse","table-body-td"],["nbTooltip","The category on which the validation should be applied.","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["nbTooltip","Name of the validation(only for admin's knowledge)","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["nbTooltip","Maximum value for validation in KB","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["validationTooltip",""],["nbPopoverTrigger","hover","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"text-center",3,"nbPopover"],["nbPopoverTrigger","hover","nbTooltipStatus","primary",1,"text-center",3,"nbPopover"],["nbTooltip","Description of validation(only for admin's knowledge)","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],[1,"text-center"],["class","table-body-td",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"text-left",2,"background","#3366FF","padding","10px"],[1,"m-0",2,"border-bottom","1px solid #f7f7f7","color","#fff"],[2,"font-weight","500"],[1,"m-0",2,"color","#fff"],[1,"mb-1",2,"color","#fff"],[1,"table-body-td"],["type","checkbox","disabled","",2,"height","29px","width","66px",3,"ngModel","ngModelChange"],[1,"text-center","valid-action-icon","p-2"],["title","Edit",1,"nb-edit",3,"click"],["title","Delete",1,"nb-trash",3,"click"],["colspan","8",4,"ngIf"],["colspan","8"],[1,"m-0","font-weight-bold","text-center"]],template:function(t,e){1&t&&(g.bc(0,"div",0),g.bc(1,"div",1),g.bc(2,"ol",2),g.bc(3,"li",3),g.Nc(4,"Settings"),g.ac(),g.ac(),g.ac(),g.ac(),g.Lc(5,Ii,92,19,"div",4)),2&t&&(g.Jb(5),g.sc("ngIf",e.showTabs))},directives:[C.n,l.ob,l.nb,l.v,l.x,l.u,l.H,l.J,l.lb,l.M,x.c,x.n,x.q,x.u,l.gb,C.m,S.b,l.sb,l.ab,l.Z,x.a],styles:['ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}.server-card[_ngcontent-%COMP%], .validation-config-card[_ngcontent-%COMP%]{height:calc(100vh - 275px)}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important}  .change-card{position:relative;height:350px}  .change-card nb-icon{cursor:pointer;font-size:24px!important}.change-card-content[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-50%)}.toggle-radio[_ngcontent-%COMP%]{margin-top:84px}.switch[_ngcontent-%COMP%]{position:absolute;top:50%;left:40%;width:270px;height:50px;text-align:center;margin:-30px 0 0 -75px;background:#00bc9c;transition:all .2s ease;border-radius:25px}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;height:4px;top:50%;left:50%;margin:-2px 0 0 -4px;transform:rotate(-45deg)}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;background:#fff;display:block;transition:all .2s ease}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";width:4px;height:12px;margin-top:-8px}input[type=radio][_ngcontent-%COMP%]{display:none}.switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;color:rgba(0,0,0,.2);width:60px;line-height:50px;transition:all .2s ease}label[for=yes][_ngcontent-%COMP%]{left:20px;height:20px}label[for=no][_ngcontent-%COMP%], label[for=yes][_ngcontent-%COMP%]{position:absolute;font-size:19px;font-weight:700}label[for=no][_ngcontent-%COMP%]{right:39px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]{background:#eb4f37}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;margin-left:-8px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{background:#fff;height:20px;margin-top:-8px;margin-left:8px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   label[for=no][_ngcontent-%COMP%], #yes[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   label[for=yes][_ngcontent-%COMP%]{color:#fff}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;top:3.33333px;right:0;bottom:0;left:0;height:26px;width:26px;transition:all .15s ease-out 0s;background:#cbd1d8;border:1px solid grey;border-radius:4px;color:#fff;cursor:pointer;display:inline-block;margin-right:.5rem;outline:none;position:relative;z-index:10}.option-input[_ngcontent-%COMP%]:checked{background:red!important}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}  .server-table ng2-smart-table tbody tr.selected{background:#fff!important}  .server-table ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .validation-config-card ng2-smart-table tbody tr.selected{background:#fff!important}  .validation-config-card ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .server-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .server-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .validation-config-card ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .validation-config-card ng2-smart-table table thead tr:first-child th{height:109px}  .validation-config-card ng2-smart-table table thead tr:first-child th,   .validation-config-card table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}.valid-action-icon[_ngcontent-%COMP%]{height:100%;font-size:2rem}.valid-action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.valid-action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{margin-right:10px}.table-body-td[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{vertical-align:middle;padding:14px 20px;border-right:1px solid #edf1f7}  .table-body-td td:first-child,   .table-body-td th:first-child{width:65px}  .table-body-td td:nth-child(2),   .table-body-td td:nth-child(5),   .table-body-td th:nth-child(2),   .table-body-td th:nth-child(5){width:117px}  .table-body-td td:nth-child(3),   .table-body-td th:nth-child(3){width:280px}  .table-body-td td:nth-child(4),   .table-body-td th:nth-child(4){width:122px}  .table-body-td td:nth-child(6),   .table-body-td th:nth-child(6){width:107px}  .table-body-td td:nth-child(7),   .table-body-td th:nth-child(7){width:287px}  .table-body-td td:nth-child(8),   .table-body-td th:nth-child(8){width:105px}  .nb-theme-corporate nb-popover .arrow:after{border-bottom:.6875rem solid #36f!important}.width-75px[_ngcontent-%COMP%]{width:75px}@media only screen and (max-width:600px){nb-tab[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.switch[_ngcontent-%COMP%]{left:33%}[_nghost-%COMP%]     .table-body-td:first-child{width:65px}[_nghost-%COMP%]     .table-body-td:nth-child(2), [_nghost-%COMP%]     .table-body-td:nth-child(5){width:117px}[_nghost-%COMP%]     .table-body-td:nth-child(3){width:280px}[_nghost-%COMP%]     .table-body-td:nth-child(4){width:122px}[_nghost-%COMP%]     .table-body-td:nth-child(6){width:107px}[_nghost-%COMP%]     .table-body-td:nth-child(7){width:287px}[_nghost-%COMP%]     .table-body-td:nth-child(8){width:105px}}']}),Li)}]}],$i=((Ui=function t(){c(this,t)}).\u0275mod=g.Tb({type:Ui}),Ui.\u0275inj=g.Sb({factory:function(t){return new(t||Ui)},imports:[[u.g.forChild(Gi)],u.g]}),Ui),Ki=((ji=function t(){c(this,t)}).\u0275mod=g.Tb({type:ji}),ji.\u0275inj=g.Sb({factory:function(t){return new(t||ji)},imports:[[C.c,l.y,l.N,l.L,S.c,x.h,l.tb,l.hb,I.a]]}),ji),Yi=((Hi=function t(){c(this,t)}).\u0275mod=g.Tb({type:Hi}),Hi.\u0275inj=g.Sb({factory:function(t){return new(t||Hi)},imports:[[C.c,l.hb,l.y,l.N,l.L,x.h,I.a,l.tb,Ft,l.k]]}),Hi),qi=((Wi=function t(){c(this,t)}).\u0275mod=g.Tb({type:Wi}),Wi.\u0275inj=g.Sb({factory:function(t){return new(t||Wi)},imports:[[C.c]]}),Wi),Qi=((Bi=function t(){c(this,t)}).\u0275mod=g.Tb({type:Bi}),Bi.\u0275inj=g.Sb({factory:function(t){return new(t||Bi)},imports:[[C.c,l.hb,l.y,l.L,l.N,x.h,l.tb,l.k,l.r,Ft]]}),Bi),Zi=((Fi=function t(){c(this,t)}).\u0275mod=g.Tb({type:Fi}),Fi.\u0275inj=g.Sb({factory:function(t){return new(t||Fi)},imports:[[C.c,l.y,l.tb,l.L,Ft,l.C,Fa]]}),Fi),Xi=((Ai=function t(){c(this,t)}).\u0275mod=g.Tb({type:Ai}),Ai.\u0275inj=g.Sb({factory:function(t){return new(t||Ai)},imports:[[C.c,l.y,l.tb,l.L,l.N,S.c,x.h,l.hb]]}),Ai),to=((Ji=function t(){c(this,t)}).\u0275mod=g.Tb({type:Ji}),Ji.\u0275inj=g.Sb({factory:function(t){return new(t||Ji)},imports:[[C.c,l.y,l.tb,l.L,l.L,x.h,l.hb,Ft]]}),Ji),eo=((Vi=function t(){c(this,t)}).\u0275mod=g.Tb({type:Vi}),Vi.\u0275inj=g.Sb({factory:function(t){return new(t||Vi)},imports:[[C.c,l.y,l.tb,l.L,l.L,x.h,l.hb,I.a,Ft]]}),Vi),ao=((zi=function t(){c(this,t)}).\u0275mod=g.Tb({type:zi}),zi.\u0275inj=g.Sb({factory:function(t){return new(t||zi)},imports:[[C.c,l.y,S.c,x.h,l.k]]}),zi),no=((Ni=function t(){c(this,t)}).\u0275mod=g.Tb({type:Ni}),Ni.\u0275inj=g.Sb({factory:function(t){return new(t||Ni)},imports:[[C.c,l.y,l.N,S.c,x.h,l.hb,I.a,Ft]]}),Ni),io=((Di=function t(){c(this,t)}).\u0275mod=g.Tb({type:Di}),Di.\u0275inj=g.Sb({factory:function(t){return new(t||Di)},imports:[[C.c,l.y,S.c,x.h,l.k,l.L]]}),Di),oo=((Ti=function t(){c(this,t)}).\u0275mod=g.Tb({type:Ti}),Ti.\u0275inj=g.Sb({factory:function(t){return new(t||Ti)},imports:[[C.c,l.pb,x.h,l.y,l.I,l.N,l.L,S.c,l.hb,l.tb,l.bb]]}),Ti),ro=((Ri=function t(){c(this,t)}).\u0275mod=g.Tb({type:Ri}),Ri.\u0275inj=g.Sb({factory:function(t){return new(t||Ri)},imports:[[$i,d.a,l.X,h,Ki,l.E.forChild(),l.wb.forChild(),l.y,Yi,qi,Qi,Zi,Xi,to,eo,ao,no,io,oo]]}),Ri)}}])}();