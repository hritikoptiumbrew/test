!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=r(t);if(e){var i=r(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return o(this,a)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,a){return e&&c(t.prototype,e),a&&c(t,a),t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{aCrv:function(t,e,a){var n,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:function(){return Object.keys(this._tweens).map((function(t){return this._tweens[t]}).bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var a=Object.keys(this._tweens);if(0===a.length)return!1;for(t=void 0!==t?t:r.now();a.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<a.length;n++){var i=this._tweens[a[n]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[a[n]])}a=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,r=new i;r.Group=i,r._nextId=0,r.nextId=function(){return r._nextId++},r.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=r.Easing.Linear.None,this._interpolationFunction=r.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||r,this._id=r.nextId()},r.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?r.now()+parseFloat(t):t:r.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,a,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(t-this._startTime)/this._duration,n=this._easingFunction(a=0===this._duration||a>1?1:a),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,n):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=i+(o-i)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,a),1===a){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var r=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?t+this._repeatDelayTime:t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,s=this._chainedTweens.length;c<s;c++)this._chainedTweens[c].start(this._startTime+this._duration);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var a=t.length-1,n=a*e,i=Math.floor(n),o=r.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],n):e>1?o(t[a],t[a-1],a-n):o(t[i],t[i+1>a?a:i+1],n-i)},Bezier:function(t,e){for(var a=0,n=t.length-1,i=Math.pow,o=r.Interpolation.Utils.Bernstein,c=0;c<=n;c++)a+=i(1-e,n-c)*i(e,c)*t[c]*o(n,c);return a},CatmullRom:function(t,e){var a=t.length-1,n=a*e,i=Math.floor(n),o=r.Interpolation.Utils.CatmullRom;return t[0]===t[a]?(e<0&&(i=Math.floor(n=a*(1+e))),o(t[(i-1+a)%a],t[i],t[(i+1)%a],t[(i+2)%a],n-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[a]-(o(t[a],t[a],t[a-1],t[a-1],n-a)-t[a]):o(t[i?i-1:0],t[i],t[a<i+1?a:i+1],t[a<i+2?a:i+2],n-i)},Utils:{Linear:function(t,e,a){return(e-t)*a+t},Bernstein:function(t,e){var a=r.Interpolation.Utils.Factorial;return a(t)/a(e)/a(t-e)},Factorial:(o=[1],function(t){var e=1;if(o[t])return o[t];for(var a=t;a>1;a--)e*=a;return o[t]=e,e}),CatmullRom:function(t,e,a,n,i){var o=.5*(a-t),r=.5*(n-e),c=i*i;return(2*e-2*a+o+r)*(i*c)+(-3*e+3*a-2*o-r)*c+o*i+e}}},void 0===(n=(function(){return r}).apply(e,[]))||(t.exports=n)},dgmN:function(e,n,o){"use strict";o.r(n),o.d(n,"PagesModule",(function(){return zo}));var r,c,d=o("aceb"),g=o("vTDv"),h=o("fXoL"),u=((r=function t(){l(this,t)}).\u0275mod=h.Tb({type:r}),r.\u0275inj=h.Sb({factory:function(t){return new(t||r)},imports:[[d.A,g.a]]}),r),p=o("tyNb"),b=o("OaAi"),m=[{title:"Categories",icon:"image-outline",link:"/admin/categories"},{title:"Statistics",icon:"bar-chart-outline",link:"/admin/statistics"},{title:"Image Details",icon:"info-outline",link:"/admin/image-details"},{title:"Search",icon:"search",link:"/admin/search"},{title:"Redis Cache",icon:"hard-drive-outline",link:"/admin/redis-cache"},{title:"Settings",icon:"settings-2-outline",link:"/admin/settings"}],f=o("mgFL"),v=((c=function t(e,a){l(this,t),this.route=e,this.utils=a,this.menu=m,localStorage.getItem("at")||this.route.navigate([""]);var n=this;window.onhashchange=function(){n.utils.hidePageDialog()}}).\u0275fac=function(t){return new(t||c)(h.Vb(p.c),h.Vb(b.a))},c.\u0275cmp=h.Pb({type:c,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(h.bc(0,"ngx-one-column-layout"),h.Wb(1,"nb-menu",0),h.Wb(2,"router-outlet"),h.ac()),2&t&&(h.Jb(1),h.sc("items",e.menu))},directives:[f.a,d.cb,p.h],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}  .nb-theme-corporate nb-layout-header nav{height:3.75rem!important;box-shadow:0 .5rem 1rem 0 rgba(44,51,73,.1)}  .nb-theme-corporate nb-layout-header.fixed~.layout-container{padding-top:3.75px!important}  nb-theme-corporate .menu-sidebar .scrollable{padding-top:0!important}  nb-layout-column{margin-top:50px!important}  nb-sidebar .scrollable{padding-top:0!important}.nb-theme-corporate[_ngcontent-%COMP%]   nb-layout[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .layout-container[_ngcontent-%COMP%]   nb-sidebar[_ngcontent-%COMP%]   .main-container-fixed[_ngcontent-%COMP%],   .nb-theme-corporate nb-layout .layout .layout-container nb-sidebar.fixed{top:3.75rem!important}"]}),c),_=o("R7Hv"),y=o("qUcv"),C=o("dkQB"),x=o("ofXK"),w=o("3Pt+");function k(t,e){1&t&&(h.bc(0,"h5",12),h.Nc(1,"Update Category"),h.ac())}function P(t,e){1&t&&(h.bc(0,"h5",12),h.Nc(1,"Add Category"),h.ac())}function O(t,e){if(1&t){var a=h.cc();h.bc(0,"button",13),h.ic("click",(function(){return h.Dc(a),h.mc().editCategory()})),h.Nc(1,"Add"),h.ac()}}function M(t,e){if(1&t){var a=h.cc();h.bc(0,"button",13),h.ic("click",(function(){return h.Dc(a),h.mc().editCategory()})),h.Nc(1,"Update"),h.ac()}}var E,S=((E=function(){function t(e,a,n,i){l(this,t),this.validService=e,this.utils=a,this.dataService=n,this.dialogRef=i,this.errormsg=C.b,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.categoryData&&(this.catName=this.categoryData.name)}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"Catedit",successArr:["editCatInput"]}}),"blank"!=o&&this.editCategory()}},{key:"editCategory",value:function(){var t,e,a=this;this.validService.checkAllValid([{id:"editCatInput",errorId:"inputCatError",type:"",blank_msg:C.b.CAT_NAME_EMPTY,type_msg:""}])&&(this.utils.showLoader(),this.categoryData?(e={category_id:this.categoryData.category_id,name:this.catName},t="updateCategory"):(e={name:this.catName},t="addCategory"),this.dataService.postData(t,e,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("inputCatError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||E)(h.Vb(y.a),h.Vb(b.a),h.Vb(_.a),h.Vb(d.H))},E.\u0275cmp=h.Pb({type:E,selectors:[["ngx-editcategory"]],decls:17,vars:6,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter category name","id","editCatInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputCatError",2,"color","red","margin-bottom","0px","margin-top","4px","height","30px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","Catedit",3,"click",4,"ngIf"],[1,"text-center"],["id","Catedit",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card"),h.bc(1,"nb-card-header",0),h.Lc(2,k,2,0,"h5",1),h.Lc(3,P,2,0,"h5",1),h.bc(4,"i",2),h.ic("click",(function(){return e.closedialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",3),h.bc(7,"div",4),h.bc(8,"label",5),h.Nc(9,"Category"),h.ac(),h.ac(),h.bc(10,"div",6),h.bc(11,"div",7),h.bc(12,"input",8),h.ic("ngModelChange",(function(t){return e.catName=t}))("keyup",(function(){return e.checkValidation("editCatInput","","inputCatError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("editCatInput","","inputCatError",e.errormsg.CAT_NAME_EMPTY,"","usual")})),h.ac(),h.Wb(13,"p",9),h.ac(),h.ac(),h.ac(),h.bc(14,"div",10),h.Lc(15,O,2,0,"button",11),h.Lc(16,M,2,0,"button",11),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",e.categoryData),h.Jb(1),h.sc("ngIf",!e.categoryData),h.Jb(9),h.sc("ngModel",e.catName),h.Kb("valid-status",!!e.categoryData),h.Jb(3),h.sc("ngIf",!e.categoryData),h.Jb(1),h.sc("ngIf",e.categoryData))},directives:[d.x,d.z,x.n,d.w,d.P,w.c,w.n,w.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),E),I=o("RS3s"),L=o("oOf3");function R(t,e){1&t&&h.Wb(0,"span")}var T,D=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},N=((T=function(){function t(e,a,n,i,o){l(this,t),this.validService=e,this.dialog=a,this.dataService=n,this.utils=i,this.router=o,this.categoryName="",this.errormsg=C.b,this.selectedPageSize=15,this.previousLabel="<",this.nextLabel=">",this.currentPage=1,this.settings={mode:"external",edit:{editButtonContent:'<i class="fa fa-edit" title="edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-folder-open" title="View"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number",width:"75px",editable:!1,filter:!1,hideHeader:!0},name:{title:"Category Name",type:"html",filter:!1,sort:!1}},actions:{add:!1,position:"right",delete:!0,edit:!0},pager:{perPage:this.selectedPageSize},hideSubHeader:!0},this.token=localStorage.getItem("at"),this.getAllBackgroundCatogory(this.currentPage)}return s(t,[{key:"ngOnInit",value:function(){}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllBackgroundCatogory(this.currentPage)}},{key:"getAllBackgroundCatogory",value:function(t){var e=this;this.utils.showPageLoader(),this.dataService.postData("getAllCategory",{page:t},{headers:{Authorization:"Bearer "+this.token}}).then((function(a){if(200==a.code){e.totalRecords=a.data.total_record;var n=0;a.data.category_list.forEach((function(e){e.id=n+1+15*(t-1),n++})),e.categoryData=a.data.category_list,e.datasource=new I.a(e.categoryData),e.utils.hidePageLoader()}else 201==a.code?(e.utils.showError(a.message,4e3),e.utils.hidePageLoader()):a.status||0==a.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hidePageLoader()):(e.utils.showError(a.message,4e3),e.utils.hidePageLoader())}),(function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"getRow",value:function(t){localStorage.setItem("selected_category",JSON.stringify(t.data)),this.router.navigate(["/admin/categories/",t.data.category_id])}},{key:"editCategory",value:function(t){this.open(!1,t.data)}},{key:"addCategory",value:function(){this.open(!1,"")}},{key:"open",value:function(t,e){var a=this;this.dialog.open(S,{closeOnBackdropClick:t,closeOnEsc:!1,context:{categoryData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllBackgroundCatogory(a.currentPage)}))}}]),t}()).\u0275fac=function(t){return new(t||T)(h.Vb(y.a),h.Vb(d.I),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},T.\u0275cmp=h.Pb({type:T,selectors:[["ngx-categories"]],decls:23,vars:13,consts:[[4,"ngFor","ngForOf"],[1,"row","card-summary"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","transparent"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row","mb-3"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","ml-2","text-light",3,"click"],[1,"row"],[1,"col-md-12"],[1,"table-card","categories-card-table","p-0"],[1,"p-0"],[3,"settings","source","edit","userRowSelect","delete"],[1,"pegination-area","text-center","p-2"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"]],template:function(t,e){1&t&&(h.Lc(0,R,1,0,"span",0),h.nc(1,"paginate"),h.bc(2,"div",1),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.Nc(6,"Categories"),h.ac(),h.ac(),h.ac(),h.bc(7,"div",5),h.bc(8,"nb-card"),h.bc(9,"nb-card-header",6),h.bc(10,"div",7),h.Nc(11),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(12,"div",8),h.bc(13,"div",9),h.bc(14,"button",10),h.ic("click",(function(){return e.addCategory()})),h.Nc(15,"Add Category"),h.ac(),h.ac(),h.ac(),h.bc(16,"div",11),h.bc(17,"div",12),h.bc(18,"nb-card",13),h.bc(19,"nb-card-body",14),h.bc(20,"ng2-smart-table",15),h.ic("edit",(function(t){return e.editCategory(t)}))("userRowSelect",(function(t){return e.getRow(t)}))("delete",(function(t){return e.getRow(t)})),h.ac(),h.bc(21,"div",16),h.bc(22,"pagination-controls",17),h.ic("pageChange",(function(t){return e.handlePageChange(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.sc("ngForOf",h.pc(1,6,e.categoryData,h.zc(9,D,e.selectedPageSize,e.currentPage,e.totalRecords))),h.Jb(11),h.Pc(" TOTAL CATEGORIES : ",e.totalRecords," "),h.Jb(9),h.sc("settings",e.settings)("source",e.datasource),h.Jb(2),h.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[x.m,d.x,d.z,d.w,I.b,L.c],pipes:[L.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}"]}),T);function z(t,e){if(1&t&&(h.bc(0,"td"),h.Nc(1),h.ac()),2&t){var a=h.mc().$implicit;h.Jb(1),h.Oc(a.tag_name)}}function A(t,e){if(1&t){var a=h.cc();h.bc(0,"td"),h.bc(1,"input",27),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().$implicit.tag_name=t}))("keyup.enter",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().updateSearchTag(t)})),h.ac(),h.Wb(2,"p",28),h.ac()}if(2&t){var n=h.mc().$implicit;h.Jb(1),h.sc("ngModel",n.tag_name)}}function V(t,e){if(1&t){var a=h.cc();h.bc(0,"div",29),h.bc(1,"nb-icon",30),h.ic("click",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().showUpdate(t)})),h.ac(),h.bc(2,"nb-icon",31),h.ic("click",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().deleteSearchTag(t)})),h.ac(),h.bc(3,"nb-icon",32),h.ic("click",(function(){h.Dc(a);var t=h.mc(),e=t.$implicit,n=t.index;return h.mc().moveToFirst(e,n)})),h.ac(),h.ac()}}function J(t,e){if(1&t){var a=h.cc();h.bc(0,"div",33),h.bc(1,"button",34),h.ic("click",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().updateSearchTag(t)})),h.Nc(2,"Save"),h.ac(),h.bc(3,"button",35),h.ic("click",(function(){h.Dc(a);var t=h.mc(),e=t.$implicit,n=t.index;return h.mc().resetRow(e,n)})),h.Nc(4,"Cancel"),h.ac(),h.ac()}}var F=function(t){return{color:t}};function B(t,e){if(1&t&&(h.bc(0,"tr",23),h.bc(1,"td",19),h.Nc(2),h.ac(),h.Lc(3,z,2,1,"td",22),h.Lc(4,A,3,1,"td",22),h.bc(5,"td",2),h.Nc(6),h.ac(),h.bc(7,"td",24),h.Lc(8,V,4,0,"div",25),h.Lc(9,J,5,0,"div",26),h.ac(),h.ac()),2&t){var a=e.$implicit,n=e.index;h.sc("ngStyle",h.xc(7,F,0==a.total_template?"red":"black")),h.Jb(2),h.Oc(n+1),h.Jb(1),h.sc("ngIf",0==a.is_update),h.Jb(1),h.sc("ngIf",1==a.is_update),h.Jb(2),h.Oc(a.total_template),h.Jb(2),h.sc("ngIf",0==a.is_update),h.Jb(1),h.sc("ngIf",1==a.is_update)}}function W(t,e){1&t&&(h.bc(0,"tr"),h.bc(1,"td",36),h.bc(2,"h6",37),h.Nc(3,"No data found"),h.ac(),h.ac(),h.ac())}var H,j=((H=function(){function t(e,a,n,i,o){l(this,t),this.dialogRef=e,this.validService=a,this.dataService=n,this.utils=i,this.route=o,this.searchTagList=[],this.tmpCategoryList=[],this.errormsg=C.b,this.is_template="1",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.titleHeader="Search tags of "+this.subCatData.name,this.getAllCategorySearchTags()}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"addTag",successArr:["tagInput"]}}),"blank"!=o&&this.addSearchTag()}},{key:"addSearchTag",value:function(){var t=this;this.validService.checkAllValid([{id:"tagInput",errorId:"tagError",type:"",blank_msg:C.b.TAG_EMPTY_NAME,type_msg:""}])&&(this.utils.showLoader(),this.dataService.postData("addSearchCategoryTag",{tag_name:this.tagName,sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.getAllCategorySearchTags(),t.tagName="",t.utils.dialogStatus="add"):201==e.code?(document.getElementById("tagError").innerHTML=e.message,t.tagName="",t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"resetRow",value:function(t,e){this.searchTagList[e].tag_name=this.tmpCategoryList[e].tag_name,t.is_update=!1,t.tag_name=this.tmpCategoryList[e].tag_name}},{key:"showUpdate",value:function(t){var e=this;this.searchTagList.forEach((function(t,a){e.resetRow(t,a)})),t.is_update=!0}},{key:"updateSearchTag",value:function(t){var e=this;if(void 0===t.tag_name||""==t.tag_name.trim()||null==t.tag_name)return document.getElementById("editInputTag").innerHTML=C.b.TAG_EMPTY_NAME,!1;this.dataService.postData("updateSearchCategoryTag",{tag_name:t.tag_name,sub_category_tag_id:t.sub_category_tag_id,sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllCategorySearchTags()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"moveToFirst",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData("setCategoryTagRankOnTheTopByAdmin",{sub_category_tag_id:t.sub_category_tag_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){a.utils.hideLoader(),a.utils.showSuccess(t.message,4e3);var n=a.searchTagList[e];a.searchTagList.splice(e,1),a.searchTagList.splice(0,0,n)}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"deleteSearchTag",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteSearchCategoryTag",{sub_category_tag_id:t.sub_category_tag_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllCategorySearchTags()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getAllCategorySearchTags",value:function(){var t=this;this.utils.showLoader(),this.dataService.postData("getCategoryTagBySubCategoryId",{sub_category_id:this.subCatData.sub_category_id,is_template:+this.is_template},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.searchTagList=e.data.result,t.tmpCategoryList=JSON.parse(JSON.stringify(e.data.result)),t.searchTagList.forEach((function(t){t.is_update=!1})),t.totalRecord=e.data.total_record,t.utils.hideLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||H)(h.Vb(d.H),h.Vb(y.a),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},H.\u0275cmp=h.Pb({type:H,selectors:[["ngx-addsearchtags"]],decls:35,vars:5,consts:[[1,"searchtags-card"],[1,"header-text",2,"position","relative"],[1,"text-center"],["title","close",1,"fa","fa-times","close-icon",3,"click"],[1,"row","mb-9"],[1,"col-md-5","pr-0"],["type","text","nbInput","","id","tagInput","valid-status","false","placeholder","Enter new tag name here",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","tagError",2,"color","red","margin-bottom","0px","margin-top","2px","height","20px"],[1,"col-md-3"],["id","addTag",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-4","text-center"],["id","radioInput",1,"d-flex",3,"ngModel","ngModelChange"],["value","1",3,"click"],["value","0",3,"click"],["value","2",3,"click"],[1,"table-data"],[1,"table-body"],[1,"table"],[2,"background","#edf1f7"],[1,"width-75"],[2,"width","309px"],[3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngStyle"],[1,"text-center","text-dark"],["class","ml-4",4,"ngIf"],["class","button-area text-center",4,"ngIf"],["type","text","nbInput","","placeholder","Enter tag name",1,"mw-100",3,"ngModel","ngModelChange","keyup.enter"],["id","editInputTag",2,"color","red","margin-bottom","0px","margin-top","2px","height","14px"],[1,"ml-4"],["icon","edit-2-outline","title","Edit",3,"click"],["icon","trash-2-outline","title","Delete",3,"click"],["icon","upload-outline","title","Move To First",3,"click"],[1,"button-area","text-center"],[1,"btn","bg-primary","text-light","mr-1",3,"click"],[1,"btn","bg-danger","text-light",3,"click"],["colspan","3"],[1,"mb-0"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"h5",2),h.Nc(3),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.bc(8,"input",6),h.ic("ngModelChange",(function(t){return e.tagName=t}))("keyup",(function(){return e.checkValidation("tagInput","","tagError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("tagInput","","tagError",e.errormsg.TAG_EMPTY_NAME,"","usual")})),h.ac(),h.Wb(9,"p",7),h.ac(),h.bc(10,"div",8),h.bc(11,"button",9),h.ic("click",(function(){return e.addSearchTag()})),h.Nc(12,"Add Tag"),h.ac(),h.ac(),h.bc(13,"div",10),h.bc(14,"nb-radio-group",11),h.ic("ngModelChange",(function(t){return e.is_template=t})),h.bc(15,"nb-radio",12),h.ic("click",(function(){return e.is_template="1",e.getAllCategorySearchTags()})),h.Nc(16,"Template"),h.ac(),h.bc(17,"nb-radio",13),h.ic("click",(function(){return e.is_template="0",e.getAllCategorySearchTags()})),h.Nc(18,"Sticker"),h.ac(),h.bc(19,"nb-radio",14),h.ic("click",(function(){return e.is_template="2",e.getAllCategorySearchTags()})),h.Nc(20,"Catalog"),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(21,"div",15),h.bc(22,"div",16),h.bc(23,"table",17),h.bc(24,"tr",18),h.bc(25,"th",19),h.Nc(26,"#"),h.ac(),h.bc(27,"th",20),h.Nc(28,"Tag Name"),h.ac(),h.bc(29,"th",2),h.Nc(30,"Templates"),h.ac(),h.bc(31,"th",2),h.Nc(32,"Actions"),h.ac(),h.ac(),h.Lc(33,B,10,9,"tr",21),h.Lc(34,W,4,0,"tr",22),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(3),h.Oc(e.titleHeader),h.Jb(5),h.sc("ngModel",e.tagName),h.Jb(6),h.sc("ngModel",e.is_template),h.Jb(19),h.sc("ngForOf",e.searchTagList),h.Jb(1),h.sc("ngIf",0==e.totalRecord))},directives:[d.x,d.z,d.w,d.P,w.c,w.n,w.q,d.jb,d.ib,x.m,x.n,x.o,d.L],styles:[".header-title[_ngcontent-%COMP%]{font-size:21px;font-weight:700;position:relative}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}.searchtags-card[_ngcontent-%COMP%]{width:940px;overflow:auto}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.mw-100[_ngcontent-%COMP%]{max-width:unset!important;width:100%}.w-100[_ngcontent-%COMP%]{width:100%!important}.width-75[_ngcontent-%COMP%]{width:75px}.w-194[_ngcontent-%COMP%]{width:194px}.w-260[_ngcontent-%COMP%]{width:260px}.w-163[_ngcontent-%COMP%]{width:163px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:23px;cursor:pointer;font-size:23px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-y:scroll}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf1f7;position:-webkit-sticky;position:sticky;top:-2px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px;vertical-align:middle!important}.table-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:23px!important;margin-right:10px;cursor:pointer}@media only screen and (max-width:600px){.searchtags-card[_ngcontent-%COMP%]{width:395px;margin-left:auto;margin-right:auto}.header-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:93%}}@media only screen and (max-width:400px){.searchtags-card[_ngcontent-%COMP%]{width:347px}}"]}),H);function U(t,e){1&t&&(h.bc(0,"h5",24),h.Nc(1,"Add Sub Category"),h.ac())}function G(t,e){1&t&&(h.bc(0,"h5",24),h.Nc(1,"Update Sub Category"),h.ac())}function Y(t,e){1&t&&h.Wb(0,"img",25)}function K(t,e){if(1&t){var a=h.cc();h.bc(0,"img",26),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.subImage,h.Fc)}}function q(t,e){if(1&t){var a=h.cc();h.bc(0,"button",27),h.ic("click",(function(){return h.Dc(a),h.mc().addSubCategory()})),h.Nc(1,"Add"),h.ac()}}function Q(t,e){if(1&t){var a=h.cc();h.bc(0,"button",27),h.ic("click",(function(){return h.Dc(a),h.mc().addSubCategory()})),h.Nc(1,"Update"),h.ac()}}var X,Z=((X=function(){function t(e,a,n,i,o){l(this,t),this.validService=e,this.dialogref=a,this.dataService=n,this.utils=i,this.route=o,this.selectType="0",this.formData=new FormData,this.errormsg=C.b,this.utils.dialogref=this.dialogref}return s(t,[{key:"ngOnInit",value:function(){this.subCatData&&(this.subImage=this.subCatData.thumbnail_img,this.subName=this.subCatData.name,this.selectType=this.subCatData.is_featured.toString(),this.categoryId=this.subCatData.sub_category_id)}},{key:"closeLoading",value:function(){this.utils.hideLoader()}},{key:"closedialog",value:function(){this.dialogref.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.subImage=t.target.result},a.readAsDataURL(t.target.files[0])}if(this.fileList=t.target.files,this.fileList.length>0){this.file=this.fileList[0];var n=Math.round(this.file.size/1024);document.getElementById("imageError").innerHTML=n>100?"Maximum 100Kb file allow to upload":"",this.formData.append("file",this.file,this.file.name)}}},{key:"checkImageValid",value:function(){if(document.getElementById("subCatAddError").innerHTML="",null==this.subImage||"none"==this.subImage||""==this.subImage)document.getElementById("imageError").innerHTML=C.b.IMG_REQ;else{if(!this.file)return document.getElementById("imageError").innerHTML="",!0;if(!(Math.round(this.file.size/1024)>100))return document.getElementById("imageError").innerHTML="",!0;document.getElementById("imageError").innerHTML="Maximum 100Kb file allow to upload"}}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("subCatAddError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCatAdd",successArr:["addSubInput","subImage"]}}),"blank"!=o&&this.addSubCategory()}},{key:"addSubCategory",value:function(){var t,e=this,a=this.validService.checkAllValid([{id:"addSubInput",errorId:"inputError",type:"",blank_msg:C.b.SUB_CAT_NAME_EMPTY,type_msg:""}]),n=this.checkImageValid();a&&n&&(t=this.subCatData?"updateSubCategory":"addSubCategory",this.token=localStorage.getItem("at"),this.utils.showLoader(),this.formData.append("request_data",JSON.stringify(this.subCatData?{sub_category_id:this.categoryId,name:this.subName,is_featured:this.selectType}:{category_id:this.categoryId,name:this.subName,is_featured:this.selectType})),this.dataService.postData(t,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.dialogref.close({res:"add"}),e.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("subCatAddError").innerHTML=t.message,e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||X)(h.Vb(y.a),h.Vb(d.H),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},X.\u0275cmp=h.Pb({type:X,selectors:[["ngx-addsubcategory"]],decls:36,vars:11,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],["id","subImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput",1,"placeholder-img"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput","accept","image/*","autofocus","true",2,"display","none",3,"change"],[1,"row","mt-4"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","tabindex","-1","autofocus","false","nbInput","","placeholder","Enter sub category name","id","addSubInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],[1,"row","mt-1"],["id","radioInput",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","subCatAddError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","subCatAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["id","subCatAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card"),h.bc(1,"nb-card-header",0),h.Lc(2,U,2,0,"h5",1),h.Lc(3,G,2,0,"h5",1),h.bc(4,"i",2),h.ic("click",(function(){return e.closedialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",3),h.Lc(7,Y,1,0,"img",4),h.Lc(8,K,1,1,"img",5),h.bc(9,"label",6),h.Wb(10,"i",7),h.ac(),h.ac(),h.Wb(11,"p",8),h.bc(12,"input",9),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.bc(13,"div",10),h.bc(14,"div",11),h.bc(15,"label",12),h.Nc(16,"Category"),h.ac(),h.ac(),h.bc(17,"div",13),h.bc(18,"div",14),h.bc(19,"input",15),h.ic("ngModelChange",(function(t){return e.subName=t}))("keyup",(function(){return e.checkValidation("addSubInput","","inputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("addSubInput","","inputError",e.errormsg.SUB_CAT_NAME_EMPTY,"","usual")})),h.ac(),h.Wb(20,"p",16),h.ac(),h.ac(),h.ac(),h.bc(21,"div",17),h.bc(22,"div",11),h.bc(23,"label",12),h.Nc(24,"Type"),h.ac(),h.ac(),h.bc(25,"div",13),h.bc(26,"div",14),h.bc(27,"nb-radio-group",18),h.ic("ngModelChange",(function(t){return e.selectType=t})),h.bc(28,"nb-radio",19),h.Nc(29,"Featured"),h.ac(),h.bc(30,"nb-radio",20),h.Nc(31,"Normal"),h.ac(),h.ac(),h.Wb(32,"p",21),h.ac(),h.ac(),h.ac(),h.bc(33,"div",22),h.Lc(34,q,2,0,"button",23),h.Lc(35,Q,2,0,"button",23),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",!e.subCatData),h.Jb(1),h.sc("ngIf",e.subCatData),h.Jb(3),h.Kb("valid-status",!!e.subCatData),h.Jb(1),h.sc("ngIf",e.subImage),h.Jb(1),h.sc("ngIf",e.subImage),h.Jb(11),h.sc("ngModel",e.subName),h.Kb("valid-status",!!e.subCatData),h.Jb(8),h.sc("ngModel",e.selectType),h.Kb("valid-status",!!e.subCatData),h.Jb(7),h.sc("ngIf",!e.subCatData),h.Jb(1),h.sc("ngIf",e.subCatData))},directives:[d.x,d.z,x.n,d.w,d.P,w.c,w.n,w.q,d.jb,d.ib],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),X);function tt(t,e){1&t&&(h.bc(0,"h6",13),h.Nc(1,"No data found"),h.ac())}function et(t,e){1&t&&(h.bc(0,"span"),h.Nc(1,"In-Active"),h.ac())}function at(t,e){1&t&&(h.bc(0,"span"),h.Nc(1,"Active"),h.ac())}function nt(t,e){if(1&t&&(h.bc(0,"tr",16),h.bc(1,"td",8),h.Nc(2),h.ac(),h.bc(3,"td",9),h.Nc(4),h.ac(),h.bc(5,"td",10),h.Nc(6),h.ac(),h.bc(7,"td",10),h.Nc(8),h.ac(),h.bc(9,"td",11),h.Lc(10,et,2,0,"span",17),h.Lc(11,at,2,0,"span",17),h.ac(),h.ac()),2&t){var a=e.$implicit,n=e.index,i=h.mc().$implicit;h.Jb(2),h.Oc(n+1),h.Jb(2),h.Oc(a.font_name),h.Jb(2),h.Oc(a.ios_font_name),h.Jb(2),h.Oc(a.font_file),h.Jb(2),h.sc("ngIf",0==i.is_removed),h.Jb(1),h.sc("ngIf",1==i.is_removed)}}function it(t,e){if(1&t&&(h.bc(0,"tbody"),h.bc(1,"tr"),h.bc(2,"td",14),h.Nc(3),h.ac(),h.ac(),h.Lc(4,nt,12,6,"tr",15),h.ac()),2&t){var a=e.$implicit;h.Jb(3),h.Oc(a.name),h.Jb(1),h.sc("ngForOf",a.font_list)}}var ot,rt=((ot=function(){function t(e,a,n){l(this,t),this.dataService=e,this.utils=a,this.nbDialogRef=n,this.utils.dialogref=this.nbDialogRef}return s(t,[{key:"ngOnInit",value:function(){this.token=localStorage.getItem("at"),this.getFontList()}},{key:"closeDialog",value:function(){this.nbDialogRef.close()}},{key:"getFontList",value:function(){var t=this;this.utils.showLoader(),this.dataService.postData("getCorruptedFontList",{last_sync_time:0},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.fontList=e.data.result,t.totalRecord=t.fontList.length,t.utils.hideLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||ot)(h.Vb(_.a),h.Vb(b.a),h.Vb(d.H))},ot.\u0275cmp=h.Pb({type:ot,selectors:[["ngx-viewcorruptedfonts"]],decls:23,vars:2,consts:[[1,"currupt-font-card"],[1,"header-text",2,"position","relative"],[1,"text-center"],["title","close",1,"fa","fa-times","close-icon",3,"click"],[1,"table-data"],[1,"table-body"],["class","mt-2 ml-3",4,"ngIf"],[1,"table","table-responsive"],[1,"width-75"],[1,"w-194"],[1,"w-260"],[1,"text-center","w-163"],[4,"ngFor","ngForOf"],[1,"mt-2","ml-3"],["colspan","5",1,"font-weight-bold",2,"background-color","rgb(252, 243, 240)","padding","5px","border-bottom","1px solid #c2c8ce"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%"],[4,"ngIf"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"h5",2),h.Nc(3,"Corrupted Fonts List"),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.Lc(8,tt,2,0,"h6",6),h.bc(9,"table",7),h.bc(10,"thead"),h.bc(11,"tr"),h.bc(12,"th",8),h.Nc(13,"#"),h.ac(),h.bc(14,"th",9),h.Nc(15,"Font Name"),h.ac(),h.bc(16,"th",10),h.Nc(17,"Font Name(iOS)"),h.ac(),h.bc(18,"th",10),h.Nc(19,"Font Path(Android)"),h.ac(),h.bc(20,"th",11),h.Nc(21,"Status"),h.ac(),h.ac(),h.ac(),h.Lc(22,it,5,2,"tbody",12),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(8),h.sc("ngIf",0==e.totalRecord),h.Jb(14),h.sc("ngForOf",e.fontList))},directives:[d.x,d.z,d.w,x.n,x.m],styles:[".header-title[_ngcontent-%COMP%]{font-size:21px;font-weight:700;position:relative}.header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0;cursor:pointer}.searchtags-card[_ngcontent-%COMP%]{width:940px;overflow:auto}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.mw-100[_ngcontent-%COMP%]{max-width:unset!important;width:100%}.w-100[_ngcontent-%COMP%]{width:100%!important}.width-75[_ngcontent-%COMP%]{width:75px}.w-194[_ngcontent-%COMP%]{width:194px}.w-260[_ngcontent-%COMP%]{width:260px}.w-163[_ngcontent-%COMP%]{width:163px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:23px;cursor:pointer;font-size:23px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-y:scroll}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf1f7;position:-webkit-sticky;position:sticky;top:-2px}.table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px;vertical-align:middle!important}.table-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:23px!important;margin-right:10px;cursor:pointer}@media only screen and (max-width:600px){.searchtags-card[_ngcontent-%COMP%]{width:395px;margin-left:auto;margin-right:auto}.header-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{width:93%}}@media only screen and (max-width:400px){.searchtags-card[_ngcontent-%COMP%]{width:347px}}@media only screen and (max-width:600px){.currupt-font-card[_ngcontent-%COMP%]{width:calc(100vh - 337px);margin-left:auto;margin-right:auto}}@media only screen and (max-width:400px){.currupt-font-card[_ngcontent-%COMP%]{width:347px}}"]}),ot),ct=o("LRne"),st=o("jtHE"),lt=o("HDdC"),dt=o("KqfI"),gt=new lt.a(dt.a),ht=o("XNiG"),ut=(o("EY2u"),o("vkgz")),pt=o("pLZG"),bt=o("IzEk"),mt=o("5+tZ"),ft=o("lJxs"),vt=o("JIr8"),_t=o("eIep"),yt=o("JX91");o("7o/Q"),o("D0XW"),o("w1tV");var Ct=new h.u("LazyLoadImageHooks");function xt(t){return Boolean(t.parentElement&&"picture"===t.parentElement.nodeName.toLowerCase())}function wt(t){return"img"===t.nodeName.toLowerCase()}function kt(t,e,a){return wt(t)?a&&"srcset"in t?t.srcset=e:t.src=e:t.style.backgroundImage="url('".concat(e,"')"),t}function Pt(t){return function(e){for(var a=e.parentElement.getElementsByTagName("source"),n=0;n<a.length;n++){var i=a[n].getAttribute(t);i&&("srcset"in a[n]?a[n].srcset=i:a[n].src=i)}}}var Ot=Pt("defaultImage"),Mt=Pt("lazyLoad"),Et=Pt("errorImage");function St(t){return function(e,a,n){wt(e)&&xt(e)&&t(e),a&&kt(e,a,n)}}var It,Lt=St(Ot),Rt=St(Mt),Tt=St(Et),Dt=((It=function(){function t(e,a,n,i){l(this,t),this.onStateChange=new h.r,this.elementRef=e,this.ngZone=a,this.propertyChanges$=new st.a,this.hooks=i,this.hooks.setPlatformId(n),this.uid=Math.random().toString(36).substr(2,9)}return s(t,[{key:"ngOnChanges",value:function(){!0!==this.debug||this.debugSubscription||(this.debugSubscription=this.onStateChange.subscribe((function(t){return console.log(t)}))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}},{key:"ngAfterContentInit",value:function(){var t=this;if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular((function(){t.loadSubscription=t.propertyChanges$.pipe(Object(ut.a)((function(e){return t.hooks.onAttributeChange(e)})),Object(ut.a)((function(t){return t.onStateChange.emit({reason:"setup"})})),Object(ut.a)((function(e){return t.hooks.setup(e)})),Object(_t.a)((function(e){return e.imagePath?t.hooks.getObservable(e).pipe(function(t,e){return function(a){return a.pipe(Object(ut.a)((function(t){return e.onStateChange.emit({reason:"observer-emit",data:t})})),Object(pt.a)((function(a){return t.isVisible(a,e)})),Object(bt.a)(1),Object(ut.a)((function(){return e.onStateChange.emit({reason:"start-loading"})})),Object(mt.a)((function(){return t.loadImage(e)})),Object(ut.a)((function(){return e.onStateChange.emit({reason:"mount-image"})})),Object(ut.a)((function(a){return t.setLoadedImage(a,e)})),Object(ut.a)((function(){return e.onStateChange.emit({reason:"loading-succeeded"})})),Object(ft.a)((function(){return!0})),Object(vt.a)((function(a){return e.onStateChange.emit({reason:"loading-failed",data:a}),t.setErrorImage(a,e),Object(ct.a)(!1)})),Object(ut.a)((function(){e.onStateChange.emit({reason:"finally"}),t.finally(e)})))}}(t.hooks,e)):gt}))).subscribe({next:function(){return null}})}))}},{key:"ngOnDestroy",value:function(){var t,e,a=this;this.propertyChanges$.pipe(Object(bt.a)(1)).subscribe({next:function(t){return a.hooks.onDestroy(t)}}).unsubscribe(),null===(t=this.loadSubscription)||void 0===t||t.unsubscribe(),null===(e=this.debugSubscription)||void 0===e||e.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||It)(h.Vb(h.o),h.Vb(h.F),h.Vb(h.I),h.Vb(Ct))},It.\u0275dir=h.Qb({type:It,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[h.Hb]}),It);function Nt(t,e){t.className=t.className.replace(e,"")}function zt(t,e){t.className.includes(e)||(t.className+=" "+e)}var At,Vt,Jt=((At=function(t){a(n,t);var e=i(n);function n(){var t;return l(this,n),(t=e.apply(this,arguments)).observers=new WeakMap,t.intersectionSubject=new ht.a,t.uniqKey={},t}return s(n,[{key:"getObservable",value:function(t){var e=this;if(this.skipLazyLoading())return Object(ct.a)({isIntersecting:!0});if(t.customObservable)return t.customObservable;var a=t.scrollContainer||this.uniqKey,n={root:t.scrollContainer||null};t.offset&&(n.rootMargin=t.offset+"px");var i=this.observers.get(a);return i||(i=new IntersectionObserver((function(t){return e.loadingCallback(t)}),n),this.observers.set(a,i)),i.observe(t.element),lt.a.create((function(a){var n=e.intersectionSubject.pipe(Object(pt.a)((function(e){return e.target===t.element}))).subscribe(a);return function(){n.unsubscribe(),i.unobserve(t.element)}}))}},{key:"isVisible",value:function(t){return t.isIntersecting}},{key:"loadingCallback",value:function(t){var e=this;t.forEach((function(t){return e.intersectionSubject.next(t)}))}}]),n}(function(t){a(n,t);var e=i(n);function n(){return l(this,n),e.apply(this,arguments)}return s(n,[{key:"setup",value:function(t){var e;Lt(t.element,t.defaultImagePath,t.useSrcset),zt(t.element,"ng-lazyloading"),(e=t.element).className&&e.className.includes("ng-lazyloaded")&&Nt(t.element,"ng-lazyloaded")}},{key:"finally",value:function(t){zt(t.element,"ng-lazyloaded"),Nt(t.element,"ng-lazyloading")}},{key:"loadImage",value:function(t){if(this.skipLazyLoading())return[t.imagePath];var e,a=t.element,n=t.useSrcset,i=t.imagePath,o=t.decode;if(wt(a)&&xt(a)){var r=a.parentNode.cloneNode(!0);e=r.getElementsByTagName("img")[0],Mt(e),kt(e,i,n)}else e=new Image,wt(a)&&a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),wt(a)&&a.sizes&&(e.sizes=a.sizes),n&&"srcset"in e?e.srcset=i:e.src=i;return o&&e.decode?e.decode().then((function(){return i})):new Promise((function(t,a){e.onload=function(){return t(i)},e.onerror=function(){return a(null)}}))}},{key:"setErrorImage",value:function(t,e){var a=e.element,n=e.useSrcset,i=e.errorImagePath;Tt(a,i,n),zt(a,"ng-failed-lazyloaded")}},{key:"setLoadedImage",value:function(t,e){var a=e.element,n=e.useSrcset;Rt(a,t,n)}},{key:"isDisabled",value:function(){return Object(x.C)(this.platformId)&&!this.isBot()}},{key:"skipLazyLoading",value:function(){return this.isBot()}},{key:"isBot",value:function(){var t;return!!(null===(t=this.navigator)||void 0===t?void 0:t.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}]),n}(function(){function t(){l(this,t),this.navigator="undefined"!=typeof window?window.navigator:void 0}return s(t,[{key:"setPlatformId",value:function(t){this.platformId=t}},{key:"onDestroy",value:function(t){}},{key:"onAttributeChange",value:function(t){}}]),t}()))).\u0275fac=function(t){return Ft(t||At)},At.\u0275prov=h.Rb({token:At,factory:At.\u0275fac}),At),Ft=h.dc(Jt),Bt=((Vt=function t(){l(this,t)}).\u0275mod=h.Tb({type:Vt}),Vt.\u0275inj=h.Sb({factory:function(t){return new(t||Vt)},providers:[{provide:Ct,useClass:Jt}]}),Vt);function Wt(t,e){if(1&t&&(h.bc(0,"nb-option",34),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a),h.Jb(1),h.Oc(a)}}function Ht(t,e){if(1&t){var a=h.cc();h.bc(0,"button",35),h.ic("click",(function(){return h.Dc(a),h.mc().viewCorruptedFonts()})),h.Nc(1,"Corrupted Fonts"),h.ac()}}function jt(t,e){1&t&&(h.bc(0,"div",36),h.Wb(1,"img",37),h.bc(2,"h2"),h.Nc(3,"No data found"),h.ac(),h.ac())}function Ut(t,e){1&t&&h.Wb(0,"img",55)}function $t(t,e){if(1&t){var a=h.cc();h.bc(0,"div",38),h.bc(1,"nb-card",39),h.bc(2,"div",40),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewCatalog(t)})),h.Wb(3,"img",41),h.bc(4,"img",42),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.ac(),h.bc(5,"div",43),h.bc(6,"div",44),h.Nc(7),h.ac(),h.ac(),h.bc(8,"nb-card-footer",45),h.bc(9,"a",46),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewCatalog(t)})),h.Wb(10,"nb-icon",47),h.ac(),h.bc(11,"a",48),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().updateCategory(t)})),h.Wb(12,"nb-icon",49),h.ac(),h.bc(13,"a",50),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().deleteCategory(t.sub_category_id)})),h.Wb(14,"nb-icon",51),h.ac(),h.bc(15,"a",52),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().addSearchtag(t)})),h.Wb(16,"nb-icon",53),h.ac(),h.ac(),h.ac(),h.Lc(17,Ut,1,0,"img",54),h.ac()}if(2&t){var n=e.$implicit,i=h.mc();h.Jb(4),h.uc("alt","",n.name," thumbnail image"),h.sc("lazyLoad",n.thumbnail_img)("errorImage",i.utils.errorImg),h.Jb(2),h.sc("nbTooltip",n.sub_category_id+". "+n.name),h.Jb(1),h.Qc("",n.sub_category_id,". ",n.name,""),h.Jb(8),h.uc("nbTooltip","Add search tags to ",n.name,""),h.Jb(2),h.sc("ngIf",1==n.is_featured)}}var Gt,Yt=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},Kt=((Gt=function(){function t(e,a,n,i,o,r){l(this,t),this.validService=e,this.actRoute=a,this.dialog=n,this.dataService=i,this.utils=o,this.route=r,this.previousLabel="<",this.nextLabel=">",this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.currentPage=1,this.errormsg=C.b,this.paginstatus="true",this.broadItem=JSON.parse(localStorage.getItem("selected_category")).name,this.categoryId=this.actRoute.snapshot.params.categoryId}return s(t,[{key:"ngOnInit",value:function(){this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCatButton",successArr:["subCatInput"]}}),"blank"!=o&&this.searchCategory()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.selectedPageSize>this.totalRecords&&(this.currentPage=1),this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"refreshPage",value:function(){this.paginstatus="true",this.searchQuery="",this.selectedPageSize="50",this.currentPage=1,document.getElementById("catError").innerHTML="",this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"searchCategory",value:function(){var t=this;this.validService.checkAllValid([{id:"subCatInput",errorId:"catError",type:"",blank_msg:C.b.SUB_CAT_NAME_SEARCH_EMPTY,type_msg:""}])&&(this.utils.showPageLoader(),this.dataService.postData("searchSubCategoryByName",{name:this.searchQuery,category_id:this.categoryId},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.paginstatus="false",t.totalRecords=e.data.category_list.length,t.selectedPageSize=t.totalRecords.toString(),t.categoryData=e.data.category_list,t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"deleteCategory",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteSubCategory",{sub_category_id:t},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess("Sub category deleted successfully",4e3),e.getAllCategories(e.categoryId,e.currentPage,e.selectedPageSize)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"addSubCategory",value:function(){this.open(!1,"","Add sub category")}},{key:"addSearchtag",value:function(t){this.openTags(!1,t)}},{key:"openTags",value:function(t,e){this.dialog.open(j,{closeOnBackdropClick:t,closeOnEsc:!1,context:{subCatData:e}})}},{key:"updateCategory",value:function(t){this.open(!1,t,"Update sub category")}},{key:"open",value:function(t,e,a){var n=this;this.dialog.open(Z,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{categoryId:this.categoryId,subCatData:e}}).onClose.subscribe((function(t){t&&"add"==t.res&&n.getAllCategories(n.categoryId,n.currentPage,n.selectedPageSize)}))}},{key:"viewCatalog",value:function(t){localStorage.setItem("selected_sub_category",JSON.stringify(t)),t.name=t.name.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,t.name,t.sub_category_id])}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllCategories(this.categoryId,this.currentPage,this.selectedPageSize)}},{key:"getAllCategories",value:function(t,e,a){var n=this;this.utils.showPageLoader(),this.token=localStorage.getItem("at"),this.dataService.postData("getSubCategoryByCategoryId",{category_id:t,page:e,item_count:a},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(n.totalRecords=t.data.total_record,n.categoryData=t.data.category_list,n.utils.hidePageLoader()):201==t.code?(n.utils.showError(t.message,4e3),n.utils.hidePageLoader()):t.status||0==t.status?(n.utils.showError(C.b.SERVER_ERR,4e3),n.utils.hidePageLoader()):(n.utils.showError(t.message,4e3),n.utils.hidePageLoader())}),(function(t){console.log(t),n.utils.hidePageLoader(),n.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),n.utils.hidePageLoader(),n.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}},{key:"viewCorruptedFonts",value:function(){this.dialog.open(rt,{closeOnBackdropClick:!0})}}]),t}()).\u0275fac=function(t){return new(t||Gt)(h.Vb(y.a),h.Vb(p.a),h.Vb(d.I),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},Gt.\u0275cmp=h.Pb({type:Gt,selectors:[["ngx-viewcategories"]],decls:43,vars:22,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"breadcrumb-item","main-home",3,"click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pl-0","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary"],[1,"col-md-12","pr-0","pl-1"],[1,"row","mb-2"],[1,"col-md-5","col-12"],[1,"form-group"],["type","text","nbInput","","placeholder","Search category name here","valid-status","false","id","subCatInput",2,"background","#fff",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","catError",2,"color","red","margin-bottom","0px","height","14px"],[1,"col-md-2","col-12"],["id","subCatButton",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-1","col-sm-1","col-1"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default","nbTooltipTrigger","hint",1,"btn","btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"col-md-4","text-right","col-11","col-sm-11","pl-0"],[1,"pegin",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-primary ml-2","nbTooltip","Click here to view Corrupted Fonts","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click",4,"ngIf"],[1,"btn","btn-primary","ml-2",3,"click"],[1,"row","card-gallary-content"],[1,"col-md-12"],[1,"card-gallary","row"],["class","col-md-12 text-center",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3 pl-0 pr-0",4,"ngFor","ngForOf"],[1,"row","pt-3",2,"background","#fff"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],["nbTooltip","Click here to view Corrupted Fonts","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"btn","btn-primary","ml-2",3,"click"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pl-0","pr-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative",3,"click"],[1,"placeholder-img"],[1,"categImg",3,"lazyLoad","errorImage","alt","load"],[1,"details"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"nbTooltip"],[2,"background","#E1E8F3"],["target","_blank",3,"click"],["icon","folder","pack","eva","nbTooltip","View","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",3,"click"],["icon","trash-2","pack","eva"],["nbTooltipPlacement","bottom","nbTooltipTrigger","hint","nbTooltipStatus","primary",3,"nbTooltip","click"],["icon","pricetags","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],["src","./assets/featured_img.png",1,"label-img"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",0),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.ic("click",(function(){return e.gotoCategories()})),h.Nc(6,"Categories"),h.ac(),h.bc(7,"li",5),h.Nc(8),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(9,"div",6),h.bc(10,"nb-card",7),h.bc(11,"nb-card-header",8),h.Nc(12),h.nc(13,"uppercase"),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(14,"div",9),h.bc(15,"div",10),h.bc(16,"div",11),h.bc(17,"div",12),h.bc(18,"div",13),h.bc(19,"input",14),h.ic("ngModelChange",(function(t){return e.searchQuery=t}))("keyup",(function(){return e.checkValidation("subCatInput","","catError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("subCatInput","","catError","","","usual")})),h.ac(),h.Wb(20,"p",15),h.ac(),h.ac(),h.bc(21,"div",16),h.bc(22,"div",13),h.bc(23,"button",17),h.ic("click",(function(){return e.searchCategory()})),h.Nc(24,"Search"),h.ac(),h.ac(),h.ac(),h.bc(25,"div",18),h.bc(26,"button",19),h.ic("click",(function(){return e.refreshPage()})),h.Wb(27,"i",20),h.ac(),h.ac(),h.bc(28,"div",21),h.bc(29,"nb-select",22),h.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),h.Lc(30,Wt,2,2,"nb-option",23),h.ac(),h.Lc(31,Ht,2,0,"button",24),h.bc(32,"button",25),h.ic("click",(function(){return e.addSubCategory()})),h.Nc(33,"Add Sub Category"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(34,"div",26),h.bc(35,"div",27),h.bc(36,"div",28),h.Lc(37,jt,4,0,"div",29),h.Lc(38,$t,18,8,"div",30),h.nc(39,"paginate"),h.ac(),h.bc(40,"div",31),h.bc(41,"div",32),h.bc(42,"pagination-controls",33),h.ic("pageChange",(function(t){return e.handlePageChange(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(8),h.Oc(e.broadItem),h.Jb(4),h.Qc(" TOTAL ",h.oc(13,13,e.broadItem)," : ",e.totalRecords," "),h.Jb(7),h.sc("ngModel",e.searchQuery),h.Jb(10),h.sc("selected",e.selectedPageSize),h.Kb("pagin-status",e.paginstatus),h.Jb(1),h.sc("ngForOf",e.pageSize),h.Jb(1),h.sc("ngIf",4==e.categoryId),h.Jb(6),h.sc("ngIf",0==e.totalRecords),h.Jb(1),h.sc("ngForOf",h.pc(39,15,e.categoryData,h.zc(18,Yt,e.selectedPageSize,e.currentPage,e.totalRecords))),h.Jb(3),h.Kb("pagin-status",e.paginstatus),h.Jb(1),h.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[d.yb,d.x,d.z,d.P,w.c,w.n,w.q,d.mb,x.m,x.n,L.c,d.fb,Dt,d.y,d.L],pipes:[x.w,L.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:60px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}"]}),Gt);function qt(t,e){1&t&&(h.bc(0,"h5",61),h.Nc(1,"Add Catalog"),h.ac())}function Qt(t,e){1&t&&(h.bc(0,"h5",61),h.Nc(1,"Update Catalog"),h.ac())}function Xt(t,e){1&t&&h.Wb(0,"img",62)}function Zt(t,e){if(1&t){var a=h.cc();h.bc(0,"img",63),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.calogImage,h.Fc)}}function te(t,e){1&t&&h.Wb(0,"img",62)}function ee(t,e){if(1&t){var a=h.cc();h.bc(0,"img",63),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.iconImage,h.Fc)}}function ae(t,e){1&t&&h.Wb(0,"img",62)}function ne(t,e){if(1&t){var a=h.cc();h.bc(0,"img",63),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.lanscapeImage,h.Fc)}}function ie(t,e){1&t&&h.Wb(0,"img",62)}function oe(t,e){if(1&t){var a=h.cc();h.bc(0,"img",63),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.portraitImage,h.Fc)}}function re(t,e){if(1&t){var a=h.cc();h.bc(0,"button",64),h.Nc(1),h.bc(2,"nb-icon",65),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().removeTag(t)})),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(1),h.Pc("",n," ")}}function ce(t,e){if(1&t&&(h.bc(0,"nb-option",66),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a.value),h.Jb(1),h.Oc(a.name)}}function se(t,e){1&t&&(h.bc(0,"p",67),h.bc(1,"b"),h.Nc(2,"Note:"),h.ac(),h.Nc(3," For Non-Fix date catalog you have to update date every year starting"),h.ac())}function le(t,e){1&t&&h.Wb(0,"nb-icon",68)}function de(t,e){1&t&&h.Wb(0,"nb-icon",69)}function ge(t,e){1&t&&h.Wb(0,"nb-icon",70)}function he(t,e){if(1&t){var a=h.cc();h.bc(0,"div",4),h.bc(1,"div",28),h.bc(2,"label",29),h.Nc(3,"Event Date"),h.ac(),h.ac(),h.bc(4,"div",30),h.bc(5,"div",31),h.bc(6,"input",71),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().eventDate=t}))("change",(function(){return h.Dc(a),h.mc().checkOtherStatus()})),h.ac(),h.Wb(7,"p",72),h.ac(),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(6),h.sc("ngModel",n.eventDate)}}function ue(t,e){if(1&t){var a=h.cc();h.bc(0,"button",73),h.ic("click",(function(){return h.Dc(a),h.mc().addCatalog()})),h.Nc(1,"Add"),h.ac()}}function pe(t,e){if(1&t){var a=h.cc();h.bc(0,"button",73),h.ic("click",(function(){return h.Dc(a),h.mc().addCatalog()})),h.Nc(1,"Update"),h.ac()}}var be,me=((be=function(){function t(e,a,n,i,o){l(this,t),this.validService=e,this.dialogref=a,this.dataService=n,this.utils=i,this.route=o,this.formData=new FormData,this.errormsg=C.b,this.selectCalogType="0",this.selectCalogPrice="1",this.selectCalogPriceIOS="1",this.selectedCatalogType="1",this.listOfTag=[],this.catalogList=[],this.catalogTypes=[{name:"Normal",value:"1"},{name:"Fix date",value:"2"},{name:"Non-fix date",value:"3"},{name:"Non date",value:"4"}],this.popularity="1",this.token=localStorage.getItem("at"),this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")).category_id,this.subCategoryId=JSON.parse(localStorage.getItem("selected_sub_category")).sub_category_id,this.utils.dialogref=this.dialogref}return s(t,[{key:"ngOnInit",value:function(){if(this.catalogData&&(this.calogImage=this.catalogData.webp_original_img?this.catalogData.webp_original_img:this.catalogData.thumbnail_img,this.CalogName=this.catalogData.name,this.selectCalogType=this.catalogData.is_featured.toString(),this.selectCalogPrice=this.catalogData.is_free.toString(),this.selectCalogPriceIOS=0==this.catalogData.is_ios_free||1==this.catalogData.is_ios_free?this.catalogData.is_ios_free.toString():this.catalogData.is_free.toString(),this.catalogId=this.catalogData.catalog_id,this.catalogData.catalog_type&&(this.selectedCatalogType=""+this.catalogData.catalog_type),this.catalogData.popularity_rate&&null!=this.catalogData.popularity_rate&&(this.popularity=""+this.catalogData.popularity_rate),this.catalogData.event_date&&null!=this.catalogData.event_date&&(this.eventDate=this.catalogData.event_date),this.catalogData.icon&&null!=this.catalogData.icon&&(this.iconImage=this.catalogData.icon),this.catalogData.compressed_landscape_img&&null!=this.catalogData.compressed_landscape_img&&(this.lanscapeImage=this.catalogData.compressed_landscape_img),this.catalogData.compressed_portrait_img&&null!=this.catalogData.compressed_portrait_img&&(this.portraitImage=this.catalogData.compressed_portrait_img)),null!==this.indexOfCatalog.search_category)for(var t=this.indexOfCatalog.search_category.split(","),e=0;e<t.length;e++)this.listOfTag.push(t[e])}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.calogImage=t.target.result,e.checkImageValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList=t.target.files,this.fileList.length>0){this.file=this.fileList[0];var n=Math.round(this.file.size/1024);document.getElementById("imageCalogError").innerHTML=n>100?"Maximum 100Kb file allow":"",this.formData.append("file",this.file,this.file.name)}}},{key:"fileChangeicon",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.iconImage=t.target.result,e.checkIconValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList1=t.target.files,this.fileList1.length>0){this.file1=this.fileList1[0];var n=Math.round(this.file1.size/1024);document.getElementById("iconCalogError").innerHTML=n>50?"Maximum 50Kb file allow":"",this.formData.append("icon",this.file1,this.file1.name)}}},{key:"fileChangeLandscape",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.lanscapeImage=t.target.result,e.checkLandscapeValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList2=t.target.files,this.fileList2.length>0){this.file2=this.fileList2[0];var n=Math.round(this.file2.size/1024);document.getElementById("lanscapeCalogError").innerHTML=n>100?"Maximum 100Kb file allow":"",this.formData.append("landscape",this.file2,this.file2.name)}}},{key:"fileChangePortrait",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.portraitImage=t.target.result,e.checkPortraitValid()},a.readAsDataURL(t.target.files[0])}if(this.fileList3=t.target.files,this.fileList3.length>0){this.file3=this.fileList3[0];var n=Math.round(this.file3.size/1024);document.getElementById("portraitCalogError").innerHTML=n>100?"Maximum 100Kb file allow":"",this.formData.append("portrait",this.file3,this.file3.name)}}},{key:"closedialog",value:function(){this.dialogref.close({res:""})}},{key:"checkImageValid",value:function(){if(document.getElementById("CalogAddError").innerHTML="",null==this.calogImage||"none"==this.calogImage||""==this.calogImage)document.getElementById("imageCalogError").innerHTML=C.b.IMG_REQ;else{if(!this.file)return document.getElementById("imageCalogError").innerHTML="",!0;if(!(Math.round(this.file.size/1024)>100))return document.getElementById("imageCalogError").innerHTML="",!0;document.getElementById("imageCalogError").innerHTML="Maximum 100Kb file allow"}}},{key:"checkPortraitValid",value:function(){return document.getElementById("CalogAddError").innerHTML="",this.file3&&Math.round(this.file3.size/1024)>100?void(document.getElementById("portraitCalogError").innerHTML="Maximum 100Kb file allow"):(document.getElementById("portraitCalogError").innerHTML="",!0)}},{key:"checkLandscapeValid",value:function(){return document.getElementById("CalogAddError").innerHTML="",this.file2&&Math.round(this.file2.size/1024)>100?void(document.getElementById("lanscapeCalogError").innerHTML="Maximum 100Kb file allow"):(document.getElementById("lanscapeCalogError").innerHTML="",!0)}},{key:"checkIconValid",value:function(){return document.getElementById("CalogAddError").innerHTML="",this.file1&&Math.round(this.file1.size/1024)>50?void(document.getElementById("iconCalogError").innerHTML="Maximum 50Kb file allow"):(document.getElementById("iconCalogError").innerHTML="",!0)}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCalogAdd",successArr:["addCalogInput","calogImage"]}}),"blank"!=o&&this.addCatalog()}},{key:"checkOtherStatus",value:function(){return 2!=this.selectedCatalogType&&3!=this.selectedCatalogType||(null==this.eventDate||""==this.eventDate?(document.getElementById("inputdateError").innerHTML="Please enter event date",!1):(document.getElementById("inputdateError").innerHTML="",!0))}},{key:"addCatalog",value:function(){var t=this;console.log(this.listOfTag);var e,a,n=this.validService.checkAllValid([{id:"addCalogInput",errorId:"inputCalogError",type:"",blank_msg:C.b.CAT_LOG_EMPTY,type_msg:""}]),i=this.checkImageValid(),o=this.checkIconValid(),r=this.checkPortraitValid(),c=this.checkLandscapeValid(),s=this.checkOtherStatus();n&&i&&o&&s&&r&&c&&(this.utils.showLoader(),e=this.catalogData?"updateCatalog":"addCatalog",a=this.catalogData?{category_id:this.selectedCategory,sub_category_id:this.subCategoryId,is_free:this.selectCalogPrice,is_ios_free:this.selectCalogPriceIOS,catalog_type:+this.selectedCatalogType,event_date:this.eventDate,popularity_rate:this.popularity,is_featured:this.selectCalogType,name:this.CalogName,catalog_id:this.catalogId,search_category:this.listOfTag.join(",")}:{category_id:this.selectedCategory,sub_category_id:this.subCategoryId,is_free:this.selectCalogPrice,is_ios_free:this.selectCalogPriceIOS,catalog_type:+this.selectedCatalogType,event_date:this.eventDate,popularity_rate:this.popularity,is_featured:this.selectCalogType,name:this.CalogName},this.formData.append("request_data",JSON.stringify(a)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.dialogref.close({res:"add"}),t.utils.showSuccess(t.catalogData?"Catalog updated successfully":"Catalog added successfully",4e3)):201==e.code?(document.getElementById("CalogAddError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}},{key:"addTag",value:function(){var t=this.tagName.split(",");if(""!=this.tagName){for(var e=0;e<t.length;e++)this.listOfTag.indexOf(t[e])&&this.listOfTag.push(t[e]);this.tagName=""}}},{key:"removeTag",value:function(t){var e=this.listOfTag.indexOf(t);this.listOfTag.splice(e,1)}}]),t}()).\u0275fac=function(t){return new(t||be)(h.Vb(y.a),h.Vb(d.H),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},be.\u0275cmp=h.Pb({type:be,selectors:[["ngx-addcatalog"]],decls:136,vars:34,consts:[[1,"catalog-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-12"],[1,"col-md-3"],[1,"d-block","form-label","text-center"],["id","calogImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput1"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput1","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","calogImage1",1,"img-preview"],["for","fileInput2"],["id","iconCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput2","autofocus","true","accept","image/png",2,"display","none",3,"change"],["id","calogImag2",1,"img-preview"],["for","fileInput3"],["id","lanscapeCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput3","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","calogImage3",1,"img-preview"],["for","fileInput4"],["id","portraitCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],["type","file","id","fileInput4","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"row","mt-4"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","tabindex","-1","autofocus","false","nbInput","","placeholder","Enter catalog name","id","addCalogInput",1,"w-100","mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputCalogError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],["type","text","placeholder","Enter New Tag","nbInput","","fullWidth","",1,"w-100","mw-100",3,"ngModel","ngModelChange","keyup.enter"],[1,"mt-1","mb-0"],["nbButton","","class","mr-1 mb-1","outline","","shape","round","size","tiny","status","info",4,"ngFor","ngForOf"],[1,"col-md-8","pl-0"],[1,"w-100","mw-100",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-info",4,"ngIf"],[1,"col-md-1","pl-0"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have fix date in every year.Ex kites day,valentine's day,teacher's day etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have no fix date but it come in every year.Ex Diwali,Holi etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["icon","info-outline","pack","eva","style","font-size: 26px;margin-top: 5px;","nbTooltip","Event which have no any date but it's come.Ex birthday,anniversary etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",4,"ngIf"],["id","radioCalogPriInput","name","my-radio-group4",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["class","row",4,"ngIf"],[1,"form-group","mb-0"],["id","radioCalogPriInput","name","my-radio-group1",3,"ngModel","ngModelChange"],["value","0"],["id","radioCalogPriInputIOS","name","my-radio-groupios",3,"ngModel","ngModelChange"],["id","radioCalogInput","name","my-radio-group2",3,"ngModel","ngModelChange"],[1,"pb-0"],[1,"form-group","text-center"],["id","CalogAddError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center"],["class","btn bg-primary text-light w-50","id","subCalogAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["nbButton","","outline","","shape","round","size","tiny","status","info",1,"mr-1","mb-1"],["icon","close","status","danger",3,"click"],[3,"value"],[1,"text-info"],["icon","info-outline","pack","eva","nbTooltip","Event which have fix date in every year.Ex kites day,valentine's day,teacher's day etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["icon","info-outline","pack","eva","nbTooltip","Event which have no fix date but it come in every year.Ex Diwali,Holi etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["icon","info-outline","pack","eva","nbTooltip","Event which have no any date but it's come.Ex birthday,anniversary etc.","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint","nbTooltipTrigger","hint",2,"font-size","26px","margin-top","5px"],["type","date","nbInput","",1,"w-100","mw-100",3,"ngModel","ngModelChange","change"],["id","inputdateError",2,"color","red","margin-bottom","0px","margin-top","4px","height","20px"],["id","subCalogAdd",1,"btn","bg-primary","text-light","w-50",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.Lc(2,qt,2,0,"h5",2),h.Lc(3,Qt,2,0,"h5",2),h.bc(4,"i",3),h.ic("click",(function(){return e.closedialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.bc(8,"div",4),h.bc(9,"div",6),h.bc(10,"label",7),h.Nc(11,"Default"),h.ac(),h.bc(12,"div",8),h.Lc(13,Xt,1,0,"img",9),h.Lc(14,Zt,1,1,"img",10),h.bc(15,"label",11),h.Wb(16,"i",12),h.ac(),h.ac(),h.Wb(17,"p",13),h.bc(18,"input",14),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.ac(),h.bc(19,"div",6),h.bc(20,"label",7),h.Nc(21,"Icon"),h.ac(),h.bc(22,"div",15),h.Lc(23,te,1,0,"img",9),h.Lc(24,ee,1,1,"img",10),h.bc(25,"label",16),h.Wb(26,"i",12),h.ac(),h.ac(),h.Wb(27,"p",17),h.bc(28,"input",18),h.ic("change",(function(t){return e.fileChangeicon(t)})),h.ac(),h.ac(),h.bc(29,"div",6),h.bc(30,"label",7),h.Nc(31,"Landscape"),h.ac(),h.bc(32,"div",19),h.Lc(33,ae,1,0,"img",9),h.Lc(34,ne,1,1,"img",10),h.bc(35,"label",20),h.Wb(36,"i",12),h.ac(),h.ac(),h.Wb(37,"p",21),h.bc(38,"input",22),h.ic("change",(function(t){return e.fileChangeLandscape(t)})),h.ac(),h.ac(),h.bc(39,"div",6),h.bc(40,"label",7),h.Nc(41,"Portrait"),h.ac(),h.bc(42,"div",23),h.Lc(43,ie,1,0,"img",9),h.Lc(44,oe,1,1,"img",10),h.bc(45,"label",24),h.Wb(46,"i",12),h.ac(),h.ac(),h.Wb(47,"p",25),h.bc(48,"input",26),h.ic("change",(function(t){return e.fileChangePortrait(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(49,"div",5),h.bc(50,"div",27),h.bc(51,"div",28),h.bc(52,"label",29),h.Nc(53,"Catalog"),h.ac(),h.ac(),h.bc(54,"div",30),h.bc(55,"div",31),h.bc(56,"input",32),h.ic("ngModelChange",(function(t){return e.CalogName=t}))("keyup",(function(){return e.checkValidation("addCalogInput","","inputCalogError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("addCalogInput","","inputCalogError",e.errormsg.CAT_LOG_EMPTY,"","usual")})),h.ac(),h.Wb(57,"p",33),h.ac(),h.ac(),h.ac(),h.bc(58,"div",4),h.bc(59,"div",6),h.bc(60,"label",29),h.Nc(61,"Tags"),h.ac(),h.ac(),h.bc(62,"div",30),h.bc(63,"div",31),h.bc(64,"input",34),h.ic("ngModelChange",(function(t){return e.tagName=t}))("keyup.enter",(function(){return e.addTag()})),h.ac(),h.bc(65,"p",35),h.Lc(66,re,3,1,"button",36),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(67,"div",4),h.bc(68,"div",28),h.bc(69,"label",29),h.Nc(70,"Catalog Type 1"),h.ac(),h.ac(),h.bc(71,"div",37),h.bc(72,"div",31),h.bc(73,"nb-select",38),h.ic("selectedChange",(function(t){return e.selectedCatalogType=t})),h.Lc(74,ce,2,2,"nb-option",39),h.ac(),h.Lc(75,se,4,0,"p",40),h.ac(),h.ac(),h.bc(76,"div",41),h.Lc(77,le,1,0,"nb-icon",42),h.Lc(78,de,1,0,"nb-icon",43),h.Lc(79,ge,1,0,"nb-icon",44),h.ac(),h.ac(),h.bc(80,"div",4),h.bc(81,"div",28),h.bc(82,"label",29),h.Nc(83,"Popularity"),h.ac(),h.ac(),h.bc(84,"div",30),h.bc(85,"div",31),h.bc(86,"nb-radio-group",45),h.ic("ngModelChange",(function(t){return e.popularity=t})),h.bc(87,"nb-radio",46),h.Nc(88,"1 "),h.ac(),h.bc(89,"nb-radio",47),h.Nc(90,"2 "),h.ac(),h.bc(91,"nb-radio",48),h.Nc(92,"3 "),h.ac(),h.bc(93,"nb-radio",49),h.Nc(94,"4 "),h.ac(),h.bc(95,"nb-radio",50),h.Nc(96,"5 "),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.Lc(97,he,8,1,"div",51),h.bc(98,"div",4),h.bc(99,"div",28),h.bc(100,"label",29),h.Nc(101,"Android Pricing"),h.ac(),h.ac(),h.bc(102,"div",30),h.bc(103,"div",52),h.bc(104,"nb-radio-group",53),h.ic("ngModelChange",(function(t){return e.selectCalogPrice=t})),h.bc(105,"nb-radio",46),h.Nc(106,"Free "),h.ac(),h.bc(107,"nb-radio",54),h.Nc(108,"Paid "),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(109,"div",4),h.bc(110,"div",28),h.bc(111,"label",29),h.Nc(112,"IOS Pricing"),h.ac(),h.ac(),h.bc(113,"div",30),h.bc(114,"div",52),h.bc(115,"nb-radio-group",55),h.ic("ngModelChange",(function(t){return e.selectCalogPriceIOS=t})),h.bc(116,"nb-radio",46),h.Nc(117,"Free "),h.ac(),h.bc(118,"nb-radio",54),h.Nc(119,"Paid "),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(120,"div",4),h.bc(121,"div",28),h.bc(122,"label",29),h.Nc(123,"Catalog Type 2"),h.ac(),h.ac(),h.bc(124,"div",30),h.bc(125,"div",52),h.bc(126,"nb-radio-group",56),h.ic("ngModelChange",(function(t){return e.selectCalogType=t})),h.bc(127,"nb-radio",46),h.Nc(128,"Featured "),h.ac(),h.bc(129,"nb-radio",54),h.Nc(130,"Normal "),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(131,"nb-card-footer",57),h.bc(132,"div",58),h.Wb(133,"p",59),h.Lc(134,ue,2,0,"button",60),h.Lc(135,pe,2,0,"button",60),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",!e.catalogData),h.Jb(1),h.sc("ngIf",e.catalogData),h.Jb(9),h.Kb("valid-status",!!e.catalogData),h.Jb(1),h.sc("ngIf",e.calogImage),h.Jb(1),h.sc("ngIf",e.calogImage),h.Jb(8),h.Kb("valid-status",!!e.catalogData),h.Jb(1),h.sc("ngIf",e.iconImage),h.Jb(1),h.sc("ngIf",e.iconImage),h.Jb(8),h.Kb("valid-status",!!e.catalogData),h.Jb(1),h.sc("ngIf",e.lanscapeImage),h.Jb(1),h.sc("ngIf",e.lanscapeImage),h.Jb(8),h.Kb("valid-status",!!e.catalogData),h.Jb(1),h.sc("ngIf",e.portraitImage),h.Jb(1),h.sc("ngIf",e.portraitImage),h.Jb(12),h.sc("ngModel",e.CalogName),h.Kb("valid-status",!!e.catalogData),h.Jb(8),h.sc("ngModel",e.tagName),h.Jb(2),h.sc("ngForOf",e.listOfTag),h.Jb(7),h.sc("selected",e.selectedCatalogType),h.Jb(1),h.sc("ngForOf",e.catalogTypes),h.Jb(1),h.sc("ngIf",3==e.selectedCatalogType),h.Jb(2),h.sc("ngIf",2==e.selectedCatalogType),h.Jb(1),h.sc("ngIf",3==e.selectedCatalogType),h.Jb(1),h.sc("ngIf",4==e.selectedCatalogType),h.Jb(7),h.sc("ngModel",e.popularity),h.Jb(11),h.sc("ngIf",2==e.selectedCatalogType||3==e.selectedCatalogType),h.Jb(7),h.sc("ngModel",e.selectCalogPrice),h.Kb("valid-status",!!e.catalogData),h.Jb(11),h.sc("ngModel",e.selectCalogPriceIOS),h.Kb("valid-status",!!e.catalogData),h.Jb(11),h.sc("ngModel",e.selectCalogType),h.Kb("valid-status",!!e.catalogData),h.Jb(8),h.sc("ngIf",!e.catalogData),h.Jb(1),h.sc("ngIf",e.catalogData))},directives:[d.x,d.z,x.n,d.w,d.P,w.c,w.n,w.q,x.m,d.mb,d.jb,d.ib,d.y,d.u,d.L,d.fb,d.yb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.catalog-card[_ngcontent-%COMP%]{width:640px}  .catalog-card nb-card-body{max-height:calc(100vh - 191px)}"]}),be);function fe(t,e){1&t&&h.Wb(0,"i",10)}function ve(t,e){if(1&t){var a=h.cc();h.bc(0,"button",11),h.ic("click",(function(){h.Dc(a);var t=h.mc(),e=t.$implicit,n=t.index;return h.mc().linkCatalogStatus(e,"linkCatalog",n)})),h.Wb(1,"i",12),h.ac()}}function _e(t,e){if(1&t){var a=h.cc();h.bc(0,"button",13),h.ic("click",(function(){h.Dc(a);var t=h.mc(),e=t.$implicit,n=t.index;return h.mc().linkCatalogStatus(e,"deleteLinkedCatalog",n)})),h.Wb(1,"i",14),h.ac()}}function ye(t,e){if(1&t&&(h.bc(0,"tr"),h.bc(1,"td"),h.Nc(2),h.ac(),h.bc(3,"td"),h.Nc(4),h.ac(),h.bc(5,"td",6),h.Lc(6,fe,1,0,"i",7),h.ac(),h.bc(7,"td",6),h.Lc(8,ve,2,0,"button",8),h.Lc(9,_e,2,0,"button",9),h.ac(),h.ac()),2&t){var a=e.$implicit,n=e.index;h.Jb(2),h.Oc(n+1),h.Jb(2),h.Oc(a.name),h.Jb(2),h.sc("ngIf",1==a.linked),h.Jb(2),h.sc("ngIf",0==a.linked),h.Jb(1),h.sc("ngIf",1==a.linked)}}var Ce,xe=((Ce=function(){function t(e,a,n){l(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.getAllSubCategoryWithLinkDetails(this.catalogData)}},{key:"closeDialog",value:function(){this.dialogRef.close({res:this.linkStatus})}},{key:"linkCatalogStatus",value:function(t,e,a){var n=this;this.utils.showLoader(),this.dataService.postData(e,{catalog_id:this.catalogData.catalog_id,sub_category_id:JSON.parse(JSON.stringify(t)).sub_category_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(n.utils.showSuccess(t.message,4e3),n.linkStatus="add",n.catalogList[a].linked="linkCatalog"==e?1:0,n.utils.hideLoader()):201==t.code?(n.utils.showError(t.message,4e3),n.utils.hideLoader()):t.status||0==t.status?(n.utils.showError(C.b.SERVER_ERR,4e3),n.utils.hideLoader()):(n.utils.showError(t.message,4e3),n.utils.hideLoader())}),(function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"getAllSubCategoryWithLinkDetails",value:function(t){var e=this;this.utils.showLoader(),this.dataService.postData("getAllSubCategoryForLinkCatalog",{catalog_id:t.catalog_id,category_id:t.category_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.catalogList=t.data.category_list):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||Ce)(h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},Ce.\u0275cmp=h.Pb({type:Ce,selectors:[["ngx-linkcatalog"]],decls:10,vars:1,consts:[[1,"catalog-link"],[1,"row"],[1,"col-md-12","text-center","header-text"],["title","Close dialog",1,"fa","fa-times","icon-close","text-dark",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[1,"text-right"],["class","fa fa-check-circle fa-1x",4,"ngIf"],["class","btn btn-link","title","Click here to link",3,"click",4,"ngIf"],["class","btn btn-link bg-danger","title","Click here to unlink",3,"click",4,"ngIf"],[1,"fa","fa-check-circle","fa-1x"],["title","Click here to link",1,"btn","btn-link",3,"click"],[1,"fa","fa-link","text-light"],["title","Click here to unlink",1,"btn","btn-link","bg-danger",3,"click"],[1,"fa","fa-unlink","text-light"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header"),h.bc(2,"div",1),h.bc(3,"div",2),h.bc(4,"h5"),h.Nc(5,"Link Catalog"),h.ac(),h.bc(6,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(7,"nb-card-body"),h.bc(8,"table",4),h.Lc(9,ye,10,5,"tr",5),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(9),h.sc("ngForOf",e.catalogList))},directives:[d.x,d.z,d.w,x.m,x.n],styles:[".catalog-link{width:749px;height:calc(100vh - 200px)}  .catalog-link nb-card-body{padding:0 10px!important}  .catalog-link nb-card-header{position:relative}  .catalog-link .icon-close{position:absolute;right:10px;top:0;font-size:23px;cursor:pointer}  .catalog-link i{font-size:20px;color:green;vertical-align:middle}  .catalog-link td{vertical-align:middle!important}  .catalog-link .btn-link{background:green}  .catalog-link .btn-link i{font-size:16px!important}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}@media only screen and (max-width:600px){.catalog-link[_ngcontent-%COMP%]{width:100%}}"]}),Ce),we=o("X1uw");function ke(t,e){1&t&&(h.bc(0,"div",56),h.bc(1,"div",57),h.Nc(2,"Android PRO"),h.ac(),h.ac())}function Pe(t,e){1&t&&(h.bc(0,"div",58),h.bc(1,"div",59),h.Nc(2,"IOS PRO"),h.ac(),h.ac())}function Oe(t,e){1&t&&(h.bc(0,"div",60),h.Wb(1,"img",61),h.ac())}function Me(t,e){1&t&&(h.bc(0,"div",62),h.Wb(1,"img",63),h.ac())}function Ee(t,e){1&t&&h.Wb(0,"img",64)}function Se(t,e){if(1&t){var a=h.cc();h.bc(0,"div",31),h.bc(1,"nb-card",32),h.bc(2,"div",33),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewCatalog(t)})),h.Wb(3,"img",34),h.bc(4,"img",35),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.Lc(5,ke,3,0,"div",36),h.Lc(6,Pe,3,0,"div",37),h.Lc(7,Oe,2,0,"div",38),h.Lc(8,Me,2,0,"div",39),h.ac(),h.bc(9,"div",40),h.bc(10,"div",41),h.Nc(11),h.ac(),h.ac(),h.bc(12,"nb-card-footer",42),h.bc(13,"a",43),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewCatalog(t)})),h.Wb(14,"nb-icon",44),h.ac(),h.bc(15,"a",45),h.ic("click",(function(){h.Dc(a);var t=e.$implicit,n=e.index;return h.mc().editCatalog(t,n)})),h.Wb(16,"nb-icon",46),h.ac(),h.bc(17,"a",47),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().deleteCatalog(t.catalog_id)})),h.Wb(18,"nb-icon",48),h.ac(),h.bc(19,"a",49),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().linkCatalog(t)})),h.Wb(20,"nb-icon",50),h.ac(),h.bc(21,"a",51),h.ic("click",(function(){h.Dc(a);var t=e.$implicit,n=e.index;return h.mc().moveToFirst(t,"feature",n)})),h.Wb(22,"nb-icon",52),h.ac(),h.ac(),h.ac(),h.Lc(23,Ee,1,0,"img",53),h.bc(24,"div",54),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewImage(t.compressed_img)})),h.Wb(25,"img",55),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=h.mc();h.Jb(4),h.uc("alt","",n.name," thumbnail image"),h.sc("lazyLoad",n.webp_original_img?n.webp_original_img:n.thumbnail_img)("errorImage",i.utils.errorImg),h.Jb(1),h.sc("ngIf",0==n.is_free),h.Jb(1),h.sc("ngIf",0==n.is_ios_free),h.Jb(1),h.sc("ngIf",n.catalog_type&&n.popularity_rate&&1==n.catalog_type&&5==n.popularity_rate),h.Jb(1),h.sc("ngIf",n.catalog_type&&1!=n.catalog_type),h.Jb(2),h.sc("nbTooltip",n.catalog_id+". "+n.name),h.Jb(1),h.Qc("",n.catalog_id,". ",n.name,""),h.Jb(12),h.sc("ngIf",1==n.is_featured)}}function Ie(t,e){1&t&&(h.bc(0,"div",65),h.Wb(1,"img",66),h.bc(2,"h2"),h.Nc(3,"No data found"),h.ac(),h.ac())}function Le(t,e){1&t&&(h.bc(0,"div",65),h.Wb(1,"img",66),h.bc(2,"h2"),h.Nc(3,"No data found"),h.ac(),h.ac())}function Re(t,e){1&t&&(h.bc(0,"div",56),h.bc(1,"div",57),h.Nc(2,"Android PRO"),h.ac(),h.ac())}function Te(t,e){1&t&&(h.bc(0,"div",58),h.bc(1,"div",59),h.Nc(2,"IOS PRO"),h.ac(),h.ac())}function De(t,e){1&t&&(h.bc(0,"div",60),h.Wb(1,"img",61),h.ac())}function Ne(t,e){1&t&&(h.bc(0,"div",62),h.Wb(1,"img",63),h.ac())}function ze(t,e){1&t&&h.Wb(0,"img",64)}function Ae(t,e){if(1&t){var a=h.cc();h.bc(0,"div",31),h.bc(1,"nb-card",32),h.bc(2,"div",33),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewCatalog(t)})),h.Wb(3,"img",34),h.bc(4,"img",35),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.Lc(5,Re,3,0,"div",36),h.Lc(6,Te,3,0,"div",37),h.Lc(7,De,2,0,"div",38),h.Lc(8,Ne,2,0,"div",39),h.ac(),h.bc(9,"div",40),h.bc(10,"div",41),h.Nc(11),h.ac(),h.ac(),h.bc(12,"nb-card-footer",42),h.bc(13,"a",43),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewCatalog(t)})),h.Wb(14,"nb-icon",44),h.ac(),h.bc(15,"a",45),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().editCatalog(t)})),h.Wb(16,"nb-icon",46),h.ac(),h.bc(17,"a",47),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().deleteCatalog(t.catalog_id)})),h.Wb(18,"nb-icon",48),h.ac(),h.bc(19,"a",67),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().linkCatalog(t)})),h.Wb(20,"nb-icon",50),h.ac(),h.bc(21,"a",51),h.ic("click",(function(){h.Dc(a);var t=e.$implicit,n=e.index;return h.mc().moveToFirst(t,"normal",n)})),h.Wb(22,"nb-icon",52),h.ac(),h.ac(),h.ac(),h.Lc(23,ze,1,0,"img",53),h.bc(24,"div",54),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewImage(t.compressed_img)})),h.Wb(25,"img",55),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=h.mc();h.Jb(4),h.uc("alt","",n.name," thumbnail image"),h.sc("lazyLoad",n.webp_original_img?n.webp_original_img:n.thumbnail_img)("errorImage",i.utils.errorImg),h.Jb(1),h.sc("ngIf",0==n.is_free),h.Jb(1),h.sc("ngIf",0==n.is_ios_free),h.Jb(1),h.sc("ngIf",n.catalog_type&&n.popularity_rate&&1==n.catalog_type&&5==n.popularity_rate),h.Jb(1),h.sc("ngIf",n.catalog_type&&1!=n.catalog_type),h.Jb(2),h.sc("nbTooltip",n.catalog_id+". "+n.name),h.Jb(1),h.Qc("",n.catalog_id,". ",n.name,""),h.Jb(12),h.sc("ngIf",1==n.is_featured)}}var Ve,Je=((Ve=function(){function t(e,a,n,i,o,r){l(this,t),this.actRoute=e,this.validService=a,this.dialog=n,this.dataService=i,this.utils=o,this.route=r,this.featuredCatalogList=[],this.normalCatalogList=[],this.errormsg=C.b,this.listOfCatagory=[],this.token=localStorage.getItem("at"),this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.subCategoryName=this.actRoute.snapshot.params.subCategoryName}return s(t,[{key:"ngOnInit",value:function(){this.getAllCatalogs()}},{key:"searchCategory",value:function(){var t=this;this.validService.checkAllValid([{id:"calogSearchInput",errorId:"catCalogError",type:"",blank_msg:C.b.CAT_LOG_SEARCH_EMPTY,type_msg:""}])&&(this.utils.showPageLoader(),this.dataService.postData("searchCatalogByName",{sub_category_id:this.subCategoryId,name:this.searchQuery},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.featuredCatalogList=[],t.normalCatalogList=[],t.catalogList=e.data.category_list,t.totalRecords=t.catalogList.length,t.catalogList.forEach((function(e){1==e.is_featured?t.featuredCatalogList.push(e):t.normalCatalogList.push(e)})),t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"viewImage",value:function(t){this.dialog.open(we.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"subCalogButton",successArr:["calogSearchInput"]}}),"blank"!=o&&this.searchCategory()}},{key:"setRank",value:function(t,e){if("feature"==t){var a=this.featuredCatalogList[e];this.featuredCatalogList.splice(e,1),this.featuredCatalogList.splice(0,0,a)}else a=this.normalCatalogList[e],this.normalCatalogList.splice(e,1),this.normalCatalogList.splice(0,0,a)}},{key:"refreshPage",value:function(){this.searchQuery="",this.getAllCatalogs()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategory",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"viewCatalog",value:function(t){localStorage.setItem("selected_catalog",JSON.stringify(t)),t.name=t.name.replace(/ /g,""),this.route.navigate(1==t.is_featured&&3==this.categoryId?["/admin/popular/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:4==this.categoryId?["/admin/fonts/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:7==this.categoryId?["/admin/blog-list/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id]:["/admin/categories/",this.categoryId,this.subCategoryName,this.subCategoryId,t.name,t.catalog_id])}},{key:"addCatalog",value:function(){this.open(!1,"")}},{key:"editCatalog",value:function(t,e){this.indexOfCatalog=t,this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(me,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e,catalogList:this.catalogList,indexOfCatalog:this.indexOfCatalog}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllCatalogs()}))}},{key:"linkCatalog",value:function(t){var e=t;e.category_id=this.categoryId,this.openLinkTag(!1,e)}},{key:"openLinkTag",value:function(t,e){var a=this;this.dialog.open(xe,{closeOnBackdropClick:t,closeOnEsc:!1,context:{catalogData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllCatalogs()}))}},{key:"moveToFirst",value:function(t,e,a){var n=this;this.utils.showLoader(),this.dataService.postData("setCatalogRankOnTheTopByAdmin",{catalog_id:t.catalog_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(n.getAllCatalogs(),n.utils.showSuccess(t.message,4e3),n.utils.hideLoader()):201==t.code?(n.utils.showError(t.message,4e3),n.utils.hideLoader()):t.status||0==t.status?(n.utils.showError(C.b.SERVER_ERR,4e3),n.utils.hideLoader()):(n.utils.showError(t.message,4e3),n.utils.hideLoader())}),(function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),n.utils.hideLoader(),n.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"deleteCatalog",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteCatalog",{catalog_id:t},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllCatalogs()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getAllCatalogs",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getCatalogBySubCategoryId",{sub_category_id:this.subCategoryId},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.featuredCatalogList=[],t.normalCatalogList=[],t.catalogList=e.data.category_list,t.totalRecords=e.data.total_record,t.catalogList.forEach((function(e){1==e.is_featured?t.featuredCatalogList.push(e):t.normalCatalogList.push(e)})),t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}]),t}()).\u0275fac=function(t){return new(t||Ve)(h.Vb(p.a),h.Vb(y.a),h.Vb(d.I),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},Ve.\u0275cmp=h.Pb({type:Ve,selectors:[["ngx-catalogsget"]],decls:58,vars:11,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary","mb-2"],[1,"col-md-12"],[1,"col-md-5"],[1,"form-group"],["type","text","nbInput","","placeholder","Search catalog name here","valid-status","false","id","calogSearchInput",2,"background","#fff",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","catCalogError",2,"color","red","margin-bottom","0px","height","14px"],[1,"col-md-2"],["id","subCalogButton",1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-2","col-3"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default",1,"btn","btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"col-md-3","col-9","text-right","pr-0"],[1,"btn","btn-primary","btn-add-cat","mr-3",3,"click"],[1,"catalog-data"],["multi",""],["expanded","true"],[1,"row","w-100"],[1,"col-md-9","col-6"],[1,"col-md-3","col-6","text-right"],["class","col-xl-2 col-md-3 col-sm-3 pr-0 pl-0",4,"ngFor","ngForOf"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],[3,"lazyLoad","errorImage","alt","load"],["class","ribbon-wrapper-yellow",4,"ngIf"],["class","ribbon-wrapper-green",4,"ngIf"],["class","catalog-icon","nbTooltip","Popular Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",4,"ngIf"],["class","catalog-icon","nbTooltip","Event Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",4,"ngIf"],[1,"details"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"nbTooltip"],[2,"background","#e1e8f3","padding","10px !important"],["nbTooltip","View","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","folder","pack","eva"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","LInk this catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","link-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"],["icon","upload","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],[1,"fullscreen-icon",2,"background","lightgray","position","absolute","top","0","right","6px","cursor","pointer",3,"click"],["src","./assets/expand.png",2,"width","25px"],[1,"ribbon-wrapper-yellow"],[1,"ribbon-yellow"],[1,"ribbon-wrapper-green"],[1,"ribbon-green"],["nbTooltip","Popular Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"catalog-icon"],["src","./assets/popular-icon.jpg"],["nbTooltip","Event Catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",1,"catalog-icon"],["src","./assets/event-icon.jpg"],["src","./assets/featured_img.png",1,"label-img"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],["nbTooltip","Link this catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbTooltipTrigger","hint",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",0),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.ic("click",(function(){return e.gotoCategories()})),h.Nc(6,"Categories"),h.ac(),h.bc(7,"li",5),h.ic("click",(function(){return e.gotoSubCategory()})),h.Nc(8),h.ac(),h.bc(9,"li",6),h.Nc(10),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(11,"div",7),h.bc(12,"nb-card",8),h.bc(13,"nb-card-header",9),h.Nc(14),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(15,"div",10),h.bc(16,"div",11),h.bc(17,"div",0),h.bc(18,"div",12),h.bc(19,"div",13),h.bc(20,"input",14),h.ic("ngModelChange",(function(t){return e.searchQuery=t}))("keyup",(function(){return e.checkValidation("calogSearchInput","","catCalogError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("calogSearchInput","","catCalogError",e.errormsg.SEARCH_QUERY_EMPTY,"","usual")})),h.ac(),h.Wb(21,"p",15),h.ac(),h.ac(),h.bc(22,"div",16),h.bc(23,"div",13),h.bc(24,"button",17),h.ic("click",(function(){return e.searchCategory()})),h.Nc(25,"Search"),h.ac(),h.ac(),h.ac(),h.bc(26,"div",18),h.bc(27,"button",19),h.ic("click",(function(){return e.refreshPage()})),h.Wb(28,"i",20),h.ac(),h.ac(),h.bc(29,"div",21),h.bc(30,"button",22),h.ic("click",(function(){return e.addCatalog()})),h.Nc(31,"Add Catalog"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(32,"div",23),h.bc(33,"div",0),h.bc(34,"div",11),h.bc(35,"nb-accordion",24),h.bc(36,"nb-accordion-item",25),h.bc(37,"nb-accordion-item-header"),h.bc(38,"div",26),h.bc(39,"div",27),h.Nc(40," Templates "),h.ac(),h.bc(41,"div",28),h.Nc(42),h.ac(),h.ac(),h.ac(),h.bc(43,"nb-accordion-item-body"),h.bc(44,"div",0),h.Lc(45,Se,26,11,"div",29),h.Lc(46,Ie,4,0,"div",30),h.ac(),h.ac(),h.ac(),h.bc(47,"nb-accordion-item"),h.bc(48,"nb-accordion-item-header"),h.bc(49,"div",26),h.bc(50,"div",27),h.Nc(51," Collections "),h.ac(),h.bc(52,"div",28),h.Nc(53),h.ac(),h.ac(),h.ac(),h.bc(54,"nb-accordion-item-body"),h.bc(55,"div",0),h.Lc(56,Le,4,0,"div",30),h.Lc(57,Ae,26,11,"div",29),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(7),h.uc("nbTooltip","Go to ",e.broadHome,""),h.Jb(1),h.Oc(e.broadHome),h.Jb(2),h.Oc(e.broadItem),h.Jb(4),h.Pc(" TOTAL CATALOGS : ",e.totalRecords," "),h.Jb(6),h.sc("ngModel",e.searchQuery),h.Jb(22),h.Pc(" Total count: ",e.featuredCatalogList.length," "),h.Jb(3),h.sc("ngForOf",e.featuredCatalogList),h.Jb(1),h.sc("ngIf",0==e.featuredCatalogList.length),h.Jb(7),h.Pc(" Total count: ",e.normalCatalogList.length," "),h.Jb(3),h.sc("ngIf",0==e.normalCatalogList.length),h.Jb(1),h.sc("ngForOf",e.normalCatalogList))},directives:[d.yb,d.x,d.z,d.P,w.c,w.n,w.q,d.g,d.i,d.j,d.h,x.m,x.n,Dt,d.y,d.L],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:60px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:11px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:3px 0;left:-14px;top:28px;width:120px;background-color:#fbc913;color:#000;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}.ribbon-wrapper-green[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;left:-19px;z-index:1}.ribbon-green[_ngcontent-%COMP%]{font-size:11px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(42deg);-webkit-transform:rotate(42deg);-moz-transform:rotate(42deg);-ms-transform:rotate(42deg);-o-transform:rotate(42deg);position:relative;padding:3px 0;left:-11px;top:40px;width:98px;background-color:#13fb1f;color:#000;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}"]}),Ve),Fe=o("A5z7");function Be(t,e){1&t&&(h.bc(0,"h5",43),h.Nc(1,"Add JSON Data"),h.ac())}function We(t,e){1&t&&(h.bc(0,"h5",43),h.Nc(1,"Update JSON Data"),h.ac())}function He(t,e){1&t&&h.Wb(0,"img",44)}function je(t,e){if(1&t){var a=h.cc();h.bc(0,"img",45),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.jsonImage,h.Fc)}}function Ue(t,e){if(1&t){var a=h.cc();h.bc(0,"mat-chip"),h.Nc(1),h.bc(2,"i",46),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().remove(t)})),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(1),h.Pc(" ",n," ")}}function $e(t,e){if(1&t&&(h.bc(0,"tr"),h.bc(1,"td",53),h.Nc(2),h.ac(),h.bc(3,"td"),h.Nc(4),h.ac(),h.bc(5,"td",53),h.Nc(6),h.ac(),h.bc(7,"td"),h.Nc(8),h.ac(),h.ac()),2&t){var a=e.$implicit;h.Jb(1),h.sc("ngClass",0==a.is_correct_name?"text-danger":"text-success"),h.Jb(1),h.Pc(" ",a.font_name," "),h.Jb(2),h.Oc(a.correct_font_name),h.Jb(1),h.sc("ngClass",0==a.is_correct_path?"text-danger":"text-success"),h.Jb(1),h.Pc(" ",a.font_path," "),h.Jb(2),h.Oc(a.correct_font_path)}}function Ge(t,e){if(1&t&&(h.bc(0,"div",47),h.bc(1,"table",48),h.bc(2,"thead",49),h.bc(3,"tr",50),h.bc(4,"th",51),h.Nc(5,"Incorrect fonts, Please update fonts in red color."),h.ac(),h.ac(),h.bc(6,"tr"),h.bc(7,"th",52),h.Nc(8,"Your font name"),h.ac(),h.bc(9,"th",52),h.Nc(10,"Correct font name"),h.ac(),h.bc(11,"th",52),h.Nc(12,"Your font path"),h.ac(),h.bc(13,"th",52),h.Nc(14,"Correct font path"),h.ac(),h.ac(),h.ac(),h.bc(15,"tbody"),h.Lc(16,$e,9,6,"tr",31),h.ac(),h.ac(),h.ac()),2&t){var a=h.mc();h.Jb(16),h.sc("ngForOf",a.incorrect_fonts)}}function Ye(t,e){if(1&t&&(h.bc(0,"tr"),h.bc(1,"td"),h.Nc(2),h.ac(),h.bc(3,"td"),h.Nc(4),h.ac(),h.bc(5,"td"),h.Nc(6),h.ac(),h.bc(7,"td"),h.Nc(8),h.ac(),h.ac()),2&t){var a=e.$implicit;h.Jb(2),h.Oc(a.font_name),h.Jb(2),h.Oc(a.correct_font_path),h.Jb(2),h.Oc(a.font_path),h.Jb(2),h.Oc(a.correct_font_name)}}function Ke(t,e){if(1&t&&(h.bc(0,"div",47),h.bc(1,"table",48),h.bc(2,"thead",49),h.bc(3,"tr",50),h.bc(4,"th",51),h.Nc(5,"Mismatched fonts, please ask designer to make corrections in JSON."),h.ac(),h.ac(),h.bc(6,"tr"),h.bc(7,"th",52),h.Nc(8,"Your font name"),h.ac(),h.bc(9,"th",52),h.Nc(10,"Suggested font path"),h.ac(),h.bc(11,"th",52),h.Nc(12,"Your font path"),h.ac(),h.bc(13,"th",52),h.Nc(14,"Suggested font name"),h.ac(),h.ac(),h.ac(),h.bc(15,"tbody"),h.Lc(16,Ye,9,4,"tr",31),h.ac(),h.ac(),h.ac()),2&t){var a=h.mc();h.Jb(16),h.sc("ngForOf",a.mismatch_fonts)}}function qe(t,e){if(1&t){var a=h.cc();h.bc(0,"button",54),h.ic("click",(function(){return h.Dc(a),h.mc().saveJson()})),h.Nc(1,"Save"),h.ac()}}function Qe(t,e){if(1&t){var a=h.cc();h.bc(0,"button",54),h.ic("click",(function(){return h.Dc(a),h.mc().saveJson()})),h.Nc(1,"Update"),h.ac()}}var Xe,Ze=((Xe=function(){function t(e,a,n,i){l(this,t),this.validService=e,this.dialogRef=a,this.utils=n,this.dataService=i,this.allSearchTag=[],this.searchINputControl=new w.d,this.selectedSearchTags=[],this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCataLog=JSON.parse(localStorage.getItem("selected_catalog")),this.selectedType="0",this.selectedPrice="1",this.selectedIOSPrice="1",this.selectedStyle="1",this.formData=new FormData,this.incorrect_fonts=[],this.mismatch_fonts=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.searchTagList=JSON.parse(localStorage.getItem("search_tag_list")),this.selectedSearchTags=this.selectedCataLog.name.toLowerCase().replace(/[^a-zA-Z ]/g,"  ").replace(/\s\s+/g," ").trim().split(" "),this.searchTagList&&this.searchTagList.forEach((function(e){t.allSearchTag.push(e.tag_name)})),this.options=this.allSearchTag,this.filteredOptions$=Object(ct.a)(this.options),this.filteredOptions$=this.searchINputControl.valueChanges.pipe(Object(yt.a)(""),Object(ft.a)((function(e){return t.filter(e)}))),this.upJSonData&&(this.jsonImage=this.upJSonData.thumbnail_img,this.selectedType=this.upJSonData.is_featured,this.selectedStyle=this.upJSonData.is_portrait.toString(),this.selectedPrice=this.upJSonData.is_free.toString(),this.selectedIOSPrice=1==this.upJSonData.is_ios_free||0==this.upJSonData.is_ios_free?this.upJSonData.is_ios_free.toString():this.upJSonData.is_free.toString(),this.selectedSearchTags=void 0===this.upJSonData.search_category||""==this.upJSonData.search_category.trim()||null==this.upJSonData.search_category?[]:this.upJSonData.search_category.split(","),this.upJSonData.json_data=JSON.stringify(this.upJSonData.json_data,null,2),this.jsonData=this.upJSonData.json_data)}},{key:"filter",value:function(t){var e=t.toLowerCase();return this.options.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"validateString",value:function(t){return/^[a-z0-9&,# ]+$/i.test(t)}},{key:"add",value:function(t){if("object"==typeof t)if(""!=t.target.value.trim()){if(!this.validateString(t.target.value))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, ' & , #' is allowed in tag name.");for(var e=t.target.value.split(","),a=0;a<e.length;a++)(e[a]||"").trim()&&this.selectedSearchTags.push(e[a].trim().toLowerCase());document.getElementById("tagInputError").innerHTML="",this.searchINputControl.setValue("")}else this.searchINputControl.setValue("");else if(""!=t){if(!this.validateString(t))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '&' is allowed in tag name.");document.getElementById("tagInputError").innerHTML="",this.selectedSearchTags.push(t.toLowerCase()),this.searchINputControl.setValue("")}var n=this.selectedSearchTags.filter((function(t,e,a){return a.indexOf(t)===e}));this.selectedSearchTags=n}},{key:"remove",value:function(t){var e=this.selectedSearchTags.indexOf(t);this.selectedSearchTags.splice(e,1)}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.jsonImage=t.target.result,e.checkImageValid()},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"checkValidation",value:function(t,e,a,n,i){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"saveJson",successArr:["jsonImage","radioCalogPriInput","radioCalogtypeInput","radioCalogstyleInput"]}})}},{key:"checkImageValid",value:function(){if(document.getElementById("jsonAddError").innerHTML="",null!=this.jsonImage&&"none"!=this.jsonImage&&""!=this.jsonImage)return document.getElementById("imageError").innerHTML="",!0;document.getElementById("imageError").innerHTML=C.b.IMG_REQ}},{key:"checkJsonValid",value:function(){if(document.getElementById("jsonAddError").innerHTML="",void 0===this.jsonData||""==this.jsonData.trim()||null==this.jsonData)document.getElementById("jsonFileError").innerHTML=C.b.JSON_DATA_EMPTY;else{if(this.isJson(this.jsonData))return document.getElementById("jsonFileError").innerHTML="",!0;document.getElementById("jsonFileError").innerHTML="JSON data you enter is not valid"}}},{key:"removeError",value:function(){document.getElementById("jsonFileError").innerHTML=""}},{key:"isJson",value:function(t){try{JSON.parse(t)}catch(e){return!1}return!0}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"openFile",value:function(t){var e=this,a=t.target,n=new FileReader;n.onload=function(t){e.jsonData=t.target.result,e.checkJsonValid()},n.readAsText(a.files[0])}},{key:"saveJson",value:function(){var t=this,e=this.checkImageValid(),a=this.checkJsonValid();if(e&&a){var n,i;this.utils.showLoader();var o=JSON.parse(this.jsonData),r=this.selectedSearchTags.join();this.upJSonData?(i={category_id:this.selectedCategory.category_id,is_featured_catalog:this.selectedCataLog.is_featured,img_id:this.upJSonData.img_id,is_free:this.selectedPrice,is_ios_free:this.selectedIOSPrice,is_featured:this.selectedType,is_portrait:this.selectedStyle,catalog_id:this.catalogId,json_data:o,search_category:r},n="editJsonData"):(i={category_id:this.selectedCategory.category_id,is_featured_catalog:this.selectedCataLog.is_featured,is_free:this.selectedPrice,is_ios_free:this.selectedIOSPrice,is_featured:this.selectedType,is_portrait:this.selectedStyle,catalog_id:this.catalogId,json_data:o,search_category:r},n="addJson"),this.formData.append("request_data",JSON.stringify(i)),this.dataService.postData(n,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.incorrect_fonts=[],t.mismatch_fonts=[],t.utils.hideLoader(),t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3)):201==e.code?(document.getElementById("jsonAddError").innerHTML=e.message,t.utils.hideLoader()):433==e.code?(document.getElementById("jsonAddError").innerHTML=e.message,t.incorrect_fonts=e.data.incorrect_fonts,t.mismatch_fonts=e.data.mismatch_fonts,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(document.getElementById("jsonAddError").innerHTML=e.message,t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Xe)(h.Vb(y.a),h.Vb(d.H),h.Vb(b.a),h.Vb(_.a))},Xe.\u0275cmp=h.Pb({type:Xe,selectors:[["ngx-addjsondata"]],decls:86,vars:20,consts:[[1,"add-json-data-card"],[2,"position","relative"],["class","text-center header-text",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row","json-form-data"],[1,"col-md-5"],["id","jsonImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["type","file","id","fileInput","autofocus","true",2,"display","none",3,"change"],["id","imageError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","14px"],[1,"row","mt-4"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["id","radioCalogPriInput","name","my-radio-group1",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","radioPlaError",2,"color","red","margin-bottom","0px","margin-top","4px"],[1,"row"],["id","radioCalogPriInputIOS","name","my-radio-groupios",3,"ngModel","ngModelChange"],["id","radioCalogtypeInput","name","my-radio-group2",3,"ngModel","ngModelChange"],["id","radioCalogstyleInput","name","my-radio-group3",3,"ngModel","ngModelChange"],[1,"col-md-12"],["nbInput","","type","text","placeholder","Select / Enter new tag",1,"mw-100","mb-1",3,"formControl","keyup.enter"],["id","tagInputError",2,"color","red","margin-bottom","3px"],["aria-label","Fruit selection"],["chipList",""],[4,"ngFor","ngForOf"],[1,"col-md-7"],[1,"form-group","mb-0"],["type","file","accept","text/plain","title","Choose JSON File",1,"form-control","height-45",3,"change"],["id","jsonFileError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"mb-3"],["nbInput","","placeholder","Enter JSON data",1,"mw-100",2,"height","418px",3,"ngModel","ngModelChange","keyup"],["class","col-md-12 post-table-div pr-0",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-12","text-center"],["id","jsonAddError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],["class","btn bg-primary w-25 text-light mr-1","id","saveJson",3,"click",4,"ngIf"],[1,"text-center","header-text"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["matChipRemove","",1,"fa","fa-times",2,"margin-top","5px","color","red","cursor","pointer",3,"click"],[1,"col-md-12","post-table-div","pr-0"],[1,"table"],[2,"background","#edf1f7"],[1,"table-inverse"],["colspan","4",1,"pt-1","pb-1","text-center"],[1,"pt-1","pb-1"],[3,"ngClass"],["id","saveJson",1,"btn","bg-primary","w-25","text-light","mr-1",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.Lc(2,Be,2,0,"h5",2),h.Lc(3,We,2,0,"h5",2),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.bc(8,"div",6),h.Lc(9,He,1,0,"img",7),h.Lc(10,je,1,1,"img",8),h.bc(11,"label",9),h.Wb(12,"i",10),h.ac(),h.ac(),h.bc(13,"input",11),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.Wb(14,"p",12),h.bc(15,"div",13),h.bc(16,"div",14),h.bc(17,"label",15),h.Nc(18,"Android Pricing"),h.ac(),h.ac(),h.bc(19,"div",16),h.bc(20,"div",17),h.bc(21,"nb-radio-group",18),h.ic("ngModelChange",(function(t){return e.selectedPrice=t})),h.bc(22,"nb-radio",19),h.Nc(23,"Free "),h.ac(),h.bc(24,"nb-radio",20),h.Nc(25,"Paid "),h.ac(),h.ac(),h.Wb(26,"p",21),h.ac(),h.ac(),h.ac(),h.bc(27,"div",22),h.bc(28,"div",14),h.bc(29,"label",15),h.Nc(30,"IOS Pricing"),h.ac(),h.ac(),h.bc(31,"div",16),h.bc(32,"div",17),h.bc(33,"nb-radio-group",23),h.ic("ngModelChange",(function(t){return e.selectedIOSPrice=t})),h.bc(34,"nb-radio",19),h.Nc(35,"Free "),h.ac(),h.bc(36,"nb-radio",20),h.Nc(37,"Paid "),h.ac(),h.ac(),h.Wb(38,"p",21),h.ac(),h.ac(),h.ac(),h.bc(39,"div",22),h.bc(40,"div",14),h.bc(41,"label",15),h.Nc(42,"Type"),h.ac(),h.ac(),h.bc(43,"div",16),h.bc(44,"div",17),h.bc(45,"nb-radio-group",24),h.ic("ngModelChange",(function(t){return e.selectedType=t})),h.bc(46,"nb-radio",19),h.Nc(47," Featured"),h.ac(),h.bc(48,"nb-radio",20),h.Nc(49," Normal"),h.ac(),h.ac(),h.Wb(50,"p",21),h.ac(),h.ac(),h.ac(),h.bc(51,"div",22),h.bc(52,"div",14),h.bc(53,"label",15),h.Nc(54,"Orientation"),h.ac(),h.ac(),h.bc(55,"div",16),h.bc(56,"div",17),h.bc(57,"nb-radio-group",25),h.ic("ngModelChange",(function(t){return e.selectedStyle=t})),h.bc(58,"nb-radio",19),h.Nc(59," Portrait"),h.ac(),h.bc(60,"nb-radio",20),h.Nc(61," Landscape"),h.ac(),h.ac(),h.Wb(62,"p",21),h.ac(),h.ac(),h.ac(),h.bc(63,"div",22),h.bc(64,"div",26),h.bc(65,"div",17),h.bc(66,"input",27),h.ic("keyup.enter",(function(t){return e.add(t)})),h.ac(),h.Wb(67,"p",28),h.bc(68,"mat-chip-list",29,30),h.Lc(70,Ue,3,1,"mat-chip",31),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(71,"div",32),h.bc(72,"div",33),h.bc(73,"input",34),h.ic("change",(function(t){return e.openFile(t)})),h.ac(),h.Wb(74,"p",35),h.ac(),h.bc(75,"h6",36),h.Nc(76,"-- OR --"),h.ac(),h.bc(77,"div",17),h.bc(78,"textarea",37),h.ic("ngModelChange",(function(t){return e.jsonData=t}))("keyup",(function(){return e.removeError()})),h.ac(),h.ac(),h.ac(),h.Lc(79,Ge,17,1,"div",38),h.Lc(80,Ke,17,1,"div",38),h.ac(),h.bc(81,"div",39),h.bc(82,"div",40),h.Wb(83,"p",41),h.Lc(84,qe,2,0,"button",42),h.Lc(85,Qe,2,0,"button",42),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",!e.upJSonData),h.Jb(1),h.sc("ngIf",e.upJSonData),h.Jb(5),h.Kb("valid-status",!!e.upJSonData),h.Jb(1),h.sc("ngIf",e.jsonImage),h.Jb(1),h.sc("ngIf",e.jsonImage),h.Jb(11),h.sc("ngModel",e.selectedPrice),h.Kb("valid-status",!!e.upJSonData),h.Jb(12),h.sc("ngModel",e.selectedIOSPrice),h.Kb("valid-status",!!e.upJSonData),h.Jb(12),h.sc("ngModel",e.selectedType),h.Kb("valid-status",!!e.upJSonData),h.Jb(12),h.sc("ngModel",e.selectedStyle),h.Kb("valid-status",!!e.upJSonData),h.Jb(9),h.sc("formControl",e.searchINputControl),h.Jb(4),h.sc("ngForOf",e.selectedSearchTags),h.Jb(8),h.sc("ngModel",e.jsonData),h.Jb(1),h.sc("ngIf",e.incorrect_fonts.length>0),h.Jb(1),h.sc("ngIf",e.mismatch_fonts.length>0),h.Jb(4),h.sc("ngIf",!e.upJSonData),h.Jb(1),h.sc("ngIf",e.upJSonData))},directives:[d.x,d.z,x.n,d.w,d.jb,w.n,w.q,d.ib,d.P,w.c,w.e,Fe.b,x.m,Fe.a,Fe.c,x.l],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.add-json-data-card[_ngcontent-%COMP%]{width:calc(100vw - 500px);height:calc(100vh - 87px)}.add-json-data-card[_ngcontent-%COMP%]   .json-form-data[_ngcontent-%COMP%]{height:calc(100vh - 267px);overflow-x:hidden;overflow-y:scroll}.add-json-data-card[_ngcontent-%COMP%]   .json-form-data[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.height-45[_ngcontent-%COMP%]{height:45px!important}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}@media only screen and (max-width:600px){.add-json-data-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}"]}),Xe);function ta(t,e){if(1&t){var a=h.cc();h.bc(0,"tr"),h.bc(1,"td",6),h.Nc(2),h.ac(),h.bc(3,"td",7),h.Nc(4),h.ac(),h.bc(5,"td",17),h.Wb(6,"img",18),h.bc(7,"img",19),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.ac(),h.bc(8,"td",17),h.Wb(9,"img",18),h.bc(10,"img",19),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.ac(),h.bc(11,"td",9),h.bc(12,"input",20),h.ic("ngModelChange",(function(t){return h.Dc(a),e.$implicit.is_checked=t}))("change",(function(){h.Dc(a);var t=e.$implicit;return h.mc().valueChanged(t)})),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=e.index;h.Jb(2),h.Oc(i+1),h.Jb(2),h.Oc(n.name),h.Jb(3),h.sc("src",n.url,h.Fc),h.Jb(3),h.sc("src",n.new_image.compressed_img,h.Fc),h.Jb(2),h.sc("ngModel",n.is_checked)}}var ea,aa=((ea=function(){function t(e,a,n){l(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.formData=new FormData,this.requestData={is_replace:1,category_id:JSON.parse(localStorage.getItem("selected_category")).category_id},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.imageFiles.forEach((function(t){t.is_checked=!1}))}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"selectAll",value:function(t){if(document.getElementById("imageExtError").innerHTML="",1==t)for(var e=0;e<this.imageFiles.length;e++)this.imageFiles[e].is_checked=!0;else for(var a=0;a<this.imageFiles.length;a++)this.imageFiles[a].is_checked=!1}},{key:"valueChanged",value:function(){document.getElementById("imageExtError").innerHTML="";for(var t=0;t<this.imageFiles.length;t++)0==this.imageFiles[t].is_checked&&(this.isAllChecked=!1)}},{key:"replaceImages",value:function(t){var e=this,a=0;this.formData=new FormData;for(var n=0;n<t.length;n++)1==t[n].is_checked&&(a++,this.formData.append("file[]",t[n].new_image));if(a<=0)return document.getElementById("imageExtError").innerHTML=C.b.IMG_REP_EMPTY,!1;this.formData.append("request_data",JSON.stringify(this.requestData)),this.utils.showLoader(),this.dataService.postData("addCatalogImagesForJson",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.dialogRef.close({res:"add"})):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||ea)(h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},ea.\u0275cmp=h.Pb({type:ea,selectors:[["ngx-existingimageslist"]],decls:28,vars:2,consts:[[1,"existing-image-card"],[2,"position","relative"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"table-body"],[1,"table-header-content",2,"background","#80808026"],[1,"table","mb-0"],[1,"w-45"],[1,"w-226"],[1,"text-center","w-220"],[1,"text-center"],["type","checkbox",2,"vertical-align","middle","margin-left","5px",3,"ngModel","ngModelChange","change"],[1,"table-body-content"],[1,"table"],[4,"ngFor","ngForOf"],[1,"button-area","text-center"],["id","imageExtError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],[1,"text-center","w-220",2,"position","relative"],[1,"placeholder-img",2,"left","unset"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"h5"),h.Nc(3,"Existing Images List"),h.ac(),h.bc(4,"i",2),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",3),h.bc(7,"div",4),h.bc(8,"table",5),h.bc(9,"tr"),h.bc(10,"th",6),h.Nc(11,"#"),h.ac(),h.bc(12,"th",7),h.Nc(13,"Image Name"),h.ac(),h.bc(14,"th",8),h.Nc(15,"Existing Image"),h.ac(),h.bc(16,"th",8),h.Nc(17,"New Image"),h.ac(),h.bc(18,"th",9),h.Nc(19,"Replace"),h.bc(20,"input",10),h.ic("ngModelChange",(function(t){return e.isAllChecked=t}))("change",(function(){return e.selectAll(e.isAllChecked)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(21,"div",11),h.bc(22,"table",12),h.Lc(23,ta,13,5,"tr",13),h.ac(),h.ac(),h.bc(24,"div",14),h.Wb(25,"p",15),h.bc(26,"button",16),h.ic("click",(function(){return e.replaceImages(e.imageFiles)})),h.Nc(27,"Replace"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(20),h.sc("ngModel",e.isAllChecked),h.Jb(3),h.sc("ngForOf",e.imageFiles))},directives:[d.x,d.z,d.w,w.a,w.n,w.q,x.m],styles:[".existing-image-card[_ngcontent-%COMP%]{width:900px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:21px;top:20px;cursor:pointer;font-size:23px}.table-body-content[_ngcontent-%COMP%]{max-height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-body-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.table-body-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.table-body-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.table-body-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{zoom:1.4}.w-45[_ngcontent-%COMP%]{width:45px}.w-226[_ngcontent-%COMP%]{width:226px}.w-220[_ngcontent-%COMP%]{width:220px}"]}),ea);function na(t,e){if(1&t){var a=h.cc();h.bc(0,"div",16),h.bc(1,"div",17),h.Wb(2,"img",18),h.bc(3,"i",19),h.ic("click",(function(){h.Dc(a);var t=e.index;return h.mc().deleteImage(t)})),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(2),h.sc("src",n.compressed_img,h.Fc)}}function ia(t,e){if(1&t){var a=h.cc();h.bc(0,"img",35),h.ic("load",(function(t){return h.Dc(a),h.mc(4).imageLoad(t)})),h.ac()}if(2&t){var n=h.mc().$implicit;h.sc("src",n.compressed_img,h.Fc)}}function oa(t,e){if(1&t&&(h.bc(0,"div",32),h.Wb(1,"img",33),h.Lc(2,ia,1,1,"img",34),h.ac()),2&t){var a=e.$implicit,n=h.mc().$implicit;h.Jb(2),h.sc("ngIf",a.name==n.file_name)}}function ra(t,e){if(1&t&&(h.bc(0,"tr"),h.bc(1,"td",30),h.Lc(2,oa,3,1,"div",31),h.ac(),h.bc(3,"td",27),h.Nc(4),h.ac(),h.bc(5,"td",28),h.Nc(6),h.ac(),h.ac()),2&t){var a=e.$implicit,n=h.mc(2);h.Jb(2),h.sc("ngForOf",n.fileList),h.Jb(2),h.Oc(a.file_name),h.Jb(2),h.Oc(a.error_message)}}function ca(t,e){if(1&t&&(h.bc(0,"div",20),h.bc(1,"div",9),h.bc(2,"div",21),h.bc(3,"div",22),h.bc(4,"p"),h.Nc(5,"Invalid files, Please update files correct."),h.ac(),h.ac(),h.bc(6,"div",23),h.bc(7,"table",24),h.bc(8,"thead"),h.bc(9,"tr",25),h.bc(10,"th",26),h.Nc(11,"Image"),h.ac(),h.bc(12,"th",27),h.Nc(13,"File Name"),h.ac(),h.bc(14,"th",28),h.Nc(15,"Error"),h.ac(),h.ac(),h.ac(),h.Lc(16,ra,7,3,"tr",29),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t){var a=h.mc();h.Jb(16),h.sc("ngForOf",a.errorList)}}function sa(t,e){if(1&t){var a=h.cc();h.bc(0,"button",36),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.viewExistingImages(t.existingFiles)})),h.Nc(1,"View Existing Images"),h.ac()}}var la,da=function(t){return{"height-img-card":t}},ga=((la=function(){function t(e,a,n,i){l(this,t),this.dialog=e,this.dialogRef=a,this.dataService=n,this.utils=i,this.totalFiles=0,this.formData=new FormData,this.existingFiles=[],this.errorList=[],this.files=[],this.requestData={is_replace:0,category_id:JSON.parse(localStorage.getItem("selected_category")).category_id},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(this.files=[],this.errorList=[],this.existingFiles=[],this.fileList=t.target.files,this.fileList&&this.fileList.length>0)for(var a=function(t){(i=new FileReader).onload=function(a){e.fileList[t].compressed_img=a.target.result},i.readAsDataURL(e.fileList[t]),e.files.push(e.fileList[t]),e.totalFiles=e.files.length,document.getElementById("imageFileError").innerHTML=e.totalFiles>20?"Max 20 files allow to upload":""},n=0;n<this.fileList.length;n++){var i;a(n)}else this.fileList=[],this.existingFiles=[]}},{key:"deleteImage",value:function(t){document.getElementById("imageFileError").innerHTML="",this.files.splice(t,1),this.totalFiles=this.files.length,0==this.totalFiles&&(this.existingFiles=[])}},{key:"getFileFormData",value:function(){this.formData=new FormData;for(var t=0;t<this.files.length;t++)this.formData.append("file[]",this.files[t])}},{key:"viewExistingImages",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(aa,{closeOnBackdropClick:t,closeOnEsc:!1,context:{imageFiles:e}}).onClose.subscribe((function(t){if("add"==t.res){for(var n=function(t){e.forEach((function(e){e.name==a.files[t].name&&a.files.splice(t,1)}))},i=0;i<a.files.length;i++)n(i);a.files.length>0?a.addImages():a.dialogRef.close()}}))}},{key:"addImages",value:function(){var t=this;if(this.getFileFormData(),this.errorList=[],void 0===this.files||""==this.files||null==this.files||this.files.length<=0)return document.getElementById("imageFileError").innerHTML=C.b.IMG_UP_EMPTY,!1;this.totalFiles>20?document.getElementById("imageFileError").innerHTML="Max 20 files allow to upload":(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify(this.requestData)),this.dataService.postData("addCatalogImagesForJson",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code)t.dialogRef.close(),t.utils.showSuccess(e.message,4e3),t.utils.hideLoader();else if(201==e.code)document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader();else if(e.status||0==e.status)document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader();else if(420==e.code){t.utils.hideLoader(),document.getElementById("imageFileError").innerHTML=e.message,t.existingFiles=e.data.existing_files;for(var a,n=0;a=t.files[n];n++)t.existingFiles.forEach((function(t){a.name==t.name&&(t.new_image=a)}))}else 432==e.code?(document.getElementById("imageFileError").innerHTML=e.message,t.errorList=e.data.error_list,t.utils.hideLoader()):(document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||la)(h.Vb(d.I),h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},la.\u0275cmp=h.Pb({type:la,selectors:[["ngx-addjsonimages"]],decls:21,vars:7,consts:[[1,"json-img-card"],[1,"header-text",2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"img-card-content",3,"ngClass"],[1,"add-images-label"],["for","multipleFiles"],["type","file","accept","image/*","onclick","this.value = null;","multiple","","id","multipleFiles",2,"display","none",3,"change"],[1,"upload-card-gallary","height-multi-image","mt-2"],[1,"row"],["class","col-md-2 col-4 col-sm-3 up-card-item",4,"ngFor","ngForOf"],["class","files-error-list",4,"ngIf"],[1,"button-area","text-center"],["id","imageFileError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","27px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],["class","btn bg-success text-light",3,"click",4,"ngIf"],[1,"col-md-2","col-4","col-sm-3","up-card-item"],[1,"up-card-content"],[3,"src"],[1,"fa","fa-times",3,"click"],[1,"files-error-list"],[1,"col-md-12"],[1,"table-header-error"],[1,"table-body"],[1,"table","table-responsive"],[2,"background","#80808026"],[1,"w-105"],[1,"w-325"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"img-td"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"placeholder-img",2,"left","unset","height","100%"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[1,"btn","bg-success","text-light",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"p",2),h.Nc(3,"Add JSON Images"),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.bc(8,"label",6),h.bc(9,"p"),h.Nc(10),h.ac(),h.ac(),h.ac(),h.bc(11,"input",7),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.bc(12,"div",8),h.bc(13,"div",9),h.Lc(14,na,4,1,"div",10),h.ac(),h.ac(),h.Lc(15,ca,17,1,"div",11),h.ac(),h.bc(16,"div",12),h.Wb(17,"p",13),h.bc(18,"button",14),h.ic("click",(function(){return e.addImages()})),h.Nc(19,"Save"),h.ac(),h.Lc(20,sa,2,0,"button",15),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(6),h.sc("ngClass",h.xc(5,da,e.errorList.length>0)),h.Jb(4),h.Pc("Choose JSON Images - ",e.totalFiles," Files Selected"),h.Jb(4),h.sc("ngForOf",e.files),h.Jb(1),h.sc("ngIf",e.errorList.length>0),h.Jb(5),h.sc("ngIf",e.existingFiles.length>0))},directives:[d.x,d.z,d.w,x.l,x.m,x.n],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}  .json-img-card{width:700px}.height-img-card[_ngcontent-%COMP%]{height:calc(100vh - 218px);overflow-x:hidden;overflow-y:scroll}.height-img-card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]{border:2px dashed #0273ff;width:100%}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0!important;position:relative;cursor:pointer;padding:15px 10px}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;width:100%;margin-bottom:0!important}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.upload-card-gallary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:100%;height:40px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-item[_ngcontent-%COMP%]{background:#fff;padding:10px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]{border:2px dotted #000;position:relative;text-align:center;padding:4px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;background:#0273ff;color:#fff;padding:5px 7px;border-radius:50%;right:-10px;top:-10px;cursor:pointer}.files-error-list[_ngcontent-%COMP%]   .table-header-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:red;color:#fff;font-size:18px;font-weight:700;text-align:center;padding:10px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:55px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;color:red}.w-105[_ngcontent-%COMP%]{width:105px}.w-325[_ngcontent-%COMP%]{width:325px}.height-multi-image[_ngcontent-%COMP%]{height:130px;padding:10px 18px 10px 10px;overflow-x:hidden;overflow-y:auto}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.json-img-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.files-error-list[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset!important}}@media only screen and (max-width:400px){.json-img-card[_ngcontent-%COMP%]{width:347px}}"]}),la);function ha(t,e){if(1&t){var a=h.cc();h.bc(0,"div",15),h.bc(1,"div",16),h.Wb(2,"img",17),h.bc(3,"i",18),h.ic("click",(function(){h.Dc(a);var t=e.index;return h.mc().deleteImage(t)})),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(2),h.sc("src",n.compressed_img,h.Fc)}}function ua(t,e){if(1&t){var a=h.cc();h.bc(0,"img",34),h.ic("load",(function(t){return h.Dc(a),h.mc(4).imageLoad(t)})),h.ac()}if(2&t){var n=h.mc().$implicit;h.sc("src",n.compressed_img,h.Fc)}}function pa(t,e){if(1&t&&(h.bc(0,"div",31),h.Wb(1,"img",32),h.Lc(2,ua,1,1,"img",33),h.ac()),2&t){var a=e.$implicit,n=h.mc().$implicit;h.Jb(2),h.sc("ngIf",a.name==n.file_name)}}function ba(t,e){if(1&t&&(h.bc(0,"tr"),h.bc(1,"td",29),h.Lc(2,pa,3,1,"div",30),h.ac(),h.bc(3,"td",26),h.Nc(4),h.ac(),h.bc(5,"td",27),h.Nc(6),h.ac(),h.ac()),2&t){var a=e.$implicit,n=h.mc(2);h.Jb(2),h.sc("ngForOf",n.fileList),h.Jb(2),h.Oc(a.file_name),h.Jb(2),h.Oc(a.error_message)}}function ma(t,e){if(1&t&&(h.bc(0,"div",19),h.bc(1,"div",9),h.bc(2,"div",20),h.bc(3,"div",21),h.bc(4,"p"),h.Nc(5,"Invalid files, Please update files correct."),h.ac(),h.ac(),h.bc(6,"div",22),h.bc(7,"table",23),h.bc(8,"thead"),h.bc(9,"tr",24),h.bc(10,"th",25),h.Nc(11,"Image"),h.ac(),h.bc(12,"th",26),h.Nc(13,"File Name"),h.ac(),h.bc(14,"th",27),h.Nc(15,"Error"),h.ac(),h.ac(),h.ac(),h.Lc(16,ba,7,3,"tr",28),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t){var a=h.mc();h.Jb(16),h.sc("ngForOf",a.errorList)}}var fa,va=function(t){return{"height-img-card":t}},_a=((fa=function(){function t(e,a,n){l(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.totalFiles=0,this.formData=new FormData,this.errorList=[],this.files=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(this.files=[],this.errorList=[],this.fileList=t.target.files,this.fileList&&this.fileList.length>0)for(var a=function(t){(i=new FileReader).onload=function(a){e.fileList[t].compressed_img=a.target.result},i.readAsDataURL(e.fileList[t]),e.files.push(e.fileList[t]),e.totalFiles=e.files.length,document.getElementById("imageFileError").innerHTML=e.totalFiles>20?"Max 20 files allow to upload":""},n=0;n<this.fileList.length;n++){var i;a(n)}else this.fileList=[]}},{key:"deleteImage",value:function(t){document.getElementById("imageFileError").innerHTML="",this.files.splice(t,1),this.totalFiles=this.files.length}},{key:"getFileFormData",value:function(){this.formData=new FormData;for(var t=0;t<this.files.length;t++)this.formData.append("file[]",this.files[t])}},{key:"addImages",value:function(){var t=this;if(this.getFileFormData(),this.errorList=[],void 0===this.files||""==this.files||null==this.files||this.files.length<=0)return document.getElementById("imageFileError").innerHTML=C.b.IMG_UP_EMPTY,!1;this.totalFiles>20?document.getElementById("imageFileError").innerHTML="Max 20 files allow to upload":(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({catalog_id:this.catalogId,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured})),this.dataService.postData("addCatalogImages",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3),t.utils.hideLoader()):201==e.code?(document.getElementById("imageFileError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):432==e.code?(document.getElementById("imageFileError").innerHTML=e.message,t.errorList=e.data.error_list,t.utils.hideLoader()):(document.getElementById("imageFileError").innerHTML=e.message,t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||fa)(h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},fa.\u0275cmp=h.Pb({type:fa,selectors:[["ngx-addsubcategoryimagesbyid"]],decls:20,vars:6,consts:[[1,"json-img-card"],[1,"header-text",2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"img-card-content",3,"ngClass"],[1,"add-images-label"],["for","multipleFiles"],["type","file","accept","image/*","onclick","this.value = null;","multiple","","id","multipleFiles",2,"display","none",3,"change"],[1,"upload-card-gallary","height-multi-image","mt-2"],[1,"row"],["class","col-md-2 up-card-item",4,"ngFor","ngForOf"],["class","files-error-list",4,"ngIf"],[1,"button-area","text-center"],["id","imageFileError",2,"color","red","margin-bottom","4px","margin-top","4px","text-align","center","height","19px"],[1,"btn","bg-primary","text-light","mr-2","w-25",3,"click"],[1,"col-md-2","up-card-item"],[1,"up-card-content"],[3,"src"],[1,"fa","fa-times",3,"click"],[1,"files-error-list"],[1,"col-md-12"],[1,"table-header-error"],[1,"table-body"],[1,"table","table-responsive"],[2,"background","#80808026"],[1,"w-105"],[1,"w-325"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"img-td"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"placeholder-img",2,"left","unset","height","100%"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"p",2),h.Nc(3,"Add Normal Images"),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.bc(8,"label",6),h.bc(9,"p"),h.Nc(10),h.ac(),h.ac(),h.ac(),h.bc(11,"input",7),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.bc(12,"div",8),h.bc(13,"div",9),h.Lc(14,ha,4,1,"div",10),h.ac(),h.ac(),h.Lc(15,ma,17,1,"div",11),h.ac(),h.bc(16,"div",12),h.Wb(17,"p",13),h.bc(18,"button",14),h.ic("click",(function(){return e.addImages()})),h.Nc(19,"Save"),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(6),h.sc("ngClass",h.xc(4,va,e.errorList.length>0)),h.Jb(4),h.Pc("Choose Normal Images - ",e.totalFiles," Files Selected"),h.Jb(4),h.sc("ngForOf",e.files),h.Jb(1),h.sc("ngIf",e.errorList.length>0))},directives:[d.x,d.z,d.w,x.l,x.m,x.n],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}  .json-img-card{width:700px}.height-img-card[_ngcontent-%COMP%]{height:calc(100vh - 218px);overflow-x:hidden;overflow-y:scroll}.height-img-card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]{border:2px dashed #0273ff;width:100%}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0!important;position:relative;cursor:pointer;padding:15px 10px}.json-img-card[_ngcontent-%COMP%]   .add-images-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:19px;font-weight:700;width:100%;margin-bottom:0!important}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.upload-card-gallary[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:100%;height:40px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-item[_ngcontent-%COMP%]{background:#fff;padding:10px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]{border:2px dotted #000;position:relative;text-align:center;padding:4px}.upload-card-gallary[_ngcontent-%COMP%]   .up-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;background:#0273ff;color:#fff;padding:5px 7px;border-radius:50%;right:-10px;top:-10px;cursor:pointer}.files-error-list[_ngcontent-%COMP%]   .table-header-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:red;color:#fff;font-size:18px;font-weight:700;text-align:center;padding:10px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{height:calc(100vh - 400px);overflow-x:hidden;overflow-y:scroll}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:55px}.files-error-list[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;color:red}.w-105[_ngcontent-%COMP%]{width:105px}.w-325[_ngcontent-%COMP%]{width:325px}.height-multi-image[_ngcontent-%COMP%]{height:130px;padding:10px 18px 10px 10px;overflow-x:hidden;overflow-y:auto}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.height-multi-image[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.json-img-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.files-error-list[_ngcontent-%COMP%]   .img-td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset!important}}@media only screen and (max-width:400px){.json-img-card[_ngcontent-%COMP%]{width:347px}}"]}),fa),ya=o("EVdn");function Ca(t,e){1&t&&(h.bc(0,"div",9),h.bc(1,"div",10),h.Wb(2,"img",11),h.bc(3,"h2"),h.Nc(4,"No data found"),h.ac(),h.ac(),h.ac())}function xa(t,e){if(1&t){var a=h.cc();h.bc(0,"tr"),h.bc(1,"td",21),h.Nc(2),h.ac(),h.bc(3,"td"),h.Nc(4),h.ac(),h.bc(5,"td",22),h.bc(6,"input",23),h.ic("ngModelChange",(function(t){return h.Dc(a),e.$implicit.is_linked=t}))("change",(function(t){h.Dc(a);var n=e.$implicit;return h.mc(3).checkboxSelect(n,t)})),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=e.index;h.Jb(2),h.Pc("",i+1,"."),h.Jb(2),h.Oc(n.catalog_name),h.Jb(2),h.sc("ngModel",n.is_linked)}}function wa(t,e){1&t&&(h.bc(0,"p",24),h.Nc(1,"No Data Found"),h.ac())}function ka(t,e){if(1&t&&(h.bc(0,"nb-accordion-item"),h.bc(1,"nb-accordion-item-header",14),h.bc(2,"div",15),h.bc(3,"div",16),h.Nc(4),h.ac(),h.bc(5,"div",17),h.Nc(6),h.ac(),h.ac(),h.ac(),h.bc(7,"nb-accordion-item-body"),h.bc(8,"div",18),h.bc(9,"table",19),h.bc(10,"tbody"),h.Lc(11,xa,7,3,"tr",13),h.ac(),h.ac(),h.Lc(12,wa,2,0,"p",20),h.ac(),h.ac(),h.ac()),2&t){var a=e.$implicit,n=e.index;h.Jb(1),h.Jc("background",1==a.has_tplt?"#b1efb1":"#d2cccc61"),h.Jb(3),h.Qc(" ",n+1,". ",a.sub_category_name," "),h.Jb(2),h.Pc(" Total Catalogs: ",a.catalog_list.length," "),h.Jb(5),h.sc("ngForOf",a.catalog_list),h.Jb(1),h.sc("ngIf",0==a.catalog_list.length)}}function Pa(t,e){if(1&t&&(h.bc(0,"div",12),h.bc(1,"nb-accordion"),h.Lc(2,ka,13,7,"nb-accordion-item",13),h.ac(),h.ac()),2&t){var a=h.mc();h.Jb(2),h.sc("ngForOf",a.subCategoryList)}}function Oa(t,e){if(1&t){var a=h.cc();h.bc(0,"button",25),h.ic("click",(function(){return h.Dc(a),h.mc().moveTemplate()})),h.Nc(1,"Move"),h.ac()}}var Ma,Ea=((Ma=function(){function t(e,a,n){l(this,t),this.dialog=e,this.dataService=a,this.utils=n,this.totalRecords=0,this.imgIds=[],this.title="Template",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialog}return s(t,[{key:"ngOnInit",value:function(){this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.getSubList(this.catalogData)}},{key:"closeDialog",value:function(){this.dialog.close({res:""})}},{key:"checkboxSelect",value:function(t,e){var a=this;this.errormsg="",this.selectedCatalog=t,ya('input[name="'+e.target.name+'"]').not(e.target).prop("checked",!1),this.subCategoryList.forEach((function(t){t.has_tplt=!1,t.catalog_list.forEach((function(n){a.selectedCatalog.catalog_id==n.catalog_id?(n.is_linked=1==e.target.checked?1:0,a.selectedCatalog=n,t.has_tplt=!0):n.is_linked=0}))}))}},{key:"getSubList",value:function(t){var e=this;this.utils.showLoader(),this.dataService.postData("getAllSubCategoryToMoveTemplate",{img_id:t.img_id,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.subCategoryList=t.data.sub_category_list,e.subCategoryList&&(e.totalRecords=e.subCategoryList.length),e.subCategoryList.forEach((function(t){t.has_tplt=!1,t.catalog_list.forEach((function(a){1!=a.is_linked&&1!=a.is_linked||(e.selectedCatalog=a,t.has_tplt=!0)}))})),e.utils.hideLoader()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"moveTemplate",value:function(){var t=this;if(0==this.selectedCatalog.is_linked||0==this.selectedCatalog.is_linked)return this.errormsg=C.b.SEL_TMPLT_MV,!1;this.utils.showLoader(),this.errormsg="",this.dataService.postData("moveTemplate",{catalog_id:this.selectedCatalog.catalog_id,template_list:0==this.imgIds.length?[this.catalogData.img_id]:this.imgIds},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.utils.showSuccess(e.message,4e3),t.dialog.close({res:"add"})):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||Ma)(h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},Ma.\u0275cmp=h.Pb({type:Ma,selectors:[["ngx-movetocatalog"]],decls:12,vars:5,consts:[[1,"move-catalog-card"],[2,"position","relative"],[1,"header-text","text-center"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],["class","row",4,"ngIf"],["class","move-accord",4,"ngIf"],[1,"move-buttons","text-center","mt-2"],[2,"height","17px","color","red"],["class","btn bg-primary text-light mr-2 w-50",3,"click",4,"ngIf"],[1,"row"],[1,"col-md-12","text-center"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"move-accord"],[4,"ngFor","ngForOf"],[2,"background","#d2cccc61","height","51px"],[1,"row","w-100","clog-header"],[1,"col-md-8","col-7"],[1,"col-md-4","text-right","col-5"],[1,"clog-table"],[1,"table","table-hover","mb-1"],["class","ml-3","style","font-weight: 700;text-align: center;",4,"ngIf"],[1,"text-right"],[1,"text-right","pr-5"],["type","checkbox","name","group1",3,"ngModel","ngModelChange","change"],[1,"ml-3",2,"font-weight","700","text-align","center"],[1,"btn","bg-primary","text-light","mr-2","w-50",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"h5",2),h.Nc(3),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.Lc(6,Ca,5,0,"div",4),h.Lc(7,Pa,3,1,"div",5),h.bc(8,"div",6),h.bc(9,"p",7),h.Nc(10),h.ac(),h.Lc(11,Oa,2,0,"button",8),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(3),h.Pc("Move ",e.title," To Catalog"),h.Jb(3),h.sc("ngIf",0==e.totalRecords),h.Jb(1),h.sc("ngIf",e.totalRecords>0),h.Jb(3),h.Oc(e.errormsg),h.Jb(1),h.sc("ngIf",e.totalRecords>0))},directives:[d.x,d.z,d.w,x.n,d.g,x.m,d.i,d.j,d.h,w.a,w.n,w.q],styles:[".header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}  .move-catalog-card{width:700px}  .move-catalog-card .item-body{padding:0!important}  .move-catalog-card td{font-size:17px;font-weight:600}  .move-catalog-card input{zoom:1.9;vertical-align:middle}  .move-catalog-card .move-accord{height:calc(100vh - 350px);overflow-x:hidden;overflow-y:scroll}  .move-catalog-card .move-accord::-webkit-scrollbar{width:5px}  .move-catalog-card .move-accord::-webkit-scrollbar-track{background:#f1f1f1}  .move-catalog-card .move-accord::-webkit-scrollbar-thumb{background:#e4e9f2}.clog-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:16px;font-weight:700}@media only screen and (max-width:600px){.move-catalog-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.move-accord[_ngcontent-%COMP%]   nb-accordion-item-header[_ngcontent-%COMP%]{height:unset!important}}"]}),Ma);function Sa(t,e){1&t&&h.Wb(0,"img",21)}function Ia(t,e){if(1&t){var a=h.cc();h.bc(0,"img",22),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.categoryData.thumbnail_img,h.Fc)}}function La(t,e){if(1&t){var a=h.cc();h.bc(0,"mat-chip"),h.Nc(1),h.bc(2,"i",23),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().remove(t)})),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(1),h.Pc(" ",n," ")}}var Ra,Ta=((Ra=function(){function t(e,a,n){l(this,t),this.dialogRef=e,this.utils=a,this.dataService=n,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.formData=new FormData,this.allSearchTag=[],this.searchINputControl=new w.d,this.selectedSearchTags=[],this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.searchTagList=JSON.parse(localStorage.getItem("search_tag_list")),this.searchTagList&&this.searchTagList.forEach((function(e){t.allSearchTag.push(e.tag_name)})),this.options=this.allSearchTag,this.filteredOptions$=Object(ct.a)(this.options),this.filteredOptions$=this.searchINputControl.valueChanges.pipe(Object(yt.a)(""),Object(ft.a)((function(e){return t.filter(e)}))),this.selectedSearchTags=void 0===this.categoryData.search_category||""==this.categoryData.search_category.trim()||null==this.categoryData.search_category?[]:this.categoryData.search_category.split(",")}},{key:"filter",value:function(t){var e=t.toLowerCase();return this.options.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"validateString",value:function(t){return/^[a-z0-9&,# ]+$/i.test(t)}},{key:"add",value:function(t){if("object"==typeof t)if(""!=t.target.value.trim()){if(!this.validateString(t.target.value))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '& , #' is allowed in tag name.");for(var e=t.target.value.split(","),a=0;a<e.length;a++)(e[a]||"").trim()&&this.selectedSearchTags.push(e[a].trim().toLowerCase());document.getElementById("tagInputError").innerHTML="",this.searchINputControl.setValue("")}else this.searchINputControl.setValue("");else if(""!=t){if(!this.validateString(t))return void(document.getElementById("tagInputError").innerHTML="Special characters not allowed, only alphanumeric, '&' is allowed in tag name.");document.getElementById("tagInputError").innerHTML="",this.selectedSearchTags.push(t),this.searchINputControl.setValue("")}var n=this.selectedSearchTags.filter((function(t,e,a){return a.indexOf(t)===e}));this.selectedSearchTags=n}},{key:"remove",value:function(t){var e=this.selectedSearchTags.indexOf(t);this.selectedSearchTags.splice(e,1)}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.categoryData.compressed_img=t.target.result},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"updateCategory",value:function(){var t=this;this.utils.showLoader(),this.formData.delete("request_data");var e=this.selectedSearchTags.join();this.formData.append("request_data",JSON.stringify({img_id:this.categoryData.img_id,category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,search_category:e})),this.dataService.postData("updateCatalogImage",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3)):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Ra)(h.Vb(d.H),h.Vb(b.a),h.Vb(_.a))},Ra.\u0275cmp=h.Pb({type:Ra,selectors:[["ngx-updatesubcategoryimagebyid"]],decls:23,vars:4,consts:[[1,"update-image-card"],[2,"position","relative"],[1,"text-center","header-text"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"pr-0","pl-0"],[1,"card-content","pr-2","pl-2"],[1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["type","file","id","fileInput","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"form-group","mt-3"],["nbInput","","type","text","placeholder","Select / Enter new tag",1,"mw-100","mb-1",3,"formControl","keyup.enter"],["id","tagInputError",2,"color","red","margin-bottom","3px"],[1,"tag-container"],["aria-label","Fruit selection"],["chipList",""],[4,"ngFor","ngForOf"],[1,"button-area","text-center"],[1,"btn","bg-primary","text-light","w-50",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["matChipRemove","",1,"fa","fa-times",2,"margin-top","5px","color","red","cursor","pointer",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"h5",2),h.Nc(3,"Update Image"),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body",4),h.bc(6,"div",5),h.bc(7,"div",6),h.Lc(8,Sa,1,0,"img",7),h.Lc(9,Ia,1,1,"img",8),h.bc(10,"label",9),h.Wb(11,"i",10),h.ac(),h.ac(),h.bc(12,"input",11),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.bc(13,"div",12),h.bc(14,"input",13),h.ic("keyup.enter",(function(t){return e.add(t)})),h.ac(),h.Wb(15,"p",14),h.bc(16,"div",15),h.bc(17,"mat-chip-list",16,17),h.Lc(19,La,3,1,"mat-chip",18),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(20,"div",19),h.bc(21,"button",20),h.ic("click",(function(){return e.updateCategory()})),h.Nc(22,"Update"),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(8),h.sc("ngIf",e.categoryData.thumbnail_img),h.Jb(1),h.sc("ngIf",e.categoryData.thumbnail_img),h.Jb(5),h.sc("formControl",e.searchINputControl),h.Jb(5),h.sc("ngForOf",e.selectedSearchTags))},directives:[d.x,d.z,d.w,x.n,d.P,w.c,w.n,w.e,Fe.b,x.m,Fe.a,Fe.c],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{right:19px;top:21px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}.close-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;font-size:23px}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:hidden;overflow-y:scroll}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.update-image-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.update-image-card[_ngcontent-%COMP%]   .tag-container[_ngcontent-%COMP%]{height:250px;overflow-x:hidden;overflow-y:scroll}.update-image-card[_ngcontent-%COMP%]   .tag-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media only screen and (max-width:600px){.update-image-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}@media only screen and (max-width:400px){.update-image-card[_ngcontent-%COMP%]{width:347px}}"]}),Ra),Da=o("aCrv"),Na=["header"],za=["container"],Aa=["content"],Va=["invisiblePadding"],Ja=["*"];function Fa(){return{checkResizeInterval:1e3,modifyOverflowStyleOfParentScroll:!0,resizeBypassRefreshThreshold:5,scrollAnimationTime:750,scrollDebounceTime:0,scrollThrottlingTime:0,stripedTable:!1}}var Ba,Wa,Ha=((Wa=function(){function t(e,a,n,i,o,r){l(this,t),this.element=e,this.renderer=a,this.zone=n,this.changeDetectorRef=i,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.RTL=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._items=[],this.compareItems=function(t,e){return t===e},this.vsUpdate=new h.r,this.vsChange=new h.r,this.vsStart=new h.r,this.vsEnd=new h.r,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=Object(x.C)(o),this.checkResizeInterval=r.checkResizeInterval,this.modifyOverflowStyleOfParentScroll=r.modifyOverflowStyleOfParentScroll,this.resizeBypassRefreshThreshold=r.resizeBypassRefreshThreshold,this.scrollAnimationTime=r.scrollAnimationTime,this.scrollDebounceTime=r.scrollDebounceTime,this.scrollThrottlingTime=r.scrollThrottlingTime,this.scrollbarHeight=r.scrollbarHeight,this.scrollbarWidth=r.scrollbarWidth,this.stripedTable=r.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}return s(t,[{key:"updateOnScrollFunction",value:function(){var t=this;this.onScroll=this.scrollDebounceTime?this.debounce((function(){t.refresh_internal(!1)}),this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing((function(){t.refresh_internal(!1)}),this.scrollThrottlingTime):function(){t.refresh_internal(!1)}}},{key:"revertParentOverscroll",value:function(){var t=this.getScrollElement();t&&this.oldParentScrollOverflow&&(t.style["overflow-y"]=this.oldParentScrollOverflow.y,t.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}},{key:"ngOnInit",value:function(){this.addScrollEventHandlers()}},{key:"ngOnDestroy",value:function(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}},{key:"ngOnChanges",value:function(t){var e=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(e||!t.items||!t.items.previousValue||0===t.items.previousValue.length)}},{key:"ngDoCheck",value:function(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){for(var t=!1,e=0;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+e],this.viewPortItems[e])){t=!0;break}t&&this.refresh_internal(!0)}}},{key:"refresh",value:function(){this.refresh_internal(!0)}},{key:"invalidateAllCachedMeasurements",value:function(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}},{key:"invalidateCachedMeasurementForItem",value:function(t){if(this.enableUnequalChildrenSizes){var e=this.items&&this.items.indexOf(t);e>=0&&this.invalidateCachedMeasurementAtIndex(e)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}},{key:"invalidateCachedMeasurementAtIndex",value:function(t){if(this.enableUnequalChildrenSizes){var e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t];e&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}},{key:"scrollInto",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=this.items.indexOf(t);-1!==o&&this.scrollToIndex(o,e,a,n,i)}},{key:"scrollToIndex",value:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=5,c=function i(){if(--r<=0)o&&o();else{var c=e.calculateDimensions(),s=Math.min(Math.max(t,0),c.itemCount-1);e.previousViewPort.startIndex!==s?e.scrollToIndex_internal(t,a,n,0,i):o&&o()}};this.scrollToIndex_internal(t,a,n,i,c)}},{key:"scrollToIndex_internal",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;n=void 0===n?this.scrollAnimationTime:n;var o=this.calculateDimensions(),r=this.calculatePadding(t,o)+a;e||(r-=o.wrapGroupsPerPage*o[this._childScrollDim]),this.scrollToPosition(r,n,i)}},{key:"scrollToPosition",value:function(t,e,a){var n=this;t+=this.getElementsOffset(),e=void 0===e?this.scrollAnimationTime:e;var i,o=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!e)return this.renderer.setProperty(o,this._scrollType,t),void this.refresh_internal(!1,a);var r={scrollPosition:o[this._scrollType]},c=new Da.Tween(r).to({scrollPosition:t},e).easing(Da.Easing.Quadratic.Out).onUpdate((function(t){isNaN(t.scrollPosition)||(n.renderer.setProperty(o,n._scrollType,t.scrollPosition),n.refresh_internal(!1))})).onStop((function(){cancelAnimationFrame(i)})).start();(function e(o){c.isPlaying()&&(c.update(o),r.scrollPosition!==t?n.zone.runOutsideAngular((function(){i=requestAnimationFrame(e)})):n.refresh_internal(!1,a))})(),this.currentTween=c}},{key:"getElementSize",value:function(t){var e=t.getBoundingClientRect(),a=getComputedStyle(t),n=parseInt(a["margin-top"],10)||0,i=parseInt(a["margin-bottom"],10)||0,o=parseInt(a["margin-left"],10)||0,r=parseInt(a["margin-right"],10)||0;return{top:e.top+n,bottom:e.bottom+i,left:e.left+o,right:e.right+r,width:e.width+o+r,height:e.height+n+i}}},{key:"checkScrollElementResized",value:function(){var t,e=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){var a=Math.abs(e.width-this.previousScrollBoundingRect.width),n=Math.abs(e.height-this.previousScrollBoundingRect.height);t=a>this.resizeBypassRefreshThreshold||n>this.resizeBypassRefreshThreshold}else t=!0;t&&(this.previousScrollBoundingRect=e,e.width>0&&e.height>0&&this.refresh_internal(!1))}},{key:"updateDirection",value:function(){this.horizontal?(this._childScrollDim="childWidth",this._invisiblePaddingProperty="scaleX",this._marginDir="margin-left",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._scrollType="scrollLeft",this._translateDir="translateX"):(this._childScrollDim="childHeight",this._invisiblePaddingProperty="scaleY",this._marginDir="margin-top",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._scrollType="scrollTop",this._translateDir="translateY")}},{key:"debounce",value:function(t,e){var a=this.throttleTrailing(t,e),n=function(){a.cancel(),a.apply(this,arguments)};return n.cancel=function(){a.cancel()},n}},{key:"throttleTrailing",value:function(t,e){var a=void 0,n=arguments,i=function(){var i=this;n=arguments,a||(e<=0?t.apply(i,n):a=setTimeout((function(){a=void 0,t.apply(i,n)}),e))};return i.cancel=function(){a&&(clearTimeout(a),a=void 0)},i}},{key:"refresh_internal",value:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(t&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){var i=this.previousViewPort,o=this.viewPortItems,r=e;e=function(){var t=a.previousViewPort.scrollLength-i.scrollLength;if(t>0&&a.viewPortItems){var e=o[0],n=a.items.findIndex((function(t){return a.compareItems(e,t)}));if(n>a.previousViewPort.startIndexWithBuffer){for(var c=!1,s=1;s<a.viewPortItems.length;++s)if(!a.compareItems(a.items[n+s],o[s])){c=!0;break}if(!c)return void a.scrollToPosition(a.previousViewPort.scrollStartPosition+t,0,r)}}r&&r()}}this.zone.runOutsideAngular((function(){requestAnimationFrame((function(){t&&a.resetWrapGroupDimensions();var i=a.calculateViewport(),o=t||i.startIndex!==a.previousViewPort.startIndex,r=t||i.endIndex!==a.previousViewPort.endIndex,c=i.scrollLength!==a.previousViewPort.scrollLength,s=i.padding!==a.previousViewPort.padding,l=i.scrollStartPosition!==a.previousViewPort.scrollStartPosition||i.scrollEndPosition!==a.previousViewPort.scrollEndPosition||i.maxScrollPosition!==a.previousViewPort.maxScrollPosition;if(a.previousViewPort=i,c&&(a.renderer.setStyle(a.invisiblePaddingElementRef.nativeElement,"transform","".concat(a._invisiblePaddingProperty,"(").concat(i.scrollLength,")")),a.renderer.setStyle(a.invisiblePaddingElementRef.nativeElement,"webkitTransform","".concat(a._invisiblePaddingProperty,"(").concat(i.scrollLength,")"))),s&&(a.useMarginInsteadOfTranslate?a.renderer.setStyle(a.contentElementRef.nativeElement,a._marginDir,i.padding+"px"):(a.renderer.setStyle(a.contentElementRef.nativeElement,"transform","".concat(a._translateDir,"(").concat(i.padding,"px)")),a.renderer.setStyle(a.contentElementRef.nativeElement,"webkitTransform","".concat(a._translateDir,"(").concat(i.padding,"px)")))),a.headerElementRef){var d=a.getScrollElement()[a._scrollType],g=a.getElementsOffset(),h=Math.max(d-i.padding-g+a.headerElementRef.nativeElement.clientHeight,0);a.renderer.setStyle(a.headerElementRef.nativeElement,"transform","".concat(a._translateDir,"(").concat(h,"px)")),a.renderer.setStyle(a.headerElementRef.nativeElement,"webkitTransform","".concat(a._translateDir,"(").concat(h,"px)"))}var u=o||r?{startIndex:i.startIndex,endIndex:i.endIndex,scrollStartPosition:i.scrollStartPosition,scrollEndPosition:i.scrollEndPosition,startIndexWithBuffer:i.startIndexWithBuffer,endIndexWithBuffer:i.endIndexWithBuffer,maxScrollPosition:i.maxScrollPosition}:void 0;if(o||r||l){var p=function(){a.viewPortItems=i.startIndexWithBuffer>=0&&i.endIndexWithBuffer>=0?a.items.slice(i.startIndexWithBuffer,i.endIndexWithBuffer+1):[],a.vsUpdate.emit(a.viewPortItems),o&&a.vsStart.emit(u),r&&a.vsEnd.emit(u),(o||r)&&(a.changeDetectorRef.markForCheck(),a.vsChange.emit(u)),n>0?a.refresh_internal(!1,e,n-1):e&&e()};a.executeRefreshOutsideAngularZone?p():a.zone.run(p)}else{if(n>0&&(c||s))return void a.refresh_internal(!1,e,n-1);e&&e()}}))}))}},{key:"getScrollElement",value:function(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}},{key:"addScrollEventHandlers",value:function(){var t=this;if(!this.isAngularUniversalSSR){var e=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular((function(){t.parentScroll instanceof Window?(t.disposeScrollHandler=t.renderer.listen("window","scroll",t.onScroll),t.disposeResizeHandler=t.renderer.listen("window","resize",t.onScroll)):(t.disposeScrollHandler=t.renderer.listen(e,"scroll",t.onScroll),t._checkResizeInterval>0&&(t.checkScrollElementResizedTimer=setInterval((function(){t.checkScrollElementResized()}),t._checkResizeInterval)))}))}}},{key:"removeScrollEventHandlers",value:function(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}},{key:"getElementsOffset",value:function(){if(this.isAngularUniversalSSR)return 0;var t=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){var e=this.getScrollElement(),a=this.getElementSize(this.element.nativeElement),n=this.getElementSize(e);t+=this.horizontal?a.left-n.left:a.top-n.top,this.parentScroll instanceof Window||(t+=e[this._scrollType])}return t}},{key:"countItemsPerWrapGroup",value:function(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);var t=this.horizontal?"offsetLeft":"offsetTop",e=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,a=e?e.length:0;if(0===a)return 1;for(var n=e[0][t],i=1;i<a&&n===e[i][t];)++i;return i}},{key:"getScrollStartPosition",value:function(){var t=void 0;return this.parentScroll instanceof Window&&(t=window[this._pageOffsetType]),t||this.getScrollElement()[this._scrollType]||0}},{key:"resetWrapGroupDimensions",value:function(){var t=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),this.enableUnequalChildrenSizes&&t&&0!==t.numberOfKnownWrapGroupChildSizes)for(var e=this.countItemsPerWrapGroup(),a=0;a<t.maxChildSizePerWrapGroup.length;++a){var n=t.maxChildSizePerWrapGroup[a];if(n&&n.items&&n.items.length){if(n.items.length!==e)return;for(var i=!1,o=e*a,r=0;r<e;++r)if(!this.compareItems(n.items[r],this.items[o+r])){i=!0;break}i||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=n.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=n.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[a]=n)}}}},{key:"calculateDimensions",value:function(){var t=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(t.offsetHeight-t.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(t.offsetWidth-t.clientWidth,25),this.calculatedScrollbarWidth);var e,a,n,i=t.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),o=t.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),r=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,c=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){i=this.ssrViewportWidth,o=this.ssrViewportHeight,a=this.ssrChildWidth,n=this.ssrChildHeight;var s=Math.max(Math.ceil(i/a),1),l=Math.max(Math.ceil(o/n),1);e=this.horizontal?s:l}else if(this.enableUnequalChildrenSizes){var d=t[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),g=this.previousViewPort.startIndexWithBuffer||0,h=Math.ceil(g/c),u=0,p=0,b=0,m=0;e=0;for(var f=0;f<r.children.length;++f){++g;var v=this.getElementSize(r.children[f]);if(u=Math.max(u,v.width),p=Math.max(p,v.height),g%c==0){var _=this.wrapGroupDimensions.maxChildSizePerWrapGroup[h];_&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=_.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=_.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;var y=this.items.slice(g-c,g);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[h]={childWidth:u,childHeight:p,items:y},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=u,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=p,this.horizontal){var C=Math.min(u,Math.max(i-b,0));if(d>0){var x=Math.min(d,C);C-=x,d-=x}b+=C,C>0&&i>=b&&++e}else{var w=Math.min(p,Math.max(o-m,0));if(d>0){var k=Math.min(d,w);w-=k,d-=k}m+=w,w>0&&o>=m&&++e}++h,u=0,p=0}}var P=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,O=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;a=this.childWidth||P||i,n=this.childHeight||O||o,this.horizontal?i>b&&(e+=Math.ceil((i-b)/a)):o>m&&(e+=Math.ceil((o-m)/n))}else{if(r.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&i>0&&(this.minMeasuredChildWidth=i),!this.minMeasuredChildHeight&&o>0&&(this.minMeasuredChildHeight=o));var M=this.getElementSize(r.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,M.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,M.height)}a=this.childWidth||this.minMeasuredChildWidth||i,n=this.childHeight||this.minMeasuredChildHeight||o;var E=Math.max(Math.ceil(i/a),1),S=Math.max(Math.ceil(o/n),1);e=this.horizontal?E:S}var I=this.items.length,L=c*e,R=I/L,T=Math.ceil(I/c),D=0,N=this.horizontal?a:n;if(this.enableUnequalChildrenSizes){for(var z=0,A=0;A<T;++A){var V=this.wrapGroupDimensions.maxChildSizePerWrapGroup[A]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[A][this._childScrollDim];V?D+=V:++z}D+=Math.round(z*N)}else D=T*N;this.headerElementRef&&(D+=this.headerElementRef.nativeElement.clientHeight);var J=this.horizontal?i:o;return{childHeight:n,childWidth:a,itemCount:I,itemsPerPage:L,itemsPerWrapGroup:c,maxScrollPosition:Math.max(D-J,0),pageCount_fractional:R,scrollLength:D,viewportLength:J,wrapGroupsPerPage:e}}},{key:"calculatePadding",value:function(t,e){if(0===e.itemCount)return 0;var a=e[this._childScrollDim],n=Math.floor(t/e.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return a*n;for(var i=0,o=0,r=0;r<n;++r){var c=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim];c?o+=c:++i}return o+=Math.round(i*a)}},{key:"calculatePageInfo",value:function(t,e){var a=0;if(this.enableUnequalChildrenSizes){for(var n=Math.ceil(e.itemCount/e.itemsPerWrapGroup),i=0,o=e[this._childScrollDim],r=0;r<n;++r)if(t<(i+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[r]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[r][this._childScrollDim]||o)){a=r/n;break}}else a=t/e.scrollLength;var c=Math.min(Math.max(a*e.pageCount_fractional,0),e.pageCount_fractional)*e.itemsPerPage,s=e.itemCount-e.itemsPerPage-1,l=Math.min(Math.floor(c),s);if(l-=l%e.itemsPerWrapGroup,this.stripedTable){var d=2*e.itemsPerWrapGroup;l%d!=0&&(l=Math.max(l-l%d,0))}var g=Math.ceil(c)+e.itemsPerPage-1,h=(g+1)%e.itemsPerWrapGroup;h>0&&(g+=e.itemsPerWrapGroup-h),isNaN(l)&&(l=0),isNaN(g)&&(g=0),l=Math.min(Math.max(l,0),e.itemCount-1),g=Math.min(Math.max(g,0),e.itemCount-1);var u=this.bufferAmount*e.itemsPerWrapGroup;return{startIndex:l,endIndex:g,startIndexWithBuffer:Math.min(Math.max(l-u,0),e.itemCount-1),endIndexWithBuffer:Math.min(Math.max(g+u,0),e.itemCount-1),scrollStartPosition:t,scrollEndPosition:t+e.viewportLength,maxScrollPosition:e.maxScrollPosition}}},{key:"calculateViewport",value:function(){var t=this.calculateDimensions(),e=this.getElementsOffset(),a=this.getScrollStartPosition();a>t.scrollLength+e&&!(this.parentScroll instanceof Window)?a=t.scrollLength:a-=e,a=Math.max(0,a);var n=this.calculatePageInfo(a,t),i=this.calculatePadding(n.startIndexWithBuffer,t),o=t.scrollLength;return{startIndex:n.startIndex,endIndex:n.endIndex,startIndexWithBuffer:n.startIndexWithBuffer,endIndexWithBuffer:n.endIndexWithBuffer,padding:Math.round(i),scrollLength:Math.round(o),scrollStartPosition:n.scrollStartPosition,scrollEndPosition:n.scrollEndPosition,maxScrollPosition:n.maxScrollPosition}}},{key:"viewPortInfo",get:function(){var t=this.previousViewPort||{};return{startIndex:t.startIndex||0,endIndex:t.endIndex||0,scrollStartPosition:t.scrollStartPosition||0,scrollEndPosition:t.scrollEndPosition||0,maxScrollPosition:t.maxScrollPosition||0,startIndexWithBuffer:t.startIndexWithBuffer||0,endIndexWithBuffer:t.endIndexWithBuffer||0}}},{key:"enableUnequalChildrenSizes",get:function(){return this._enableUnequalChildrenSizes},set:function(t){this._enableUnequalChildrenSizes!==t&&(this._enableUnequalChildrenSizes=t,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}},{key:"bufferAmount",get:function(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0},set:function(t){this._bufferAmount=t}},{key:"scrollThrottlingTime",get:function(){return this._scrollThrottlingTime},set:function(t){this._scrollThrottlingTime=t,this.updateOnScrollFunction()}},{key:"scrollDebounceTime",get:function(){return this._scrollDebounceTime},set:function(t){this._scrollDebounceTime=t,this.updateOnScrollFunction()}},{key:"checkResizeInterval",get:function(){return this._checkResizeInterval},set:function(t){this._checkResizeInterval!==t&&(this._checkResizeInterval=t,this.addScrollEventHandlers())}},{key:"items",get:function(){return this._items},set:function(t){t!==this._items&&(this._items=t||[],this.refresh_internal(!0))}},{key:"horizontal",get:function(){return this._horizontal},set:function(t){this._horizontal=t,this.updateDirection()}},{key:"parentScroll",get:function(){return this._parentScroll},set:function(t){if(this._parentScroll!==t){this.revertParentOverscroll(),this._parentScroll=t,this.addScrollEventHandlers();var e=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&e!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:e.style["overflow-x"],y:e.style["overflow-y"]},e.style["overflow-y"]=this.horizontal?"visible":"auto",e.style["overflow-x"]=this.horizontal?"auto":"visible")}}}]),t}()).\u0275fac=function(t){return new(t||Wa)(h.Vb(h.o),h.Vb(h.M),h.Vb(h.F),h.Vb(h.i),h.Vb(h.I),h.Vb("virtual-scroller-default-options",8))},Wa.\u0275cmp=h.Pb({type:Wa,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(t,e,a){var n;1&t&&(h.Ob(a,Na,!0,h.o),h.Ob(a,za,!0,h.o)),2&t&&(h.Ac(n=h.jc())&&(e.headerElementRef=n.first),h.Ac(n=h.jc())&&(e.containerElementRef=n.first))},viewQuery:function(t,e){var a;1&t&&(h.Ic(Aa,!0,h.o),h.Ic(Va,!0,h.o)),2&t&&(h.Ac(a=h.jc())&&(e.contentElementRef=a.first),h.Ac(a=h.jc())&&(e.invisiblePaddingElementRef=a.first))},hostVars:8,hostBindings:function(t,e){2&t&&h.Nb("horizontal",e.horizontal)("vertical",!e.horizontal)("selfScroll",!e.parentScroll)("rtl",e.RTL)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",RTL:"RTL",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",checkResizeInterval:"checkResizeInterval",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",scrollAnimationTime:"scrollAnimationTime",scrollDebounceTime:"scrollDebounceTime",scrollThrottlingTime:"scrollThrottlingTime",scrollbarHeight:"scrollbarHeight",scrollbarWidth:"scrollbarWidth",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[h.Hb],ngContentSelectors:Ja,decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(t,e){1&t&&(h.rc(),h.Wb(0,"div",0,1),h.bc(2,"div",2,3),h.qc(4),h.ac())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  \tdisplay: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\n\t\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t\t}\n\n\t\t.horizontal.selfScroll.rtl[_nghost-%COMP%] {\n\t\t\ttransform: scaleX(-1);\n\t\t}\n\n\t\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t\t}\n\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%] {\n\t\t\twhite-space: nowrap;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\t\t\twhite-space: initial;\n\t\t}\n\n\t\t.horizontal.rtl[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\t\ttransform:scaleX(-1);\n\t\t}\n\n    .total-padding[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 1px;\n      width: 1px;\n      transform-origin: 0 0;\n      opacity: 0;\n    }\n\n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),Wa),ja=((Ba=function t(){l(this,t)}).\u0275mod=h.Tb({type:Ba}),Ba.\u0275inj=h.Sb({factory:function(t){return new(t||Ba)},providers:[{provide:"virtual-scroller-default-options",useFactory:Fa}],imports:[[x.c]]}),Ba);function Ua(t,e){if(1&t){var a=h.cc();h.bc(0,"div",17),h.bc(1,"button",18),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.templatesArr=[],t.multiselectFlag=!0})),h.Nc(2,"Select Templates"),h.ac(),h.bc(3,"button",18),h.ic("click",(function(){return h.Dc(a),h.mc().addJsonImages()})),h.Nc(4,"Add JSON Images"),h.ac(),h.bc(5,"button",18),h.ic("click",(function(){return h.Dc(a),h.mc().addJsonData()})),h.Nc(6,"Add JSON Data"),h.ac(),h.bc(7,"button",19),h.ic("click",(function(){return h.Dc(a),h.mc().addNormalImages()})),h.Nc(8,"Add Normal Images"),h.ac(),h.ac()}}function $a(t,e){if(1&t){var a=h.cc();h.bc(0,"div",17),h.bc(1,"button",20),h.ic("click",(function(){return h.Dc(a),h.mc().uploadTemplateRankArr()})),h.Nc(2,"Set Rank"),h.ac(),h.bc(3,"button",21),h.ic("click",(function(){return h.Dc(a),h.mc().SelectAllTemplate()})),h.Nc(4,"Select All"),h.ac(),h.bc(5,"button",21),h.ic("click",(function(){return h.Dc(a),h.mc().templatesArr=[]})),h.Nc(6,"Remove All"),h.ac(),h.bc(7,"button",22),h.ic("click",(function(){return h.Dc(a),h.mc().moveMutipleTemplate()})),h.Nc(8,"Move Templates"),h.ac(),h.bc(9,"button",23),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.templatesArr=[],t.multiselectFlag=!1})),h.Nc(10,"Cancel"),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(3),h.sc("disabled",0==n.viewCatdata.length),h.Jb(2),h.sc("disabled",0==n.templatesArr.length)}}function Ga(t,e){1&t&&(h.bc(0,"div",24),h.Wb(1,"img",25),h.bc(2,"h2"),h.Nc(3,"No data found"),h.ac(),h.ac())}function Ya(t,e){1&t&&(h.bc(0,"div",50),h.bc(1,"div",51),h.Nc(2,"Android PRO"),h.ac(),h.ac())}function Ka(t,e){1&t&&(h.bc(0,"div",52),h.bc(1,"div",53),h.Nc(2,"IOS PRO"),h.ac(),h.ac())}function qa(t,e){1&t&&h.Wb(0,"i",54)}function Qa(t,e){if(1&t&&(h.bc(0,"span",55),h.Nc(1),h.ac()),2&t){var a=h.mc().$implicit,n=h.mc();h.Jb(1),h.Oc(n.templatesArr.indexOf(a.img_id)+1)}}function Xa(t,e){1&t&&h.Wb(0,"img",56)}var Za=function(){return{filter:"drop-shadow(0px 0px 3px rgba(0,0,0,0.3))",padding:"5px 0px"}},tn=function(t){return{"d-block":t}};function en(t,e){if(1&t){var a=h.cc();h.bc(0,"div",26),h.bc(1,"nb-card",27),h.bc(2,"div",28),h.ic("click",(function(t){h.Dc(a);var n=e.$implicit,i=h.mc();return i.multiselectFlag?i.addTemplateRank(t,n.img_id):i.viewImage(n.compressed_img)})),h.Wb(3,"img",29),h.bc(4,"img",30),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.Lc(5,Ya,3,0,"div",31),h.Lc(6,Ka,3,0,"div",32),h.Lc(7,qa,1,0,"i",33),h.Lc(8,Qa,2,1,"span",34),h.ac(),h.bc(9,"div",35),h.bc(10,"div"),h.Nc(11),h.ac(),h.ac(),h.bc(12,"nb-card-footer",36),h.bc(13,"div",37),h.bc(14,"a",38),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewImage(t.compressed_img)})),h.Nc(15,"View Image"),h.ac(),h.ac(),h.bc(16,"a",39),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().editSubCategory(t)})),h.Wb(17,"nb-icon",40),h.ac(),h.bc(18,"a",41),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().deleteTemplate(t)})),h.Wb(19,"nb-icon",42),h.ac(),h.bc(20,"a",43),h.ic("click",(function(){h.Dc(a);var t=e.$implicit,n=e.index;return h.mc().moveToFirst(t,n)})),h.Wb(21,"nb-icon",44),h.ac(),h.bc(22,"a",45),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().moveToCatalog(t)})),h.Wb(23,"nb-icon",46),h.ac(),h.bc(24,"a",47),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().setUrls(t.thumbnail_img,t.compressed_img,t.original_img)})),h.Wb(25,"nb-icon",48),h.ac(),h.ac(),h.ac(),h.Lc(26,Xa,1,0,"img",49),h.ac()}if(2&t){var n=e.$implicit,i=e.index,o=h.mc();h.sc("id","div-"+i),h.Jb(4),h.uc("alt","",n.name," image"),h.sc("lazyLoad",n.webp_original_img?n.webp_original_img:n.thumbnail_img)("errorImage",o.utils.errorImg)("ngStyle","5"==o.categoryId?h.wc(13,Za):""),h.Jb(1),h.sc("ngIf",0==n.is_free&&1==n.is_json_data),h.Jb(1),h.sc("ngIf",0==n.is_ios_free&&1==n.is_json_data),h.Jb(1),h.sc("ngIf",n.is_json_data&&!o.templatesArr.includes(n.img_id)),h.Jb(1),h.sc("ngIf",-1!=o.templatesArr.indexOf(n.img_id)),h.Jb(3),h.Pc("ID: ",n.img_id,""),h.Jb(2),h.sc("ngClass",h.xc(14,tn,o.multiselectFlag)),h.Jb(11),h.sc("nbContextMenu",o.copyURLS),h.Jb(2),h.sc("ngIf",1==n.is_featured)}}var an,nn=((an=function(){function t(e,a,n,i,o,r){l(this,t),this.menuService=e,this.dialog=a,this.route=n,this.actRoute=i,this.dataService=o,this.utils=r,this.searchTagList=[],this.templatesArr=[],this.multiselectFlag=!1,this.copyURLS=[{title:"Copy Thumbnail Image URL",img_url:"hello",img_type:"Thumbnail Image"},{title:"Copy Compressed Image URL",img_url:"hello",img_type:"Compressed Image"},{title:"Copy Original Image URL",img_url:"hello",img_type:"Original Image"}],this.token=localStorage.getItem("at"),this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.loadedImages=0,window.setInterval((function(){localStorage.removeItem("search_tag_list")}),72e4)}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.menuService.onItemClick().subscribe((function(e){t.copyUrl(e.item)})),this.getAllCategories()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"moveToFirst",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData("setContentRankOnTheTopByAdmin",{img_id:t.img_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.showSuccess(t.message,4e3),a.utils.hideLoader(),a.getAllCategories()):201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"deleteTemplate",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteCatalogImage",{img_id:t.img_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.getAllCategories(),e.utils.showSuccess(t.message,4e3)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getAllCategories",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getDataByCatalogIdForAdmin",{catalog_id:this.catalogId},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.viewCatdata=e.data.image_list,t.totalRecords=t.viewCatdata.length,t.utils.hidePageLoader(),window.dispatchEvent(new Event("resize"))):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"moveToCatalog",value:function(t){this.openMove(!1,t,[])}},{key:"moveMutipleTemplate",value:function(){0==this.templatesArr.length?this.utils.showError("Please select templates for move",6e3):this.openMove(!1,this.viewCatdata[0],this.templatesArr)}},{key:"openMove",value:function(t,e,a){var n=this;this.dialog.open(Ea,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e,imgIds:a}}).onClose.subscribe((function(t){t&&"add"==t.res&&(n.multiselectFlag=!1,n.templatesArr=[],n.getAllCategories())}))}},{key:"addJsonImages",value:function(){this.openJsonImages(!1)}},{key:"openJsonImages",value:function(t){this.dialog.open(ga,{closeOnBackdropClick:t,closeOnEsc:!1})}},{key:"addJsonData",value:function(){this.openJsonData(!1)}},{key:"openJsonData",value:function(t){var e=this;this.dialog.open(Ze,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogId:this.catalogId}}).onClose.subscribe((function(t){t&&"add"==t.res&&e.getAllCategories()}))}},{key:"editSubCategory",value:function(t){1==t.is_json_data||"1"==t.is_json_data?this.openUpdateJson(!1,t):this.openUpdateJsonImage(!1,t)}},{key:"openUpdateJson",value:function(t,e){var a=this;this.dialog.open(Ze,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{upJSonData:JSON.parse(JSON.stringify(e)),catalogId:this.categoryId}}).onClose.subscribe((function(t){t&&"add"==t.res&&a.getAllCategories()}))}},{key:"openUpdateJsonImage",value:function(t,e){var a=this;this.dialog.open(Ta,{closeOnBackdropClick:t,closeOnEsc:!1,context:{categoryData:JSON.parse(JSON.stringify(e))}}).onClose.subscribe((function(t){t&&"add"==t.res&&a.getAllCategories()}))}},{key:"addNormalImages",value:function(){this.openAddSubCategoryImage(!1)}},{key:"openAddSubCategoryImage",value:function(t){var e=this;this.dialog.open(_a,{closeOnBackdropClick:t,closeOnEsc:!1,context:{catalogId:this.catalogId}}).onClose.subscribe((function(t){t&&"add"==t.res&&e.getAllCategories()}))}},{key:"viewImage",value:function(t,e){this.dialog.open(we.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}},{key:"setUrls",value:function(t,e,a){this.copyURLS[0].img_url=t,this.copyURLS[1].img_url=e,this.copyURLS[2].img_url=a}},{key:"copyUrl",value:function(t){if("Thumbnail Image"==t.img_type||"Compressed Image"==t.img_type||"Original Image"==t.img_type){var e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t.img_url,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.utils.showSuccess("Copied the URL for "+t.img_type,2e3)}}},{key:"addTemplateRank",value:function(t,e){this.templatesArr.includes(e)?this.templatesArr.splice(this.templatesArr.indexOf(e),1):this.templatesArr.push(e)}},{key:"uploadTemplateRankArr",value:function(){var t=this;0==this.templatesArr.length?this.utils.showError("Please select templates for set rank",6e3):(this.utils.showLoader(),this.dataService.postData("setMultipleContentRankByAdmin",{img_ids:this.templatesArr},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.showSuccess(e.message,4e3),t.utils.hideLoader(),t.templatesArr=[],t.multiselectFlag=!1,t.getAllCategories()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"SelectAllTemplate",value:function(){this.templatesArr=[];for(var t=0;t<this.viewCatdata.length;t++)this.templatesArr.push(this.viewCatdata[t].img_id)}}]),t}()).\u0275fac=function(t){return new(t||an)(h.Vb(d.eb),h.Vb(d.I),h.Vb(p.c),h.Vb(p.a),h.Vb(_.a),h.Vb(b.a))},an.\u0275cmp=h.Pb({type:an,selectors:[["ngx-viewsubcategories"]],decls:25,vars:11,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"row","card-summary","pr-0","mt-2"],["class","col-md-12 text-right pr-0",4,"ngIf"],[1,"card-gallary-view","virtual-scroll-cat","row","mt-2"],["class","col-md-12 text-center mt-3",4,"ngIf"],["enableUnequalChildrenSizes","true",3,"items"],["scroll",""],["class","col-xl-2 col-md-3 col-sm-3 pr-0 pl-0",3,"id",4,"ngFor","ngForOf"],[1,"col-md-12","text-right","pr-0"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary","normal-img-btn",3,"click"],[1,"btn","btn-success","mr-2","w-10",3,"click"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"btn","btn-success","mr-2",3,"click"],[1,"btn","btn-danger","mr-2","w-10",3,"click"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0",3,"id"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden","height","130px","background","#e5e5e5",3,"click"],[1,"placeholder-img"],[3,"lazyLoad","errorImage","alt","ngStyle","load"],["class","ribbon-wrapper-yellow",4,"ngIf"],["class","ribbon-wrapper-green",4,"ngIf"],["class","fa fa-code font-26 code-icon",4,"ngIf"],["class","rank-icon",4,"ngIf"],[1,"details",2,"height","30px","margin-top","0px"],[1,"mt-3","template-card-footer",2,"position","relative"],[1,"overlay-action",3,"ngClass"],[3,"click"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","upload","pack","eva"],["nbTooltip","Move to another catalog","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","external-link","pack","eva"],["nbTooltip","More Actions","nbTooltipPlacement","bottom","nbTooltipStatus","primary","nbContextMenuPlacement","right",3,"nbContextMenu","click"],["icon","more-horizontal","pack","eva"],["src","./assets/featured_img.png","class","label-img",4,"ngIf"],[1,"ribbon-wrapper-yellow"],[1,"ribbon-yellow"],[1,"ribbon-wrapper-green"],[1,"ribbon-green"],[1,"fa","fa-code","font-26","code-icon"],[1,"rank-icon"],["src","./assets/featured_img.png",1,"label-img"]],template:function(t,e){if(1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",0),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.ic("click",(function(){return e.gotoCategories()})),h.Nc(6,"Categories"),h.ac(),h.bc(7,"li",5),h.ic("click",(function(){return e.gotoSubCategories()})),h.Nc(8),h.ac(),h.bc(9,"li",5),h.ic("click",(function(){return e.gotoCatalog()})),h.Nc(10),h.ac(),h.bc(11,"li",6),h.Nc(12),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(13,"div",7),h.bc(14,"nb-card",8),h.bc(15,"nb-card-header",9),h.Nc(16),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(17,"div",10),h.Lc(18,Ua,9,0,"div",11),h.Lc(19,$a,11,2,"div",11),h.ac(),h.bc(20,"div",12),h.Lc(21,Ga,4,0,"div",13),h.bc(22,"virtual-scroller",14,15),h.Lc(24,en,27,16,"div",16),h.ac(),h.ac()),2&t){var a=h.Bc(23);h.Jb(7),h.uc("nbTooltip","Go to ",e.broadHome,""),h.Jb(1),h.Oc(e.broadHome),h.Jb(1),h.uc("nbTooltip","Go to ",e.broadSubHome,""),h.Jb(1),h.Oc(e.broadSubHome),h.Jb(2),h.Oc(e.broadItem),h.Jb(4),h.Pc(" TOTAL RECORDS : ",e.totalRecords," "),h.Jb(2),h.sc("ngIf",!e.multiselectFlag),h.Jb(1),h.sc("ngIf",e.multiselectFlag),h.Jb(2),h.sc("ngIf",0==e.totalRecords),h.Jb(1),h.sc("items",e.viewCatdata),h.Jb(2),h.sc("ngForOf",a.viewPortItems)}},directives:[d.yb,d.x,d.z,x.n,Ha,x.m,Dt,x.o,d.y,x.l,d.L,d.D],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:60px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:11px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:3px 0;left:-14px;top:28px;width:120px;background-color:#fbc913;color:#000;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}.ribbon-wrapper-green[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;left:-19px;z-index:1}.ribbon-green[_ngcontent-%COMP%]{font-size:11px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(42deg);-webkit-transform:rotate(42deg);-moz-transform:rotate(42deg);-ms-transform:rotate(42deg);-o-transform:rotate(42deg);position:relative;padding:3px 0;left:-11px;top:40px;width:98px;background-color:#13fb1f;color:#000;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}.code-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:10px 8px;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.virtual-scroll-cat[_ngcontent-%COMP%]{overflow-y:hidden!important}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.w-10[_ngcontent-%COMP%]{width:10%}.template-card-footer[_ngcontent-%COMP%]{background:#e1e8f3;padding:10px;position:relative}.overlay-action[_ngcontent-%COMP%]{position:absolute;background:#e1e8f3;height:100%;width:100%;display:none}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:17px;font-weight:700;cursor:pointer}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}  virtual-scroller{max-height:calc(100vh - 228px)!important}  .scrollable-content{position:unset!important;display:flex;flex-wrap:wrap}  virtual-scroller{width:100vw}  virtual-scroller::-webkit-scrollbar{width:5px}  virtual-scroller::-webkit-scrollbar-track{background:#f1f1f1}  virtual-scroller::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.normal-img-btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:9px}}"]}),an);function on(t,e){1&t&&(h.bc(0,"h5",5),h.Nc(1,"Update Font"),h.ac())}function rn(t,e){1&t&&(h.bc(0,"h5",5),h.Nc(1,"Add New Font"),h.ac())}function cn(t,e){if(1&t){var a=h.cc();h.bc(0,"nb-card-body"),h.bc(1,"div",6),h.bc(2,"div",7),h.bc(3,"label",8),h.Nc(4,"Font Name(ios)"),h.ac(),h.ac(),h.bc(5,"div",9),h.bc(6,"div",10),h.bc(7,"input",11),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().iosFontName=t}))("keyup",(function(){return h.Dc(a),h.mc().checkValidation("editIosInput","","inputIosError","","","blank")}))("keyup.enter",(function(){h.Dc(a);var t=h.mc();return t.checkValidation("editIosInput","","inputIosError",t.errormsg.FONT_NAME_EMPTY,"","usual")})),h.ac(),h.Wb(8,"p",12),h.ac(),h.ac(),h.ac(),h.bc(9,"div",6),h.bc(10,"div",7),h.bc(11,"label",8),h.Nc(12,"Font Path(Android)"),h.ac(),h.ac(),h.bc(13,"div",9),h.bc(14,"div",10),h.bc(15,"input",13),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().androidFontName=t}))("keyup",(function(){return h.Dc(a),h.mc().checkValidation("editandroidInput","","inputAndroidError","","","blank")}))("keyup.enter",(function(){h.Dc(a);var t=h.mc();return t.checkValidation("editandroidInput","","inputAndroidError",t.errormsg.FONT_PATH_EMPTY,"","usual")})),h.ac(),h.Wb(16,"p",14),h.ac(),h.ac(),h.ac(),h.bc(17,"div",15),h.Wb(18,"p",16),h.bc(19,"button",17),h.ic("click",(function(){return h.Dc(a),h.mc().editCategory()})),h.Nc(20,"Update"),h.ac(),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(7),h.sc("ngModel",n.iosFontName),h.Jb(8),h.sc("ngModel",n.androidFontName)}}function sn(t,e){if(1&t){var a=h.cc();h.bc(0,"nb-card-body"),h.bc(1,"div",6),h.bc(2,"div",7),h.bc(3,"label",8),h.Nc(4,"Font File"),h.ac(),h.ac(),h.bc(5,"div",9),h.bc(6,"div",10),h.bc(7,"input",18),h.ic("change",(function(t){return h.Dc(a),h.mc().fileChange(t)})),h.ac(),h.Wb(8,"p",19),h.ac(),h.ac(),h.ac(),h.bc(9,"div",6),h.bc(10,"div",7),h.bc(11,"label",8),h.Nc(12,"Font Name"),h.ac(),h.ac(),h.bc(13,"div",9),h.bc(14,"div",10),h.bc(15,"input",20),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().fontDetails.font_name=t}))("keyup",(function(){return h.Dc(a),h.mc().checkValidation("addFontInput","","inputFontError","","","blank")}))("keyup.enter",(function(){h.Dc(a);var t=h.mc();return t.checkValidation("addFontInput","","inputFontError",t.errormsg.FONT_NAME_EMPTY,"","usual")})),h.ac(),h.Wb(16,"p",21),h.ac(),h.ac(),h.ac(),h.bc(17,"div",15),h.Wb(18,"p",22),h.bc(19,"button",17),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.addNewFont(t.fontDetails,"0")})),h.Nc(20,"Add"),h.ac(),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(15),h.sc("ngModel",n.fontDetails.font_name)}}var ln,dn,gn=((ln=function(){function t(e,a,n,i){l(this,t),this.validService=e,this.utils=a,this.dataService=n,this.dialogRef=i,this.errormsg=C.b,this.formData=new FormData,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.fontDetails={},this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.iosFontName=this.fontData.ios_font_name,this.androidFontName=this.fontData.android_font_name}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.fontDetails.font_file=t.target.result,document.getElementById("fontFileError").innerHTML="",document.getElementById("fontAddError").innerHTML=""},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.formData.delete("file"),this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("fontAddError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"fontedit",successArr:["editIosInput","editandroidInput"]}}),"blank"!=o&&(this.fontData?this.editCategory():this.addNewFont(this.fontDetails,"0"))}},{key:"editCategory",value:function(){var t=this;this.validService.checkAllValid([{id:"editIosInput",errorId:"inputIosError",type:"",blank_msg:C.b.FONT_NAME_EMPTY,type_msg:""},{id:"editandroidInput",errorId:"inputAndroidError",type:"",blank_msg:C.b.FONT_PATH_EMPTY,type_msg:""}])&&this.dataService.postData("editFont",{font_id:this.fontData.font_id,ios_font_name:this.iosFontName,android_font_name:this.androidFontName},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.utils.hideLoader(),t.dialogRef.close({res:"add"}),t.utils.showSuccess(e.message,4e3)):201==e.code?(document.getElementById("fontAddError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(document.getElementById("fontAddError").innerHTML=e.message,t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"checkfontfile",value:function(){return this.fontDetails.font_file?(document.getElementById("fontFileError").innerHTML="",!0):(document.getElementById("fontFileError").innerHTML=C.b.FONT_FILE_EMPTY,!1)}},{key:"addNewFont",value:function(t,e){var a=this,n=this.validService.checkAllValid([{id:"addFontInput",errorId:"inputFontError",type:"",blank_msg:C.b.FONT_NAME_EMPTY,type_msg:""}]),i=this.checkfontfile();n&&i&&(this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,catalog_id:this.catalogId,ios_font_name:this.fontDetails.font_name,android_font_name:t.android_font_name,is_replace:e})),this.dataService.postData("addFont",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("fontAddError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(document.getElementById("fontAddError").innerHTML=t.message,a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||ln)(h.Vb(y.a),h.Vb(b.a),h.Vb(_.a),h.Vb(d.H))},ln.\u0275cmp=h.Pb({type:ln,selectors:[["ngx-editfont"]],decls:7,vars:4,consts:[[1,"edit-font-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"row"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter font name","id","editIosInput","valid-status","true",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputIosError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["type","text","autofocus","false","nbInput","","placeholder","Enter font path","id","editandroidInput","valid-status","true",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputAndroidError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"form-group","text-center"],["id","fontAddError",2,"color","red","margin-bottom","2px"],["id","fontedit",1,"btn","bg-primary","text-light","w-50","mr-2",3,"click"],["type","file","id","fontFile",1,"form-control","height-45",2,"overflow","hidden",3,"change"],["id","fontFileError",2,"color","red","margin-bottom","3px","margin-top","4px","height","14px"],["type","text","nbInput","","placeholder","Enter font name","valid-status","false","id","addFontInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputFontError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["id","fontAddError",2,"color","red","margin-bottom","3px"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.Lc(2,on,2,0,"h5",2),h.Lc(3,rn,2,0,"h5",2),h.bc(4,"i",3),h.ic("click",(function(){return e.closedialog()})),h.ac(),h.ac(),h.Lc(5,cn,21,2,"nb-card-body",4),h.Lc(6,sn,21,1,"nb-card-body",4),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",e.fontData),h.Jb(1),h.sc("ngIf",!e.fontData),h.Jb(2),h.sc("ngIf",e.fontData),h.Jb(1),h.sc("ngIf",!e.fontData))},directives:[d.x,d.z,x.n,d.w,d.P,w.c,w.n,w.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}  .edit-font-card{width:520px}.height-45[_ngcontent-%COMP%]{height:45px!important}@media only screen and (max-width:600px){.edit-font-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}}"]}),ln),hn=["table"],un=((dn=function(){function t(e,a,n,i,o){l(this,t),this.dialog=e,this.route=a,this.actRoute=n,this.dataService=i,this.utils=o,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.totalRecords=24,this.fontIds=[],this.j=1,this.fontDetails={},this.input='<input type="checkbox"></input>',this.inputCheck='<input type="checkbox" checked></input>',this.formData=new FormData,this.settings={mode:"external",selectMode:"multi",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="fa fa-edit" title="Edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-trash-alt" title="Delete"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"text",width:"75px",editable:!1,filter:!1,hideHeader:!0,sort:!1},font_name:{title:"Font Name",type:"html",hideHeader:!0,filter:!1},ios_font_name:{title:"Font Name(ios)",type:"html",hideHeader:!0,filter:!1},android_font_name:{title:"Font Path(Android)",type:"html",hideHeader:!0,filter:!1},is_active:{title:"Status",type:"html",filter:!1,valuePrepareFunction:function(t){return 0==t?"In-Active":"Active"}}},actions:{add:!1,position:"right",delete:!0,edit:!0},pager:{display:!1,perPage:parseInt(this.selectedPageSize)},rowClassFunction:function(t){return"table-td-th"}},this.token=localStorage.getItem("at")}return s(t,[{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.settings.pager.perPage=parseInt(this.selectedPageSize),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!1)}},{key:"ngOnInit",value:function(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllFontsByCatalogId(this.catalogId)}},{key:"getRows",value:function(t){this.j=1}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.fontDetails.font_file=t.target.result,document.getElementById("fontError").innerHTML=""},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.formData.delete("file"),this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"selectFonts",value:function(t){var e=this;t.selected.length<this.totalRecords?this.table.isAllSelected=!1:t.selected.length==this.totalRecords&&(this.table.isAllSelected=!0),this.fontIds=[],t.selected.forEach((function(t){e.fontIds.push(t.font_id)}))}},{key:"moveToCorrupt",value:function(){var t=this;0==this.fontIds.length?this.utils.showError(C.b.SEL_FONT,4e3):this.utils.getConfirm().then((function(e){t.utils.showLoader(),t.dataService.postData("removeInvalidFont",{catalog_id:parseInt(t.catalogId),font_ids:t.fontIds.join(",")},{headers:{Authorization:"Bearer "+t.token}}).then((function(e){200==e.code?(t.table.isAllSelected=!1,t.utils.hideLoader(),t.getAllFontsByCatalogId(t.catalogId),t.utils.showSuccess(e.message,4e3)):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getAllFontsByCatalogId",value:function(t){var e=this;this.utils.showPageLoader(),this.dataService.postData("getAllFontsByCatalogIdForAdmin",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var a=1;t.data.result.forEach((function(t){t.id=a,a++})),e.totalRecords=t.data.total_count,e.FontData=t.data.result,e.dataSource=new I.a(e.FontData),e.dataSource.setPaging(e.dataSource.getPaging().page,parseInt(e.selectedPageSize),!1),e.utils.hidePageLoader()}else 201==t.code?(e.utils.showError(t.message,4e3),e.utils.hidePageLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hidePageLoader()):(e.utils.showError(t.message,4e3),e.utils.hidePageLoader())}),(function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"addFont",value:function(){this.open(!1,"")}},{key:"editFont",value:function(t){this.open(!1,t.data)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(gn,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{fontData:e,catalogId:this.catalogId}}).onClose.subscribe((function(t){"add"==t.res&&(a.j=1,a.getAllFontsByCatalogId(a.catalogId))}))}},{key:"deleteFont",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteFont",{font_id:t.data.font_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.j=1,e.utils.showSuccess(t.message,4e3),e.getAllFontsByCatalogId(e.catalogId)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"addNewFont",value:function(t,e){var a=this;if(!t.font_file)return document.getElementById("fontError").innerHTML=C.b.FONT_FILE_EMPTY,!1;this.utils.showLoader(),this.formData.append("request_data",JSON.stringify({category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,catalog_id:this.catalogId,ios_font_name:this.fontDetails.font_name,android_font_name:t.android_font_name,is_replace:e})),this.dataService.postData("addFont",this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),ya("#fontFile").val(""),a.fontDetails.font_name="",a.utils.showSuccess(t.message,4e3),a.getAllFontsByCatalogId(a.catalogId)):201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||dn)(h.Vb(d.I),h.Vb(p.c),h.Vb(p.a),h.Vb(_.a),h.Vb(b.a))},dn.\u0275cmp=h.Pb({type:dn,selectors:[["ngx-fontlist"]],viewQuery:function(t,e){var a;1&t&&h.Rc(hn,!0),2&t&&h.Ac(a=h.jc())&&(e.table=a.first)},decls:29,vars:8,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12"],[1,"breadcrumb","bg-none","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-20","fw-700","p-7"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","ml-2","mr-2","text-light",3,"click"],[1,"btn","bg-primary","text-light",3,"click"],[1,"row","mt-2"],[1,"table-card","table-card-font"],[1,"pt-0","pl-0","pr-0","pb-0"],[3,"settings","source","edit","delete","userRowSelect"],["table",""]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",0),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.ic("click",(function(){return e.gotoCategories()})),h.Nc(6,"Categories"),h.ac(),h.bc(7,"li",5),h.ic("click",(function(){return e.gotoSubCategories()})),h.Nc(8),h.ac(),h.bc(9,"li",5),h.ic("click",(function(){return e.gotoCatalog()})),h.Nc(10),h.ac(),h.bc(11,"li",6),h.Nc(12),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(13,"div",7),h.bc(14,"nb-card",8),h.bc(15,"nb-card-header",9),h.Nc(16),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(17,"div",0),h.bc(18,"div",10),h.bc(19,"button",11),h.ic("click",(function(){return e.addFont()})),h.Nc(20,"Add New Font"),h.ac(),h.bc(21,"button",12),h.ic("click",(function(){return e.moveToCorrupt()})),h.Nc(22,"Move to Corrupted"),h.ac(),h.ac(),h.ac(),h.bc(23,"div",13),h.bc(24,"div",2),h.bc(25,"nb-card",14),h.bc(26,"nb-card-body",15),h.bc(27,"ng2-smart-table",16,17),h.ic("edit",(function(t){return e.editFont(t)}))("delete",(function(t){return e.deleteFont(t)}))("userRowSelect",(function(t){return e.selectFonts(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(7),h.uc("nbTooltip","Go to ",e.broadHome,""),h.Jb(1),h.Oc(e.broadHome),h.Jb(1),h.uc("nbTooltip","Go to ",e.broadSubHome,""),h.Jb(1),h.Oc(e.broadSubHome),h.Jb(2),h.Oc(e.broadItem),h.Jb(4),h.Pc(" TOTAL FONTS : ",e.totalRecords," "),h.Jb(11),h.sc("settings",e.settings)("source",e.dataSource))},directives:[d.yb,d.x,d.z,d.w,I.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:60px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.catalog-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.catalog-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px}.ribbon-wrapper-yellow[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;right:-19px;z-index:1}.ribbon-yellow[_ngcontent-%COMP%]{font-size:11px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);position:relative;padding:3px 0;left:-14px;top:28px;width:120px;background-color:#fbc913;color:#000;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}.ribbon-wrapper-green[_ngcontent-%COMP%]{width:88px;height:88px;overflow:hidden;position:absolute;bottom:-19px;left:-19px;z-index:1}.ribbon-green[_ngcontent-%COMP%]{font-size:11px;font-weight:500;text-align:center;text-shadow:hsla(0,0%,100%,.5) 0 1px 0;transform:rotate(42deg);-webkit-transform:rotate(42deg);-moz-transform:rotate(42deg);-ms-transform:rotate(42deg);-o-transform:rotate(42deg);position:relative;padding:3px 0;left:-11px;top:40px;width:98px;background-color:#13fb1f;color:#000;box-shadow:15px 0 8px 0 rgba(0,0,0,.5)}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}@media only screen and (max-width:600px){.btn-add-cat[_ngcontent-%COMP%], .btn-refresh[_ngcontent-%COMP%]{margin-top:10px}}.code-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:10px 8px;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.virtual-scroll-cat[_ngcontent-%COMP%]{overflow-y:hidden!important}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.w-10[_ngcontent-%COMP%]{width:10%}.template-card-footer[_ngcontent-%COMP%]{background:#e1e8f3;padding:10px;position:relative}.overlay-action[_ngcontent-%COMP%]{position:absolute;background:#e1e8f3;height:100%;width:100%;display:none}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:17px;font-weight:700;cursor:pointer}.overlay-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}  virtual-scroller{max-height:calc(100vh - 228px)!important}  .scrollable-content{position:unset!important;display:flex;flex-wrap:wrap}  virtual-scroller{width:100vw}  virtual-scroller::-webkit-scrollbar{width:5px}  virtual-scroller::-webkit-scrollbar-track{background:#f1f1f1}  virtual-scroller::-webkit-scrollbar-thumb{background:#e4e9f2}@media only screen and (max-width:600px){.normal-img-btn[_ngcontent-%COMP%]{margin-top:5px;margin-right:9px}}  ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}.w-272[_ngcontent-%COMP%]{width:272px}.height-45[_ngcontent-%COMP%]{height:45px!important}.w-280[_ngcontent-%COMP%]{width:280px}.w-98[_ngcontent-%COMP%]{width:98px}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%}.bg-none[_ngcontent-%COMP%]{background:unset!important}.table-card-font[_ngcontent-%COMP%]{height:calc(100vh - 212px)}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-card-font[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .table-td-th td:first-child{width:75px!important}  .table-td-th td:nth-child(5){width:274px!important}  .table-card-font .ng2-smart-filters{display:none}[_nghost-%COMP%]     .ng2-smart-action-multiple-select>input, [_nghost-%COMP%]     .ng2-smart-titles th>input{width:25px;height:25px;display:unset}[_nghost-%COMP%]     .table-card-font .ng2-smart-titles th:first-child{text-align:center;width:75px!important}[_nghost-%COMP%]     .table-card-font .ng2-smart-titles th:nth-child(5){width:274px!important}  .table-card-font ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-card-font ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}"]}),dn);function pn(t,e){1&t&&(h.bc(0,"h5",29),h.Nc(1,"Upload Images"),h.ac())}function bn(t,e){1&t&&(h.bc(0,"h5",29),h.Nc(1,"Update Sub Category"),h.ac())}function mn(t,e){1&t&&h.Wb(0,"img",30)}function fn(t,e){if(1&t){var a=h.cc();h.bc(0,"img",31),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.sampleImage,h.Fc)}}function vn(t,e){1&t&&h.Wb(0,"img",30)}function _n(t,e){if(1&t){var a=h.cc();h.bc(0,"img",31),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.displayImage,h.Fc)}}function yn(t,e){if(1&t){var a=h.cc();h.bc(0,"button",32),h.ic("click",(function(){return h.Dc(a),h.mc().addsampleImage()})),h.Nc(1,"Add"),h.ac()}}function Cn(t,e){if(1&t){var a=h.cc();h.bc(0,"button",32),h.ic("click",(function(){return h.Dc(a),h.mc().addsampleImage()})),h.Nc(1,"Update"),h.ac()}}var xn,wn=((xn=function(){function t(e,a,n,i){l(this,t),this.validService=e,this.utils=a,this.dialogRef=n,this.dataService=i,this.selectedCategory=JSON.parse(localStorage.getItem("selected_category")),this.selectedCatalog=JSON.parse(localStorage.getItem("selected_catalog")),this.formData=new FormData,this.selectType="1",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.sampleData&&(this.sampleImage=this.sampleData.original_thumbnail_img,this.displayImage=this.sampleData.display_thumbnail_img,this.selectType=this.sampleData.image_type.toString())}},{key:"fileChange1",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.sampleImage=t.target.result},a.readAsDataURL(t.target.files[0])}if(this.fileList1=t.target.files,this.fileList1.length>0){this.file1=this.fileList1[0];var n=Math.round(this.file1.size/1024);document.getElementById("imageErrorSample").innerHTML=n>100?"Maximum 100Kb file allow to upload":"",this.formData.append("original_img",this.file1,this.file1.name)}}},{key:"fileChange2",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.displayImage=t.target.result},a.readAsDataURL(t.target.files[0])}if(this.fileList2=t.target.files,this.fileList2.length>0){this.file2=this.fileList2[0];var n=Math.round(this.file2.size/1024);document.getElementById("imageErrorDisplay").innerHTML=n>100?"Maximum 100Kb file allow to upload":"",this.formData.append("display_img",this.file2,this.file2.name)}}},{key:"checkValidation",value:function(t,e,a,n,i){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"sampleAdd",successArr:["sampleImage","displayImage"]}})}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkImageValidSample",value:function(){if(document.getElementById("sampleAddError").innerHTML="",null==this.sampleImage||"none"==this.sampleImage||""==this.sampleImage)document.getElementById("imageErrorSample").innerHTML=C.b.IMG_REQ;else{if(!this.file1)return document.getElementById("imageErrorSample").innerHTML="",!0;if(!(Math.round(this.file1.size/1024)>100))return document.getElementById("imageErrorSample").innerHTML="",!0;document.getElementById("imageErrorSample").innerHTML="Maximum 100Kb file allow to upload"}}},{key:"checkImageValidDisplay",value:function(){if(document.getElementById("sampleAddError").innerHTML="",null==this.displayImage||"none"==this.displayImage||""==this.displayImage)document.getElementById("imageErrorDisplay").innerHTML=C.b.IMG_REQ;else{if(!this.file2)return document.getElementById("imageErrorDisplay").innerHTML="",!0;if(!(Math.round(this.file2.size/1024)>100))return document.getElementById("imageErrorDisplay").innerHTML="",!0;document.getElementById("imageErrorDisplay").innerHTML="Maximum 100Kb file allow to upload"}}},{key:"addsampleImage",value:function(){var t,e,a=this,n=this.checkImageValidSample(),i=this.checkImageValidDisplay();n&&i&&(this.utils.showLoader(),this.sampleData?(t={category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,image_type:this.selectType,img_id:this.sampleData.img_id},e="updateFeaturedBackgroundCatalogImage"):(t={category_id:this.selectedCategory.category_id,is_featured:this.selectedCatalog.is_featured,image_type:this.selectType,catalog_id:this.catalogId},e="addFeaturedBackgroundCatalogImage"),this.formData.append("request_data",JSON.stringify(t)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("sampleAddError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||xn)(h.Vb(y.a),h.Vb(b.a),h.Vb(d.H),h.Vb(_.a))},xn.\u0275cmp=h.Pb({type:xn,selectors:[["ngx-popularsampleadd"]],decls:43,vars:12,consts:[[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-6","text-center"],[1,"form-label"],["id","sampleImage",1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput1"],["title","Click here to choose image",1,"fa","fa-camera"],["id","imageErrorSample",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","27px"],["type","file","id","fileInput1","autofocus","true","accept","image/*",2,"display","none",3,"change"],["id","displayImage",1,"img-preview"],["for","fileInput2"],["id","imageErrorDisplay",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center","height","27px"],["type","file","id","fileInput2","autofocus","true","accept","image/*",2,"display","none",3,"change"],[1,"row","mt-3"],[1,"col-md-4","pr-0"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],[1,"form-group"],["id","radiosampleInput",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["id","radiosampleError",2,"color","red","margin-bottom","0px","margin-top","4px"],[1,"form-group","text-center"],["id","sampleAddError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["class","btn btn-primary w-50 mr-2","id","sampleAdd",3,"click",4,"ngIf"],[1,"text-center"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],["id","sampleAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card"),h.bc(1,"nb-card-header",0),h.Lc(2,pn,2,0,"h5",1),h.Lc(3,bn,2,0,"h5",1),h.bc(4,"i",2),h.ic("click",(function(){return e.closedialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",3),h.bc(7,"div",4),h.bc(8,"label",5),h.Nc(9,"Background Image"),h.ac(),h.bc(10,"div",6),h.Lc(11,mn,1,0,"img",7),h.Lc(12,fn,1,1,"img",8),h.bc(13,"label",9),h.Wb(14,"i",10),h.ac(),h.ac(),h.Wb(15,"p",11),h.bc(16,"input",12),h.ic("change",(function(t){return e.fileChange1(t)})),h.ac(),h.ac(),h.bc(17,"div",4),h.bc(18,"label",5),h.Nc(19,"Display Image"),h.ac(),h.bc(20,"div",13),h.Lc(21,vn,1,0,"img",7),h.Lc(22,_n,1,1,"img",8),h.bc(23,"label",14),h.Wb(24,"i",10),h.ac(),h.ac(),h.Wb(25,"p",15),h.bc(26,"input",16),h.ic("change",(function(t){return e.fileChange2(t)})),h.ac(),h.ac(),h.ac(),h.bc(27,"div",17),h.bc(28,"div",18),h.bc(29,"label",19),h.Nc(30,"Image Type"),h.ac(),h.ac(),h.bc(31,"div",20),h.bc(32,"div",21),h.bc(33,"nb-radio-group",22),h.ic("ngModelChange",(function(t){return e.selectType=t})),h.bc(34,"nb-radio",23),h.Nc(35,"Background"),h.ac(),h.bc(36,"nb-radio",24),h.Nc(37,"Frame "),h.ac(),h.ac(),h.Wb(38,"p",25),h.ac(),h.ac(),h.ac(),h.bc(39,"div",26),h.Wb(40,"p",27),h.Lc(41,yn,2,0,"button",28),h.Lc(42,Cn,2,0,"button",28),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",!e.sampleData),h.Jb(1),h.sc("ngIf",e.sampleData),h.Jb(7),h.Kb("valid-status",!!e.sampleData),h.Jb(1),h.sc("ngIf",e.sampleImage),h.Jb(1),h.sc("ngIf",e.sampleImage),h.Jb(8),h.Kb("valid-status",!!e.sampleData),h.Jb(1),h.sc("ngIf",e.displayImage),h.Jb(1),h.sc("ngIf",e.displayImage),h.Jb(11),h.sc("ngModel",e.selectType),h.Kb("valid-status",!!e.sampleData),h.Jb(8),h.sc("ngIf",!e.sampleData),h.Jb(1),h.sc("ngIf",e.sampleData))},directives:[d.x,d.z,x.n,d.w,d.jb,w.n,w.q,d.ib],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}"]}),xn);function kn(t,e){if(1&t){var a=h.cc();h.bc(0,"div",15),h.bc(1,"button",16),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.templatesArr=[],t.multiselectFlag=!0})),h.Nc(2,"Select background"),h.ac(),h.bc(3,"button",17),h.ic("click",(function(){return h.Dc(a),h.mc().uploadImages("")})),h.Nc(4,"Upload Images"),h.ac(),h.ac()}}function Pn(t,e){if(1&t){var a=h.cc();h.bc(0,"div",18),h.bc(1,"button",19),h.ic("click",(function(){return h.Dc(a),h.mc().SelectAllTemplate()})),h.Nc(2,"Select All"),h.ac(),h.bc(3,"button",19),h.ic("click",(function(){return h.Dc(a),h.mc().templatesArr=[]})),h.Nc(4,"Remove All"),h.ac(),h.bc(5,"button",20),h.ic("click",(function(){return h.Dc(a),h.mc().moveMutipleTemplate()})),h.Nc(6,"Move Background"),h.ac(),h.bc(7,"button",21),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.templatesArr=[],t.multiselectFlag=!1})),h.Nc(8,"Cancel"),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(1),h.sc("disabled",0==n.sampleData.length),h.Jb(2),h.sc("disabled",0==n.templatesArr.length)}}function On(t,e){1&t&&(h.bc(0,"div",22),h.Wb(1,"img",23),h.bc(2,"h2"),h.Nc(3,"No data found"),h.ac(),h.ac())}function Mn(t,e){if(1&t&&(h.bc(0,"span",32),h.Nc(1),h.ac()),2&t){var a=h.mc().$implicit,n=h.mc();h.Jb(1),h.Oc(n.templatesArr.indexOf(a.img_id)+1)}}function En(t,e){if(1&t){var a=h.cc();h.bc(0,"nb-card-footer",33),h.bc(1,"a",34),h.ic("click",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().uploadImages(t)})),h.Wb(2,"nb-icon",35),h.ac(),h.bc(3,"a",36),h.ic("click",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().deleteSampleImage(t)})),h.Wb(4,"nb-icon",37),h.ac(),h.ac()}}function Sn(t,e){if(1&t){var a=h.cc();h.bc(0,"nb-card-footer",38),h.bc(1,"a",39),h.ic("click",(function(){h.Dc(a);var t=h.mc().$implicit;return h.mc().viewImage(t.display_compressed_img)})),h.Nc(2," View Image "),h.ac(),h.ac()}}function In(t,e){if(1&t){var a=h.cc();h.bc(0,"div",24),h.bc(1,"nb-card",25),h.bc(2,"div",26),h.ic("click",(function(t){h.Dc(a);var n=e.$implicit,i=h.mc();return i.multiselectFlag?i.addTemplateRank(t,n.img_id):i.viewImage(n.display_compressed_img)})),h.Wb(3,"img",27),h.bc(4,"img",28),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.Lc(5,Mn,2,1,"span",29),h.ac(),h.Lc(6,En,5,0,"nb-card-footer",30),h.Lc(7,Sn,3,0,"nb-card-footer",31),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=h.mc();h.Jb(4),h.sc("lazyLoad",n.display_thumbnail_img)("errorImage",i.utils.errorImg),h.Jb(1),h.sc("ngIf",-1!=i.templatesArr.indexOf(n.img_id)),h.Jb(1),h.sc("ngIf",!i.multiselectFlag),h.Jb(1),h.sc("ngIf",i.multiselectFlag)}}var Ln,Rn=((Ln=function(){function t(e,a,n,i,o){l(this,t),this.dialog=e,this.route=a,this.actRoute=n,this.dataService=i,this.utils=o,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.templatesArr=[],this.multiselectFlag=!1,this.token=localStorage.getItem("at")}return s(t,[{key:"ngOnInit",value:function(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllBackgroundCatogory(this.catalogId)}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"uploadImages",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(wn,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{sampleData:e,catalogId:this.catalogId}}).onClose.subscribe((function(t){"add"==t.res&&a.getAllBackgroundCatogory(a.catalogId)}))}},{key:"deleteSampleImage",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteCatalogImage",{img_id:t.img_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllBackgroundCatogory(e.catalogId)):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getAllBackgroundCatogory",value:function(t){var e=this;this.utils.showPageLoader(),this.dataService.postData("getSampleImagesForAdmin",{catalog_id:t},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(e.sampleData=t.data.image_list,e.totalRecords=e.sampleData.length,e.utils.hidePageLoader()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hidePageLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hidePageLoader()):(e.utils.showError(t.message,4e3),e.utils.hidePageLoader())}),(function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hidePageLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"viewImage",value:function(t){this.dialog.open(we.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}},{key:"moveMutipleTemplate",value:function(){0==this.templatesArr.length?this.utils.showError("Please select templates for move",6e3):this.openMove(!1,this.sampleData[0],this.templatesArr)}},{key:"openMove",value:function(t,e,a){var n=this;this.dialog.open(Ea,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:!1,context:{catalogData:e,imgIds:a,title:"Background"}}).onClose.subscribe((function(t){t&&"add"==t.res&&(n.multiselectFlag=!1,n.templatesArr=[],n.getAllBackgroundCatogory(n.catalogId))}))}},{key:"addTemplateRank",value:function(t,e){this.templatesArr.includes(e)?this.templatesArr.splice(this.templatesArr.indexOf(e),1):this.templatesArr.push(e)}},{key:"SelectAllTemplate",value:function(){this.templatesArr=[];for(var t=0;t<this.sampleData.length;t++)this.templatesArr.push(this.sampleData[t].img_id)}}]),t}()).\u0275fac=function(t){return new(t||Ln)(h.Vb(d.I),h.Vb(p.c),h.Vb(p.a),h.Vb(_.a),h.Vb(b.a))},Ln.\u0275cmp=h.Pb({type:Ln,selectors:[["ngx-popularsamples"]],decls:23,vars:10,consts:[[1,"row"],[1,"col-md-6","pl-0"],[1,"col-md-12"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","pr-0","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],["class","col-md-12 pr-0 text-right",4,"ngIf"],["class","col-md-12 text-right pr-0",4,"ngIf"],[1,"card-gallary-view","row","mt-2"],["class","col-md-12 text-center mt-3",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3  pr-0 pl-0",4,"ngFor","ngForOf"],[1,"col-md-12","pr-0","text-right"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"col-md-12","text-right","pr-0"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"btn","btn-success","mr-2",3,"click"],[1,"btn","btn-danger","mr-2","w-10",3,"click"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';","alt","Thumbnail image",3,"lazyLoad","errorImage","load"],["class","rank-icon",4,"ngIf"],["class","mt-3","style","background: #E1E8F3;",4,"ngIf"],["class","mt-3 ","style","background: #E1E8F3; font-size: 17px;",4,"ngIf"],[1,"rank-icon"],[1,"mt-3",2,"background","#E1E8F3"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],[1,"mt-3",2,"background","#E1E8F3","font-size","17px"],["nbTooltipPlacement","bottom","type","button","nbTooltipStatus","primary",1,"font-weight-bold",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",0),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.ic("click",(function(){return e.gotoCategories()})),h.Nc(6,"Categories"),h.ac(),h.bc(7,"li",5),h.ic("click",(function(){return e.gotoSubCategories()})),h.Nc(8),h.ac(),h.bc(9,"li",5),h.ic("click",(function(){return e.gotoCatalog()})),h.Nc(10),h.ac(),h.bc(11,"li",6),h.Nc(12),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(13,"div",7),h.bc(14,"nb-card",8),h.bc(15,"nb-card-header",9),h.Nc(16),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(17,"div",0),h.Lc(18,kn,5,0,"div",10),h.Lc(19,Pn,9,2,"div",11),h.ac(),h.bc(20,"div",12),h.Lc(21,On,4,0,"div",13),h.Lc(22,In,8,5,"div",14),h.ac()),2&t&&(h.Jb(7),h.uc("nbTooltip","Go to ",e.broadHome,""),h.Jb(1),h.Oc(e.broadHome),h.Jb(1),h.uc("nbTooltip","Go to ",e.broadSubHome,""),h.Jb(1),h.Oc(e.broadSubHome),h.Jb(2),h.Oc(e.broadItem),h.Jb(4),h.Pc(" TOTAL IMAGES : ",e.totalRecords," "),h.Jb(2),h.sc("ngIf",!e.multiselectFlag),h.Jb(1),h.sc("ngIf",e.multiselectFlag),h.Jb(2),h.sc("ngIf",0==e.totalRecords),h.Jb(1),h.sc("ngForOf",e.sampleData))},directives:[d.yb,d.x,d.z,x.n,x.m,Dt,d.y,d.L],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:60px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}.va-middle[_ngcontent-%COMP%]{vertical-align:middle}.card-gallary-view[_ngcontent-%COMP%]{padding:10px 5px;max-height:calc(100vh - 216px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-view[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .card-gallary-view nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary-view nb-card-footer{margin-top:0!important}.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px;padding-top:9px;color:#fff;background:#218838;font-weight:600;border-radius:50%;font-size:18px;position:absolute;top:10px;right:10px}"]}),Ln);function Tn(t,e){1&t&&(h.bc(0,"h5",46),h.Nc(1,"Add Blog Data"),h.ac())}function Dn(t,e){1&t&&(h.bc(0,"h5",46),h.Nc(1,"Update Blog Data"),h.ac())}function Nn(t,e){if(1&t){var a=h.cc();h.bc(0,"button",47),h.ic("click",(function(){return h.Dc(a),h.mc().uploadBlog()})),h.Nc(1,"Upload"),h.ac()}}function zn(t,e){if(1&t){var a=h.cc();h.bc(0,"button",47),h.ic("click",(function(){return h.Dc(a),h.mc().uploadBlog()})),h.Nc(1,"Update"),h.ac()}}function An(t,e){1&t&&h.Wb(0,"img",48)}function Vn(t,e){if(1&t){var a=h.cc();h.bc(0,"img",49),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac()}if(2&t){var n=h.mc();h.sc("src",n.blogImg,h.Fc)}}function Jn(t,e){if(1&t&&h.Wb(0,"img",50),2&t){var a=h.mc();h.sc("src",a.blogImg,h.Fc)}}var Fn,Bn=function(t,e){return{color:t,"font-size.px":e}},Wn=((Fn=function(){function t(e,a,n){l(this,t),this.dialogRef=e,this.utils=a,this.dataService=n,this.formData=new FormData,this.selectDevice="1",this.globalStyle='<style>body{padding: 5px; text-indent: 0px !important; font-size: 16px !important; font-family: "verdana";} img{vertical-align: middle;} span{text-indent: 0px !important} p{margin: 0 !important; text-indent: 0px !important;} table { border: none;margin: 0 !important;width: 100%;} .sttc-button {font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 1rem; font-weight: 500; border: none; border-radius: 4px; box-shadow: none; color: #ffffff; cursor: pointer; display: inline-block; margin: 0px; padding: 8px 18px; text-decoration: none; background-color: #ffcd00; overflow-wrap: break-word; user-select:none !important;}.sttc-button:hover, .sttc-button:focus{ background-color: #d9ae00;}</style>',this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){var t=this;if($(document).ready((function(){$("#summernote").summernote({placeholder:"Your HTML content here...",height:300,disableResizeEditor:!0,blockquoteBreakingLevel:2,disableDragAndDrop:!0,prettifyHtml:!0,codemirror:{theme:"monokai",htmlMode:!0,lineNumbers:!0,mode:"text/html"},fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana","Azo Sans"],fontSizes:["8","9","10","11","12","14","15","16","17","18","24","36","48","64","82","150","152","154","156","158","160","162","164","166","168","170","172","174","176","178","180","182","184","186","188","190","192","194","196","198","200"],fontNamesIgnoreCheck:["Azo Sans"],toolbar:[["fontsize",["fontsize"]],["color",["color"]],["font",["bold","italic","underline","clear","strikethrough","superscript","subscript"]],["fontname",["fontname"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]],["mybutton",["ClearFormat","refreshStyle"]]],popover:{image:[["image",["resizeFull","resize85","resize75","resize60","resizeHalf","resize40","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]]},buttons:{ClearFormat:function(t){return $.summernote.ui.button({contents:'<i class="fa fa-retweet"/>  Clear Formating',click:function(){$("#summernote").summernote("removeFormat")}}).render()},refreshStyle:function(e){return $.summernote.ui.button({contents:'<i class="fa fa-sync-alt"/>  Refresh Style',click:function(){t.updateStyle()}}).render()}}}),t.upBlogData?$("#summernote").summernote("code",JSON.parse(t.upBlogData.blog_json).blog_data):"1"==t.selectDevice?$("#summernote").summernote("code",t.globalStyle+"<script>function OpenTemplate(templateID) { if(templateID){ Android.moveToNextScreen(templateID); } } function searchTemplate(searchTag) { Android.goToSearchScreen(searchTag);} <\/script>"):"2"==t.selectDevice?$("#summernote").summernote("code",t.globalStyle+'<script> function OpenTemplate(templateID) { if(templateID){ window.location = "videoadking://?templateID="+ templateID } } function searchTemplate(searchTag) { window.location = "videoadking://?searchTag="+ searchTag} <\/script>'):$("#summernote").summernote("code",t.globalStyle+"<script> function OpenTemplate(templateID) { } function searchTemplate(searchTag) { } <\/script>")})),this.openTmpltBtn='<br><button class="sttc-button" onclick="OpenTemplate(10)">Open Template</button><br><br>',this.srcTmpltBtn='<br><button class="sttc-button" onclick="searchTemplate(\'illustration\')">Search Template</button><br><br>',this.upBlogData){var e=JSON.parse(this.upBlogData.title),a=JSON.parse(this.upBlogData.subtitle);this.blogImg=this.upBlogData.compressed_img,this.selectDevice=this.upBlogData.platform.toString(),this.blogTitle=e.text_value,this.titleCol=e.text_color,this.titleSize=e.text_size,this.blogSubTitle=a.text_value,this.subTitleCol=a.text_color,this.subTitleSize=a.text_size}else this.titleCol=this.subTitleCol="#000000",this.subTitleSize=36,this.titleSize=16}},{key:"updateStyle",value:function(){var t=$("#summernote").summernote("code").replace(/<style[^>]*>.*?<\/style>/gi,"");$("#summernote").summernote("code",t+this.globalStyle)}},{key:"fileChange",value:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.blogImg=t.target.result,document.getElementById("blogimagError").innerHTML=""},a.readAsDataURL(t.target.files[0])}this.fileList=t.target.files,this.fileList.length>0&&(this.file=this.fileList[0],this.formData.append("file",this.file,this.file.name))}},{key:"changePlatform",value:function(t){var e=$("#summernote").summernote("code").replace(/<script[^>]*>.*?<\/script>/gi,"");"1"==t?$("#summernote").summernote("code",e+"<script>function OpenTemplate(templateID) { if(templateID){ Android.moveToNextScreen(templateID); } } function searchTemplate(searchTag) { Android.goToSearchScreen(searchTag);} <\/script>"):"2"==t?$("#summernote").summernote("code",e+'<script> function OpenTemplate(templateID) { if(templateID) { window.location = "videoadking://?templateID="+ templateID } } function searchTemplate(searchTag) { window.location = "videoadking://?searchTag="+ searchTag} <\/script>'):$("#summernote").summernote("code",e+"<script> function OpenTemplate(templateID) { } function searchTemplate(searchTag) { } <\/script>")}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"getCode",value:function(t){return $(t).summernote("isEmpty")?"":$(t).summernote("code")}},{key:"blankTitle",value:function(){document.getElementById("blogTitleError").innerHTML=""}},{key:"trim",value:function(t){return t.replace(/^\s+|\s+$/g,"")}},{key:"removeTextMsg",value:function(t){document.getElementById(t).innerHTML=""}},{key:"blogImgValid",value:function(){if(null!=this.blogImg&&""!=this.blogImg&&null!=this.blogImg)return document.getElementById("blogimagError").innerHTML="",!0;document.getElementById("blogimagError").innerHTML=C.b.IMG_REQ}},{key:"blogTitleValid",value:function(){if(void 0!==this.blogTitle&&""!=this.blogTitle.trim()&&null!=this.blogTitle)return document.getElementById("blogTitleError").innerHTML="",!0;document.getElementById("blogTitleError").innerHTML=C.b.TITLE_EMPTY}},{key:"blogCodeValid",value:function(){if(void 0!==this.getCode("#summernote")&&""!=this.trim(this.getCode("#summernote"))&&null!=this.getCode("#summernote"))return document.getElementById("blogContentError").innerHTML="",!0;document.getElementById("blogContentError").innerHTML=C.b.CONTENT_EMPTY}},{key:"uploadBlog",value:function(){var t,e,a=this,n=this.blogImgValid(),i=this.blogTitleValid(),o=this.blogCodeValid();n&&i&&o&&(this.utils.showLoader(),this.upBlogData?(t={blog_id:this.upBlogData.blog_id,platform:this.selectDevice,catalog_id:this.catalogId,title:{text_value:this.blogTitle,text_color:this.titleCol,text_size:this.titleSize},subtitle:{text_value:this.blogSubTitle,text_color:this.subTitleCol,text_size:this.subTitleSize},blog_data:"<body><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1'/>"+this.getCode("#summernote")+"</body>",fg_image:this.blogImg},e="updateBlogContent"):(t={platform:this.selectDevice,catalog_id:this.catalogId,title:{text_value:this.blogTitle,text_color:this.titleCol,text_size:this.titleSize},subtitle:{text_value:this.blogSubTitle,text_color:this.subTitleCol,text_size:this.subTitleSize},blog_data:"<body><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1'/>"+this.getCode("#summernote")+"</body>"},e="addBlogContent"),this.formData.append("request_data",JSON.stringify(t)),this.dataService.postData(e,this.formData,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||Fn)(h.Vb(d.H),h.Vb(b.a),h.Vb(_.a))},Fn.\u0275cmp=h.Pb({type:Fn,selectors:[["ngx-addblogs"]],decls:80,vars:26,consts:[[1,"blog-form-card"],[2,"position","relative"],[1,"row"],[1,"col-md-7","col-6"],["class","header-text text-center",4,"ngIf"],[1,"col-md-5","col-6","text-right"],["class","btn btn-primary","id","subCatAdd",3,"click",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"col-md-2","col-12"],[1,"img-preview"],["class","placeholder-img",4,"ngIf"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load",4,"ngIf"],["for","fileInput"],["title","Click here to choose image",1,"fa","fa-camera"],["id","blogimagError",2,"color","red","margin-bottom","0px","margin-top","4px","text-align","center"],["type","file","id","fileInput","accept","image/*","autofocus","true",2,"display","none",3,"change"],[1,"col-md-6","col-12"],[1,"form-group"],[1,"col-md-4","pr-1"],[1,"d-block","form-label"],[1,"col-md-8","pl-0"],["id","radioInput",3,"ngModel","ngModelChange"],["value","1",3,"valueChange"],["value","2",3,"valueChange"],[1,"col-md-2","col-12","pr-1"],[1,"col-md-10","col-12"],[1,"col-md-7","col-12"],["nbInput","","placeholder","Enter Title",2,"height","40px",3,"ngModel","ngModelChange","keyup"],[1,"col-md-2","col-4"],["type","color",2,"height","40px",3,"ngModel","ngModelChange"],[1,"col-md-3","col-8"],["type","number","nbInput","","min","0","max","100",1,"w-100",3,"ngModel","ngModelChange","keyup"],["id","blogTitleError",2,"color","red","margin-bottom","0px","margin-top","4px","margin-left","16px","height","16px"],["nbInput","","placeholder","Enter Sub Title",2,"height","40px",3,"ngModel","ngModelChange"],["type","number","nbInput","","min","0","max","100",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-4"],["nbInput","",1,"w-100",2,"resize","none",3,"ngModel","ngModelChange"],[1,"col-md-8"],["id","blogContentError",2,"color","red","margin-bottom","10px","height","16px"],["id","summernote"],[1,"col-md-4","mt-3"],[1,"content-block-blog"],["style","max-width: 100%;",3,"src",4,"ngIf"],[1,"text-overlay"],[1,"m-0",2,"white-space","pre-line","line-height","1.1","word-break","break-word",3,"ngStyle"],[2,"white-space","pre-line","line-height","1.1","margin","0px","word-break","break-word",3,"ngStyle"],[1,"header-text","text-center"],["id","subCatAdd",1,"btn","btn-primary",3,"click"],[1,"placeholder-img"],["onerror","this.src='./assets/default-image-150x150.jpg';this.onerror='';",3,"src","load"],[2,"max-width","100%",3,"src"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.bc(2,"div",2),h.bc(3,"div",3),h.Lc(4,Tn,2,0,"h5",4),h.Lc(5,Dn,2,0,"h5",4),h.ac(),h.bc(6,"div",5),h.Lc(7,Nn,2,0,"button",6),h.Lc(8,zn,2,0,"button",6),h.ac(),h.ac(),h.bc(9,"i",7),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(10,"nb-card-body"),h.bc(11,"div",2),h.bc(12,"div",8),h.bc(13,"div",9),h.Lc(14,An,1,0,"img",10),h.Lc(15,Vn,1,1,"img",11),h.bc(16,"label",12),h.Wb(17,"i",13),h.ac(),h.ac(),h.Wb(18,"p",14),h.bc(19,"input",15),h.ic("change",(function(t){return e.fileChange(t)})),h.ac(),h.ac(),h.bc(20,"div",16),h.bc(21,"div",17),h.bc(22,"div",2),h.bc(23,"div",18),h.bc(24,"label",19),h.Nc(25,"Blog Appear In"),h.ac(),h.ac(),h.bc(26,"div",20),h.bc(27,"nb-radio-group",21),h.ic("ngModelChange",(function(t){return e.selectDevice=t})),h.bc(28,"nb-radio",22),h.ic("valueChange",(function(){return e.changePlatform("1")})),h.Nc(29,"Android"),h.ac(),h.bc(30,"nb-radio",23),h.ic("valueChange",(function(){return e.changePlatform("2")})),h.Nc(31,"IOS"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(32,"div",17),h.bc(33,"div",2),h.bc(34,"div",24),h.bc(35,"label",19),h.Nc(36,"Title"),h.ac(),h.ac(),h.bc(37,"div",25),h.bc(38,"div",2),h.bc(39,"div",26),h.bc(40,"textarea",27),h.ic("ngModelChange",(function(t){return e.blogTitle=t}))("keyup",(function(){return e.removeTextMsg("blogTitleError")})),h.ac(),h.ac(),h.bc(41,"div",28),h.bc(42,"input",29),h.ic("ngModelChange",(function(t){return e.titleCol=t})),h.ac(),h.ac(),h.bc(43,"div",30),h.bc(44,"input",31),h.ic("ngModelChange",(function(t){return e.titleSize=t}))("keyup",(function(){return e.blankTitle()})),h.ac(),h.ac(),h.ac(),h.Wb(45,"p",32),h.ac(),h.ac(),h.ac(),h.bc(46,"div",17),h.bc(47,"div",2),h.bc(48,"div",24),h.bc(49,"label",19),h.Nc(50,"Sub Title"),h.ac(),h.ac(),h.bc(51,"div",25),h.bc(52,"div",2),h.bc(53,"div",26),h.bc(54,"textarea",33),h.ic("ngModelChange",(function(t){return e.blogSubTitle=t})),h.ac(),h.ac(),h.bc(55,"div",28),h.bc(56,"input",29),h.ic("ngModelChange",(function(t){return e.subTitleCol=t})),h.ac(),h.ac(),h.bc(57,"div",30),h.bc(58,"input",34),h.ic("ngModelChange",(function(t){return e.subTitleSize=t})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(59,"div",35),h.bc(60,"div",17),h.bc(61,"label",19),h.Nc(62,"Open Template Button"),h.ac(),h.bc(63,"textarea",36),h.ic("ngModelChange",(function(t){return e.openTmpltBtn=t})),h.ac(),h.ac(),h.bc(64,"div",17),h.bc(65,"label",19),h.Nc(66,"Search Template Button"),h.ac(),h.bc(67,"textarea",36),h.ic("ngModelChange",(function(t){return e.srcTmpltBtn=t})),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(68,"div",2),h.bc(69,"div",37),h.Wb(70,"p",38),h.Wb(71,"div",39),h.ac(),h.bc(72,"div",40),h.bc(73,"div",41),h.Lc(74,Jn,1,1,"img",42),h.bc(75,"div",43),h.bc(76,"p",44),h.Nc(77),h.ac(),h.bc(78,"p",45),h.Nc(79),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(4),h.sc("ngIf",!e.upBlogData),h.Jb(1),h.sc("ngIf",e.upBlogData),h.Jb(2),h.sc("ngIf",!e.upBlogData),h.Jb(1),h.sc("ngIf",e.upBlogData),h.Jb(6),h.sc("ngIf",e.blogImg),h.Jb(1),h.sc("ngIf",e.blogImg),h.Jb(12),h.sc("ngModel",e.selectDevice),h.Jb(13),h.sc("ngModel",e.blogTitle),h.Jb(2),h.sc("ngModel",e.titleCol),h.Jb(2),h.sc("ngModel",e.titleSize),h.Jb(10),h.sc("ngModel",e.blogSubTitle),h.Jb(2),h.sc("ngModel",e.subTitleCol),h.Jb(2),h.sc("ngModel",e.subTitleSize),h.Jb(5),h.sc("ngModel",e.openTmpltBtn),h.Jb(4),h.sc("ngModel",e.srcTmpltBtn),h.Jb(7),h.sc("ngIf",e.blogImg),h.Jb(2),h.sc("ngStyle",h.yc(20,Bn,e.titleCol,e.titleSize)),h.Jb(1),h.Pc(" ",e.blogTitle,""),h.Jb(1),h.sc("ngStyle",h.yc(23,Bn,e.subTitleCol,e.subTitleSize)),h.Jb(1),h.Pc(" ",e.blogSubTitle,""))},directives:[d.x,d.z,x.n,d.w,d.jb,w.n,w.q,d.ib,d.P,w.c,w.s,x.o],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.blog-form-card[_ngcontent-%COMP%]{width:1107px;height:calc(100vh - 50px)}.blog-form-card[_ngcontent-%COMP%]   #subCatAdd[_ngcontent-%COMP%]{width:25%;margin-right:3rem}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.content-block-blog[_ngcontent-%COMP%]{position:relative}.content-block-blog[_ngcontent-%COMP%]   .text-overlay[_ngcontent-%COMP%]{position:absolute;top:0}  .note-modal-backdrop{display:none!important;background:rgba(0,0,0,.2)}  .note-editable{background:#fff!important}  .note-modal-footer{height:54px!important}  .note-editor .dropdown-toggle:after{display:none!important}  .note-dropdown-menu{min-width:234px!important}  .note-dropdown-menu .note-align{margin-right:4px!important}@media only screen and (max-width:600px){.blog-form-card[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.blog-form-card[_ngcontent-%COMP%]   #subCatAdd[_ngcontent-%COMP%]{width:75%}}"]}),Fn);function Hn(t,e){if(1&t&&(h.bc(0,"nb-option",22),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a),h.Jb(1),h.Oc(a)}}function jn(t,e){1&t&&(h.bc(0,"div",23),h.Wb(1,"img",24),h.bc(2,"h2"),h.Nc(3,"No data found"),h.ac(),h.ac())}function Un(t,e){if(1&t){var a=h.cc();h.bc(0,"div",25),h.bc(1,"nb-card",26),h.bc(2,"div",27),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().viewImage(t.compressed_img)})),h.Wb(3,"img",28),h.bc(4,"img",29),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.ac(),h.bc(5,"nb-card-footer",30),h.bc(6,"a",31),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().uploadBlogs(t)})),h.Wb(7,"nb-icon",32),h.ac(),h.bc(8,"a",33),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().deleteBlogContent(t)})),h.Wb(9,"nb-icon",34),h.ac(),h.bc(10,"a",35),h.ic("click",(function(){h.Dc(a);var t=e.$implicit,n=e.index;return h.mc().moveToFirst(t,n)})),h.Wb(11,"nb-icon",36),h.ac(),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=h.mc();h.Jb(4),h.sc("lazyLoad",n.webp_thumbnail_img?n.webp_thumbnail_img:n.thumbnail_img)("errorImage",i.utils.errorImg)}}var $n,Gn=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},Yn=(($n=function(){function t(e,a,n,i,o){l(this,t),this.dialog=e,this.route=a,this.actRoute=n,this.dataService=i,this.utils=o,this.previousLabel="<",this.nextLabel=">",this.currentPage=1,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.token=localStorage.getItem("at")}return s(t,[{key:"ngOnInit",value:function(){this.broadHome=JSON.parse(localStorage.getItem("selected_category")).name,this.broadSubHome=JSON.parse(localStorage.getItem("selected_sub_category")).name,this.broadItem=JSON.parse(localStorage.getItem("selected_catalog")).name,this.categoryId=this.actRoute.snapshot.params.categoryId,this.subCategoryId=this.actRoute.snapshot.params.subCategoryId,this.catalogId=this.actRoute.snapshot.params.catalogId,this.getAllBlogList()}},{key:"gotoCategories",value:function(){this.route.navigate(["/admin/categories"])}},{key:"gotoSubCategories",value:function(){this.route.navigate(["/admin/categories/",this.categoryId])}},{key:"gotoCatalog",value:function(){this.SubCategoryName=this.broadSubHome.replace(/ /g,""),this.route.navigate(["/admin/categories/",this.categoryId,this.SubCategoryName,this.subCategoryId])}},{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.selectedPageSize>this.totalRecords&&(this.currentPage=1),this.getAllBlogList()}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllBlogList()}},{key:"uploadBlogs",value:function(t){this.open(!1,t)}},{key:"open",value:function(t,e){var a=this;this.dialog.open(Wn,{closeOnBackdropClick:t,closeOnEsc:!1,context:{upBlogData:e,catalogId:this.catalogId}}).onClose.subscribe((function(t){t.res&&"add"==t.res&&a.getAllBlogList()}))}},{key:"moveToFirst",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData("setBlogRankOnTheTopByAdmin",{blog_id:t.blog_id},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){a.utils.hideLoader(),a.utils.showSuccess(t.message,4e3);var n=a.BlogData[e];a.BlogData.splice(e,1),a.BlogData.splice(0,0,n)}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"deleteBlogContent",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteBlogContent",{blog_id:t.blog_id,fg_image:t.fg_image},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getAllBlogList()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getAllBlogList",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getBlogContent",{catalog_id:this.catalogId,page:this.currentPage,item_count:this.selectedPageSize},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.BlogData=e.data.result,t.totalRecords=e.data.total_record,t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"viewImage",value:function(t){this.dialog.open(we.a,{context:{imgSrc:t,typeImg:"cat"}})}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.classList.remove("placeholder-img")}}]),t}()).\u0275fac=function(t){return new(t||$n)(h.Vb(d.I),h.Vb(p.c),h.Vb(p.a),h.Vb(_.a),h.Vb(b.a))},$n.\u0275cmp=h.Pb({type:$n,selectors:[["ngx-bloglist"]],decls:32,vars:19,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12","pl-0"],[1,"breadcrumb","mb-0"],["nbTooltip","Go to categories","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"click"],["nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"breadcrumb-item","main-home",3,"nbTooltip","click"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right","pr-0"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"col-md-12","text-right","pr-0"],[1,"va-middle","mr-2",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"card-gallary-content","row","mt-2"],[1,"col-md-12"],[1,"card-gallary","row"],["class","col-md-12 text-center mt-3",4,"ngIf"],["class","col-xl-2 col-md-3 col-sm-3  pr-0 pl-0",4,"ngFor","ngForOf"],[1,"row","pt-3"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],[1,"col-md-12","text-center","mt-3"],["src","./assets/data-not-found.png",2,"width","180px"],[1,"col-xl-2","col-md-3","col-sm-3","pr-0","pl-0"],[1,"card-content"],[1,"picture","text-center",2,"position","relative","overflow","hidden",3,"click"],[1,"placeholder-img"],["alt","{item.name}} image",3,"lazyLoad","errorImage","load"],[1,"mt-3"],["nbTooltip","Edit","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","edit-2","pack","eva"],["nbTooltip","Delete","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","trash-2","pack","eva"],["nbTooltip","Move to first","nbTooltipPlacement","bottom","nbTooltipStatus","primary",3,"click"],["icon","upload","pack","eva"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",0),h.bc(3,"div",2),h.bc(4,"ol",3),h.bc(5,"li",4),h.ic("click",(function(){return e.gotoCategories()})),h.Nc(6,"Categories"),h.ac(),h.bc(7,"li",5),h.ic("click",(function(){return e.gotoSubCategories()})),h.Nc(8),h.ac(),h.bc(9,"li",5),h.ic("click",(function(){return e.gotoCatalog()})),h.Nc(10),h.ac(),h.bc(11,"li",6),h.Nc(12),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(13,"div",7),h.bc(14,"nb-card",8),h.bc(15,"nb-card-header",9),h.Nc(16),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(17,"div",0),h.bc(18,"div",10),h.bc(19,"nb-select",11),h.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),h.Lc(20,Hn,2,2,"nb-option",12),h.ac(),h.bc(21,"button",13),h.ic("click",(function(){return e.uploadBlogs("")})),h.Nc(22,"Add Blog"),h.ac(),h.ac(),h.ac(),h.bc(23,"div",14),h.bc(24,"div",15),h.bc(25,"div",16),h.Lc(26,jn,4,0,"div",17),h.Lc(27,Un,12,2,"div",18),h.nc(28,"paginate"),h.ac(),h.bc(29,"div",19),h.bc(30,"div",20),h.bc(31,"pagination-controls",21),h.ic("pageChange",(function(t){return e.handlePageChange(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(7),h.uc("nbTooltip","Go to ",e.broadHome,""),h.Jb(1),h.Oc(e.broadHome),h.Jb(1),h.uc("nbTooltip","Go to ",e.broadSubHome,""),h.Jb(1),h.Oc(e.broadSubHome),h.Jb(2),h.Oc(e.broadItem),h.Jb(4),h.Pc(" TOTAL RECORDS : ",e.totalRecords," "),h.Jb(3),h.sc("selected",e.selectedPageSize),h.Jb(1),h.sc("ngForOf",e.pageSize),h.Jb(6),h.sc("ngIf",0==e.totalRecords),h.Jb(1),h.sc("ngForOf",h.pc(28,12,e.BlogData,h.zc(15,Gn,e.selectedPageSize,e.currentPage,e.totalRecords))),h.Jb(4),h.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[d.yb,d.x,d.z,d.mb,x.m,x.n,L.c,d.fb,Dt,d.y,d.L],pipes:[L.b],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.back-icon[_ngcontent-%COMP%]{font-size:17px;color:grey;cursor:pointer;vertical-align:initial}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}.breadcrumb[_ngcontent-%COMP%]{background-color:unset!important}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb[_ngcontent-%COMP%]   .main-home[_ngcontent-%COMP%]:hover{color:#36f}.w-355[_ngcontent-%COMP%]{width:355px!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.card-gallary-content[_ngcontent-%COMP%]{height:calc(100vh - 216px);background:#fff;overflow-y:hidden;overflow-x:hidden}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.card-gallary[_ngcontent-%COMP%]{padding:10px 5px;height:calc(100vh - 280px);background:#fff;overflow-y:scroll;overflow-x:hidden}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.card-gallary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.picture[_ngcontent-%COMP%]{height:118px;width:100%;cursor:pointer}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:130px}.details[_ngcontent-%COMP%]{margin-top:8px;padding:5px 10px;height:68px;text-align:center;font-weight:600;font-size:16px;overflow:hidden}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;height:100%;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{text-align:justify}nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-top:20px}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:rgba(18,71,193,.85)}nb-card-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#598bff}.link-icon[_ngcontent-%COMP%]{font-size:1.75rem}nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}.label-img[_ngcontent-%COMP%]{position:absolute;top:0;width:60px;left:5px}  .ngx-pagination a{text-decoration:none!important}.pegin[pagin-status=false][_ngcontent-%COMP%]{display:none}  .card-gallary nb-card{margin-right:5px!important;margin-left:5px!important}  .card-gallary nb-card-footer{margin-top:0!important}@media only screen and (max-width:600px){.btn-refresh[_ngcontent-%COMP%]{margin-top:3px}.w-355[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.catalog-data[_ngcontent-%COMP%]{height:calc(100vh - 216px);overflow-x:hidden;overflow-y:scroll}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.catalog-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .catalog-data nb-card-footer{margin-top:0!important}  .catalog-data nb-card{margin-right:5px!important;margin-left:5px!important}  nb-accordion nb-accordion-item-body .item-body{padding:10px 21px!important}.va-middle[_ngcontent-%COMP%]{vertical-align:middle}"]}),$n),Kn=o("wd/R"),qn=o("B01t");function Qn(t,e){1&t&&h.Wb(0,"span")}function Xn(t,e){if(1&t&&(h.bc(0,"nb-option",25),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a),h.Jb(1),h.Oc(a)}}function Zn(t,e){if(1&t&&h.Wb(0,"ng2-smart-table",26),2&t){var a=h.mc();h.sc("settings",a.settings)("source",a.dataSource)}}function ti(t,e){if(1&t&&(h.bc(0,"tr"),h.bc(1,"td"),h.Nc(2),h.ac(),h.bc(3,"td",31),h.Nc(4),h.ac(),h.bc(5,"td",31),h.Nc(6),h.ac(),h.ac()),2&t){var a=e.$implicit,n=e.index,i=h.mc(2);h.Jb(2),h.Oc(n+1+i.selectedPageSize*(i.currentPage-1)),h.Jb(2),h.Oc(a.uploaded_content_count),h.Jb(2),h.Oc(a.date)}}function ei(t,e){1&t&&(h.bc(0,"tr"),h.bc(1,"td",32),h.bc(2,"p",33),h.Nc(3,"No data found"),h.ac(),h.ac(),h.ac())}var ai=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}};function ni(t,e){if(1&t){var a=h.cc();h.bc(0,"div",27),h.bc(1,"table",28),h.bc(2,"thead"),h.bc(3,"tr"),h.bc(4,"th"),h.Nc(5,"#"),h.ac(),h.bc(6,"th",29),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.sortBy("uploaded_content_count",1==t.order_type?"ASC":"DESC")})),h.Nc(7,"Uploaded Content"),h.ac(),h.bc(8,"th",29),h.ic("click",(function(){h.Dc(a);var t=h.mc();return t.sortBy("date",1==t.order_type?"ASC":"DESC")})),h.Nc(9,"Last Uploaded on"),h.ac(),h.ac(),h.ac(),h.bc(10,"tbody"),h.Lc(11,ti,7,3,"tr",0),h.nc(12,"paginate"),h.Lc(13,ei,4,0,"tr",30),h.ac(),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(11),h.sc("ngForOf",h.pc(12,2,n.contentDetails,h.zc(5,ai,n.selectedPageSize,n.currentPage,n.totalRecords))),h.Jb(2),h.sc("ngIf",0==n.totalRecords)}}function ii(t,e){if(1&t){var a=h.cc();h.bc(0,"div",34),h.bc(1,"pagination-controls",35),h.ic("pageChange",(function(t){return h.Dc(a),h.mc().handlePageChange(t)}))("pageBoundsCorrection",(function(t){return h.Dc(a),h.mc().pageChanged(t)})),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(1),h.sc("previousLabel",n.previousLabel)("nextLabel",n.nextLabel)}}var oi,ri=((oi=function(){function t(e,a,n){l(this,t),this.dialogRef=e,this.dataService=a,this.utils=n,this.pickerOptions={startDate:Kn().subtract(6,"days"),endDate:Kn(),showDropdowns:!1,locale:{format:"YYYY-MM-DD"},opens:"left",minDate:"2015-01-01",ranges:{"This Week":[Kn().subtract(6,"days"),Kn()],"This Month":[Kn().startOf("month"),Kn().endOf("month")],"Last Month":[Kn().subtract(1,"month").startOf("month"),Kn().subtract(1,"month").endOf("month")],"This Year":[Kn().startOf("year"),Kn().endOf("year")],"Last Year":[Kn().subtract(1,"year").startOf("year"),Kn().subtract(1,"year").endOf("year")]}},this.contentDetails=[],this.totalRecords=0,this.pageSize=[25,50,75,100],this.selectedPageSize="50",this.currentPage=1,this.previousLabel="<",this.nextLabel=">",this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.settings={mode:"external",columns:{id:{title:"#",filter:!1,width:"75px",type:"text",sort:!1},catalog_name:{title:"Catalog Name",filter:!0},content_count:{title:"Uploaded Templates",filter:!0},last_uploaded_date:{title:"Last Uploaded on",filter:!0}},actions:{add:!1,edit:!1,delete:!1},pager:{display:!0,perPage:parseInt(this.selectedPageSize)},hideSubHeader:!0},this.startDate=Kn().subtract(6,"days").format("YYYY-MM-DD"),this.endDate=Kn().format("YYYY-MM-DD"),this.getDataByRange()}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getDataByRange()}},{key:"setPageSize",value:function(t){this.selectedPageSize=t,this.settings.pager.perPage=parseInt(this.selectedPageSize),this.dataSource.setPaging(this.dataSource.getPaging().page,parseInt(this.selectedPageSize),!0),"date"==this.selectType&&this.getDataByRange()}},{key:"pageChanged",value:function(t){this.currentPage=t,this.getDataByRange()}},{key:"refreshPage",value:function(){this.selectedPageSize="50",this.getDataByRange()}},{key:"updateRange",value:function(t){this.startDate=t.start.format("YYYY-MM-DD"),this.endDate=t.end.format("YYYY-MM-DD"),this.selectedRange=this.startDate+" to "+this.endDate}},{key:"sortBy",value:function(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.getDataByRange()}},{key:"getDataByRange",value:function(){"date"==this.selectType?(this.requestData={api_url:this.serverData.api_url,category_id:this.contentData.category_id,sub_category_id:this.contentData.sub_category_id,from_date:this.startDate,to_date:this.endDate,page:this.currentPage,item_count:this.selectedPageSize,order_by:this.sortByTagName,order_type:this.order_type_val},this.apiUrl="getSummaryDetailFromDiffServer"):(this.requestData={api_url:this.serverData.api_url,sub_category_id:this.contentData.sub_category_id,from_date:this.startDate,to_date:this.endDate},this.apiUrl="getSummaryOfCatalogsFromDiffServer"),this.getStatisticsData(this.requestData,this.apiUrl)}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"getStatisticsData",value:function(t,e){var a=this;this.utils.showLoader(),this.dataService.postData(e,t,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var e=1;t.data.data.result.forEach((function(t){t.id=e,e++})),a.contentDetails=t.data.data.result,a.totalRecords=t.data.data.total_record,a.dataSource=new I.a(a.contentDetails),a.utils.hideLoader()}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)}))}}]),t}()).\u0275fac=function(t){return new(t||oi)(h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},oi.\u0275cmp=h.Pb({type:oi,selectors:[["ngx-statistics-details"]],viewQuery:function(t,e){var a;1&t&&h.Rc(qn.b,!0),2&t&&h.Ac(a=h.jc())&&(e.picker=a.first)},decls:29,vars:18,consts:[[4,"ngFor","ngForOf"],[1,"static-detail-card"],[2,"position","relative"],[1,"text-center","static-card-header"],[1,"fa","fa-times","close-icon",3,"click"],[1,"pb-0"],[1,"row"],[1,"col-md-6","col-xs-12"],["nbTooltip","Refresh","nbTooltipPlacement","bottom","nbTooltipStatus","default","nbTooltipTrigger","hint",1,"btn","btn-refresh","mr-2",3,"click"],[1,"fas","fa-sync-alt"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-xs-12","text-right"],[1,"text-total"],[1,"row","mt-2",2,"position","relative"],[1,"col-md-8"],["type","text","autofocus","false","name","daterangeInput","daterangepicker","",1,"form-control",3,"options","selected"],[1,"col-md-4"],[1,"btn","btn-success","w-100",3,"click"],[1,"row","mt-2"],[1,"col-md-12"],[1,"table-data"],[3,"settings","source",4,"ngIf"],["class","table-body-state",4,"ngIf"],["class","pegination-area text-center pt-2 pb-2",4,"ngIf"],[3,"value"],[3,"settings","source"],[1,"table-body-state"],[1,"table","mb-0"],[1,"text-center",3,"click"],[4,"ngIf"],[1,"text-center"],["colspan","3"],[1,"mb-0"],[1,"pegination-area","text-center","pt-2","pb-2"],["previousLabel","Prev","nextLabel","Next","responsive","true","autoHide","true",3,"previousLabel","nextLabel","pageChange","pageBoundsCorrection"]],template:function(t,e){1&t&&(h.Lc(0,Qn,1,0,"span",0),h.nc(1,"paginate"),h.bc(2,"nb-card",1),h.bc(3,"nb-card-header",2),h.bc(4,"h5",3),h.Nc(5),h.ac(),h.bc(6,"i",4),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(7,"nb-card-body",5),h.bc(8,"div",6),h.bc(9,"div",7),h.bc(10,"button",8),h.ic("click",(function(){return e.refreshPage()})),h.Wb(11,"i",9),h.ac(),h.bc(12,"nb-select",10),h.ic("selectedChange",(function(t){return e.selectedPageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),h.Lc(13,Xn,2,2,"nb-option",11),h.ac(),h.ac(),h.bc(14,"div",12),h.bc(15,"p",13),h.Nc(16),h.ac(),h.ac(),h.ac(),h.bc(17,"div",14),h.bc(18,"div",15),h.bc(19,"input",16),h.ic("selected",(function(t){return e.updateRange(t)})),h.ac(),h.ac(),h.bc(20,"div",17),h.bc(21,"button",18),h.ic("click",(function(){return e.getDataByRange()})),h.Nc(22,"View Info"),h.ac(),h.ac(),h.ac(),h.bc(23,"div",19),h.bc(24,"div",20),h.bc(25,"div",21),h.Lc(26,Zn,1,2,"ng2-smart-table",22),h.Lc(27,ni,14,9,"div",23),h.Lc(28,ii,2,2,"div",24),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.sc("ngForOf",h.pc(1,11,e.contentDetails,h.zc(14,ai,e.selectedPageSize,e.currentPage,e.totalRecords))),h.Jb(2),h.Lb("date"==e.selectType?"w-626":"w-822"),h.Jb(3),h.Oc(e.contentData.name),h.Jb(7),h.sc("selected",e.selectedPageSize),h.Jb(1),h.sc("ngForOf",e.pageSize),h.Jb(3),h.Pc(" Total Records : ",e.totalRecords," "),h.Jb(3),h.sc("options",e.pickerOptions),h.Jb(7),h.sc("ngIf","date"!=e.selectType),h.Jb(1),h.sc("ngIf","date"==e.selectType),h.Jb(1),h.sc("ngIf","date"==e.selectType))},directives:[x.m,d.x,d.z,d.w,d.yb,d.mb,qn.b,x.n,d.fb,I.b,L.c],pipes:[L.b],styles:[".static-detail-card ng2-smart-table tbody tr.selected{background:#fff!important}  .static-detail-card ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .static-detail-card ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .static-detail-card ng2-smart-table-pager nav{padding-bottom:6px!important}  .static-detail-card ng2-smart-table-pager ul{margin-bottom:0!important}  .static-detail-card ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   .static-detail-card ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}  .static-detail-card ng2-smart-table table thead tr th ng2-smart-table-title a,   .static-detail-card ng2-smart-table table thead tr th ng2-smart-table-title span.ng2-smart-sort{font-weight:700!important}  .static-detail-card ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-17px!important;background:#fff;z-index:1;font-weight:700!important}.btn-default[_ngcontent-%COMP%]{background:rgba(0,0,0,.12);vertical-align:baseline}.w-626[_ngcontent-%COMP%]{width:626px}.w-822[_ngcontent-%COMP%]{width:822px}.static-detail-card[_ngcontent-%COMP%]{height:calc(100vh - 123px)}.text-total[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:18px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.btn-refresh[_ngcontent-%COMP%]{background:#dee3ea}@media only screen and (max-width:600px){.static-detail-card[_ngcontent-%COMP%]{width:calc(100vw - 29px)}.static-detail-card[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{margin-top:10px}.static-detail-card[_ngcontent-%COMP%]   .text-total[_ngcontent-%COMP%]{text-align:center}.static-detail-card[_ngcontent-%COMP%]   .static-card-header[_ngcontent-%COMP%]{width:93%}[_nghost-%COMP%]     .static-detail-card ng2-smart-table table thead tr:first-child th{top:-38px!important}[_nghost-%COMP%]     .static-detail-card ng2-smart-table table thead tr:last-child th{top:44px!important}}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important;-webkit-padding-start:0!important;padding-inline-start:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.table-body-state[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky!important;position:sticky!important;top:-17px!important;background:#fff;z-index:1;font-weight:700!important}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dee2e6}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{cursor:default!important}.table-body-state[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{cursor:pointer}.table-body-state[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.table-body-state[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#edf1f7}"]}),oi),ci=o("jhN1");function si(t,e){if(1&t&&(h.bc(0,"div",20),h.bc(1,"p",21),h.Nc(2),h.ac(),h.ac()),2&t){var a=h.mc().$implicit;h.Jb(2),h.Pc(" Total count: ",a.result.length," ")}}function li(t,e){if(1&t){var a=h.cc();h.bc(0,"nb-accordion-item",12),h.ic("collapsedChange",(function(t){h.Dc(a);var n=e.$implicit;return h.mc().viewServerDetails(t,n)})),h.bc(1,"nb-accordion-item-header"),h.bc(2,"div",13),h.bc(3,"div",14),h.bc(4,"p",15),h.Nc(5),h.ac(),h.ac(),h.Lc(6,si,3,1,"div",16),h.ac(),h.ac(),h.bc(7,"nb-accordion-item-body",17),h.bc(8,"div",18),h.bc(9,"ng2-smart-table",19),h.ic("edit",(function(t){h.Dc(a);var n=e.$implicit;return h.mc().openDateRangePicker(t,n,"date")}))("delete",(function(t){h.Dc(a);var n=e.$implicit;return h.mc().openDateRangePicker(t,n,"catalog")})),h.ac(),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=e.index,o=h.mc();h.Jb(5),h.Qc(" ",i+1,".",n.server_url," "),h.Jb(1),h.sc("ngIf",n.result),h.Jb(3),h.sc("settings",o.settings)("source",n.result)}}var di,gi,hi=((gi=function(){function t(e,a,n,i){var o=this;l(this,t),this.dialog=e,this._sanitizer=a,this.dataService=n,this.utils=i,this.settings={mode:"external",edit:{editButtonContent:'<i class="fa fa-calendar-alt" title="View By Date"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="fa fa-file-alt" title="View By Catalog"></i>',confirmDelete:!0},columns:{id:{title:"#",sort:"false",filter:!1,width:"75px",type:"text"},compressed_img:{title:"App Icon",filter:!1,sort:!1,type:"html",valuePrepareFunction:function(t){return o._sanitizer.bypassSecurityTrustHtml('<img src="'+t+'" style="height:50px;">')}},name:{title:"Name"},no_of_catalogs:{title:"Total Catalogs"},content_count:{title:"Total Templates"},free_content:{title:"Android Free Templates"},paid_content:{title:"Android Paid Templates"},ios_free_content:{title:"IOS Free Templates"},ios_paid_content:{title:"IOS Paid Templates"},last_uploaded_count:{title:"Last Uploaded Count"},last_uploaded_date:{title:"Last Uploaded On"}},actions:{add:!1,position:"right",delete:!0,edit:!0,pager:!0}},this.token=localStorage.getItem("at")}return s(t,[{key:"ngOnInit",value:function(){this.getStatisticsData()}},{key:"viewServerDetails",value:function(t,e){var a=this;t||(this.utils.showPageLoader(),this.dataService.postData("getSummaryOfIndividualServerByAdmin",{api_url:e.api_url},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var n=1;t.data.result.forEach((function(t){t.last_uploaded_date=a.dataService.formatDDMMMYYYYHHMMALOCAL(t.last_uploaded_date),t.id=n,n++})),e.result=t.data.result,a.serverDetails=t.data.result,a.utils.hidePageLoader()}else 201==t.code?(a.utils.showError(t.message,4e3),a.utils.hidePageLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hidePageLoader()):(a.utils.showError(t.message,4e3),a.utils.hidePageLoader())}),(function(t){console.log(t),a.utils.hidePageLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hidePageLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}},{key:"getStatisticsData",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getAllServerUrls",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.serverData=e.data.result,t.totalRecord=e.data.total_record,t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"openDateRangePicker",value:function(t,e,a){this.open(!1,!1,t.data,e,a)}},{key:"open",value:function(t,e,a,n,i){this.dialog.open(ri,{closeOnBackdropClick:t,closeOnEsc:!1,autoFocus:e,context:{contentData:a,serverData:n,selectType:i}})}}]),t}()).\u0275fac=function(t){return new(t||gi)(h.Vb(d.I),h.Vb(ci.b),h.Vb(_.a),h.Vb(b.a))},gi.\u0275cmp=h.Pb({type:gi,selectors:[["ngx-statistics"]],decls:16,vars:2,consts:[[1,"row","statistics-header","h-50"],[1,"col-md-6"],[1,"row"],[1,"col-md-12"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","text-right"],[1,"w-355","ml-auto"],[1,"text-center","fs-17","fw-700","p-7"],[1,"server-data"],["multi",""],[3,"collapsedChange",4,"ngFor","ngForOf"],[3,"collapsedChange"],[1,"row","w-100","accord-header"],[1,"col-md-9","col-xs-12"],[1,"mb-0"],["class","col-md-3 col-xs-12 text-right",4,"ngIf"],[1,"statistics-body"],[1,"table-statistics"],[3,"settings","source","edit","delete"],[1,"col-md-3","col-xs-12","text-right"],[1,"total-static-cnt"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"div",2),h.bc(3,"div",3),h.bc(4,"ol",4),h.bc(5,"li",5),h.Nc(6,"Statistics"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(7,"div",6),h.bc(8,"nb-card",7),h.bc(9,"nb-card-header",8),h.Nc(10),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(11,"div",9),h.bc(12,"div",2),h.bc(13,"div",3),h.bc(14,"nb-accordion",10),h.Lc(15,li,10,5,"nb-accordion-item",11),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(10),h.Pc(" NO. OF SERVERS : ",e.totalRecord," "),h.Jb(5),h.sc("ngForOf",e.serverData))},directives:[d.x,d.z,d.g,x.m,d.i,d.j,x.n,d.h,I.b],styles:["ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}"]}),gi),ui=((di=function(){function t(){l(this,t),this.units=["bytes","KB","MB","GB","TB","PB"]}return s(t,[{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(parseFloat(String(t)))||!isFinite(t))return"?";for(var a=0;t>=1024;)t/=1024,a++;return t.toFixed(+e)+" "+this.units[a]}}]),t}()).\u0275fac=function(t){return new(t||di)},di.\u0275pipe=h.Ub({name:"size",type:di,pure:!0}),di);function pi(t,e){if(1&t&&(h.bc(0,"nb-option",23),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a),h.Jb(1),h.Oc(a)}}function bi(t,e){if(1&t){var a=h.cc();h.bc(0,"tr"),h.bc(1,"td",16),h.Nc(2),h.ac(),h.bc(3,"td"),h.Wb(4,"img",24),h.bc(5,"img",25),h.ic("load",(function(t){return h.Dc(a),h.mc().imageLoad(t)})),h.ac(),h.ac(),h.bc(6,"td",26),h.Nc(7),h.ac(),h.bc(8,"td",26),h.Nc(9),h.ac(),h.bc(10,"td",26),h.Nc(11),h.nc(12,"size"),h.ac(),h.bc(13,"td",26),h.Nc(14),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=e.index,o=h.mc();h.Jb(2),h.Oc(i+1+o.selectedImageSize*(o.currentPage-1)),h.Jb(3),h.sc("lazyLoad",n.thumbnail_img)("errorImage",o.utils.errorImg),h.Jb(2),h.Oc(n.type),h.Jb(2),h.Qc("",n.width," * ",n.height,""),h.Jb(2),h.Oc(h.oc(12,8,n.size)),h.Jb(3),h.Oc(n.created_at)}}var mi,fi,vi=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},_i=((mi=function(){function t(e,a,n){l(this,t),this.dataService=e,this._sanitizer=a,this.utils=n,this.totalRecord=0,this.token=0,this.j=1,this.currentPage=1,this.pageSize=[25,50,75,100],this.selectedImageSize="50",this.previousLabel="<",this.nextLabel=">",this.units=["bytes","KB","MB","GB","TB","PB"],this.token=localStorage.getItem("at")}return s(t,[{key:"ngOnInit",value:function(){this.getAllImageDetails()}},{key:"setPageSize",value:function(t){this.selectedImageSize=t,this.getAllImageDetails()}},{key:"handlePageChange",value:function(t){this.currentPage=t,this.getAllImageDetails()}},{key:"sortBy",value:function(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.getAllImageDetails()}},{key:"getAllImageDetails",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getImageDetails",{item_count:this.selectedImageSize,page:this.currentPage,order_by:this.sortByTagName,order_type:this.order_type_val},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code){var a=1;e.data.image_details.forEach((function(t){t.resolution=t.width+" * "+t.height,t.id=a,a++})),t.imageDetails=e.data.image_details,t.totalRecord=e.data.total_record,t.dataSource=new I.a(t.imageDetails),t.utils.hidePageLoader()}else 201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"imageLoad",value:function(t){null!=t.target.previousElementSibling&&t.target.previousElementSibling.remove()}}]),t}()).\u0275fac=function(t){return new(t||mi)(h.Vb(_.a),h.Vb(ci.b),h.Vb(b.a))},mi.\u0275cmp=h.Pb({type:mi,selectors:[["ngx-imagedetails"]],decls:41,vars:13,consts:[[1,"row","img-det-card","h-53"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","transparent"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row"],[1,"col-md-12","mb-2","text-right"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-data"],[1,"imgae-details-card","table-body-new","mb-0"],[1,"table-body-new","p-0"],[1,"table"],[1,"text-center","width-90"],[1,"text-center",3,"click"],[4,"ngFor","ngForOf"],[1,"table-footer-new"],[1,"row",2,"background","#fff"],[1,"col-md-12","text-center","pegin"],["previousLabel","Prev","nextLabel","Next","responsive","true",3,"previousLabel","nextLabel","pageChange"],[3,"value"],[1,"placeholder-img",2,"left","unset","height","50px","width","50px"],[2,"height","50px","width","50px",3,"lazyLoad","errorImage","load"],[1,"text-center"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"ol",2),h.bc(3,"li",3),h.Nc(4,"Image Details"),h.ac(),h.ac(),h.ac(),h.bc(5,"div",4),h.bc(6,"nb-card"),h.bc(7,"nb-card-header",5),h.bc(8,"div",6),h.Nc(9),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(10,"div",7),h.bc(11,"div",8),h.bc(12,"nb-select",9),h.ic("selectedChange",(function(t){return e.selectedImageSize=t}))("selectedChange",(function(t){return e.setPageSize(t)})),h.Lc(13,pi,2,2,"nb-option",10),h.ac(),h.ac(),h.ac(),h.bc(14,"div",7),h.bc(15,"div",11),h.bc(16,"div",12),h.bc(17,"nb-card",13),h.bc(18,"nb-card-body",14),h.bc(19,"table",15),h.bc(20,"thead"),h.bc(21,"tr"),h.bc(22,"th",16),h.Nc(23,"#"),h.ac(),h.bc(24,"th"),h.Nc(25,"Image"),h.ac(),h.bc(26,"th",17),h.ic("click",(function(){return e.sortBy("type",1==e.order_type?"ASC":"DESC")})),h.Nc(27,"Type"),h.ac(),h.bc(28,"th",17),h.ic("click",(function(){return e.sortBy("width",1==e.order_type?"ASC":"DESC")})),h.Nc(29,"Resolution"),h.ac(),h.bc(30,"th",17),h.ic("click",(function(){return e.sortBy("size",1==e.order_type?"ASC":"DESC")})),h.Nc(31,"Size"),h.ac(),h.bc(32,"th",17),h.ic("click",(function(){return e.sortBy("created_at",1==e.order_type?"ASC":"DESC")})),h.Nc(33,"Created Time"),h.ac(),h.ac(),h.ac(),h.bc(34,"tbody"),h.Lc(35,bi,15,10,"tr",18),h.nc(36,"paginate"),h.ac(),h.ac(),h.ac(),h.bc(37,"nb-card-footer",19),h.bc(38,"div",20),h.bc(39,"div",21),h.bc(40,"pagination-controls",22),h.ic("pageChange",(function(t){return e.handlePageChange(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(9),h.Pc(" IMAGES: ",e.totalRecord," "),h.Jb(3),h.sc("selected",e.selectedImageSize),h.Jb(1),h.sc("ngForOf",e.pageSize),h.Jb(22),h.sc("ngForOf",h.pc(36,6,e.imageDetails,h.zc(9,vi,e.selectedImageSize,e.currentPage,e.totalRecord))),h.Jb(5),h.sc("previousLabel",e.previousLabel)("nextLabel",e.nextLabel))},directives:[d.x,d.z,d.mb,x.m,d.w,d.y,L.c,d.fb,Dt],pipes:[L.b,ui],styles:[".categories-card-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .categories-card-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-4px!important;background:#fff;z-index:1;font-weight:700!important}nb-card[_ngcontent-%COMP%]{margin-bottom:10px!important}.w-75[_ngcontent-%COMP%]{width:75px!important}.w-150[_ngcontent-%COMP%]{width:150px!important}nb-icon[_ngcontent-%COMP%]{font-size:22px!important;cursor:pointer}th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}.table-card[_ngcontent-%COMP%]{height:calc(100vh - 220px)}.p-0[_ngcontent-%COMP%]{padding:0!important}  .card-summary nb-card-header{font-size:17px;padding:11px 19px!important}  .card-summary h3{margin-bottom:0!important}  .card-summary input{max-width:100%!important;width:100%}  .card-summary .form-group{margin-bottom:0!important}[_nghost-%COMP%]     tr.ng2-smart-row{cursor:pointer!important}[_nghost-%COMP%]     .ng2-smart-actions{width:150px!important;text-align:center}  .header-height nb-card-header{height:92px!important}  .table-card nb-card-header{border-bottom:none!important}.mt-23[_ngcontent-%COMP%]{margin-top:23px}  ng2-smart-table tbody td:first-child{width:75px!important}  .table-card nb-card-body{padding-top:0!important}  .table-card nb-card-header{padding-bottom:0!important;padding-right:29px!important}  .table-card ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .table-card ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .table-card ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}nb-card-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 20px}nb-card-header[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#edf1f7}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}.nb-theme-corporate[_ngcontent-%COMP%]   ng2-smart-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover,   .nb-theme-corporate ng2-smart-table tbody tr.selected,   ng2-smart-table tbody tr.selected{background:#fff!important}[_nghost-%COMP%]     .ngx-pagination li a{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;margin-right:0!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination .pagination-next.disabled:after, [_nghost-%COMP%]     .ngx-pagination .pagination-next a:after, [_nghost-%COMP%]     .ngx-pagination .pagination-previous:before, [_nghost-%COMP%]     .ngx-pagination .pagination-previous a:before{content:unset!important}[_nghost-%COMP%]     .ngx-pagination li{margin-right:0!important}[_nghost-%COMP%]     .ngx-pagination li a{color:#36f;text-decoration:none!important}[_nghost-%COMP%]     .ngx-pagination li a:hover{background:#fff!important;color:#36f!important}[_nghost-%COMP%]     .ngx-pagination li a:focus{border:none!important;outline:none!important}[_nghost-%COMP%]     .ngx-pagination{margin-bottom:0!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important;background:#36f!important;color:#fff!important}[_nghost-%COMP%]     .ngx-pagination .disabled{color:#cacaca!important}.pegination-area[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background:#fff;bottom:0}[_nghost-%COMP%]     .ngx-pagination li.pagination-next, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous{padding:.75rem 1.25rem!important;border:1px solid #edf1f7!important}[_nghost-%COMP%]     .ngx-pagination li.pagination-next a, [_nghost-%COMP%]     .ngx-pagination li.pagination-previous a{padding:0!important}.imgae-details-card[_ngcontent-%COMP%]{height:calc(100vh - 210px)}.table-bordered[_ngcontent-%COMP%]{border:1px solid #edf1f7!important}  table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.h-53[_ngcontent-%COMP%]{height:49px}  .table-header-new{border:none!important;height:50px!important}  .table-header-new th{border-right:1px solid #dee2e6;border-left:1px solid #dee2e6}  .width-90{width:90px!important}  .table-body-new td,   .table-body-new th{border-right:1px solid #dee2e6;border-left:1px solid #dee2e6}  .table-body-new td:first-child,   .table-body-new th:first-child{border-left:none!important;cursor:default!important}  .table-body-new td:nth-child(2),   .table-body-new th:nth-child(2){cursor:default!important}  .table-body-new td:last-child,   .table-body-new th:last-child{border-right:none!important}  .table-body-new th{border-bottom:none!important;cursor:pointer}  .table-body-new td{vertical-align:middle!important}  .table-body-new tbody tr:hover{background:#edf1f7}@media only screen and (max-width:600px){.img-det-card[_ngcontent-%COMP%]{height:94px}[_nghost-%COMP%]     table thead tr:first-child th{top:-5px!important}}"]}),mi),yi=["table"],Ci=((fi=function(){function t(e,a,n){l(this,t),this.dataService=e,this.utils=a,this._sanitizer=n,this.totalRecord=0,this.keyDetails=[],this.keys_list=[],this.j=1,this.settings={selectMode:"multi",columns:{id:{title:"#",filter:!1,width:"75px",type:"text",sort:!1},key:{title:"Cache Key",type:"string"}},actions:{add:!1,position:"right",delete:!1,edit:!1},pager:{display:!1}},this.token=localStorage.getItem("at")}return s(t,[{key:"ngOnInit",value:function(){this.getAllKeys()}},{key:"getRows",value:function(t){this.j=1}},{key:"keyupEvent",value:function(t){this.j=1}},{key:"getAllKeys",value:function(){var t=this;this.keyDetails=[],this.j=1,this.utils.showPageLoader(),this.dataService.postData("getRedisKeys",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code){t.totalRecord=e.data.keys_list.length;for(var a=1,n=0;n<t.totalRecord;n++)t.keyDetails.push({key:e.data.keys_list[n],id:a}),a++;t.keyDetails=JSON.parse(JSON.stringify(t.keyDetails)),t.dataSource=new I.a(t.keyDetails),t.utils.hidePageLoader()}else 201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"selectKeys",value:function(t){var e=this,a=document.querySelectorAll("tbody .ng2-smart-row").length;t.selected.length<a?this.table.isAllSelected=!1:t.selected.length==a&&(this.table.isAllSelected=!0),this.keys_list=[],t.selected.forEach((function(t){e.keys_list.push(t)}))}},{key:"removeKeys",value:function(){var t=this;0==this.keys_list.length?this.utils.showError(C.b.SEL_CACHE_KEYS,4e3):this.utils.getConfirm().then((function(e){t.utils.showLoader(),t.dataService.postData("deleteRedisKeys",{keys_list:t.keys_list},{headers:{Authorization:"Bearer "+t.token}}).then((function(e){200==e.code?(t.table.isAllSelected=!1,t.utils.hideLoader(),t.getAllKeys(),t.utils.showSuccess(e.message,4e3)):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}))}}]),t}()).\u0275fac=function(t){return new(t||fi)(h.Vb(_.a),h.Vb(b.a),h.Vb(ci.b))},fi.\u0275cmp=h.Pb({type:fi,selectors:[["ngx-rediscache"]],viewQuery:function(t,e){var a;1&t&&h.Rc(yi,!0),2&t&&h.Ac(a=h.jc())&&(e.table=a.first)},decls:20,vars:3,consts:[[1,"row","h-53"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-3"],[1,"text-center","p-7"],[1,"total-cat"],[1,"row"],[1,"col-md-12"],[1,"table-redis-data"],[1,"mb-0"],[3,"settings","source","click","userRowSelect","keydown"],["table",""],[1,"row","mt-2"],[1,"col-md-12","text-right"],[1,"btn","btn-delete",3,"click"],["icon","trash-2-outline"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"ol",2),h.bc(3,"li",3),h.Nc(4,"Redis Cache"),h.ac(),h.ac(),h.ac(),h.bc(5,"div",4),h.bc(6,"nb-card"),h.bc(7,"nb-card-header",5),h.bc(8,"div",6),h.Nc(9),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(10,"div",7),h.bc(11,"div",8),h.bc(12,"div",9),h.bc(13,"nb-card",10),h.bc(14,"ng2-smart-table",11,12),h.ic("click",(function(t){return e.getRows(t)}))("userRowSelect",(function(t){return e.selectKeys(t)}))("keydown",(function(t){return e.keyupEvent(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(16,"div",13),h.bc(17,"div",14),h.bc(18,"button",15),h.ic("click",(function(){return e.removeKeys()})),h.Wb(19,"nb-icon",16),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(9),h.Pc(" KEYS: ",e.totalRecord," "),h.Jb(5),h.sc("settings",e.settings)("source",e.dataSource))},directives:[d.x,d.z,I.b,d.L],styles:["ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}  .table-statistics ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:first-child th{height:91px!important;position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-statistics ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:86px!important;background:#fff;z-index:1}  nb-accordion-item-body .item-body{padding:0!important}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.w-355[_ngcontent-%COMP%]{width:355px}.card-total-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700}[_ngcontent-%COMP%]:ng-deep   ng2-smart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:none!important}.table-statistics[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow-x:auto;overflow-y:scroll}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;width:2px}.table-statistics[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}.server-data[_ngcontent-%COMP%]{height:calc(100vh - 170px);overflow-x:hidden;overflow-y:scroll}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.server-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}  .statistics-body ng2-smart-table .ng2-smart-action:hover{color:unset!important}  .statistics-body ng2-smart-table .ng2-smart-action i{font-size:21px!important;font-weight:500!important;color:rgba(34,43,69,.7)!important}  .statistics-body ng2-smart-table .ng2-smart-action i:hover{color:#6291ff}.fs-17[_ngcontent-%COMP%]{font-size:17px}.fw-700[_ngcontent-%COMP%]{font-weight:700}.h-50[_ngcontent-%COMP%]{height:50px!important}@media only screen and (max-width:600px){.statistics-header[_ngcontent-%COMP%]{height:100px!important}.statistics-header[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]{width:100%}.accord-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-word}.total-static-cnt[_ngcontent-%COMP%]{text-align:center!important}}.table-redis-data[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-y:scroll}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.table-redis-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e4e9f2}[_nghost-%COMP%]     .ng2-smart-action-multiple-select>input, [_nghost-%COMP%]     .ng2-smart-titles th>input{width:25px;height:25px;display:unset}[_nghost-%COMP%]     .ng2-smart-titles th:first-child{text-align:center}.btn-delete[_ngcontent-%COMP%]{background:red;border-radius:50%;color:#fff;padding:10px 12px}.btn-delete[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:27px!important}  .table-redis-data ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .table-redis-data ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .table-redis-data ng2-smart-table table thead tr:first-child th:first-child{width:89px!important}  .table-redis-data ng2-smart-table table thead tr:last-child th{position:-webkit-sticky!important;position:sticky!important;top:55px!important;background:#fff;z-index:1}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-7[_ngcontent-%COMP%]{padding:7px 0!important}.total-cat[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.h-53[_ngcontent-%COMP%]{height:49px!important}@media only screen and (max-width:600px){.table-redis-data[_ngcontent-%COMP%]{margin-top:44px}}"]}),fi);function xi(t,e){1&t&&(h.bc(0,"h5",13),h.Nc(1,"Update Server URL"),h.ac())}function wi(t,e){1&t&&(h.bc(0,"h5",13),h.Nc(1,"Add New Server URL"),h.ac())}function ki(t,e){if(1&t){var a=h.cc();h.bc(0,"button",14),h.ic("click",(function(){return h.Dc(a),h.mc().addUrl()})),h.Nc(1,"Add"),h.ac()}}function Pi(t,e){if(1&t){var a=h.cc();h.bc(0,"button",14),h.ic("click",(function(){return h.Dc(a),h.mc().addUrl()})),h.Nc(1,"Update"),h.ac()}}var Oi,Mi=((Oi=function(){function t(e,a,n,i){l(this,t),this.validService=e,this.utils=a,this.dataService=n,this.dialogRef=i,this.errormsg=C.b,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.serverData&&(this.urlName=this.serverData.server_url)}},{key:"closedialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkValidation",value:function(t,e,a,n,i,o){this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"Catedit",successArr:["editUrlInput"]}}),"blank"!=o&&this.addUrl()}},{key:"addUrl",value:function(){var t,e,a=this;this.validService.checkAllValid([{id:"editUrlInput",errorId:"inputUrlError",type:"",blank_msg:C.b.SERVER_URL_EMPTY,type_msg:""}])&&(this.serverData?(e={server_url_id:this.serverData.server_url_id,server_url:this.urlName},t="updateServerUrl"):(e={server_url:this.urlName},t="addServerUrl"),this.dataService.postData(t,e,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("inputUrlError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||Oi)(h.Vb(y.a),h.Vb(b.a),h.Vb(_.a),h.Vb(d.H))},Oi.\u0275cmp=h.Pb({type:Oi,selectors:[["ngx-addserverurl"]],decls:17,vars:6,consts:[[1,"server-add-card"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["type","text","autofocus","false","nbInput","","placeholder","Enter new server URL here","id","editUrlInput",1,"w-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","inputUrlError",2,"color","red","margin-bottom","0px","margin-top","4px","height","30px"],[1,"form-group","text-center"],["class","btn btn-primary w-50 mr-2","id","Catedit",3,"click",4,"ngIf"],[1,"text-center"],["id","Catedit",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.Lc(2,xi,2,0,"h5",2),h.Lc(3,wi,2,0,"h5",2),h.bc(4,"i",3),h.ic("click",(function(){return e.closedialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body"),h.bc(6,"div",4),h.bc(7,"div",5),h.bc(8,"label",6),h.Nc(9,"Server Url"),h.ac(),h.ac(),h.bc(10,"div",7),h.bc(11,"div",8),h.bc(12,"input",9),h.ic("ngModelChange",(function(t){return e.urlName=t}))("keyup",(function(){return e.checkValidation("editUrlInput","alpha","inputUrlError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("editUrlInput","alpha","inputUrlError",e.errormsg.SERVER_URL_EMPTY,"","usual")})),h.ac(),h.Wb(13,"p",10),h.ac(),h.ac(),h.ac(),h.bc(14,"div",11),h.Lc(15,ki,2,0,"button",12),h.Lc(16,Pi,2,0,"button",12),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",e.serverData),h.Jb(1),h.sc("ngIf",!e.serverData),h.Jb(9),h.sc("ngModel",e.urlName),h.Kb("valid-status",!!e.serverData),h.Jb(3),h.sc("ngIf",!e.serverData),h.Jb(1),h.sc("ngIf",e.serverData))},directives:[d.x,d.z,x.n,d.w,d.P,w.c,w.n,w.q],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.server-add-card[_ngcontent-%COMP%]{width:413px!important}@media only screen and (max-width:600px){.server-add-card[_ngcontent-%COMP%]{width:100%!important}}"]}),Oi);function Ei(t,e){1&t&&(h.bc(0,"h5",26),h.Nc(1,"Add Validation"),h.ac())}function Si(t,e){1&t&&(h.bc(0,"h5",26),h.Nc(1,"Update Validation"),h.ac())}function Ii(t,e){if(1&t&&(h.bc(0,"nb-option",27),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a.category_id),h.Jb(1),h.Oc(a.name)}}function Li(t,e){if(1&t){var a=h.cc();h.bc(0,"button",28),h.ic("click",(function(){return h.Dc(a),h.mc().addValidation()})),h.Nc(1,"Add"),h.ac()}}function Ri(t,e){if(1&t){var a=h.cc();h.bc(0,"button",28),h.ic("click",(function(){return h.Dc(a),h.mc().addValidation()})),h.Nc(1,"Update"),h.ac()}}var Ti,Di=((Ti=function(){function t(e,a,n,i){l(this,t),this.dataService=e,this.utils=a,this.validService=n,this.dialogRef=i,this.selectedCategory="none",this.errormsg=C.b,this.validSelectCatalog=0,this.validSelectCover=0,this.token=localStorage.getItem("at"),this.utils.dialogref=this.dialogRef}return s(t,[{key:"ngOnInit",value:function(){this.validationsData&&(this.selectedCategory=this.validationsData.category_id.toString(),this.validName=this.validationsData.validation_name,this.validValue=this.validationsData.max_value_of_validation,this.validSelectCatalog=this.validationsData.is_featured,this.validSelectCover=this.validationsData.is_catalog,this.validDescrip=this.validationsData.description)}},{key:"closeDialog",value:function(){this.dialogRef.close({res:""})}},{key:"checkCategValid",value:function(){if(null!=this.selectedCategory&&"none"!=this.selectedCategory)return document.getElementById("selectCategoryError").innerHTML="",!0;document.getElementById("selectCategoryError").innerHTML=C.b.VALIDATION_SEL_CAT}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("valiaddError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"validAdd",successArr:["validNameInput","ValueInput","descripText"]}}),"blank"!=o&&this.addValidation()}},{key:"addValidation",value:function(){var t,e,a=this,n=this.validService.checkAllValid([{id:"validNameInput",errorId:"validInputError",type:"",blank_msg:C.b.VALIDATION_NAME_EMPTY,type_msg:""},{id:"ValueInput",errorId:"valueInputError",type:"",blank_msg:C.b.VALIDATION_VALUE_EMPTY,type_msg:""},{id:"descripText",errorId:"descipTextError",type:"",blank_msg:C.b.VALIDATION_DESCRIP_EMPTY,type_msg:""}]),i=this.checkCategValid();n&&i&&(this.utils.showLoader(),this.validationsData?(t={setting_id:this.validationsData.setting_id,category_id:this.selectedCategory,validation_name:this.validName,max_value_of_validation:this.validValue,is_featured:this.validSelectCatalog?1:0,is_catalog:this.validSelectCover?1:0,description:this.validDescrip},e="editValidation"):(t={category_id:this.selectedCategory,validation_name:this.validName,max_value_of_validation:this.validValue,is_featured:this.validSelectCatalog?1:0,is_catalog:this.validSelectCover?1:0,description:this.validDescrip},e="addValidation"),this.dataService.postData(e,t,{headers:{Authorization:"Bearer "+this.token}}).then((function(t){200==t.code?(a.utils.hideLoader(),a.dialogRef.close({res:"add"}),a.utils.showSuccess(t.message,4e3)):201==t.code?(document.getElementById("valiaddError").innerHTML=t.message,a.utils.hideLoader()):t.status||0==t.status?(a.utils.showError(C.b.SERVER_ERR,4e3),a.utils.hideLoader()):(a.utils.showError(t.message,4e3),a.utils.hideLoader())}),(function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.utils.hideLoader(),a.utils.showError(C.b.SERVER_ERR,4e3)})))}}]),t}()).\u0275fac=function(t){return new(t||Ti)(h.Vb(_.a),h.Vb(b.a),h.Vb(y.a),h.Vb(d.H))},Ti.\u0275cmp=h.Pb({type:Ti,selectors:[["ngx-addvalidations"]],decls:54,vars:14,consts:[[1,"validation-card","mb-0"],[1,"header-text",2,"position","relative"],["class","text-center",4,"ngIf"],["title","Close",1,"fa","fa-times","close-icon",3,"click"],[1,"pb-0"],[1,"row"],[1,"col-md-3","pr-0"],[1,"d-block","form-label"],[1,"col-md-9","pl-0"],[1,"form-group"],["id","selectCategory",1,"mw-100",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["id","selectCategoryError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["type","text","nbInput","","placeholder","Enter validation name","id","validNameInput",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","validInputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","32px"],["type","number","nbInput","","placeholder","E.g. 1024","id","ValueInput",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","valueInputError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],["nbInput","","placeholder","Enter description","id","descripText",1,"mw-100",3,"ngModel","ngModelChange","keyup","keyup.enter"],["id","descipTextError",2,"color","red","margin-bottom","0px","margin-top","4px","height","14px"],[1,"col-md-8","pr-0"],["type","checkbox","value","1",1,"option-input-valid",3,"ngModel","ngModelChange"],[1,"row","mb-2"],[1,"p-0"],[1,"form-group","text-center"],["id","valiaddError",2,"color","red","margin-bottom","2px","margin-top","4px","height","20px"],["class","btn btn-primary w-50 mr-2","id","validAdd",3,"click",4,"ngIf"],[1,"text-center"],[3,"value"],["id","validAdd",1,"btn","btn-primary","w-50","mr-2",3,"click"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.bc(1,"nb-card-header",1),h.Lc(2,Ei,2,0,"h5",2),h.Lc(3,Si,2,0,"h5",2),h.bc(4,"i",3),h.ic("click",(function(){return e.closeDialog()})),h.ac(),h.ac(),h.bc(5,"nb-card-body",4),h.bc(6,"div",5),h.bc(7,"div",6),h.bc(8,"label",7),h.Nc(9,"Category Id"),h.ac(),h.ac(),h.bc(10,"div",8),h.bc(11,"div",9),h.bc(12,"nb-select",10),h.ic("selectedChange",(function(t){return e.selectedCategory=t}))("selectedChange",(function(){return e.checkCategValid()})),h.Lc(13,Ii,2,2,"nb-option",11),h.ac(),h.Wb(14,"p",12),h.ac(),h.ac(),h.ac(),h.bc(15,"div",5),h.bc(16,"div",6),h.bc(17,"label",7),h.Nc(18,"Validation Name"),h.ac(),h.ac(),h.bc(19,"div",8),h.bc(20,"div",9),h.bc(21,"input",13),h.ic("ngModelChange",(function(t){return e.validName=t}))("keyup",(function(){return e.checkValidation("validNameInput","","validInputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("validNameInput","","validInputError",e.errormsg.VALIDATION_NAME_EMPTY,"","usual")})),h.ac(),h.Wb(22,"p",14),h.ac(),h.ac(),h.ac(),h.bc(23,"div",5),h.bc(24,"div",6),h.bc(25,"label",7),h.Nc(26,"Validation Value"),h.ac(),h.ac(),h.bc(27,"div",8),h.bc(28,"div",9),h.bc(29,"input",15),h.ic("ngModelChange",(function(t){return e.validValue=t}))("keyup",(function(){return e.checkValidation("ValueInput","","valueInputError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("ValueInput","","valueInputError",e.errormsg.VALIDATION_VALUE_EMPTY,"","usual")})),h.ac(),h.Wb(30,"p",16),h.ac(),h.ac(),h.ac(),h.bc(31,"div",5),h.bc(32,"div",6),h.bc(33,"label",7),h.Nc(34,"Description"),h.ac(),h.ac(),h.bc(35,"div",8),h.bc(36,"div",9),h.bc(37,"textarea",17),h.ic("ngModelChange",(function(t){return e.validDescrip=t}))("keyup",(function(){return e.checkValidation("descripText","","descipTextError","","","blank")}))("keyup.enter",(function(){return e.checkValidation("descripText","","descipTextError",e.errormsg.VALIDATION_DESCRIP_EMPTY,"","usual")})),h.ac(),h.Wb(38,"p",18),h.ac(),h.ac(),h.ac(),h.bc(39,"div",5),h.bc(40,"div",19),h.bc(41,"label",7),h.bc(42,"input",20),h.ic("ngModelChange",(function(t){return e.validSelectCatalog=t})),h.ac(),h.Nc(43,"For Featured Catalog?"),h.ac(),h.ac(),h.ac(),h.bc(44,"div",21),h.bc(45,"div",19),h.bc(46,"label",7),h.bc(47,"input",20),h.ic("ngModelChange",(function(t){return e.validSelectCover=t})),h.ac(),h.Nc(48,"For Catalog Cover Image?"),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(49,"nb-card-footer",22),h.bc(50,"div",23),h.Wb(51,"p",24),h.Lc(52,Li,2,0,"button",25),h.Lc(53,Ri,2,0,"button",25),h.ac(),h.ac(),h.ac()),2&t&&(h.Jb(2),h.sc("ngIf",!e.validationsData),h.Jb(1),h.sc("ngIf",e.validationsData),h.Jb(9),h.sc("selected",e.selectedCategory),h.Jb(1),h.sc("ngForOf",e.categoryData),h.Jb(8),h.sc("ngModel",e.validName),h.Kb("valid-status",!!e.validationsData),h.Jb(8),h.sc("ngModel",e.validValue),h.Kb("valid-status",!!e.validationsData),h.Jb(8),h.sc("ngModel",e.validDescrip),h.Kb("valid-status",!!e.validationsData),h.Jb(5),h.sc("ngModel",e.validSelectCatalog),h.Jb(5),h.sc("ngModel",e.validSelectCover),h.Jb(5),h.sc("ngIf",!e.validationsData),h.Jb(1),h.sc("ngIf",e.validationsData))},directives:[d.x,d.z,x.n,d.w,d.mb,x.m,d.P,w.c,w.n,w.q,w.s,w.a,d.y,d.fb],styles:["nb-card[_ngcontent-%COMP%]{width:455px}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.img-preview[_ngcontent-%COMP%]{background:#e4e1e1;height:130px;width:130px;margin-left:auto;margin-right:auto;position:relative}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#000;opacity:.1;cursor:pointer}.img-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:.6}.img-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;color:#fff;transform:translate(-50%,-50%);font-size:33px}.img-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:130px;width:130px}nb-radio-group[_ngcontent-%COMP%]{display:flex}.form-label[_ngcontent-%COMP%]{margin-top:9px;font-weight:600}@media only screen and (max-width:600px){nb-card[_ngcontent-%COMP%]{width:100%}}.validation-card[_ngcontent-%COMP%]{width:515px;height:calc(100vh - 159px)}.close-icon[_ngcontent-%COMP%]{position:absolute;right:19px;font-size:23px;top:21px;cursor:pointer}.mw-100[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.option-input-valid[_ngcontent-%COMP%]{margin-right:5px;zoom:1.7;vertical-align:middle}@media only screen and (max-width:600px){.validation-card[_ngcontent-%COMP%]{width:100%}}"]}),Ti),Ni=o("w9rV");function zi(t,e){if(1&t&&(h.bc(0,"nb-option",57),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.tc("value",a),h.Jb(1),h.Oc(a)}}function Ai(t,e){1&t&&(h.bc(0,"div",58),h.bc(1,"p",59),h.Nc(2," if "),h.bc(3,"span",60),h.Nc(4,'"For Featured Catalog = false" & "For Catalog Cover Image" = false'),h.ac(),h.ac(),h.bc(5,"p",61),h.Nc(6,"\xa0-"),h.bc(7,"span",60),h.Nc(8,'"For Featured Catalog" = false'),h.ac(),h.Nc(9,": Will be applied on the content of the normal catalog of this category"),h.ac(),h.bc(10,"p",62),h.Nc(11,"\xa0-"),h.bc(12,"span",60),h.Nc(13,'"For Catalog Cover Image" = false'),h.ac(),h.Nc(14,": Will not apply on the cover image of the catalog."),h.ac(),h.ac(),h.bc(15,"div",58),h.bc(16,"p",59),h.Nc(17," if "),h.bc(18,"span",60),h.Nc(19,'"For Featured Catalog = false" & "For Catalog Cover Image" = true'),h.ac(),h.ac(),h.bc(20,"p",61),h.Nc(21,"\xa0-"),h.bc(22,"span",60),h.Nc(23,'"For Featured Catalog" = false'),h.ac(),h.Nc(24,": Will be applied on the cover image of the normal catalog of this category"),h.ac(),h.bc(25,"p",61),h.Nc(26,"\xa0-"),h.bc(27,"span",60),h.Nc(28,'"For Catalog Cover Image" = true'),h.ac(),h.Nc(29,": Will be applied on the cover image of the catalog"),h.ac(),h.ac(),h.bc(30,"div",58),h.bc(31,"p",59),h.Nc(32," if "),h.bc(33,"span",60),h.Nc(34,'"For Featured Catalog" = true & "For Catalog Cover Image" = false'),h.ac(),h.ac(),h.bc(35,"p",61),h.Nc(36,"\xa0-"),h.bc(37,"span",60),h.Nc(38,'"For Featured Catalog" = true'),h.ac(),h.Nc(39,": Will be applied on the content of the featured catalog of this category"),h.ac(),h.bc(40,"p",61),h.Nc(41,"\xa0-"),h.bc(42,"span",60),h.Nc(43,'"For Catalog Cover Image" = false'),h.ac(),h.Nc(44,": Will not apply on the cover image of the catalog "),h.ac(),h.ac(),h.bc(45,"div",58),h.bc(46,"p",59),h.Nc(47," if "),h.bc(48,"span",60),h.Nc(49,'"For Featured Catalog = true" & "For Catalog Cover Image = true"'),h.ac(),h.ac(),h.bc(50,"p",61),h.Nc(51,"\xa0-"),h.bc(52,"span",60),h.Nc(53,'"For Featured Catalog" = true'),h.ac(),h.Nc(54,": Will be applied on the cover image of the featured catalog of this category"),h.ac(),h.bc(55,"p",61),h.Nc(56,"\xa0-"),h.bc(57,"span",60),h.Nc(58,'"For Catalog Cover Image" = true'),h.ac(),h.Nc(59,": Will be applied on the cover image of the catalog "),h.ac(),h.ac())}function Vi(t,e){if(1&t){var a=h.cc();h.bc(0,"tr",63),h.bc(1,"td"),h.Nc(2),h.ac(),h.bc(3,"td"),h.Nc(4),h.ac(),h.bc(5,"td"),h.Nc(6),h.ac(),h.bc(7,"td"),h.Nc(8),h.ac(),h.bc(9,"td",54),h.bc(10,"input",64),h.ic("ngModelChange",(function(t){return h.Dc(a),e.$implicit.is_featured=t})),h.ac(),h.ac(),h.bc(11,"td",54),h.bc(12,"input",64),h.ic("ngModelChange",(function(t){return h.Dc(a),e.$implicit.is_catalog=t})),h.ac(),h.ac(),h.bc(13,"td"),h.Nc(14),h.ac(),h.bc(15,"td",65),h.bc(16,"i",66),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc(2).editValidation(t)})),h.ac(),h.bc(17,"i",67),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc(2).deleteValidation(t)})),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=e.index;h.Jb(2),h.Oc(i+1),h.Jb(2),h.Oc(n.category_id),h.Jb(2),h.Oc(n.validation_name),h.Jb(2),h.Pc(" ",n.max_value_of_validation," KB "),h.Jb(2),h.sc("ngModel",n.is_featured),h.Jb(2),h.sc("ngModel",n.is_catalog),h.Jb(2),h.Pc("",n.description," ")}}function Ji(t,e){1&t&&(h.bc(0,"td",69),h.bc(1,"h6",70),h.Nc(2,"No data found"),h.ac(),h.ac())}function Fi(t,e){if(1&t&&(h.bc(0,"tr"),h.Lc(1,Ji,3,0,"td",68),h.ac()),2&t){var a=h.mc(2);h.Jb(1),h.sc("ngIf",0==a.validationsList.length)}}function Bi(t,e){if(1&t){var a=h.cc();h.bc(0,"div",5),h.bc(1,"nb-tabset"),h.bc(2,"nb-tab",6),h.bc(3,"div",7),h.bc(4,"div",8),h.bc(5,"nb-card"),h.bc(6,"nb-card-header",9),h.Nc(7,"Change Password"),h.ac(),h.bc(8,"nb-card-body"),h.bc(9,"div",10),h.bc(10,"nb-form-field",11),h.bc(11,"nb-icon",12),h.ic("click",(function(){return h.Dc(a),h.mc().passwordToggle(1)})),h.ac(),h.bc(12,"input",13),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().curPass=t}))("keyup",(function(){return h.Dc(a),h.mc().checkValidation("curInput","","curPassError","","","blank")}))("keyup.enter",(function(){h.Dc(a);var t=h.mc();return t.checkValidation("curInput","","curPassError",t.errormsg.CURR_PASSWORD,"","usual")})),h.ac(),h.ac(),h.Wb(13,"p",14),h.ac(),h.bc(14,"div",10),h.bc(15,"nb-form-field",11),h.bc(16,"nb-icon",12),h.ic("click",(function(){return h.Dc(a),h.mc().passwordToggle(2)})),h.ac(),h.bc(17,"input",15),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().newPass=t}))("keyup",(function(){return h.Dc(a),h.mc().checkValidation("newInput","password","newPassError","","","blank")}))("keyup.enter",(function(){h.Dc(a);var t=h.mc();return t.checkValidation("newInput","password","newPassError",t.errormsg.NEW_PASSWORD,t.errormsg.INVALIDCHANGE_PASS,"usual")})),h.ac(),h.ac(),h.Wb(18,"p",16),h.ac(),h.bc(19,"div",10),h.bc(20,"nb-form-field",11),h.bc(21,"nb-icon",12),h.ic("click",(function(){return h.Dc(a),h.mc().passwordToggle(3)})),h.ac(),h.bc(22,"input",17),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().cnewPass=t}))("keyup",(function(){return h.Dc(a),h.mc().checkValidation("cnewInput","password","cnewPassError","","","blank")}))("keyup.enter",(function(){h.Dc(a);var t=h.mc();return t.checkValidation("cnewInput","password","cnewPassError",t.errormsg.RE_PASSWORD,t.errormsg.INVALIDCHANGE_PASS,"usual")})),h.ac(),h.ac(),h.Wb(23,"p",18),h.ac(),h.bc(24,"div",19),h.Wb(25,"p",20),h.bc(26,"button",21),h.ic("click",(function(){return h.Dc(a),h.mc().changePassword()})),h.Nc(27,"Save"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(28,"nb-tab",22),h.bc(29,"div",7),h.bc(30,"div",8),h.bc(31,"nb-card"),h.bc(32,"nb-card-header",9),h.Nc(33,"2-Factor Authentication"),h.ac(),h.bc(34,"nb-card-body"),h.bc(35,"div",23),h.bc(36,"input",24),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().enableChecked=t}))("change",(function(){return h.Dc(a),h.mc().twoFaOPeration("yes")})),h.ac(),h.bc(37,"input",25),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().enableChecked=t}))("change",(function(){return h.Dc(a),h.mc().twoFaOPeration("no")})),h.ac(),h.bc(38,"div",26),h.bc(39,"label",27),h.Nc(40,"Enabled"),h.ac(),h.bc(41,"label",28),h.Nc(42,"Disabled"),h.ac(),h.Wb(43,"span"),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(44,"nb-tab",29),h.bc(45,"div",0),h.bc(46,"div",30),h.bc(47,"nb-select",31),h.ic("selectedChange",(function(t){return h.Dc(a),h.mc().serverSelectedPageSize=t}))("selectedChange",(function(t){return h.Dc(a),h.mc().setserverPageSize(t)})),h.Lc(48,zi,2,2,"nb-option",32),h.ac(),h.bc(49,"button",33),h.ic("click",(function(){return h.Dc(a),h.mc().addServerUrl()})),h.Nc(50,"Add New Server URL"),h.ac(),h.ac(),h.bc(51,"div",34),h.bc(52,"nb-card",35),h.bc(53,"nb-card-header",9),h.Nc(54," Statistics Server List "),h.ac(),h.bc(55,"nb-card-body",36),h.bc(56,"ng2-smart-table",37),h.ic("edit",(function(t){return h.Dc(a),h.mc().editServerUrl(t)}))("delete",(function(t){return h.Dc(a),h.mc().deleteServerURl(t)}))("rowSelect",(function(t){return h.Dc(a),h.mc().getserverRows(t)})),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(57,"nb-tab",38),h.bc(58,"div",39),h.bc(59,"div",40),h.bc(60,"button",41),h.ic("click",(function(){return h.Dc(a),h.mc().addValidations()})),h.Nc(61,"Add Validation"),h.ac(),h.ac(),h.ac(),h.bc(62,"nb-card",42),h.bc(63,"nb-card-body",43),h.bc(64,"div",44),h.bc(65,"table",45),h.bc(66,"thead"),h.bc(67,"tr",46),h.bc(68,"th"),h.Nc(69,"#"),h.ac(),h.bc(70,"th"),h.bc(71,"span",47),h.Nc(72,"Category ID"),h.ac(),h.ac(),h.bc(73,"th"),h.bc(74,"span",48),h.Nc(75,"Validation Name"),h.ac(),h.ac(),h.bc(76,"th"),h.bc(77,"span",49),h.Nc(78,"Value(KB)"),h.ac(),h.ac(),h.Lc(79,Ai,60,0,"ng-template",null,50,h.Mc),h.bc(81,"th",51),h.Nc(82,"For Featured Catalog?"),h.ac(),h.bc(83,"th",52),h.Nc(84,"For Catalog Cover Image?"),h.ac(),h.bc(85,"th",53),h.Nc(86,"Description"),h.ac(),h.bc(87,"th",54),h.Nc(88,"Action"),h.ac(),h.ac(),h.ac(),h.bc(89,"tbody"),h.Lc(90,Vi,18,7,"tr",55),h.Lc(91,Fi,2,1,"tr",56),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.ac()}if(2&t){var n=h.Bc(80),i=h.mc();h.Jb(11),h.sc("icon",i.curPassType?"eye-off-2-outline":"eye-outline"),h.Jb(1),h.sc("type",i.curPassType?"text":"password")("ngModel",i.curPass),h.Jb(4),h.sc("icon",i.newPassType?"eye-off-2-outline":"eye-outline"),h.Jb(1),h.sc("type",i.newPassType?"text":"password")("ngModel",i.newPass),h.Jb(4),h.sc("icon",i.cnewPassType?"eye-off-2-outline":"eye-outline"),h.Jb(1),h.sc("type",i.cnewPassType?"text":"password")("ngModel",i.cnewPass),h.Jb(14),h.sc("ngModel",i.enableChecked),h.Jb(1),h.sc("ngModel",i.enableChecked),h.Jb(10),h.sc("selected",i.serverSelectedPageSize),h.Jb(1),h.sc("ngForOf",i.serverPageSize),h.Jb(8),h.sc("settings",i.settings)("source",i.serverDataSource),h.Jb(25),h.sc("nbPopover",n),h.Jb(2),h.sc("nbPopover",n),h.Jb(7),h.sc("ngForOf",i.validationsList),h.Jb(1),h.sc("ngIf",i.validationsList)}}var Wi,Hi=((Wi=function(){function t(e,a,n,i,o,r){var c=this;l(this,t),this._sanitizer=e,this.dialog=a,this.validService=n,this.dataService=i,this.utils=o,this.route=r,this.j=1,this.cnt=1,this.errormsg=C.b,this.lgRep={},this.enableChecked="no",this.validPageSize=[25,50,75,100],this.serverPageSize=[25,50,75,100],this.validSelectedPageSize="50",this.serverSelectedPageSize="50",this.settings={mode:"external",edit:{editButtonContent:'<i class="nb-edit" title="Edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash" title="Delete"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number",width:"75px",editable:!1,filter:!1,hideHeader:!0,sort:!1,valuePrepareFunction:function(t){return c.j++}},server_url:{title:"Server URL",type:"html",filter:!1,hideHeader:!0},api_url:{title:"API URL",type:"html",filter:!1,hideHeader:!0,editable:!1}},actions:{add:!1,position:"right",delete:!0,edit:!0,pager:!0,filter:!1},pager:{perPage:parseInt(this.serverSelectedPageSize)},hideSubHeader:!0},this.token=localStorage.getItem("at")}return s(t,[{key:"setserverPageSize",value:function(t){this.j=1,this.serverSelectedPageSize=t,this.settings.pager.perPage=parseInt(this.serverSelectedPageSize),this.serverDataSource.setPaging(this.serverDataSource.getPaging().page,parseInt(this.serverSelectedPageSize),!0)}},{key:"getRows",value:function(t){this.cnt=1}},{key:"getserverRows",value:function(t){this.j=1}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){t.lgRep=JSON.parse(localStorage.getItem("admin_detail")),t.lgRep.google2fa_enable&&0!=t.lgRep.google2fa_enable&&0!=t.lgRep.google2fa_enable?(t.showTabs=!1,t.enableChecked="yes",t.openOTPDialog(t.lgRep,"change-pwd")):(t.showTabs=!0,t.getServerStatistics(),t.getValidationList())}))}},{key:"passwordToggle",value:function(t){1==t?this.curPassType=!this.curPassType:2==t?this.newPassType=!this.newPassType:this.cnewPassType=!this.cnewPassType}},{key:"twoFaOPeration",value:function(t){var e=this;"yes"==t?this.dataService.postData("enable2faByAdmin",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){if(e.utils.hideLoader(),t.data&&t.data.google2fa_url){e.lgRep.google2fa_enable=1,e.lgRep.google2fa_secret=t.data.google2fa_secret,e.lgRep.shouldNavigate=!0;var a={admin_detail:e.lgRep,occuredFrom:"enable2fa"};e.utils.enable2FaStatus="enable",e.utils.otpdata=a,e.utils.qrcodeUrl=t.data.google2fa_url,e.route.navigate(["/"]),localStorage.removeItem("at"),localStorage.removeItem("admin_detail"),e.utils.showSuccess(t.message,4e3)}}else 201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})):this.openOTPDialog(this.lgRep,"disable2fa")}},{key:"openOTPDialog",value:function(t,e){var a=this;t.shouldNavigate=!1,this.dialog.open(Ni.a,{closeOnBackdropClick:!1,closeOnEsc:!1,context:{adminData:{admin_detail:t,occuredFrom:e}}}).onClose.subscribe((function(t){"add"==t.res?(a.showTabs=!0,a.getServerStatistics(),a.getValidationList()):a.enableChecked="yes"}))}},{key:"checkValidation",value:function(t,e,a,n,i,o){document.getElementById("changePassError").innerHTML="",this.validService.checkValid({id:t,errorId:a,type:e,blank_msg:n,type_msg:i,button_check:{button_id:"btnChaPass",successArr:["curInput","newInput","cnewInput"]}}),"blank"!=o&&this.changePassword()}},{key:"changePassword",value:function(){var t=this;this.validService.checkAllValid([{id:"curInput",errorId:"curPassError",type:"",blank_msg:C.b.CURR_PASSWORD,type_msg:""},{id:"newInput",errorId:"newPassError",type:"password",blank_msg:C.b.NEW_PASSWORD,type_msg:C.b.INVALIDCHANGE_PASS},{id:"cnewInput",errorId:"cnewPassError",type:"",blank_msg:C.b.RE_PASSWORD,type_msg:""}])&&(this.newPass!=this.cnewPass?document.getElementById("changePassError").innerHTML=C.b.MISSMATCH_PASSWORD:(this.utils.showLoader(),this.dataService.postData("changePassword",{current_password:this.curPass,new_password:this.newPass},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(e.data&&e.data.token&&(t.token=e.data.token,localStorage.setItem("at",e.data.token)),t.curPass="",t.newPass="",t.cnewPass="",t.utils.hideLoader(),t.utils.showSuccess(e.message,4e3)):201==e.code?(document.getElementById("changePassError").innerHTML=e.message,t.utils.hideLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hideLoader()):(t.utils.showError(e.message,4e3),t.utils.hideLoader())}),(function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hideLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))))}},{key:"getServerStatistics",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getAllServerUrls",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.statisticsList=e.data.result,t.serverDataSource=new I.a(t.statisticsList),t.utils.hidePageLoader(),t.serverSelectedPageSize="50"):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"editServerUrl",value:function(t){this.openServer(!1,t.data)}},{key:"addServerUrl",value:function(){this.openServer(!1,"")}},{key:"openServer",value:function(t,e){var a=this;this.dialog.open(Mi,{closeOnBackdropClick:t,closeOnEsc:!1,context:{serverData:e}}).onClose.subscribe((function(t){"add"==t.res&&a.getServerStatistics()}))}},{key:"deleteServerURl",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteServerUrl",{server_url_id:t.data.server_url_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.j=1,e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getServerStatistics()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}},{key:"getValidationList",value:function(){var t=this;this.utils.showPageLoader(),this.dataService.postData("getAllValidationsForAdmin",{},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.validationsList=e.data.result,t.categoryList=e.data.category_list,t.categoryList.unshift({category_id:0,name:"Default"}),t.categoryList.unshift({category_id:"none",name:"Select Category"}),t.utils.hidePageLoader()):201==e.code?(t.utils.showError(e.message,4e3),t.utils.hidePageLoader()):e.status||0==e.status?(t.utils.showError(C.b.SERVER_ERR,4e3),t.utils.hidePageLoader()):(t.utils.showError(e.message,4e3),t.utils.hidePageLoader())}),(function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.utils.hidePageLoader(),t.utils.showError(C.b.SERVER_ERR,4e3)}))}},{key:"addValidations",value:function(){this.open(!1,"",this.categoryList)}},{key:"editValidation",value:function(t){this.open(!1,t,this.categoryList)}},{key:"open",value:function(t,e,a){var n=this;this.dialog.open(Di,{closeOnBackdropClick:t,closeOnEsc:!1,context:{validationsData:e,categoryData:a}}).onClose.subscribe((function(t){"add"==t.res&&(n.cnt=1,n.getValidationList())}))}},{key:"deleteValidation",value:function(t){var e=this;this.utils.getConfirm().then((function(a){e.utils.showLoader(),e.dataService.postData("deleteValidation",{setting_id:t.setting_id},{headers:{Authorization:"Bearer "+e.token}}).then((function(t){200==t.code?(e.cnt=1,e.utils.hideLoader(),e.utils.showSuccess(t.message,4e3),e.getValidationList()):201==t.code?(e.utils.showError(t.message,4e3),e.utils.hideLoader()):t.status||0==t.status?(e.utils.showError(C.b.SERVER_ERR,4e3),e.utils.hideLoader()):(e.utils.showError(t.message,4e3),e.utils.hideLoader())}),(function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),e.utils.hideLoader(),e.utils.showError(C.b.SERVER_ERR,4e3)}))}))}}]),t}()).\u0275fac=function(t){return new(t||Wi)(h.Vb(ci.b),h.Vb(d.I),h.Vb(y.a),h.Vb(_.a),h.Vb(b.a),h.Vb(p.c))},Wi.\u0275cmp=h.Pb({type:Wi,selectors:[["ngx-settings"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-md-9","text-right"],[1,"breadcrumb","mb-0",2,"background","#EDF1F7"],["aria-current","page",1,"breadcrumb-item","active"],["class","tab-settings",4,"ngIf"],[1,"tab-settings"],["tabTitle","Change Password",2,"height","calc(100vh - 209px)","overflow","hidden"],[1,"row","change-card",2,"height","100vh"],[1,"col-md-6","change-card-content"],[1,"header-text"],[1,"form-group"],[1,"mw-100"],["nbSuffix","","pack","eva",3,"icon","click"],["id","curInput","valid-status","false","placeholder","Enter current password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","curPassError",1,"text-danger","mt-1",2,"height","14px"],["id","newInput","valid-status","false","placeholder","Enter New password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","newPassError",1,"text-danger","mt-1",2,"height","14px"],["id","cnewInput","valid-status","false","placeholder","Re-enter your new password","nbInput","",1,"mw-100",3,"type","ngModel","ngModelChange","keyup","keyup.enter"],["id","cnewPassError",1,"text-danger","mt-1","mb-0",2,"height","14px"],[1,"form-group","mt-2"],["id","changePassError",1,"text-danger","mt-1","mb-1","text-center",2,"height","27px"],["id","btnChaPass",1,"btn","bg-primary","text-light","w-100",3,"click"],["tabTitle","2FA",2,"height","calc(100vh - 209px)","overflow","hidden"],[1,"toggle-radio"],["type","radio","name","rdo","id","yes","value","yes",3,"ngModel","ngModelChange","change"],["type","radio","name","rdo","id","no","value","no",3,"ngModel","ngModelChange","change"],[1,"switch"],["for","yes"],["for","no"],["tabTitle","Server List"],[1,"col-md-12","mb-2","text-right"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","bg-primary","ml-2","text-light",3,"click"],[1,"col-md-12"],[1,"server-card","mb-0"],[1,"server-table","p-0"],[3,"settings","source","edit","delete","rowSelect"],["tabTitle","Validation configs"],[1,"row","mb-2"],[1,"col-md-12","text-right"],[1,"btn","bg-primary","text-light","ml-3",3,"click"],[1,"validation-config-card","mb-0"],[1,"pt-0","pl-0","pr-0"],[1,"table-header"],[1,"table","mb-0"],[1,"table-inverse","table-body-td"],["nbTooltip","The category on which the validation should be applied.","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["nbTooltip","Name of the validation(only for admin's knowledge)","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["nbTooltip","Maximum value for validation in KB","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],["validationTooltip",""],["nbPopoverTrigger","hover","nbTooltipPlacement","bottom","nbTooltipStatus","primary",1,"text-center",3,"nbPopover"],["nbPopoverTrigger","hover","nbTooltipStatus","primary",1,"text-center",3,"nbPopover"],["nbTooltip","Description of validation(only for admin's knowledge)","nbTooltipPlacement","bottom","nbTooltipStatus","primary"],[1,"text-center"],["class","table-body-td",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"text-left",2,"background","#3366FF","padding","10px"],[1,"m-0",2,"border-bottom","1px solid #f7f7f7","color","#fff"],[2,"font-weight","500"],[1,"m-0",2,"color","#fff"],[1,"mb-1",2,"color","#fff"],[1,"table-body-td"],["type","checkbox","disabled","",2,"height","29px","width","66px",3,"ngModel","ngModelChange"],[1,"text-center","valid-action-icon","p-2"],["title","Edit",1,"nb-edit",3,"click"],["title","Delete",1,"nb-trash",3,"click"],["colspan","8",4,"ngIf"],["colspan","8"],[1,"m-0","font-weight-bold","text-center"]],template:function(t,e){1&t&&(h.bc(0,"div",0),h.bc(1,"div",1),h.bc(2,"ol",2),h.bc(3,"li",3),h.Nc(4,"Settings"),h.ac(),h.ac(),h.ac(),h.ac(),h.Lc(5,Bi,92,19,"div",4)),2&t&&(h.Jb(5),h.sc("ngIf",e.showTabs))},directives:[x.n,d.ub,d.tb,d.x,d.z,d.w,d.J,d.L,d.rb,d.P,w.c,w.n,w.q,w.u,d.mb,x.m,I.b,d.yb,d.gb,d.fb,w.a],styles:['ng2-smart-table-pager{position:-webkit-sticky!important;position:sticky!important;bottom:0!important;background:#fff!important;padding:1px!important}.server-card[_ngcontent-%COMP%], .validation-config-card[_ngcontent-%COMP%]{height:calc(100vh - 275px)}.mw-100[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important}  .change-card{position:relative;height:350px}  .change-card nb-icon{cursor:pointer;font-size:24px!important}.change-card-content[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-50%)}.toggle-radio[_ngcontent-%COMP%]{margin-top:84px}.switch[_ngcontent-%COMP%]{position:absolute;top:50%;left:40%;width:270px;height:50px;text-align:center;margin:-30px 0 0 -75px;background:#00bc9c;transition:all .2s ease;border-radius:25px}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;height:4px;top:50%;left:50%;margin:-2px 0 0 -4px;transform:rotate(-45deg)}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;background:#fff;display:block;transition:all .2s ease}.switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";width:4px;height:12px;margin-top:-8px}input[type=radio][_ngcontent-%COMP%]{display:none}.switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;color:rgba(0,0,0,.2);width:60px;line-height:50px;transition:all .2s ease}label[for=yes][_ngcontent-%COMP%]{left:20px;height:20px}label[for=no][_ngcontent-%COMP%], label[for=yes][_ngcontent-%COMP%]{position:absolute;font-size:19px;font-weight:700}label[for=no][_ngcontent-%COMP%]{right:39px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]{background:#eb4f37}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;margin-left:-8px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{background:#fff;height:20px;margin-top:-8px;margin-left:8px}#no[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   label[for=no][_ngcontent-%COMP%], #yes[_ngcontent-%COMP%]:checked ~ .switch[_ngcontent-%COMP%]   label[for=yes][_ngcontent-%COMP%]{color:#fff}.header-text[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;top:3.33333px;right:0;bottom:0;left:0;height:26px;width:26px;transition:all .15s ease-out 0s;background:#cbd1d8;border:1px solid grey;border-radius:4px;color:#fff;cursor:pointer;display:inline-block;margin-right:.5rem;outline:none;position:relative;z-index:10}.option-input[_ngcontent-%COMP%]:checked{background:red!important}  ng2-smart-table-pager .ng2-smart-pagination-nav ul li:first-child,   ng2-smart-table-pager .ng2-smart-pagination-nav ul li:last-child{display:none!important}  .server-table ng2-smart-table tbody tr.selected{background:#fff!important}  .server-table ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .validation-config-card ng2-smart-table tbody tr.selected{background:#fff!important}  .validation-config-card ng2-smart-table tbody tr.selected:hover{background:#edf1f7!important}  .server-table ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .server-table ng2-smart-table table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}  .validation-config-card ng2-smart-table table thead tr th ng2-smart-table-title a{font-weight:700!important}  .validation-config-card ng2-smart-table table thead tr:first-child th{height:109px}  .validation-config-card ng2-smart-table table thead tr:first-child th,   .validation-config-card table thead tr:first-child th{position:-webkit-sticky!important;position:sticky!important;top:-2px!important;background:#fff;z-index:1;font-weight:700!important}.valid-action-icon[_ngcontent-%COMP%]{height:100%;font-size:2rem}.valid-action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.valid-action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{margin-right:10px}.table-body-td[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{vertical-align:middle;padding:14px 20px;border-right:1px solid #edf1f7}  .table-body-td td:first-child,   .table-body-td th:first-child{width:65px}  .table-body-td td:nth-child(2),   .table-body-td td:nth-child(5),   .table-body-td th:nth-child(2),   .table-body-td th:nth-child(5){width:117px}  .table-body-td td:nth-child(3),   .table-body-td th:nth-child(3){width:280px}  .table-body-td td:nth-child(4),   .table-body-td th:nth-child(4){width:122px}  .table-body-td td:nth-child(6),   .table-body-td th:nth-child(6){width:107px}  .table-body-td td:nth-child(7),   .table-body-td th:nth-child(7){width:287px}  .table-body-td td:nth-child(8),   .table-body-td th:nth-child(8){width:105px}  .nb-theme-corporate nb-popover .arrow:after{border-bottom:.6875rem solid #36f!important}.width-75px[_ngcontent-%COMP%]{width:75px}@media only screen and (max-width:600px){nb-tab[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.switch[_ngcontent-%COMP%]{left:33%}[_nghost-%COMP%]     .table-body-td:first-child{width:65px}[_nghost-%COMP%]     .table-body-td:nth-child(2), [_nghost-%COMP%]     .table-body-td:nth-child(5){width:117px}[_nghost-%COMP%]     .table-body-td:nth-child(3){width:280px}[_nghost-%COMP%]     .table-body-td:nth-child(4){width:122px}[_nghost-%COMP%]     .table-body-td:nth-child(6){width:107px}[_nghost-%COMP%]     .table-body-td:nth-child(7){width:287px}[_nghost-%COMP%]     .table-body-td:nth-child(8){width:105px}}']}),Wi);function ji(t,e){1&t&&(h.bc(0,"p",27),h.Nc(1,"Enter Valid Tag"),h.ac())}function Ui(t,e){if(1&t){var a=h.cc();h.bc(0,"button",28),h.Nc(1),h.bc(2,"nb-icon",29),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().removeTags(t)})),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(1),h.Pc("",n," ")}}function $i(t,e){if(1&t&&(h.bc(0,"button",30),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.Jb(1),h.Oc(a)}}function Gi(t,e){if(1&t){var a=h.cc();h.bc(0,"div",31),h.bc(1,"div",32),h.Wb(2,"img",33),h.bc(3,"input",34),h.ic("change",(function(t){h.Dc(a);var n=e.$implicit;return h.mc().addImgId(n.json_id,t)})),h.ac(),h.ac(),h.ac()}if(2&t){var n=e.$implicit;h.Jb(2),h.tc("src",n.sample_image,h.Fc)}}function Yi(t,e){1&t&&(h.bc(0,"div",35),h.bc(1,"div",36),h.bc(2,"div",37),h.Wb(3,"div"),h.Wb(4,"div"),h.Wb(5,"div"),h.Wb(6,"div"),h.Wb(7,"div"),h.ac(),h.ac(),h.ac())}var Ki,qi=((Ki=function(){function e(t,a,n){l(this,e),this.dialogRef=t,this.api=a,this.util=n,this.tagList=[],this.inputVal="",this.dataFromPage=[],this.filterDataFromPage=[],this.imgData=[],this.listOfId=[],this.pagNum=1,this.token=localStorage.getItem("at"),this.hightlight=!1,this.showInputError=!1,this.pageLoader=!1}return s(e,[{key:"ngOnInit",value:function(){this.filterDataFromPage=t(new Set(this.dataFromPage))}},{key:"close",value:function(){this.checked=!0,this.dialogRef.close({data:this.checked})}},{key:"onsubmit",value:function(){if(this.validateString(this.inputVal)&&""!==this.inputVal.trim()){for(var t=this.inputVal.split(","),e=0;e<t.length;e++)this.tagList.push(t[e]);this.inputVal="",this.showInputError=!1}else this.showInputError=!0}},{key:"removeTags",value:function(t){var e=this.tagList.indexOf(t);this.tagList.splice(e,1)}},{key:"validateString",value:function(t){return/^[a-z0-9&,# ]+$/i.test(t)}},{key:"searchByTags",value:function(){this.pagNum=1,this.imgData=[],this.tagList.length>0?(this.util.showLoader(),this.searchByTag()):this.util.showError("Please enter tag name",2e3)}},{key:"searchByTag",value:function(){var t=this;1==this.pagNum&&(this.imgData=[]);var e={page:this.pagNum,item_count:18,sub_category_id:this.subCatId,search_category:this.tagList.join(",")};this.api.postData("searchCardsBySubCategoryIdForAdmin",e,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code||427==e.code){for(var a=0;a<e.data.result.length;a++)t.imgData.push(e.data.result[a]);t.searchByTagData=e.data,t.checked=!1,t.pageLoader=!1,t.util.hideLoader()}else 201==e.code?(t.util.hideLoader(),t.pageLoader=!1,t.util.showError(e.message,3e3)):(t.util.hideLoader(),t.pageLoader=!1,t.util.showError(C.b.SERVER_ERR,3e3))}),(function(e){console.log(e),t.util.hideLoader(),t.util.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.util.hideLoader(),t.util.showError(C.b.SERVER_ERR,3e3)}))}},{key:"addImgId",value:function(t,e){var a=this.listOfId.indexOf(t);-1==a?(this.listOfId.push(t),this.hightlight=!0):(this.listOfId.splice(a,1),this.hightlight=!1),e.target.parentElement.classList.toggle("bgAdd")}},{key:"updateTag",value:function(){var t=this;if(this.listOfId.length>0){var e={img_ids:this.listOfId.join(","),search_category:this.filterDataFromPage.join(","),sub_category_id:this.subCatId};this.util.showLoader(),this.api.postData("updateTemplateSearchingTagsByAdmin",e,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.dialogRef.close({data:t.checked}),t.util.hideLoader(),t.util.showSuccess(e.message,3e3)):201==e.code?(t.util.hideLoader(),t.util.showError(e.message,3e3)):(t.util.hideLoader(),t.util.showError(C.b.SERVER_ERR,3e3))})).catch((function(e){t.util.hideLoader(),console.log(e),t.util.showError(C.b.SERVER_ERR,3e3)}))}else this.util.showError("Please select templates",2e3)}},{key:"loadNext",value:function(){this.imgData.length>2&&1==this.searchByTagData.is_next_page&&(this.pagNum+=1,this.pageLoader=!0,this.searchByTag())}}]),e}()).\u0275fac=function(t){return new(t||Ki)(h.Vb(d.H),h.Vb(_.a),h.Vb(b.a))},Ki.\u0275cmp=h.Pb({type:Ki,selectors:[["ngx-update-tag-dialog"]],decls:31,vars:7,consts:[[1,"dialog","mb-0",3,"keyup.enter"],[1,"position-relative"],[1,"mb-4","pb-2","text-center"],["title","Close",1,"fa","fa-times","close-icon","position-absolute","close",3,"click"],[1,"row","mr-2"],[1,"col-6"],[1,"d-flex","align-items-center"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Enter Tag to Search Template",1,"searchInput",3,"ngModel","ngModelChange"],["nbButton","","size","small","shape","squer",1,"mx-2","border","searchButton",3,"click"],["icon","search"],[1,"mt-2"],[1,"height-30"],["class","text-danger font-12 mb-1",4,"ngIf"],["nbButton","","shape","round","outline","","class","mr-1 mt-1","size","tiny","status","info",4,"ngFor","ngForOf"],[1,"row","border","py-2"],[1,"col-12","text-center","border-bottom","mb-2","pb-1"],[1,"mb-0","my-1","tag"],[1,"col-12","height-30"],["nbButton","","shape","round","class","mx-1 my-1","size","tiny","status","info",4,"ngFor","ngForOf"],[1,"p-0"],[1,"container-fluid","px-0","px-sm-2"],["nbInfiniteList","",1,"container-fluid","mt-2","dataCenter","min-280","py-0","px-0","px-sm-2",3,"threshold","bottomThreshold"],[1,"row","border-0","px-1","px-sm-2"],["class","col-lg-2 col-md-3 col-sm-4 col-6 my-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"text-center"],["status","Default",1,"my-1","w-25","btn","btn-primary",3,"click"],["class","text-center position-relative",4,"ngIf"],[1,"text-danger","font-12","mb-1"],["nbButton","","shape","round","outline","","size","tiny","status","info",1,"mr-1","mt-1"],["icon","close","status","danger",3,"click"],["nbButton","","shape","round","size","tiny","status","info",1,"mx-1","my-1"],[1,"col-lg-2","col-md-3","col-sm-4","col-6","my-3","d-flex","justify-content-center"],[1,"d-flex","justify-content-center","align-items-center","border-box","position-relative"],["alt","img",1,"img_temp",3,"src"],["type","checkbox",1,"positio-absolute","check","pointer",3,"change"],[1,"text-center","position-relative"],[1,"loadingio-spinner-ellipsis-ztq6y3y446e"],[1,"ldio-ws8dh47c09"]],template:function(t,e){1&t&&(h.bc(0,"nb-card",0),h.ic("keyup.enter",(function(){return e.onsubmit()})),h.bc(1,"nb-card-header",1),h.bc(2,"h5",2),h.Nc(3,"Upadate Template's Tag"),h.ac(),h.bc(4,"i",3),h.ic("click",(function(){return e.close()})),h.ac(),h.bc(5,"div",4),h.bc(6,"div",5),h.bc(7,"div",6),h.bc(8,"input",7),h.ic("ngModelChange",(function(t){return e.inputVal=t})),h.ac(),h.bc(9,"button",8),h.ic("click",(function(){return e.searchByTags()})),h.Wb(10,"nb-icon",9),h.ac(),h.ac(),h.bc(11,"div",10),h.bc(12,"div",11),h.Lc(13,ji,2,0,"p",12),h.Lc(14,Ui,3,1,"button",13),h.ac(),h.ac(),h.ac(),h.bc(15,"div",5),h.bc(16,"div",14),h.bc(17,"div",15),h.bc(18,"span",16),h.Nc(19,"Selected Tags "),h.ac(),h.ac(),h.bc(20,"div",17),h.Lc(21,$i,2,1,"button",18),h.ac(),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(22,"nb-card-body",19),h.bc(23,"div",20),h.bc(24,"nb-list",21),h.ic("bottomThreshold",(function(){return e.loadNext()})),h.bc(25,"nb-list-item",22),h.Lc(26,Gi,4,1,"div",23),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(27,"nb-card-footer",24),h.bc(28,"button",25),h.ic("click",(function(){return e.updateTag()})),h.Nc(29,"SAVE"),h.ac(),h.Lc(30,Yi,8,0,"div",26),h.ac(),h.ac()),2&t&&(h.Jb(8),h.sc("ngModel",e.inputVal),h.Jb(5),h.sc("ngIf",e.showInputError),h.Jb(1),h.sc("ngForOf",e.tagList),h.Jb(7),h.sc("ngForOf",e.filterDataFromPage),h.Jb(3),h.sc("threshold",.5),h.Jb(2),h.sc("ngForOf",e.imgData),h.Jb(4),h.sc("ngIf",e.pageLoader))},directives:[d.x,d.z,d.P,w.c,w.n,w.q,d.u,d.L,x.n,x.m,d.w,d.Y,d.O,d.Z,d.y],styles:[".dialog[_ngcontent-%COMP%]{width:1000px;height:90vh;overflow-y:hidden scroll}nb-card-body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none!important}.searchInput[_ngcontent-%COMP%]{width:400px!important}.close[_ngcontent-%COMP%]{color:#000!important;opacity:1;right:20px;top:20px;position:absolute!important;outline:none;cursor:pointer}.check[_ngcontent-%COMP%]{position:absolute;height:25px;width:25px;right:-10px;top:-10px}.tag[_ngcontent-%COMP%]{font-size:15px;font-weight:600}nb-card-header[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.dataCenter[_ngcontent-%COMP%]{border:none;overflow-y:scroll;height:55vh}.dataCenter[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.save[_ngcontent-%COMP%]{display:table-cell;vertical-align:bottom}.height-30[_ngcontent-%COMP%]{height:60px;overflow:hidden;overflow-y:scroll}.height-30[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;background-color:#fff}.height-30[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:none}.height-30[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:grey;outline:1px solid #708090}.searchButton[_ngcontent-%COMP%]{padding:11px 10px!important}.img_temp[_ngcontent-%COMP%]{max-height:130px;max-width:100px}.border-box[_ngcontent-%COMP%]{height:180px;width:130px;border:2px dotted grey}.bgAdd[_ngcontent-%COMP%]{background-color:#d3d3d3}.font-12[_ngcontent-%COMP%]{font-size:12px}.pointer[_ngcontent-%COMP%]{cursor:pointer}@media (max-width:1024px){.searchInput[_ngcontent-%COMP%]{width:250px}.dialog[_ngcontent-%COMP%]{width:700px}.check[_ngcontent-%COMP%]{position:absolute;height:25px;width:25px;right:-10px;top:-10px}.loadingio-spinner-ellipsis-ztq6y3y446e[_ngcontent-%COMP%]{left:33.3%!important}}@media (max-width:768px){.dialog[_ngcontent-%COMP%]{width:80%;margin:0 auto}.searchInput[_ngcontent-%COMP%]{width:80%!important}.loadingio-spinner-ellipsis-ztq6y3y446e[_ngcontent-%COMP%]{left:28%!important}}.loadingio-spinner-ellipsis-ztq6y3y446e[_ngcontent-%COMP%]{position:absolute;bottom:-20px;left:40%;transform:scale(.3)}@-webkit-keyframes ldio-ws8dh47c09{0%{transform:translate(12px,80px) scale(0)}25%{transform:translate(12px,80px) scale(0)}50%{transform:translate(12px,80px) scale(1)}75%{transform:translate(80px,80px) scale(1)}to{transform:translate(148px,80px) scale(1)}}@keyframes ldio-ws8dh47c09{0%{transform:translate(12px,80px) scale(0)}25%{transform:translate(12px,80px) scale(0)}50%{transform:translate(12px,80px) scale(1)}75%{transform:translate(80px,80px) scale(1)}to{transform:translate(148px,80px) scale(1)}}@-webkit-keyframes ldio-ws8dh47c09-r{0%{transform:translate(148px,80px) scale(1)}to{transform:translate(148px,80px) scale(0)}}@keyframes ldio-ws8dh47c09-r{0%{transform:translate(148px,80px) scale(1)}to{transform:translate(148px,80px) scale(0)}}@-webkit-keyframes ldio-ws8dh47c09-c{0%{background:#007bff}25%{background:#007bff}50%{background:#007bff}75%{background:#007bff}to{background:#007bff}}@keyframes ldio-ws8dh47c09-c{0%{background:#007bff}25%{background:#007bff}50%{background:#007bff}75%{background:#007bff}to{background:#007bff}}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;border-radius:50%;transform:translate(80px,80px) scale(1);background:#007bff;-webkit-animation:ldio-ws8dh47c09 2.43902439s cubic-bezier(0,.5,.5,1) infinite;animation:ldio-ws8dh47c09 2.43902439s cubic-bezier(0,.5,.5,1) infinite}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{background:#007bff;transform:translate(148px,80px) scale(1);-webkit-animation:ldio-ws8dh47c09-r .6097561s cubic-bezier(0,.5,.5,1) infinite,ldio-ws8dh47c09-c 2.43902439s step-start infinite;animation:ldio-ws8dh47c09-r .6097561s cubic-bezier(0,.5,.5,1) infinite,ldio-ws8dh47c09-c 2.43902439s step-start infinite}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.6097560975609756s;animation-delay:-.6097560975609756s;background:#007bff}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.2195121951219512s;animation-delay:-1.2195121951219512s;background:#007bff}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.8292682926829267s;animation-delay:-1.8292682926829267s;background:#007bff}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.4390243902439024s;animation-delay:-2.4390243902439024s;background:#007bff}.loadingio-spinner-ellipsis-ztq6y3y446e[_ngcontent-%COMP%]{width:200px;height:200px;display:inline-block;overflow:hidden;background:transparent}.ldio-ws8dh47c09[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform:translateZ(0) scale(1);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:0 0}.ldio-ws8dh47c09[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:content-box}"]}),Ki),Qi=["CatInput"],Xi=["master"],Zi=["checBoxes"];function to(t,e){if(1&t){var a=h.cc();h.bc(0,"div",46),h.bc(1,"nb-radio-group",47),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().selectedStauts=t})),h.bc(2,"nb-radio",12),h.Nc(3,"Success"),h.ac(),h.bc(4,"nb-radio",48),h.Nc(5,"Fail"),h.ac(),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(1),h.sc("ngModel",n.selectedStauts)}}function eo(t,e){if(1&t){var a=h.cc();h.bc(0,"div",46),h.bc(1,"input",49),h.ic("ngModelChange",(function(t){return h.Dc(a),h.mc().selectedTag=t})),h.ac(),h.ac()}if(2&t){var n=h.mc();h.Jb(1),h.sc("ngModel",n.selectedTag)}}function ao(t,e){if(1&t&&(h.bc(0,"nb-option",50),h.Nc(1),h.ac()),2&t){var a=e.$implicit;h.sc("value",a),h.Jb(1),h.Pc(" ",a," ")}}function no(t,e){if(1&t){var a=h.cc();h.bc(0,"tr",51),h.bc(1,"td",36),h.bc(2,"input",52,53),h.ic("change",(function(t){h.Dc(a);var n=e.index,i=e.$implicit;return h.mc().checkBox(t,n,i)})),h.ac(),h.ac(),h.bc(4,"td",36),h.Nc(5),h.ac(),h.bc(6,"td",54),h.Nc(7),h.ac(),h.bc(8,"td",55),h.Nc(9),h.bc(10,"button",56),h.ic("click",(function(){h.Dc(a);var t=e.$implicit;return h.mc().onRefresh(t.tag,t.id)})),h.Wb(11,"nb-icon",57),h.ac(),h.ac(),h.bc(12,"td",58),h.Nc(13),h.ac(),h.bc(14,"td",59),h.Nc(15),h.ac(),h.ac()}if(2&t){var n=e.$implicit,i=e.index,o=h.mc();h.Jb(2),h.sc("checked",o.masterCheck),h.Jb(3),h.Oc((o.pageNum-1)*o.numberOfItems+i+1),h.Jb(2),h.Oc(n.tag),h.Jb(2),h.Pc("",n.content_count," "),h.Jb(4),h.Oc(n.search_count),h.Jb(1),h.sc("ngClass",1==n.is_success?"green":"red"),h.Jb(1),h.Pc("",1==n.is_success?"Success":"Fail"," ")}}function io(t,e){1&t&&(h.bc(0,"h5",60),h.Nc(1,"No Data Available"),h.ac())}var oo,ro,co,so,lo,go,ho,uo,po,bo,mo,fo,vo,_o,yo,Co=function(t,e,a){return{itemsPerPage:t,currentPage:e,totalItems:a}},xo=[{path:"",component:v,children:[{path:"",component:N},{path:"categories",component:N},{path:"categories/:categoryId",component:Kt},{path:"categories/:categoryId/:subCategoryName/:subCategoryId",component:Je},{path:"categories/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:nn},{path:"fonts/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:un},{path:"popular/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Rn},{path:"blog-list/:categoryId/:subCategoryName/:subCategoryId/:catalogName/:catalogId",component:Yn},{path:"statistics",component:hi},{path:"image-details",component:_i},{path:"redis-cache",component:Ci},{path:"settings",component:Hi},{path:"search",component:(oo=function(){function t(e,a,n,i,o){l(this,t),this.dataOption=e,this.api=a,this.dialogService=n,this.router=i,this.util=o,this.selectedItem="",this.selectedNumberOfItems="25",this.start=Kn().subtract(7,"days").format("YYYY-MM-DD"),this.end=Kn().format("YYYY-MM-DD"),this.dataForTable=[],this.inputValSub="All Templates",this.pageNum=1,this.DataForDialog=[],this.allSubData=[],this.serchTage="",this.serchQuery="",this.selectedStauts="1",this.selectedTag="",this.subCatId=66,this.token=localStorage.getItem("at"),this.checked=!1,this.daterange={},this.pre="<",this.next=">",this.masterCheck=!1,this.optionsD={locale:{format:"YYYY-MM-DD"},alwaysShowCalendars:!1,ranges:{Today:[Kn(),Kn()],Yesterday:[Kn().subtract(1,"days"),Kn()],Week:[Kn().subtract(7,"days"),Kn()],Month:[Kn().subtract(1,"month"),Kn()],Year:[Kn().subtract(1,"year"),Kn()]}},this.getSubCategory(),this.onserch()}return s(t,[{key:"ngOnInit",value:function(){this.optionForCatagory=[],this.filterOptions$=Object(ct.a)(this.optionForCatagory)}},{key:"selectedDate",value:function(t,e){e.start=t.start,e.end=t.end,this.daterange.start=t.start,this.daterange.end=t.end,this.daterange.label=t.label,this.start=this.daterange.start.format("YYYY-MM-DD"),this.end=this.daterange.end.format("YYYY-MM-DD")}},{key:"getSubCategory",value:function(){var t=this;this.api.postData("getAllSubCategory",{category_id:2},{headers:{Authorization:"Bearer "+this.token}}).then((function(e){if(200==e.code){t.allSubData=e.data.category_list;for(var a=0;a<e.data.category_list.length;a++)t.optionForCatagory.push(e.data.category_list[a].sub_category_name)}else t.util.showError(201==e.code?e.message:C.b.SERVER_ERR,3e3)}),(function(e){console.log(e),t.util.showError(C.b.SERVER_ERR,3e3)})).catch((function(e){console.log(e),t.util.showError(C.b.SERVER_ERR,3e3)}))}},{key:"checkBox",value:function(t,e,a){var n=a.tag;1==t.target.checked?this.DataForDialog.push(n):this.DataForDialog.splice(this.DataForDialog.indexOf(n),1),this.disableAdd()}},{key:"disableAdd",value:function(){this.DataForDialog.length>0?this.checked=!0:this.DataForDialog.length<=0&&(this.checked=!1)}},{key:"filtered",value:function(t){var e=t.toLowerCase();return this.optionForCatagory.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"getFiltered",value:function(t){var e=this;return Object(ct.a)(t).pipe(Object(ft.a)((function(t){return e.filtered(t)})))}},{key:"onGetValue",value:function(t){this.filterOptions$=this.getFiltered(this.catInput.nativeElement.value)}},{key:"SelectionChange",value:function(t){this.filterOptions$=this.getFiltered(t)}},{key:"onSerchButton",value:function(){this.sortByTagName="",this.order_type_val="",this.pageNum=1,this.onserch()}},{key:"onserch",value:function(){var t=this;this.DataForDialog=[],this.disableAdd(),this.masterCheck=!1;var e=this.allSubData.findIndex((function(e){return e.sub_category_name==t.inputValSub}));if(this.subCatId=-1==e?66:this.allSubData[e].sub_category_id,"0"==this.selectedItem?(this.serchTage="is_success",this.serchQuery="1"==this.selectedStauts?"1":"0"):"1"==this.selectedItem?(this.serchTage="tag",this.serchQuery=this.selectedTag):(this.selectedStauts="1",this.serchTage="",this.serchQuery="",this.selectedTag=""),""!=this.inputValSub.trim()){this.numberOfItems=this.selectedNumberOfItems;var a={page:this.pageNum,item_count:this.numberOfItems,start_date:this.start,end_date:this.end,sub_category_id:this.subCatId,search_type:this.serchTage,search_query:this.serchQuery,order_by:this.sortByTagName,order_type:this.order_type_val};this.util.showPageLoader(),this.api.postData("getAllSearchingDetailsForAdmin",a,{headers:{Authorization:"Bearer "+this.token}}).then((function(e){200==e.code?(t.dataForTable=e.data.result,t.isNextPage=e.data.result.is_next_page,t.total_data=e.data.total_record,t.util.hidePageLoader()):201==e.code?(t.util.hidePageLoader(),t.util.showError(e.message,3e3)):(t.util.hidePageLoader(),t.util.showError(C.b.SERVER_ERR,3e3))}),(function(e){console.log(e),t.util.hidePageLoader(),t.util.showError(C.b.SERVER_ERR,4e3)})).catch((function(e){console.log(e),t.util.hidePageLoader(),t.util.showError(C.b.SERVER_ERR,3e3)}))}else this.dataForTable=[]}},{key:"openDia",value:function(){var t=this;this.dialogService.open(qi,{closeOnBackdropClick:!1,context:{dataFromPage:this.DataForDialog,startDate:this.start,endDate:this.end,subCatId:this.subCatId,checked:this.masterCheck}}).onClose.subscribe((function(e){0==e.data&&(t.onserch(),t.DataForDialog=[],t.disableAdd())}))}},{key:"typeChange",value:function(){this.pageNum=1,this.onserch()}},{key:"sortBy",value:function(t,e){this.sortByTagName=t,"ASC"==e?(this.order_type=!1,this.order_type_val="DESC"):(this.order_type=!0,this.order_type_val="ASC"),this.onserch()}},{key:"handlePageChange",value:function(t){this.pageNum=t,this.onserch()}},{key:"onRefresh",value:function(t,e){var a=this;this.util.showPageLoader(),this.api.postData("refreshSearchCountByAdmin",{page:1,item_count:this.numberOfItems,search_category:t,sub_category_id:this.subCatId,search_tag_id:e},{headers:{Authorization:"Bearer "+this.token}}).then((function(t){if(200==t.code){var n=t.data.total_record,i=a.dataForTable.findIndex((function(t){return t.id==e}));a.dataForTable[i].content_count=n,a.util.hidePageLoader(),a.util.showSuccess(t.message,3e3)}else 427==t.code||201==t.code?(a.util.hidePageLoader(),a.util.showError(t.message,3e3)):(a.util.hidePageLoader(),a.util.showError(C.b.SERVER_ERR,3e3))}),(function(t){console.log(t),a.util.hidePageLoader(),a.util.showError(C.b.SERVER_ERR,4e3)})).catch((function(t){console.log(t),a.util.hidePageLoader(),a.util.showError(C.b.SERVER_ERR,3e3)}))}},{key:"selectAllCheckBox",value:function(t){if(this.masterCheck=!this.masterCheck,1==this.masterCheck)for(var e=0;e<this.dataForTable.length;e++)this.DataForDialog.push(this.dataForTable[e].tag);else this.DataForDialog=[];this.disableAdd()}}]),t}(),oo.\u0275fac=function(t){return new(t||oo)(h.Vb(qn.c),h.Vb(_.a),h.Vb(d.I),h.Vb(p.c),h.Vb(b.a))},oo.\u0275cmp=h.Pb({type:oo,selectors:[["ngx-search"]],viewQuery:function(t,e){var a;1&t&&(h.Rc(Qi,!0),h.Rc(Xi,!0),h.Rc(Zi,!0)),2&t&&(h.Ac(a=h.jc())&&(e.catInput=a.first),h.Ac(a=h.jc())&&(e.check=a.first),h.Ac(a=h.jc())&&(e.ckeckboxes=a.first))},decls:69,vars:26,consts:[[1,"u_bar","d-flex","flex-sm-row","flex-column","justify-content-sm-between","mb-3","align-items-sm-center"],[1,"details","mb-2","mb-sm-0"],[1,"total_data","border"],[1,"w-100","bg-lightgrey","mb-0","main"],[1,"row"],["disabled","",1,"btn","py-0","font-17"],[1,"fas","fa-sliders-h"],["placeholder","Select Showcase","fullWidth","",1,"col","px-2",3,"selected","selectedChange"],["value",""],["icon","options-2-outline",1,"mr-3","mt-1"],["value","0"],["icon","clipboard-outline",1,"mr-3","mt-1"],["value","1"],["icon","pricetags",1,"mr-3","mt-1"],["class","col ",4,"ngIf"],["class","col",4,"ngIf"],[1,"col","px-0","mx-2"],["nbInput","","type","text","fullWidth","","focusInputOnValueChange","false",3,"ngModel","nbAutocomplete","ngModelChange","input"],["CatInput",""],[3,"selectedChange"],["auto",""],[3,"value",4,"ngFor","ngForOf"],["type","text","nbInput","","fullWidth","","name","daterangeInput","daterangepicker","",1,"",3,"options","value","selected"],["date",""],[1,""],[1,"btn","border","mx-1","bg-white",3,"click"],["icon","search"],[1,"btn","border","ml-1","mr-2","py-2","bg-white",3,"disabled","click"],["placeholder","10",1,"",3,"selected","selectedChange"],["value","25"],["value","50"],["value","75"],["value","100"],[1,"p-0"],[1,"text-center","table-striped","position-relative"],[1,"mx-0"],[1,"width-100"],["type","text","type","checkbox",1,"check","pt-1","pointer",3,"checked","change"],["master",""],["scope","col"],[1,"pointer","width-200",3,"click"],["scope","col",1,"pointer","width-150",3,"click"],["scope","col",1,"width-200"],["class","w-100 mx-0","scope","row",4,"ngFor","ngForOf"],["class","pt-4",4,"ngIf"],["previousLabel","Prev","nextLabel","Next","responsive","true",1,"text-center","paginate","mb-0",3,"previousLabel","nextLabel","pageChange"],[1,"col"],[1,"d-flex","justify-content-around",3,"ngModel","ngModelChange"],["value","2"],["type","text","nbInput","","fullWidth","","placeholder","Enter Tag Name",3,"ngModel","ngModelChange"],[3,"value"],["scope","row",1,"w-100","mx-0"],["type","checkbox",1,"check","pointer",3,"checked","change"],["checBoxes",""],[1,"min-300"],[1,"width-200"],[1,"btn","p-0","m-2","shadow-none",3,"click"],["icon","refresh"],[1,"width-150"],[1,"width-200",3,"ngClass"],[1,"pt-4"]],template:function(t,e){if(1&t&&(h.bc(0,"nb-card",0),h.bc(1,"span",1),h.Nc(2,"Search Details"),h.ac(),h.bc(3,"span",2),h.Nc(4),h.ac(),h.ac(),h.bc(5,"nb-card",3),h.bc(6,"nb-card-header",4),h.bc(7,"button",5),h.Wb(8,"i",6),h.ac(),h.bc(9,"nb-select",7),h.ic("selectedChange",(function(t){return e.selectedItem=t})),h.bc(10,"nb-option",8),h.Wb(11,"nb-icon",9),h.Nc(12," Select Search Type "),h.ac(),h.bc(13,"nb-option",10),h.Wb(14,"nb-icon",11),h.Nc(15," Status "),h.ac(),h.bc(16,"nb-option",12),h.Wb(17,"nb-icon",13),h.Nc(18," Tag "),h.ac(),h.ac(),h.Lc(19,to,6,1,"div",14),h.Lc(20,eo,2,1,"div",15),h.bc(21,"div",16),h.bc(22,"input",17,18),h.ic("ngModelChange",(function(t){return e.inputValSub=t}))("input",(function(t){return e.onGetValue(t)})),h.ac(),h.bc(24,"nb-autocomplete",19,20),h.ic("selectedChange",(function(t){return e.SelectionChange(t)})),h.Lc(26,ao,2,2,"nb-option",21),h.nc(27,"async"),h.ac(),h.ac(),h.bc(28,"div",16),h.bc(29,"input",22,23),h.ic("selected",(function(t){return e.selectedDate(t,e.daterange)})),h.ac(),h.ac(),h.bc(31,"div",24),h.bc(32,"button",25),h.ic("click",(function(){return e.onSerchButton()})),h.Wb(33,"nb-icon",26),h.ac(),h.bc(34,"button",27),h.ic("click",(function(){return e.openDia()})),h.bc(35,"b"),h.Nc(36,"ADD"),h.ac(),h.ac(),h.bc(37,"nb-select",28),h.ic("selectedChange",(function(t){return e.selectedNumberOfItems=t}))("selectedChange",(function(){return e.typeChange()})),h.bc(38,"nb-option",29),h.Nc(39,"25"),h.ac(),h.bc(40,"nb-option",30),h.Nc(41,"50"),h.ac(),h.bc(42,"nb-option",31),h.Nc(43,"75"),h.ac(),h.bc(44,"nb-option",32),h.Nc(45,"100"),h.ac(),h.ac(),h.ac(),h.ac(),h.bc(46,"nb-card-body",33),h.bc(47,"table",34),h.bc(48,"thead",24),h.bc(49,"tr",35),h.bc(50,"th",36),h.bc(51,"input",37,38),h.ic("change",(function(t){return e.selectAllCheckBox(t)})),h.ac(),h.ac(),h.bc(53,"th",36),h.Nc(54,"#"),h.ac(),h.bc(55,"th",39),h.Nc(56,"Tag Name"),h.ac(),h.bc(57,"th",40),h.ic("click",(function(){return e.sortBy("content_count",1==e.order_type?"ASC":"DESC")})),h.Nc(58,"Content Count"),h.ac(),h.bc(59,"th",41),h.ic("click",(function(){return e.sortBy("search_count",1==e.order_type?"ASC":"DESC")})),h.Nc(60,"Search Count"),h.ac(),h.bc(61,"th",42),h.Nc(62,"Status"),h.ac(),h.ac(),h.ac(),h.bc(63,"tbody"),h.Lc(64,no,16,7,"tr",43),h.nc(65,"paginate"),h.Lc(66,io,2,0,"h5",44),h.ac(),h.ac(),h.ac(),h.bc(67,"nb-card-footer"),h.bc(68,"pagination-controls",45),h.ic("pageChange",(function(t){return e.handlePageChange(t)})),h.ac(),h.ac(),h.ac()),2&t){var a=h.Bc(25);h.Jb(4),h.Pc("TOTAL TAGS : ",e.total_data," "),h.Jb(5),h.sc("selected",e.selectedItem),h.Jb(10),h.sc("ngIf","0"==e.selectedItem),h.Jb(1),h.sc("ngIf","1"==e.selectedItem),h.Jb(2),h.sc("ngModel",e.inputValSub)("nbAutocomplete",a),h.Jb(4),h.sc("ngForOf",h.oc(27,17,e.filterOptions$)),h.Jb(3),h.vc("value","",e.start," - ",e.end,""),h.sc("options",e.optionsD),h.Jb(5),h.sc("disabled",!e.checked),h.Jb(3),h.sc("selected",e.selectedNumberOfItems),h.Jb(14),h.sc("checked",e.masterCheck),h.Jb(13),h.sc("ngForOf",h.pc(65,19,e.dataForTable,h.zc(22,Co,e.selectedNumberOfItems,e.pageNum,e.total_data))),h.Jb(2),h.sc("ngIf",0==e.dataForTable.length),h.Jb(2),h.sc("previousLabel",e.pre)("nextLabel",e.next)}},directives:[d.x,d.z,d.mb,d.fb,d.L,x.n,d.P,w.c,d.r,w.n,w.q,d.q,x.m,qn.b,d.w,d.y,L.c,d.jb,d.ib,x.l],pipes:[x.b,L.b],styles:[".width-100[_ngcontent-%COMP%]{width:100px}.width-150[_ngcontent-%COMP%]{width:150px}.width-200[_ngcontent-%COMP%]{width:200px}.width-250[_ngcontent-%COMP%]{width:250px}.green[_ngcontent-%COMP%]{color:green!important}.red[_ngcontent-%COMP%]{color:red}.font-17[_ngcontent-%COMP%]{font-size:17px!important}.main[_ngcontent-%COMP%]{height:calc(100vh - 165px)}table[_ngcontent-%COMP%]{border-collapse:collapse}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow:hidden;overflow-y:scroll;display:block}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{z-index:1;background:#fff;position:-webkit-sticky;position:sticky;top:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f9fc}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#edf1f7}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 0;border:.5px solid #dee2e6;border-bottom:none;border-left:none}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 0 8px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pointer[_ngcontent-%COMP%]{cursor:pointer}.check[_ngcontent-%COMP%]{height:25px;width:25px}.bg-lightgrey[_ngcontent-%COMP%]{background:#edf1f7}.min-300[_ngcontent-%COMP%]{min-width:300px!important}nb-card-footer[_ngcontent-%COMP%]{background-color:#fff}.u_bar[_ngcontent-%COMP%]{background-color:transparent!important;border:none!important}.u_bar[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:15px;opacity:.8!important}.u_bar[_ngcontent-%COMP%]   .total_data[_ngcontent-%COMP%]{width:25%;text-align:center;padding:8px 0;background-color:#fff;font-size:17px;font-weight:700}@media (max-width:1250px){.width-100[_ngcontent-%COMP%]{width:80px!important}.width-150[_ngcontent-%COMP%]{width:120px!important}.width-200[_ngcontent-%COMP%]{width:170px!important}}@media (max-width:1023px){.width-100[_ngcontent-%COMP%]{width:50px!important}.width-150[_ngcontent-%COMP%]{width:110px!important}.width-200[_ngcontent-%COMP%]{width:120px!important}}@media (max-width:750px){table[_ngcontent-%COMP%]{width:700px;overflow-x:hidden scroll}.total_data[_ngcontent-%COMP%]{width:35%!important}}@media (max-width:575px){.total_data[_ngcontent-%COMP%]{width:100%!important}}"]}),oo)}]}],wo=((yo=function t(){l(this,t)}).\u0275mod=h.Tb({type:yo}),yo.\u0275inj=h.Sb({factory:function(t){return new(t||yo)},imports:[[p.g.forChild(xo)],p.g]}),yo),ko=((_o=function t(){l(this,t)}).\u0275mod=h.Tb({type:_o}),_o.\u0275inj=h.Sb({factory:function(t){return new(t||_o)},imports:[[x.c,d.A,d.Q,d.N,I.c,w.h,d.zb,d.nb,L.a]]}),_o),Po=((vo=function t(){l(this,t)}).\u0275mod=h.Tb({type:vo}),vo.\u0275inj=h.Sb({factory:function(t){return new(t||vo)},imports:[[x.c,d.nb,d.A,d.Q,d.N,w.h,L.a,d.zb,Bt,d.k]]}),vo),Oo=((fo=function t(){l(this,t)}).\u0275mod=h.Tb({type:fo}),fo.\u0275inj=h.Sb({factory:function(t){return new(t||fo)},imports:[[x.c]]}),fo),Mo=((mo=function t(){l(this,t)}).\u0275mod=h.Tb({type:mo}),mo.\u0275inj=h.Sb({factory:function(t){return new(t||mo)},imports:[[x.c,d.nb,d.A,d.N,d.Q,w.h,d.zb,d.k,d.t,Bt]]}),mo),Eo=((bo=function t(){l(this,t)}).\u0275mod=h.Tb({type:bo}),bo.\u0275inj=h.Sb({factory:function(t){return new(t||bo)},imports:[[x.c,d.A,d.zb,d.N,Bt,d.E,ja]]}),bo),So=((po=function t(){l(this,t)}).\u0275mod=h.Tb({type:po}),po.\u0275inj=h.Sb({factory:function(t){return new(t||po)},imports:[[x.c,d.A,d.zb,d.N,d.Q,I.c,w.h,d.nb]]}),po),Io=((uo=function t(){l(this,t)}).\u0275mod=h.Tb({type:uo}),uo.\u0275inj=h.Sb({factory:function(t){return new(t||uo)},imports:[[x.c,d.A,d.zb,d.N,d.N,w.h,d.nb,Bt]]}),uo),Lo=((ho=function t(){l(this,t)}).\u0275mod=h.Tb({type:ho}),ho.\u0275inj=h.Sb({factory:function(t){return new(t||ho)},imports:[[x.c,d.A,d.zb,d.N,d.N,w.h,d.nb,L.a,Bt]]}),ho),Ro=((go=function t(){l(this,t)}).\u0275mod=h.Tb({type:go}),go.\u0275inj=h.Sb({factory:function(t){return new(t||go)},imports:[[x.c,d.A,I.c,w.h,d.k]]}),go),To=((lo=function t(){l(this,t)}).\u0275mod=h.Tb({type:lo}),lo.\u0275inj=h.Sb({factory:function(t){return new(t||lo)},imports:[[x.c,d.A,d.Q,I.c,w.h,d.nb,L.a,Bt]]}),lo),Do=((so=function t(){l(this,t)}).\u0275mod=h.Tb({type:so}),so.\u0275inj=h.Sb({factory:function(t){return new(t||so)},imports:[[x.c,d.A,I.c,w.h,d.k,d.N]]}),so),No=((co=function t(){l(this,t)}).\u0275mod=h.Tb({type:co}),co.\u0275inj=h.Sb({factory:function(t){return new(t||co)},imports:[[x.c,d.vb,w.h,d.A,d.K,d.Q,d.N,I.c,d.nb,d.zb,d.hb]]}),co),zo=((ro=function t(){l(this,t)}).\u0275mod=h.Tb({type:ro}),ro.\u0275inj=h.Sb({factory:function(t){return new(t||ro)},imports:[[wo,g.a,d.db,u,ko,d.G.forChild(),d.Cb.forChild(),d.A,Po,Oo,Mo,Eo,So,Io,Lo,Ro,To,Do,No,d.nb,d.kb,w.h,d.Q,d.s,d.N,qn.a,d.ab,d.v,L.a]]}),ro)}}])}();